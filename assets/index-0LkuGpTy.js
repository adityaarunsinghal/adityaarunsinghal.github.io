var P0=Object.defineProperty;var k0=(r,e,t)=>e in r?P0(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var yi=(r,e,t)=>k0(r,typeof e!="symbol"?e+"":e,t);function Mv(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in r)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Ef(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Id={exports:{}},Xa={},Sd={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg;function N0(){if(Pg)return $e;Pg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function R(b){return b===null||typeof b!="object"?null:(b=w&&b[w]||b["@@iterator"],typeof b=="function"?b:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,B={};function z(b,G,_e){this.props=b,this.context=G,this.refs=B,this.updater=_e||V}z.prototype.isReactComponent={},z.prototype.setState=function(b,G){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,G,"setState")},z.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function oe(){}oe.prototype=z.prototype;function te(b,G,_e){this.props=b,this.context=G,this.refs=B,this.updater=_e||V}var pe=te.prototype=new oe;pe.constructor=te,H(pe,z.prototype),pe.isPureReactComponent=!0;var Re=Array.isArray,je=Object.prototype.hasOwnProperty,Ue={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(b,G,_e){var Oe,ke={},Fe=null,ze=null;if(G!=null)for(Oe in G.ref!==void 0&&(ze=G.ref),G.key!==void 0&&(Fe=""+G.key),G)je.call(G,Oe)&&!I.hasOwnProperty(Oe)&&(ke[Oe]=G[Oe]);var Ge=arguments.length-2;if(Ge===1)ke.children=_e;else if(1<Ge){for(var ht=Array(Ge),Lt=0;Lt<Ge;Lt++)ht[Lt]=arguments[Lt+2];ke.children=ht}if(b&&b.defaultProps)for(Oe in Ge=b.defaultProps,Ge)ke[Oe]===void 0&&(ke[Oe]=Ge[Oe]);return{$$typeof:r,type:b,key:Fe,ref:ze,props:ke,_owner:Ue.current}}function C(b,G){return{$$typeof:r,type:b.type,key:G,ref:b.ref,props:b.props,_owner:b._owner}}function k(b){return typeof b=="object"&&b!==null&&b.$$typeof===r}function x(b){var G={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(_e){return G[_e]})}var O=/\/+/g;function P(b,G){return typeof b=="object"&&b!==null&&b.key!=null?x(""+b.key):G.toString(36)}function qe(b,G,_e,Oe,ke){var Fe=typeof b;(Fe==="undefined"||Fe==="boolean")&&(b=null);var ze=!1;if(b===null)ze=!0;else switch(Fe){case"string":case"number":ze=!0;break;case"object":switch(b.$$typeof){case r:case e:ze=!0}}if(ze)return ze=b,ke=ke(ze),b=Oe===""?"."+P(ze,0):Oe,Re(ke)?(_e="",b!=null&&(_e=b.replace(O,"$&/")+"/"),qe(ke,G,_e,"",function(Lt){return Lt})):ke!=null&&(k(ke)&&(ke=C(ke,_e+(!ke.key||ze&&ze.key===ke.key?"":(""+ke.key).replace(O,"$&/")+"/")+b)),G.push(ke)),1;if(ze=0,Oe=Oe===""?".":Oe+":",Re(b))for(var Ge=0;Ge<b.length;Ge++){Fe=b[Ge];var ht=Oe+P(Fe,Ge);ze+=qe(Fe,G,_e,ht,ke)}else if(ht=R(b),typeof ht=="function")for(b=ht.call(b),Ge=0;!(Fe=b.next()).done;)Fe=Fe.value,ht=Oe+P(Fe,Ge++),ze+=qe(Fe,G,_e,ht,ke);else if(Fe==="object")throw G=String(b),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return ze}function ft(b,G,_e){if(b==null)return b;var Oe=[],ke=0;return qe(b,Oe,"","",function(Fe){return G.call(_e,Fe,ke++)}),Oe}function Dt(b){if(b._status===-1){var G=b._result;G=G(),G.then(function(_e){(b._status===0||b._status===-1)&&(b._status=1,b._result=_e)},function(_e){(b._status===0||b._status===-1)&&(b._status=2,b._result=_e)}),b._status===-1&&(b._status=0,b._result=G)}if(b._status===1)return b._result.default;throw b._result}var nt={current:null},Z={transition:null},Ie={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:Z,ReactCurrentOwner:Ue};function ae(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:ft,forEach:function(b,G,_e){ft(b,function(){G.apply(this,arguments)},_e)},count:function(b){var G=0;return ft(b,function(){G++}),G},toArray:function(b){return ft(b,function(G){return G})||[]},only:function(b){if(!k(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},$e.Component=z,$e.Fragment=t,$e.Profiler=o,$e.PureComponent=te,$e.StrictMode=i,$e.Suspense=g,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ie,$e.act=ae,$e.cloneElement=function(b,G,_e){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var Oe=H({},b.props),ke=b.key,Fe=b.ref,ze=b._owner;if(G!=null){if(G.ref!==void 0&&(Fe=G.ref,ze=Ue.current),G.key!==void 0&&(ke=""+G.key),b.type&&b.type.defaultProps)var Ge=b.type.defaultProps;for(ht in G)je.call(G,ht)&&!I.hasOwnProperty(ht)&&(Oe[ht]=G[ht]===void 0&&Ge!==void 0?Ge[ht]:G[ht])}var ht=arguments.length-2;if(ht===1)Oe.children=_e;else if(1<ht){Ge=Array(ht);for(var Lt=0;Lt<ht;Lt++)Ge[Lt]=arguments[Lt+2];Oe.children=Ge}return{$$typeof:r,type:b.type,key:ke,ref:Fe,props:Oe,_owner:ze}},$e.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:l,_context:b},b.Consumer=b},$e.createElement=S,$e.createFactory=function(b){var G=S.bind(null,b);return G.type=b,G},$e.createRef=function(){return{current:null}},$e.forwardRef=function(b){return{$$typeof:f,render:b}},$e.isValidElement=k,$e.lazy=function(b){return{$$typeof:E,_payload:{_status:-1,_result:b},_init:Dt}},$e.memo=function(b,G){return{$$typeof:v,type:b,compare:G===void 0?null:G}},$e.startTransition=function(b){var G=Z.transition;Z.transition={};try{b()}finally{Z.transition=G}},$e.unstable_act=ae,$e.useCallback=function(b,G){return nt.current.useCallback(b,G)},$e.useContext=function(b){return nt.current.useContext(b)},$e.useDebugValue=function(){},$e.useDeferredValue=function(b){return nt.current.useDeferredValue(b)},$e.useEffect=function(b,G){return nt.current.useEffect(b,G)},$e.useId=function(){return nt.current.useId()},$e.useImperativeHandle=function(b,G,_e){return nt.current.useImperativeHandle(b,G,_e)},$e.useInsertionEffect=function(b,G){return nt.current.useInsertionEffect(b,G)},$e.useLayoutEffect=function(b,G){return nt.current.useLayoutEffect(b,G)},$e.useMemo=function(b,G){return nt.current.useMemo(b,G)},$e.useReducer=function(b,G,_e){return nt.current.useReducer(b,G,_e)},$e.useRef=function(b){return nt.current.useRef(b)},$e.useState=function(b){return nt.current.useState(b)},$e.useSyncExternalStore=function(b,G,_e){return nt.current.useSyncExternalStore(b,G,_e)},$e.useTransition=function(){return nt.current.useTransition()},$e.version="18.3.1",$e}var kg;function wf(){return kg||(kg=1,Sd.exports=N0()),Sd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function D0(){if(Ng)return Xa;Ng=1;var r=wf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,v){var E,w={},R=null,V=null;v!==void 0&&(R=""+v),g.key!==void 0&&(R=""+g.key),g.ref!==void 0&&(V=g.ref);for(E in g)i.call(g,E)&&!l.hasOwnProperty(E)&&(w[E]=g[E]);if(f&&f.defaultProps)for(E in g=f.defaultProps,g)w[E]===void 0&&(w[E]=g[E]);return{$$typeof:e,type:f,key:R,ref:V,props:w,_owner:o.current}}return Xa.Fragment=t,Xa.jsx=h,Xa.jsxs=h,Xa}var Dg;function x0(){return Dg||(Dg=1,Id.exports=D0()),Id.exports}var we=x0(),re=wf();const bv=Ef(re),V0=Mv({__proto__:null,default:bv},[re]);var Gu={},Rd={exports:{}},On={},Ad={exports:{}},Cd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function L0(){return xg||(xg=1,(function(r){function e(Z,Ie){var ae=Z.length;Z.push(Ie);e:for(;0<ae;){var b=ae-1>>>1,G=Z[b];if(0<o(G,Ie))Z[b]=Ie,Z[ae]=G,ae=b;else break e}}function t(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var Ie=Z[0],ae=Z.pop();if(ae!==Ie){Z[0]=ae;e:for(var b=0,G=Z.length,_e=G>>>1;b<_e;){var Oe=2*(b+1)-1,ke=Z[Oe],Fe=Oe+1,ze=Z[Fe];if(0>o(ke,ae))Fe<G&&0>o(ze,ke)?(Z[b]=ze,Z[Fe]=ae,b=Fe):(Z[b]=ke,Z[Oe]=ae,b=Oe);else if(Fe<G&&0>o(ze,ae))Z[b]=ze,Z[Fe]=ae,b=Fe;else break e}}return Ie}function o(Z,Ie){var ae=Z.sortIndex-Ie.sortIndex;return ae!==0?ae:Z.id-Ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var g=[],v=[],E=1,w=null,R=3,V=!1,H=!1,B=!1,z=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function pe(Z){for(var Ie=t(v);Ie!==null;){if(Ie.callback===null)i(v);else if(Ie.startTime<=Z)i(v),Ie.sortIndex=Ie.expirationTime,e(g,Ie);else break;Ie=t(v)}}function Re(Z){if(B=!1,pe(Z),!H)if(t(g)!==null)H=!0,Dt(je);else{var Ie=t(v);Ie!==null&&nt(Re,Ie.startTime-Z)}}function je(Z,Ie){H=!1,B&&(B=!1,oe(S),S=-1),V=!0;var ae=R;try{for(pe(Ie),w=t(g);w!==null&&(!(w.expirationTime>Ie)||Z&&!x());){var b=w.callback;if(typeof b=="function"){w.callback=null,R=w.priorityLevel;var G=b(w.expirationTime<=Ie);Ie=r.unstable_now(),typeof G=="function"?w.callback=G:w===t(g)&&i(g),pe(Ie)}else i(g);w=t(g)}if(w!==null)var _e=!0;else{var Oe=t(v);Oe!==null&&nt(Re,Oe.startTime-Ie),_e=!1}return _e}finally{w=null,R=ae,V=!1}}var Ue=!1,I=null,S=-1,C=5,k=-1;function x(){return!(r.unstable_now()-k<C)}function O(){if(I!==null){var Z=r.unstable_now();k=Z;var Ie=!0;try{Ie=I(!0,Z)}finally{Ie?P():(Ue=!1,I=null)}}else Ue=!1}var P;if(typeof te=="function")P=function(){te(O)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,ft=qe.port2;qe.port1.onmessage=O,P=function(){ft.postMessage(null)}}else P=function(){z(O,0)};function Dt(Z){I=Z,Ue||(Ue=!0,P())}function nt(Z,Ie){S=z(function(){Z(r.unstable_now())},Ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_continueExecution=function(){H||V||(H=!0,Dt(je))},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(Z){switch(R){case 1:case 2:case 3:var Ie=3;break;default:Ie=R}var ae=R;R=Ie;try{return Z()}finally{R=ae}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Z,Ie){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ae=R;R=Z;try{return Ie()}finally{R=ae}},r.unstable_scheduleCallback=function(Z,Ie,ae){var b=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?b+ae:b):ae=b,Z){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ae+G,Z={id:E++,callback:Ie,priorityLevel:Z,startTime:ae,expirationTime:G,sortIndex:-1},ae>b?(Z.sortIndex=ae,e(v,Z),t(g)===null&&Z===t(v)&&(B?(oe(S),S=-1):B=!0,nt(Re,ae-b))):(Z.sortIndex=G,e(g,Z),H||V||(H=!0,Dt(je))),Z},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(Z){var Ie=R;return function(){var ae=R;R=Ie;try{return Z.apply(this,arguments)}finally{R=ae}}}})(Cd)),Cd}var Vg;function O0(){return Vg||(Vg=1,Ad.exports=L0()),Ad.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function M0(){if(Lg)return On;Lg=1;var r=wf(),e=O0();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){h(n,s),h(n+"Capture",s)}function h(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},w={};function R(n){return g.call(w,n)?!0:g.call(E,n)?!1:v.test(n)?w[n]=!0:(E[n]=!0,!1)}function V(n,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function H(n,s,a,c){if(s===null||typeof s>"u"||V(n,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function B(n,s,a,c,d,m,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=m,this.removeEmptyString=_}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){z[n]=new B(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];z[s]=new B(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){z[n]=new B(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){z[n]=new B(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){z[n]=new B(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){z[n]=new B(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){z[n]=new B(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){z[n]=new B(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){z[n]=new B(n,5,!1,n.toLowerCase(),null,!1,!1)});var oe=/[\-:]([a-z])/g;function te(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(oe,te);z[s]=new B(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(oe,te);z[s]=new B(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(oe,te);z[s]=new B(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){z[n]=new B(n,1,!1,n.toLowerCase(),null,!1,!1)}),z.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){z[n]=new B(n,1,!1,n.toLowerCase(),null,!0,!0)});function pe(n,s,a,c){var d=z.hasOwnProperty(s)?z[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(H(s,a,d,c)&&(a=null),c||d===null?R(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,s,a):n.setAttribute(s,a))))}var Re=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,je=Symbol.for("react.element"),Ue=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),x=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),qe=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),nt=Symbol.for("react.offscreen"),Z=Symbol.iterator;function Ie(n){return n===null||typeof n!="object"?null:(n=Z&&n[Z]||n["@@iterator"],typeof n=="function"?n:null)}var ae=Object.assign,b;function G(n){if(b===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);b=s&&s[1]||""}return`
`+b+n}var _e=!1;function Oe(n,s){if(!n||_e)return"";_e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(W){var c=W}Reflect.construct(n,[],s)}else{try{s.call()}catch(W){c=W}n.call(s.prototype)}else{try{throw Error()}catch(W){c=W}n()}}catch(W){if(W&&c&&typeof W.stack=="string"){for(var d=W.stack.split(`
`),m=c.stack.split(`
`),_=d.length-1,A=m.length-1;1<=_&&0<=A&&d[_]!==m[A];)A--;for(;1<=_&&0<=A;_--,A--)if(d[_]!==m[A]){if(_!==1||A!==1)do if(_--,A--,0>A||d[_]!==m[A]){var D=`
`+d[_].replace(" at new "," at ");return n.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",n.displayName)),D}while(1<=_&&0<=A);break}}}finally{_e=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?G(n):""}function ke(n){switch(n.tag){case 5:return G(n.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return n=Oe(n.type,!1),n;case 11:return n=Oe(n.type.render,!1),n;case 1:return n=Oe(n.type,!0),n;default:return""}}function Fe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case I:return"Fragment";case Ue:return"Portal";case C:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case qe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case x:return(n.displayName||"Context")+".Consumer";case k:return(n._context.displayName||"Context")+".Provider";case O:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ft:return s=n.displayName||null,s!==null?s:Fe(n.type)||"Memo";case Dt:s=n._payload,n=n._init;try{return Fe(n(s))}catch{}}return null}function ze(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fe(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ge(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ht(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Lt(n){var s=ht(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function lr(n){n._valueTracker||(n._valueTracker=Lt(n))}function Ct(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=ht(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function vn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Dr(n,s){var a=s.checked;return ae({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Ci(n,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Ge(s.value!=null?s.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Fn(n,s){s=s.checked,s!=null&&pe(n,"checked",s,!1)}function Ts(n,s){Fn(n,s);var a=Ge(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?ti(n,s.type,a):s.hasOwnProperty("defaultValue")&&ti(n,s.type,Ge(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function fo(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function ti(n,s,a){(s!=="number"||vn(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var ur=Array.isArray;function cr(n,s,a,c){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Ge(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function Is(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Pi(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(ur(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:Ge(a)}}function Sn(n,s){var a=Ge(s.value),c=Ge(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function hr(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Pt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Pt(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Gt,_n=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(s,a,c,d)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Gt=Gt||document.createElement("div"),Gt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Gt.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function dr(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ni=["Webkit","ms","Moz","O"];Object.keys(Qn).forEach(function(n){ni.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Qn[s]=Qn[n]})});function Rn(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Qn.hasOwnProperty(n)&&Qn[n]?(""+s).trim():s+"px"}function ki(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Rn(a,s[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Ni=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Di(n,s){if(s){if(Ni[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ss(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xr=null;function fr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ri=null,ln=null,An=null;function xi(n){if(n=Ma(n)){if(typeof ri!="function")throw Error(t(280));var s=n.stateNode;s&&(s=lu(s),ri(n.stateNode,n.type,s))}}function Un(n){ln?An?An.push(n):An=[n]:ln=n}function Rs(){if(ln){var n=ln,s=An;if(An=ln=null,xi(n),s)for(n=0;n<s.length;n++)xi(s[n])}}function Vr(n,s){return n(s)}function Lr(){}var Cn=!1;function As(n,s,a){if(Cn)return n(s,a);Cn=!0;try{return Vr(n,s,a)}finally{Cn=!1,(ln!==null||An!==null)&&(Lr(),Rs())}}function It(n,s){var a=n.stateNode;if(a===null)return null;var c=lu(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var N=!1;if(f)try{var M={};Object.defineProperty(M,"passive",{get:function(){N=!0}}),window.addEventListener("test",M,M),window.removeEventListener("test",M,M)}catch{N=!1}function $(n,s,a,c,d,m,_,A,D){var W=Array.prototype.slice.call(arguments,3);try{s.apply(a,W)}catch(J){this.onError(J)}}var Y=!1,se=null,me=!1,Ae=null,ge={onError:function(n){Y=!0,se=n}};function fe(n,s,a,c,d,m,_,A,D){Y=!1,se=null,$.apply(ge,arguments)}function ue(n,s,a,c,d,m,_,A,D){if(fe.apply(this,arguments),Y){if(Y){var W=se;Y=!1,se=null}else throw Error(t(198));me||(me=!0,Ae=W)}}function ce(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Ne(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Le(n){if(ce(n)!==n)throw Error(t(188))}function kt(n){var s=n.alternate;if(!s){if(s=ce(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,c=s;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return Le(d),n;if(m===c)return Le(d),s;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=m;else{for(var _=!1,A=d.child;A;){if(A===a){_=!0,a=d,c=m;break}if(A===c){_=!0,c=d,a=m;break}A=A.sibling}if(!_){for(A=m.child;A;){if(A===a){_=!0,a=m,c=d;break}if(A===c){_=!0,c=m,a=d;break}A=A.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function it(n){return n=kt(n),n!==null?Be(n):null}function Be(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Be(n);if(s!==null)return s;n=n.sibling}return null}var lt=e.unstable_scheduleCallback,Yn=e.unstable_cancelCallback,Or=e.unstable_shouldYield,jn=e.unstable_requestPaint,He=e.unstable_now,Vi=e.unstable_getCurrentPriorityLevel,zn=e.unstable_ImmediatePriority,un=e.unstable_UserBlockingPriority,Zt=e.unstable_NormalPriority,Mr=e.unstable_LowPriority,We=e.unstable_IdlePriority,ot=null,Ot=null;function br(n){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(ot,n,void 0,(n.current.flags&128)===128)}catch{}}var Ke=Math.clz32?Math.clz32:po,Xn=Math.log,Cs=Math.LN2;function po(n){return n>>>=0,n===0?32:31-(Xn(n)/Cs|0)|0}var mo=64,go=4194304;function Li(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ps(n,s){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,m=n.pingedLanes,_=a&268435455;if(_!==0){var A=_&~d;A!==0?c=Li(A):(m&=_,m!==0&&(c=Li(m)))}else _=a&~d,_!==0?c=Li(_):m!==0&&(c=Li(m));if(c===0)return 0;if(s!==0&&s!==c&&(s&d)===0&&(d=c&-c,m=s&-s,d>=m||d===16&&(m&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=c;0<s;)a=31-Ke(s),d=1<<a,c|=n[a],s&=~d;return c}function Zc(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ii(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes;0<m;){var _=31-Ke(m),A=1<<_,D=d[_];D===-1?((A&a)===0||(A&c)!==0)&&(d[_]=Zc(A,s)):D<=s&&(n.expiredLanes|=A),m&=~A}}function Bn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ks(){var n=mo;return mo<<=1,(mo&4194240)===0&&(mo=64),n}function Oi(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Mi(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Ke(s),n[s]=a}function dt(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-Ke(a),m=1<<d;s[d]=0,c[d]=-1,n[d]=-1,a&=~m}}function bi(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-Ke(a),d=1<<c;d&s|n[c]&s&&(n[c]|=s),a&=~d}}var Ze=0;function Fi(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var zl,yo,Bl,$l,Hl,wa=!1,Fr=[],en=null,pr=null,mr=null,Ui=new Map,Jn=new Map,Ur=[],eh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wl(n,s){switch(n){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Ui.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jn.delete(s.pointerId)}}function Pn(n,s,a,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},s!==null&&(s=Ma(s),s!==null&&yo(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function th(n,s,a,c,d){switch(s){case"focusin":return en=Pn(en,n,s,a,c,d),!0;case"dragenter":return pr=Pn(pr,n,s,a,c,d),!0;case"mouseover":return mr=Pn(mr,n,s,a,c,d),!0;case"pointerover":var m=d.pointerId;return Ui.set(m,Pn(Ui.get(m)||null,n,s,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,Jn.set(m,Pn(Jn.get(m)||null,n,s,a,c,d)),!0}return!1}function ql(n){var s=Ls(n.target);if(s!==null){var a=ce(s);if(a!==null){if(s=a.tag,s===13){if(s=Ne(a),s!==null){n.blockedOn=s,Hl(n.priority,function(){Bl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function si(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=vo(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);xr=c,a.target.dispatchEvent(c),xr=null}else return s=Ma(a),s!==null&&yo(s),n.blockedOn=a,!1;s.shift()}return!0}function Ns(n,s,a){si(n)&&a.delete(s)}function Gl(){wa=!1,en!==null&&si(en)&&(en=null),pr!==null&&si(pr)&&(pr=null),mr!==null&&si(mr)&&(mr=null),Ui.forEach(Ns),Jn.forEach(Ns)}function gr(n,s){n.blockedOn===s&&(n.blockedOn=null,wa||(wa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Gl)))}function yr(n){function s(d){return gr(d,n)}if(0<Fr.length){gr(Fr[0],n);for(var a=1;a<Fr.length;a++){var c=Fr[a];c.blockedOn===n&&(c.blockedOn=null)}}for(en!==null&&gr(en,n),pr!==null&&gr(pr,n),mr!==null&&gr(mr,n),Ui.forEach(s),Jn.forEach(s),a=0;a<Ur.length;a++)c=Ur[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Ur.length&&(a=Ur[0],a.blockedOn===null);)ql(a),a.blockedOn===null&&Ur.shift()}var oi=Re.ReactCurrentBatchConfig,ji=!0;function _t(n,s,a,c){var d=Ze,m=oi.transition;oi.transition=null;try{Ze=1,Ta(n,s,a,c)}finally{Ze=d,oi.transition=m}}function nh(n,s,a,c){var d=Ze,m=oi.transition;oi.transition=null;try{Ze=4,Ta(n,s,a,c)}finally{Ze=d,oi.transition=m}}function Ta(n,s,a,c){if(ji){var d=vo(n,s,a,c);if(d===null)fh(n,s,c,Ds,a),Wl(n,c);else if(th(d,n,s,a,c))c.stopPropagation();else if(Wl(n,c),s&4&&-1<eh.indexOf(n)){for(;d!==null;){var m=Ma(d);if(m!==null&&zl(m),m=vo(n,s,a,c),m===null&&fh(n,s,c,Ds,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else fh(n,s,c,null,a)}}var Ds=null;function vo(n,s,a,c){if(Ds=null,n=fr(c),n=Ls(n),n!==null)if(s=ce(n),s===null)n=null;else if(a=s.tag,a===13){if(n=Ne(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Ds=n,null}function Ia(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vi()){case zn:return 1;case un:return 4;case Zt:case Mr:return 16;case We:return 536870912;default:return 16}default:return 16}}var $n=null,_o=null,kn=null;function Sa(){if(kn)return kn;var n,s=_o,a=s.length,c,d="value"in $n?$n.value:$n.textContent,m=d.length;for(n=0;n<a&&s[n]===d[n];n++);var _=a-n;for(c=1;c<=_&&s[a-c]===d[m-c];c++);return kn=d.slice(n,1<c?1-c:void 0)}function Eo(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function jr(){return!0}function Ra(){return!1}function tn(n){function s(a,c,d,m,_){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?jr:Ra,this.isPropagationStopped=Ra,this}return ae(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),s}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=tn(vr),zr=ae({},vr,{view:0,detail:0}),rh=tn(zr),To,ai,zi,xs=ae({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==zi&&(zi&&n.type==="mousemove"?(To=n.screenX-zi.screenX,ai=n.screenY-zi.screenY):ai=To=0,zi=n),To)},movementY:function(n){return"movementY"in n?n.movementY:ai}}),Io=tn(xs),Aa=ae({},xs,{dataTransfer:0}),Kl=tn(Aa),So=ae({},zr,{relatedTarget:0}),Ro=tn(So),Ql=ae({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),li=tn(Ql),Yl=ae({},vr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Xl=tn(Yl),Jl=ae({},vr,{data:0}),Ca=tn(Jl),Ao={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eu(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Zl[n])?!!s[n]:!1}function Br(){return eu}var u=ae({},zr,{key:function(n){if(n.key){var s=Ao[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Eo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?En[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(n){return n.type==="keypress"?Eo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Eo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=tn(u),y=ae({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=tn(y),F=ae({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),q=tn(F),ie=ae({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ut=tn(ie),Bt=ae({},xs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),et=tn(Bt),Kt=[9,13,27,32],Mt=f&&"CompositionEvent"in window,Zn=null;f&&"documentMode"in document&&(Zn=document.documentMode);var Hn=f&&"TextEvent"in window&&!Zn,Vs=f&&(!Mt||Zn&&8<Zn&&11>=Zn),Co=" ",Tp=!1;function Ip(n,s){switch(n){case"keyup":return Kt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Po=!1;function Rw(n,s){switch(n){case"compositionend":return Sp(s);case"keypress":return s.which!==32?null:(Tp=!0,Co);case"textInput":return n=s.data,n===Co&&Tp?null:n;default:return null}}function Aw(n,s){if(Po)return n==="compositionend"||!Mt&&Ip(n,s)?(n=Sa(),kn=_o=$n=null,Po=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Vs&&s.locale!=="ko"?null:s.data;default:return null}}var Cw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rp(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Cw[n.type]:s==="textarea"}function Ap(n,s,a,c){Un(c),s=su(s,"onChange"),0<s.length&&(a=new wo("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var Pa=null,ka=null;function Pw(n){Hp(n,0)}function tu(n){var s=Vo(n);if(Ct(s))return n}function kw(n,s){if(n==="change")return s}var Cp=!1;if(f){var ih;if(f){var sh="oninput"in document;if(!sh){var Pp=document.createElement("div");Pp.setAttribute("oninput","return;"),sh=typeof Pp.oninput=="function"}ih=sh}else ih=!1;Cp=ih&&(!document.documentMode||9<document.documentMode)}function kp(){Pa&&(Pa.detachEvent("onpropertychange",Np),ka=Pa=null)}function Np(n){if(n.propertyName==="value"&&tu(ka)){var s=[];Ap(s,ka,n,fr(n)),As(Pw,s)}}function Nw(n,s,a){n==="focusin"?(kp(),Pa=s,ka=a,Pa.attachEvent("onpropertychange",Np)):n==="focusout"&&kp()}function Dw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return tu(ka)}function xw(n,s){if(n==="click")return tu(s)}function Vw(n,s){if(n==="input"||n==="change")return tu(s)}function Lw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var _r=typeof Object.is=="function"?Object.is:Lw;function Na(n,s){if(_r(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(s,d)||!_r(n[d],s[d]))return!1}return!0}function Dp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function xp(n,s){var a=Dp(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dp(a)}}function Vp(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Vp(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Lp(){for(var n=window,s=vn();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=vn(n.document)}return s}function oh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function Ow(n){var s=Lp(),a=n.focusedElem,c=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&Vp(a.ownerDocument.documentElement,a)){if(c!==null&&oh(a)){if(s=c.start,n=c.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!n.extend&&m>c&&(d=c,c=m,m=d),d=xp(a,m);var _=xp(a,c);d&&_&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),n.removeAllRanges(),m>c?(n.addRange(s),n.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Mw=f&&"documentMode"in document&&11>=document.documentMode,ko=null,ah=null,Da=null,lh=!1;function Op(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lh||ko==null||ko!==vn(c)||(c=ko,"selectionStart"in c&&oh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Da&&Na(Da,c)||(Da=c,c=su(ah,"onSelect"),0<c.length&&(s=new wo("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=ko)))}function nu(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var No={animationend:nu("Animation","AnimationEnd"),animationiteration:nu("Animation","AnimationIteration"),animationstart:nu("Animation","AnimationStart"),transitionend:nu("Transition","TransitionEnd")},uh={},Mp={};f&&(Mp=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function ru(n){if(uh[n])return uh[n];if(!No[n])return n;var s=No[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Mp)return uh[n]=s[a];return n}var bp=ru("animationend"),Fp=ru("animationiteration"),Up=ru("animationstart"),jp=ru("transitionend"),zp=new Map,Bp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(n,s){zp.set(n,s),l(s,[n])}for(var ch=0;ch<Bp.length;ch++){var hh=Bp[ch],bw=hh.toLowerCase(),Fw=hh[0].toUpperCase()+hh.slice(1);Bi(bw,"on"+Fw)}Bi(bp,"onAnimationEnd"),Bi(Fp,"onAnimationIteration"),Bi(Up,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi(jp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uw=new Set("cancel close invalid load scroll toggle".split(" ").concat(xa));function $p(n,s,a){var c=n.type||"unknown-event";n.currentTarget=a,ue(c,s,void 0,n),n.currentTarget=null}function Hp(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var _=c.length-1;0<=_;_--){var A=c[_],D=A.instance,W=A.currentTarget;if(A=A.listener,D!==m&&d.isPropagationStopped())break e;$p(d,A,W),m=D}else for(_=0;_<c.length;_++){if(A=c[_],D=A.instance,W=A.currentTarget,A=A.listener,D!==m&&d.isPropagationStopped())break e;$p(d,A,W),m=D}}}if(me)throw n=Ae,me=!1,Ae=null,n}function yt(n,s){var a=s[_h];a===void 0&&(a=s[_h]=new Set);var c=n+"__bubble";a.has(c)||(Wp(s,n,2,!1),a.add(c))}function dh(n,s,a){var c=0;s&&(c|=4),Wp(a,n,c,s)}var iu="_reactListening"+Math.random().toString(36).slice(2);function Va(n){if(!n[iu]){n[iu]=!0,i.forEach(function(a){a!=="selectionchange"&&(Uw.has(a)||dh(a,!1,n),dh(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[iu]||(s[iu]=!0,dh("selectionchange",!1,s))}}function Wp(n,s,a,c){switch(Ia(s)){case 1:var d=_t;break;case 4:d=nh;break;default:d=Ta}a=d.bind(null,s,a,n),d=void 0,!N||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function fh(n,s,a,c,d){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var A=c.stateNode.containerInfo;if(A===d||A.nodeType===8&&A.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var D=_.tag;if((D===3||D===4)&&(D=_.stateNode.containerInfo,D===d||D.nodeType===8&&D.parentNode===d))return;_=_.return}for(;A!==null;){if(_=Ls(A),_===null)return;if(D=_.tag,D===5||D===6){c=m=_;continue e}A=A.parentNode}}c=c.return}As(function(){var W=m,J=fr(a),ee=[];e:{var X=zp.get(n);if(X!==void 0){var le=wo,ve=n;switch(n){case"keypress":if(Eo(a)===0)break e;case"keydown":case"keyup":le=p;break;case"focusin":ve="focus",le=Ro;break;case"focusout":ve="blur",le=Ro;break;case"beforeblur":case"afterblur":le=Ro;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Kl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=q;break;case bp:case Fp:case Up:le=li;break;case jp:le=ut;break;case"scroll":le=rh;break;case"wheel":le=et;break;case"copy":case"cut":case"paste":le=Xl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=T}var Ee=(s&4)!==0,xt=!Ee&&n==="scroll",U=Ee?X!==null?X+"Capture":null:X;Ee=[];for(var L=W,j;L!==null;){j=L;var ne=j.stateNode;if(j.tag===5&&ne!==null&&(j=ne,U!==null&&(ne=It(L,U),ne!=null&&Ee.push(La(L,ne,j)))),xt)break;L=L.return}0<Ee.length&&(X=new le(X,ve,null,a,J),ee.push({event:X,listeners:Ee}))}}if((s&7)===0){e:{if(X=n==="mouseover"||n==="pointerover",le=n==="mouseout"||n==="pointerout",X&&a!==xr&&(ve=a.relatedTarget||a.fromElement)&&(Ls(ve)||ve[ui]))break e;if((le||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,le?(ve=a.relatedTarget||a.toElement,le=W,ve=ve?Ls(ve):null,ve!==null&&(xt=ce(ve),ve!==xt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(le=null,ve=W),le!==ve)){if(Ee=Io,ne="onMouseLeave",U="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(Ee=T,ne="onPointerLeave",U="onPointerEnter",L="pointer"),xt=le==null?X:Vo(le),j=ve==null?X:Vo(ve),X=new Ee(ne,L+"leave",le,a,J),X.target=xt,X.relatedTarget=j,ne=null,Ls(J)===W&&(Ee=new Ee(U,L+"enter",ve,a,J),Ee.target=j,Ee.relatedTarget=xt,ne=Ee),xt=ne,le&&ve)t:{for(Ee=le,U=ve,L=0,j=Ee;j;j=Do(j))L++;for(j=0,ne=U;ne;ne=Do(ne))j++;for(;0<L-j;)Ee=Do(Ee),L--;for(;0<j-L;)U=Do(U),j--;for(;L--;){if(Ee===U||U!==null&&Ee===U.alternate)break t;Ee=Do(Ee),U=Do(U)}Ee=null}else Ee=null;le!==null&&qp(ee,X,le,Ee,!1),ve!==null&&xt!==null&&qp(ee,xt,ve,Ee,!0)}}e:{if(X=W?Vo(W):window,le=X.nodeName&&X.nodeName.toLowerCase(),le==="select"||le==="input"&&X.type==="file")var Te=kw;else if(Rp(X))if(Cp)Te=Vw;else{Te=Dw;var Ce=Nw}else(le=X.nodeName)&&le.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(Te=xw);if(Te&&(Te=Te(n,W))){Ap(ee,Te,a,J);break e}Ce&&Ce(n,X,W),n==="focusout"&&(Ce=X._wrapperState)&&Ce.controlled&&X.type==="number"&&ti(X,"number",X.value)}switch(Ce=W?Vo(W):window,n){case"focusin":(Rp(Ce)||Ce.contentEditable==="true")&&(ko=Ce,ah=W,Da=null);break;case"focusout":Da=ah=ko=null;break;case"mousedown":lh=!0;break;case"contextmenu":case"mouseup":case"dragend":lh=!1,Op(ee,a,J);break;case"selectionchange":if(Mw)break;case"keydown":case"keyup":Op(ee,a,J)}var Pe;if(Mt)e:{switch(n){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Po?Ip(n,a)&&(xe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(Vs&&a.locale!=="ko"&&(Po||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Po&&(Pe=Sa()):($n=J,_o="value"in $n?$n.value:$n.textContent,Po=!0)),Ce=su(W,xe),0<Ce.length&&(xe=new Ca(xe,n,null,a,J),ee.push({event:xe,listeners:Ce}),Pe?xe.data=Pe:(Pe=Sp(a),Pe!==null&&(xe.data=Pe)))),(Pe=Hn?Rw(n,a):Aw(n,a))&&(W=su(W,"onBeforeInput"),0<W.length&&(J=new Ca("onBeforeInput","beforeinput",null,a,J),ee.push({event:J,listeners:W}),J.data=Pe))}Hp(ee,s)})}function La(n,s,a){return{instance:n,listener:s,currentTarget:a}}function su(n,s){for(var a=s+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=It(n,a),m!=null&&c.unshift(La(n,m,d)),m=It(n,s),m!=null&&c.push(La(n,m,d))),n=n.return}return c}function Do(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function qp(n,s,a,c,d){for(var m=s._reactName,_=[];a!==null&&a!==c;){var A=a,D=A.alternate,W=A.stateNode;if(D!==null&&D===c)break;A.tag===5&&W!==null&&(A=W,d?(D=It(a,m),D!=null&&_.unshift(La(a,D,A))):d||(D=It(a,m),D!=null&&_.push(La(a,D,A)))),a=a.return}_.length!==0&&n.push({event:s,listeners:_})}var jw=/\r\n?/g,zw=/\u0000|\uFFFD/g;function Gp(n){return(typeof n=="string"?n:""+n).replace(jw,`
`).replace(zw,"")}function ou(n,s,a){if(s=Gp(s),Gp(n)!==s&&a)throw Error(t(425))}function au(){}var ph=null,mh=null;function gh(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yh=typeof setTimeout=="function"?setTimeout:void 0,Bw=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,$w=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(n){return Kp.resolve(null).then(n).catch(Hw)}:yh;function Hw(n){setTimeout(function(){throw n})}function vh(n,s){var a=s,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),yr(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);yr(s)}function $i(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Qp(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var xo=Math.random().toString(36).slice(2),$r="__reactFiber$"+xo,Oa="__reactProps$"+xo,ui="__reactContainer$"+xo,_h="__reactEvents$"+xo,Ww="__reactListeners$"+xo,qw="__reactHandles$"+xo;function Ls(n){var s=n[$r];if(s)return s;for(var a=n.parentNode;a;){if(s=a[ui]||a[$r]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Qp(n);n!==null;){if(a=n[$r])return a;n=Qp(n)}return s}n=a,a=n.parentNode}return null}function Ma(n){return n=n[$r]||n[ui],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Vo(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function lu(n){return n[Oa]||null}var Eh=[],Lo=-1;function Hi(n){return{current:n}}function vt(n){0>Lo||(n.current=Eh[Lo],Eh[Lo]=null,Lo--)}function pt(n,s){Lo++,Eh[Lo]=n.current,n.current=s}var Wi={},cn=Hi(Wi),Nn=Hi(!1),Os=Wi;function Oo(n,s){var a=n.type.contextTypes;if(!a)return Wi;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=s[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=d),d}function Dn(n){return n=n.childContextTypes,n!=null}function uu(){vt(Nn),vt(cn)}function Yp(n,s,a){if(cn.current!==Wi)throw Error(t(168));pt(cn,s),pt(Nn,a)}function Xp(n,s,a){var c=n.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,ze(n)||"Unknown",d));return ae({},a,c)}function cu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Wi,Os=cn.current,pt(cn,n),pt(Nn,Nn.current),!0}function Jp(n,s,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Xp(n,s,Os),c.__reactInternalMemoizedMergedChildContext=n,vt(Nn),vt(cn),pt(cn,n)):vt(Nn),pt(Nn,a)}var ci=null,hu=!1,wh=!1;function Zp(n){ci===null?ci=[n]:ci.push(n)}function Gw(n){hu=!0,Zp(n)}function qi(){if(!wh&&ci!==null){wh=!0;var n=0,s=Ze;try{var a=ci;for(Ze=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}ci=null,hu=!1}catch(d){throw ci!==null&&(ci=ci.slice(n+1)),lt(zn,qi),d}finally{Ze=s,wh=!1}}return null}var Mo=[],bo=0,du=null,fu=0,er=[],tr=0,Ms=null,hi=1,di="";function bs(n,s){Mo[bo++]=fu,Mo[bo++]=du,du=n,fu=s}function em(n,s,a){er[tr++]=hi,er[tr++]=di,er[tr++]=Ms,Ms=n;var c=hi;n=di;var d=32-Ke(c)-1;c&=~(1<<d),a+=1;var m=32-Ke(s)+d;if(30<m){var _=d-d%5;m=(c&(1<<_)-1).toString(32),c>>=_,d-=_,hi=1<<32-Ke(s)+d|a<<d|c,di=m+n}else hi=1<<m|a<<d|c,di=n}function Th(n){n.return!==null&&(bs(n,1),em(n,1,0))}function Ih(n){for(;n===du;)du=Mo[--bo],Mo[bo]=null,fu=Mo[--bo],Mo[bo]=null;for(;n===Ms;)Ms=er[--tr],er[tr]=null,di=er[--tr],er[tr]=null,hi=er[--tr],er[tr]=null}var Wn=null,qn=null,Et=!1,Er=null;function tm(n,s){var a=sr(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function nm(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Wn=n,qn=$i(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Wn=n,qn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Ms!==null?{id:hi,overflow:di}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=sr(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,Wn=n,qn=null,!0):!1;default:return!1}}function Sh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Rh(n){if(Et){var s=qn;if(s){var a=s;if(!nm(n,s)){if(Sh(n))throw Error(t(418));s=$i(a.nextSibling);var c=Wn;s&&nm(n,s)?tm(c,a):(n.flags=n.flags&-4097|2,Et=!1,Wn=n)}}else{if(Sh(n))throw Error(t(418));n.flags=n.flags&-4097|2,Et=!1,Wn=n}}}function rm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Wn=n}function pu(n){if(n!==Wn)return!1;if(!Et)return rm(n),Et=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!gh(n.type,n.memoizedProps)),s&&(s=qn)){if(Sh(n))throw im(),Error(t(418));for(;s;)tm(n,s),s=$i(s.nextSibling)}if(rm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){qn=$i(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}qn=null}}else qn=Wn?$i(n.stateNode.nextSibling):null;return!0}function im(){for(var n=qn;n;)n=$i(n.nextSibling)}function Fo(){qn=Wn=null,Et=!1}function Ah(n){Er===null?Er=[n]:Er.push(n)}var Kw=Re.ReactCurrentBatchConfig;function ba(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,m=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(_){var A=d.refs;_===null?delete A[m]:A[m]=_},s._stringRef=m,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function mu(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function sm(n){var s=n._init;return s(n._payload)}function om(n){function s(U,L){if(n){var j=U.deletions;j===null?(U.deletions=[L],U.flags|=16):j.push(L)}}function a(U,L){if(!n)return null;for(;L!==null;)s(U,L),L=L.sibling;return null}function c(U,L){for(U=new Map;L!==null;)L.key!==null?U.set(L.key,L):U.set(L.index,L),L=L.sibling;return U}function d(U,L){return U=es(U,L),U.index=0,U.sibling=null,U}function m(U,L,j){return U.index=j,n?(j=U.alternate,j!==null?(j=j.index,j<L?(U.flags|=2,L):j):(U.flags|=2,L)):(U.flags|=1048576,L)}function _(U){return n&&U.alternate===null&&(U.flags|=2),U}function A(U,L,j,ne){return L===null||L.tag!==6?(L=yd(j,U.mode,ne),L.return=U,L):(L=d(L,j),L.return=U,L)}function D(U,L,j,ne){var Te=j.type;return Te===I?J(U,L,j.props.children,ne,j.key):L!==null&&(L.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Dt&&sm(Te)===L.type)?(ne=d(L,j.props),ne.ref=ba(U,L,j),ne.return=U,ne):(ne=Uu(j.type,j.key,j.props,null,U.mode,ne),ne.ref=ba(U,L,j),ne.return=U,ne)}function W(U,L,j,ne){return L===null||L.tag!==4||L.stateNode.containerInfo!==j.containerInfo||L.stateNode.implementation!==j.implementation?(L=vd(j,U.mode,ne),L.return=U,L):(L=d(L,j.children||[]),L.return=U,L)}function J(U,L,j,ne,Te){return L===null||L.tag!==7?(L=Ws(j,U.mode,ne,Te),L.return=U,L):(L=d(L,j),L.return=U,L)}function ee(U,L,j){if(typeof L=="string"&&L!==""||typeof L=="number")return L=yd(""+L,U.mode,j),L.return=U,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case je:return j=Uu(L.type,L.key,L.props,null,U.mode,j),j.ref=ba(U,null,L),j.return=U,j;case Ue:return L=vd(L,U.mode,j),L.return=U,L;case Dt:var ne=L._init;return ee(U,ne(L._payload),j)}if(ur(L)||Ie(L))return L=Ws(L,U.mode,j,null),L.return=U,L;mu(U,L)}return null}function X(U,L,j,ne){var Te=L!==null?L.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return Te!==null?null:A(U,L,""+j,ne);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case je:return j.key===Te?D(U,L,j,ne):null;case Ue:return j.key===Te?W(U,L,j,ne):null;case Dt:return Te=j._init,X(U,L,Te(j._payload),ne)}if(ur(j)||Ie(j))return Te!==null?null:J(U,L,j,ne,null);mu(U,j)}return null}function le(U,L,j,ne,Te){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return U=U.get(j)||null,A(L,U,""+ne,Te);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case je:return U=U.get(ne.key===null?j:ne.key)||null,D(L,U,ne,Te);case Ue:return U=U.get(ne.key===null?j:ne.key)||null,W(L,U,ne,Te);case Dt:var Ce=ne._init;return le(U,L,j,Ce(ne._payload),Te)}if(ur(ne)||Ie(ne))return U=U.get(j)||null,J(L,U,ne,Te,null);mu(L,ne)}return null}function ve(U,L,j,ne){for(var Te=null,Ce=null,Pe=L,xe=L=0,Xt=null;Pe!==null&&xe<j.length;xe++){Pe.index>xe?(Xt=Pe,Pe=null):Xt=Pe.sibling;var st=X(U,Pe,j[xe],ne);if(st===null){Pe===null&&(Pe=Xt);break}n&&Pe&&st.alternate===null&&s(U,Pe),L=m(st,L,xe),Ce===null?Te=st:Ce.sibling=st,Ce=st,Pe=Xt}if(xe===j.length)return a(U,Pe),Et&&bs(U,xe),Te;if(Pe===null){for(;xe<j.length;xe++)Pe=ee(U,j[xe],ne),Pe!==null&&(L=m(Pe,L,xe),Ce===null?Te=Pe:Ce.sibling=Pe,Ce=Pe);return Et&&bs(U,xe),Te}for(Pe=c(U,Pe);xe<j.length;xe++)Xt=le(Pe,U,xe,j[xe],ne),Xt!==null&&(n&&Xt.alternate!==null&&Pe.delete(Xt.key===null?xe:Xt.key),L=m(Xt,L,xe),Ce===null?Te=Xt:Ce.sibling=Xt,Ce=Xt);return n&&Pe.forEach(function(ts){return s(U,ts)}),Et&&bs(U,xe),Te}function Ee(U,L,j,ne){var Te=Ie(j);if(typeof Te!="function")throw Error(t(150));if(j=Te.call(j),j==null)throw Error(t(151));for(var Ce=Te=null,Pe=L,xe=L=0,Xt=null,st=j.next();Pe!==null&&!st.done;xe++,st=j.next()){Pe.index>xe?(Xt=Pe,Pe=null):Xt=Pe.sibling;var ts=X(U,Pe,st.value,ne);if(ts===null){Pe===null&&(Pe=Xt);break}n&&Pe&&ts.alternate===null&&s(U,Pe),L=m(ts,L,xe),Ce===null?Te=ts:Ce.sibling=ts,Ce=ts,Pe=Xt}if(st.done)return a(U,Pe),Et&&bs(U,xe),Te;if(Pe===null){for(;!st.done;xe++,st=j.next())st=ee(U,st.value,ne),st!==null&&(L=m(st,L,xe),Ce===null?Te=st:Ce.sibling=st,Ce=st);return Et&&bs(U,xe),Te}for(Pe=c(U,Pe);!st.done;xe++,st=j.next())st=le(Pe,U,xe,st.value,ne),st!==null&&(n&&st.alternate!==null&&Pe.delete(st.key===null?xe:st.key),L=m(st,L,xe),Ce===null?Te=st:Ce.sibling=st,Ce=st);return n&&Pe.forEach(function(C0){return s(U,C0)}),Et&&bs(U,xe),Te}function xt(U,L,j,ne){if(typeof j=="object"&&j!==null&&j.type===I&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case je:e:{for(var Te=j.key,Ce=L;Ce!==null;){if(Ce.key===Te){if(Te=j.type,Te===I){if(Ce.tag===7){a(U,Ce.sibling),L=d(Ce,j.props.children),L.return=U,U=L;break e}}else if(Ce.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===Dt&&sm(Te)===Ce.type){a(U,Ce.sibling),L=d(Ce,j.props),L.ref=ba(U,Ce,j),L.return=U,U=L;break e}a(U,Ce);break}else s(U,Ce);Ce=Ce.sibling}j.type===I?(L=Ws(j.props.children,U.mode,ne,j.key),L.return=U,U=L):(ne=Uu(j.type,j.key,j.props,null,U.mode,ne),ne.ref=ba(U,L,j),ne.return=U,U=ne)}return _(U);case Ue:e:{for(Ce=j.key;L!==null;){if(L.key===Ce)if(L.tag===4&&L.stateNode.containerInfo===j.containerInfo&&L.stateNode.implementation===j.implementation){a(U,L.sibling),L=d(L,j.children||[]),L.return=U,U=L;break e}else{a(U,L);break}else s(U,L);L=L.sibling}L=vd(j,U.mode,ne),L.return=U,U=L}return _(U);case Dt:return Ce=j._init,xt(U,L,Ce(j._payload),ne)}if(ur(j))return ve(U,L,j,ne);if(Ie(j))return Ee(U,L,j,ne);mu(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,L!==null&&L.tag===6?(a(U,L.sibling),L=d(L,j),L.return=U,U=L):(a(U,L),L=yd(j,U.mode,ne),L.return=U,U=L),_(U)):a(U,L)}return xt}var Uo=om(!0),am=om(!1),gu=Hi(null),yu=null,jo=null,Ch=null;function Ph(){Ch=jo=yu=null}function kh(n){var s=gu.current;vt(gu),n._currentValue=s}function Nh(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function zo(n,s){yu=n,Ch=jo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(xn=!0),n.firstContext=null)}function nr(n){var s=n._currentValue;if(Ch!==n)if(n={context:n,memoizedValue:s,next:null},jo===null){if(yu===null)throw Error(t(308));jo=n,yu.dependencies={lanes:0,firstContext:n}}else jo=jo.next=n;return s}var Fs=null;function Dh(n){Fs===null?Fs=[n]:Fs.push(n)}function lm(n,s,a,c){var d=s.interleaved;return d===null?(a.next=a,Dh(s)):(a.next=d.next,d.next=a),s.interleaved=a,fi(n,c)}function fi(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Gi=!1;function xh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function um(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function pi(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Ki(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(rt&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,fi(n,a)}return d=c.interleaved,d===null?(s.next=s,Dh(c)):(s.next=d.next,d.next=s),c.interleaved=s,fi(n,a)}function vu(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,bi(n,a)}}function cm(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?d=m=s:m=m.next=s}else d=m=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function _u(n,s,a,c){var d=n.updateQueue;Gi=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var D=A,W=D.next;D.next=null,_===null?m=W:_.next=W,_=D;var J=n.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==_&&(A===null?J.firstBaseUpdate=W:A.next=W,J.lastBaseUpdate=D))}if(m!==null){var ee=d.baseState;_=0,J=W=D=null,A=m;do{var X=A.lane,le=A.eventTime;if((c&X)===X){J!==null&&(J=J.next={eventTime:le,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ve=n,Ee=A;switch(X=s,le=a,Ee.tag){case 1:if(ve=Ee.payload,typeof ve=="function"){ee=ve.call(le,ee,X);break e}ee=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ee.payload,X=typeof ve=="function"?ve.call(le,ee,X):ve,X==null)break e;ee=ae({},ee,X);break e;case 2:Gi=!0}}A.callback!==null&&A.lane!==0&&(n.flags|=64,X=d.effects,X===null?d.effects=[A]:X.push(A))}else le={eventTime:le,lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(W=J=le,D=ee):J=J.next=le,_|=X;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;X=A,A=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);if(J===null&&(D=ee),d.baseState=D,d.firstBaseUpdate=W,d.lastBaseUpdate=J,s=d.shared.interleaved,s!==null){d=s;do _|=d.lane,d=d.next;while(d!==s)}else m===null&&(d.shared.lanes=0);zs|=_,n.lanes=_,n.memoizedState=ee}}function hm(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var c=n[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Fa={},Hr=Hi(Fa),Ua=Hi(Fa),ja=Hi(Fa);function Us(n){if(n===Fa)throw Error(t(174));return n}function Vh(n,s){switch(pt(ja,s),pt(Ua,n),pt(Hr,Fa),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Tt(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=Tt(s,n)}vt(Hr),pt(Hr,s)}function Bo(){vt(Hr),vt(Ua),vt(ja)}function dm(n){Us(ja.current);var s=Us(Hr.current),a=Tt(s,n.type);s!==a&&(pt(Ua,n),pt(Hr,a))}function Lh(n){Ua.current===n&&(vt(Hr),vt(Ua))}var St=Hi(0);function Eu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Oh=[];function Mh(){for(var n=0;n<Oh.length;n++)Oh[n]._workInProgressVersionPrimary=null;Oh.length=0}var wu=Re.ReactCurrentDispatcher,bh=Re.ReactCurrentBatchConfig,js=0,Rt=null,$t=null,Qt=null,Tu=!1,za=!1,Ba=0,Qw=0;function hn(){throw Error(t(321))}function Fh(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!_r(n[a],s[a]))return!1;return!0}function Uh(n,s,a,c,d,m){if(js=m,Rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,wu.current=n===null||n.memoizedState===null?Zw:e0,n=a(c,d),za){m=0;do{if(za=!1,Ba=0,25<=m)throw Error(t(301));m+=1,Qt=$t=null,s.updateQueue=null,wu.current=t0,n=a(c,d)}while(za)}if(wu.current=Ru,s=$t!==null&&$t.next!==null,js=0,Qt=$t=Rt=null,Tu=!1,s)throw Error(t(300));return n}function jh(){var n=Ba!==0;return Ba=0,n}function Wr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Rt.memoizedState=Qt=n:Qt=Qt.next=n,Qt}function rr(){if($t===null){var n=Rt.alternate;n=n!==null?n.memoizedState:null}else n=$t.next;var s=Qt===null?Rt.memoizedState:Qt.next;if(s!==null)Qt=s,$t=n;else{if(n===null)throw Error(t(310));$t=n,n={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Qt===null?Rt.memoizedState=Qt=n:Qt=Qt.next=n}return Qt}function $a(n,s){return typeof s=="function"?s(n):s}function zh(n){var s=rr(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=$t,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var A=_=null,D=null,W=m;do{var J=W.lane;if((js&J)===J)D!==null&&(D=D.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),c=W.hasEagerState?W.eagerState:n(c,W.action);else{var ee={lane:J,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};D===null?(A=D=ee,_=c):D=D.next=ee,Rt.lanes|=J,zs|=J}W=W.next}while(W!==null&&W!==m);D===null?_=c:D.next=A,_r(c,s.memoizedState)||(xn=!0),s.memoizedState=c,s.baseState=_,s.baseQueue=D,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do m=d.lane,Rt.lanes|=m,zs|=m,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Bh(n){var s=rr(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,m=s.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do m=n(m,_.action),_=_.next;while(_!==d);_r(m,s.memoizedState)||(xn=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,c]}function fm(){}function pm(n,s){var a=Rt,c=rr(),d=s(),m=!_r(c.memoizedState,d);if(m&&(c.memoizedState=d,xn=!0),c=c.queue,$h(ym.bind(null,a,c,n),[n]),c.getSnapshot!==s||m||Qt!==null&&Qt.memoizedState.tag&1){if(a.flags|=2048,Ha(9,gm.bind(null,a,c,d,s),void 0,null),Yt===null)throw Error(t(349));(js&30)!==0||mm(a,s,d)}return d}function mm(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Rt.updateQueue,s===null?(s={lastEffect:null,stores:null},Rt.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function gm(n,s,a,c){s.value=a,s.getSnapshot=c,vm(s)&&_m(n)}function ym(n,s,a){return a(function(){vm(s)&&_m(n)})}function vm(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!_r(n,a)}catch{return!0}}function _m(n){var s=fi(n,1);s!==null&&Sr(s,n,1,-1)}function Em(n){var s=Wr();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:n},s.queue=n,n=n.dispatch=Jw.bind(null,Rt,n),[s.memoizedState,n]}function Ha(n,s,a,c){return n={tag:n,create:s,destroy:a,deps:c,next:null},s=Rt.updateQueue,s===null?(s={lastEffect:null,stores:null},Rt.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n)),n}function wm(){return rr().memoizedState}function Iu(n,s,a,c){var d=Wr();Rt.flags|=n,d.memoizedState=Ha(1|s,a,void 0,c===void 0?null:c)}function Su(n,s,a,c){var d=rr();c=c===void 0?null:c;var m=void 0;if($t!==null){var _=$t.memoizedState;if(m=_.destroy,c!==null&&Fh(c,_.deps)){d.memoizedState=Ha(s,a,m,c);return}}Rt.flags|=n,d.memoizedState=Ha(1|s,a,m,c)}function Tm(n,s){return Iu(8390656,8,n,s)}function $h(n,s){return Su(2048,8,n,s)}function Im(n,s){return Su(4,2,n,s)}function Sm(n,s){return Su(4,4,n,s)}function Rm(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Am(n,s,a){return a=a!=null?a.concat([n]):null,Su(4,4,Rm.bind(null,s,n),a)}function Hh(){}function Cm(n,s){var a=rr();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Fh(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function Pm(n,s){var a=rr();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Fh(s,c[1])?c[0]:(n=n(),a.memoizedState=[n,s],n)}function km(n,s,a){return(js&21)===0?(n.baseState&&(n.baseState=!1,xn=!0),n.memoizedState=a):(_r(a,s)||(a=ks(),Rt.lanes|=a,zs|=a,n.baseState=!0),s)}function Yw(n,s){var a=Ze;Ze=a!==0&&4>a?a:4,n(!0);var c=bh.transition;bh.transition={};try{n(!1),s()}finally{Ze=a,bh.transition=c}}function Nm(){return rr().memoizedState}function Xw(n,s,a){var c=Ji(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Dm(n))xm(s,a);else if(a=lm(n,s,a,c),a!==null){var d=Tn();Sr(a,n,c,d),Vm(a,s,c)}}function Jw(n,s,a){var c=Ji(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Dm(n))xm(s,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,A=m(_,a);if(d.hasEagerState=!0,d.eagerState=A,_r(A,_)){var D=s.interleaved;D===null?(d.next=d,Dh(s)):(d.next=D.next,D.next=d),s.interleaved=d;return}}catch{}finally{}a=lm(n,s,d,c),a!==null&&(d=Tn(),Sr(a,n,c,d),Vm(a,s,c))}}function Dm(n){var s=n.alternate;return n===Rt||s!==null&&s===Rt}function xm(n,s){za=Tu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Vm(n,s,a){if((a&4194240)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,bi(n,a)}}var Ru={readContext:nr,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},Zw={readContext:nr,useCallback:function(n,s){return Wr().memoizedState=[n,s===void 0?null:s],n},useContext:nr,useEffect:Tm,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,Iu(4194308,4,Rm.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Iu(4194308,4,n,s)},useInsertionEffect:function(n,s){return Iu(4,2,n,s)},useMemo:function(n,s){var a=Wr();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var c=Wr();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},c.queue=n,n=n.dispatch=Xw.bind(null,Rt,n),[c.memoizedState,n]},useRef:function(n){var s=Wr();return n={current:n},s.memoizedState=n},useState:Em,useDebugValue:Hh,useDeferredValue:function(n){return Wr().memoizedState=n},useTransition:function(){var n=Em(!1),s=n[0];return n=Yw.bind(null,n[1]),Wr().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var c=Rt,d=Wr();if(Et){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Yt===null)throw Error(t(349));(js&30)!==0||mm(c,s,a)}d.memoizedState=a;var m={value:a,getSnapshot:s};return d.queue=m,Tm(ym.bind(null,c,m,n),[n]),c.flags|=2048,Ha(9,gm.bind(null,c,m,a,s),void 0,null),a},useId:function(){var n=Wr(),s=Yt.identifierPrefix;if(Et){var a=di,c=hi;a=(c&~(1<<32-Ke(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ba++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Qw++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},e0={readContext:nr,useCallback:Cm,useContext:nr,useEffect:$h,useImperativeHandle:Am,useInsertionEffect:Im,useLayoutEffect:Sm,useMemo:Pm,useReducer:zh,useRef:wm,useState:function(){return zh($a)},useDebugValue:Hh,useDeferredValue:function(n){var s=rr();return km(s,$t.memoizedState,n)},useTransition:function(){var n=zh($a)[0],s=rr().memoizedState;return[n,s]},useMutableSource:fm,useSyncExternalStore:pm,useId:Nm,unstable_isNewReconciler:!1},t0={readContext:nr,useCallback:Cm,useContext:nr,useEffect:$h,useImperativeHandle:Am,useInsertionEffect:Im,useLayoutEffect:Sm,useMemo:Pm,useReducer:Bh,useRef:wm,useState:function(){return Bh($a)},useDebugValue:Hh,useDeferredValue:function(n){var s=rr();return $t===null?s.memoizedState=n:km(s,$t.memoizedState,n)},useTransition:function(){var n=Bh($a)[0],s=rr().memoizedState;return[n,s]},useMutableSource:fm,useSyncExternalStore:pm,useId:Nm,unstable_isNewReconciler:!1};function wr(n,s){if(n&&n.defaultProps){s=ae({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function Wh(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:ae({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Au={isMounted:function(n){return(n=n._reactInternals)?ce(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var c=Tn(),d=Ji(n),m=pi(c,d);m.payload=s,a!=null&&(m.callback=a),s=Ki(n,m,d),s!==null&&(Sr(s,n,d,c),vu(s,n,d))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=Tn(),d=Ji(n),m=pi(c,d);m.tag=1,m.payload=s,a!=null&&(m.callback=a),s=Ki(n,m,d),s!==null&&(Sr(s,n,d,c),vu(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Tn(),c=Ji(n),d=pi(a,c);d.tag=2,s!=null&&(d.callback=s),s=Ki(n,d,c),s!==null&&(Sr(s,n,c,a),vu(s,n,c))}};function Lm(n,s,a,c,d,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,_):s.prototype&&s.prototype.isPureReactComponent?!Na(a,c)||!Na(d,m):!0}function Om(n,s,a){var c=!1,d=Wi,m=s.contextType;return typeof m=="object"&&m!==null?m=nr(m):(d=Dn(s)?Os:cn.current,c=s.contextTypes,m=(c=c!=null)?Oo(n,d):Wi),s=new s(a,m),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Au,n.stateNode=s,s._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=m),s}function Mm(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&Au.enqueueReplaceState(s,s.state,null)}function qh(n,s,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},xh(n);var m=s.contextType;typeof m=="object"&&m!==null?d.context=nr(m):(m=Dn(s)?Os:cn.current,d.context=Oo(n,m)),d.state=n.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Wh(n,s,m,a),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Au.enqueueReplaceState(d,d.state,null),_u(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function $o(n,s){try{var a="",c=s;do a+=ke(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:s,stack:d,digest:null}}function Gh(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function Kh(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var n0=typeof WeakMap=="function"?WeakMap:Map;function bm(n,s,a){a=pi(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Vu||(Vu=!0,ud=c),Kh(n,s)},a}function Fm(n,s,a){a=pi(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){Kh(n,s)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Kh(n,s),typeof c!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),a}function Um(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new n0;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),n=g0.bind(null,n,s,a),s.then(n,n))}function jm(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function zm(n,s,a,c,d){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=pi(-1,1),s.tag=2,Ki(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var r0=Re.ReactCurrentOwner,xn=!1;function wn(n,s,a,c){s.child=n===null?am(s,null,a,c):Uo(s,n.child,a,c)}function Bm(n,s,a,c,d){a=a.render;var m=s.ref;return zo(s,d),c=Uh(n,s,a,c,m,d),a=jh(),n!==null&&!xn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,mi(n,s,d)):(Et&&a&&Th(s),s.flags|=1,wn(n,s,c,d),s.child)}function $m(n,s,a,c,d){if(n===null){var m=a.type;return typeof m=="function"&&!gd(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=m,Hm(n,s,m,c,d)):(n=Uu(a.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,(n.lanes&d)===0){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:Na,a(_,c)&&n.ref===s.ref)return mi(n,s,d)}return s.flags|=1,n=es(m,c),n.ref=s.ref,n.return=s,s.child=n}function Hm(n,s,a,c,d){if(n!==null){var m=n.memoizedProps;if(Na(m,c)&&n.ref===s.ref)if(xn=!1,s.pendingProps=c=m,(n.lanes&d)!==0)(n.flags&131072)!==0&&(xn=!0);else return s.lanes=n.lanes,mi(n,s,d)}return Qh(n,s,a,c,d)}function Wm(n,s,a){var c=s.pendingProps,d=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Wo,Gn),Gn|=a;else{if((a&1073741824)===0)return n=m!==null?m.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,pt(Wo,Gn),Gn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,pt(Wo,Gn),Gn|=c}else m!==null?(c=m.baseLanes|a,s.memoizedState=null):c=a,pt(Wo,Gn),Gn|=c;return wn(n,s,d,a),s.child}function qm(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Qh(n,s,a,c,d){var m=Dn(a)?Os:cn.current;return m=Oo(s,m),zo(s,d),a=Uh(n,s,a,c,m,d),c=jh(),n!==null&&!xn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,mi(n,s,d)):(Et&&c&&Th(s),s.flags|=1,wn(n,s,a,d),s.child)}function Gm(n,s,a,c,d){if(Dn(a)){var m=!0;cu(s)}else m=!1;if(zo(s,d),s.stateNode===null)Pu(n,s),Om(s,a,c),qh(s,a,c,d),c=!0;else if(n===null){var _=s.stateNode,A=s.memoizedProps;_.props=A;var D=_.context,W=a.contextType;typeof W=="object"&&W!==null?W=nr(W):(W=Dn(a)?Os:cn.current,W=Oo(s,W));var J=a.getDerivedStateFromProps,ee=typeof J=="function"||typeof _.getSnapshotBeforeUpdate=="function";ee||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==c||D!==W)&&Mm(s,_,c,W),Gi=!1;var X=s.memoizedState;_.state=X,_u(s,c,_,d),D=s.memoizedState,A!==c||X!==D||Nn.current||Gi?(typeof J=="function"&&(Wh(s,a,J,c),D=s.memoizedState),(A=Gi||Lm(s,a,A,c,X,D,W))?(ee||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=D),_.props=c,_.state=D,_.context=W,c=A):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{_=s.stateNode,um(n,s),A=s.memoizedProps,W=s.type===s.elementType?A:wr(s.type,A),_.props=W,ee=s.pendingProps,X=_.context,D=a.contextType,typeof D=="object"&&D!==null?D=nr(D):(D=Dn(a)?Os:cn.current,D=Oo(s,D));var le=a.getDerivedStateFromProps;(J=typeof le=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==ee||X!==D)&&Mm(s,_,c,D),Gi=!1,X=s.memoizedState,_.state=X,_u(s,c,_,d);var ve=s.memoizedState;A!==ee||X!==ve||Nn.current||Gi?(typeof le=="function"&&(Wh(s,a,le,c),ve=s.memoizedState),(W=Gi||Lm(s,a,W,c,X,ve,D)||!1)?(J||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ve,D),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ve,D)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ve),_.props=c,_.state=ve,_.context=D,c=W):(typeof _.componentDidUpdate!="function"||A===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),c=!1)}return Yh(n,s,a,c,m,d)}function Yh(n,s,a,c,d,m){qm(n,s);var _=(s.flags&128)!==0;if(!c&&!_)return d&&Jp(s,a,!1),mi(n,s,m);c=s.stateNode,r0.current=s;var A=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,n!==null&&_?(s.child=Uo(s,n.child,null,m),s.child=Uo(s,null,A,m)):wn(n,s,A,m),s.memoizedState=c.state,d&&Jp(s,a,!0),s.child}function Km(n){var s=n.stateNode;s.pendingContext?Yp(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Yp(n,s.context,!1),Vh(n,s.containerInfo)}function Qm(n,s,a,c,d){return Fo(),Ah(d),s.flags|=256,wn(n,s,a,c),s.child}var Xh={dehydrated:null,treeContext:null,retryLane:0};function Jh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Ym(n,s,a){var c=s.pendingProps,d=St.current,m=!1,_=(s.flags&128)!==0,A;if((A=_)||(A=n!==null&&n.memoizedState===null?!1:(d&2)!==0),A?(m=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),pt(St,d&1),n===null)return Rh(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(_=c.children,n=c.fallback,m?(c=s.mode,m=s.child,_={mode:"hidden",children:_},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=_):m=ju(_,c,0,null),n=Ws(n,c,a,null),m.return=s,n.return=s,m.sibling=n,s.child=m,s.child.memoizedState=Jh(a),s.memoizedState=Xh,n):Zh(s,_));if(d=n.memoizedState,d!==null&&(A=d.dehydrated,A!==null))return i0(n,s,_,c,A,d,a);if(m){m=c.fallback,_=s.mode,d=n.child,A=d.sibling;var D={mode:"hidden",children:c.children};return(_&1)===0&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=D,s.deletions=null):(c=es(d,D),c.subtreeFlags=d.subtreeFlags&14680064),A!==null?m=es(A,m):(m=Ws(m,_,a,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,_=n.child.memoizedState,_=_===null?Jh(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=n.childLanes&~a,s.memoizedState=Xh,c}return m=n.child,n=m.sibling,c=es(m,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=c,s.memoizedState=null,c}function Zh(n,s){return s=ju({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function Cu(n,s,a,c){return c!==null&&Ah(c),Uo(s,n.child,null,a),n=Zh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function i0(n,s,a,c,d,m,_){if(a)return s.flags&256?(s.flags&=-257,c=Gh(Error(t(422))),Cu(n,s,_,c)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(m=c.fallback,d=s.mode,c=ju({mode:"visible",children:c.children},d,0,null),m=Ws(m,d,_,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,(s.mode&1)!==0&&Uo(s,n.child,null,_),s.child.memoizedState=Jh(_),s.memoizedState=Xh,m);if((s.mode&1)===0)return Cu(n,s,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var A=c.dgst;return c=A,m=Error(t(419)),c=Gh(m,c,void 0),Cu(n,s,_,c)}if(A=(_&n.childLanes)!==0,xn||A){if(c=Yt,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|_))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,fi(n,d),Sr(c,n,d,-1))}return md(),c=Gh(Error(t(421))),Cu(n,s,_,c)}return d.data==="$?"?(s.flags|=128,s.child=n.child,s=y0.bind(null,n),d._reactRetry=s,null):(n=m.treeContext,qn=$i(d.nextSibling),Wn=s,Et=!0,Er=null,n!==null&&(er[tr++]=hi,er[tr++]=di,er[tr++]=Ms,hi=n.id,di=n.overflow,Ms=s),s=Zh(s,c.children),s.flags|=4096,s)}function Xm(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Nh(n.return,s,a)}function ed(n,s,a,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function Jm(n,s,a){var c=s.pendingProps,d=c.revealOrder,m=c.tail;if(wn(n,s,c.children,a),c=St.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Xm(n,a,s);else if(n.tag===19)Xm(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(pt(St,c),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&Eu(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),ed(s,!1,d,a,m);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&Eu(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}ed(s,!0,a,null,m);break;case"together":ed(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Pu(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function mi(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),zs|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=es(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=es(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function s0(n,s,a){switch(s.tag){case 3:Km(s),Fo();break;case 5:dm(s);break;case 1:Dn(s.type)&&cu(s);break;case 4:Vh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;pt(gu,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(pt(St,St.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Ym(n,s,a):(pt(St,St.current&1),n=mi(n,s,a),n!==null?n.sibling:null);pt(St,St.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(n.flags&128)!==0){if(c)return Jm(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),pt(St,St.current),c)break;return null;case 22:case 23:return s.lanes=0,Wm(n,s,a)}return mi(n,s,a)}var Zm,td,eg,tg;Zm=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},td=function(){},eg=function(n,s,a,c){var d=n.memoizedProps;if(d!==c){n=s.stateNode,Us(Hr.current);var m=null;switch(a){case"input":d=Dr(n,d),c=Dr(n,c),m=[];break;case"select":d=ae({},d,{value:void 0}),c=ae({},c,{value:void 0}),m=[];break;case"textarea":d=Is(n,d),c=Is(n,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=au)}Di(a,c);var _;a=null;for(W in d)if(!c.hasOwnProperty(W)&&d.hasOwnProperty(W)&&d[W]!=null)if(W==="style"){var A=d[W];for(_ in A)A.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?m||(m=[]):(m=m||[]).push(W,null));for(W in c){var D=c[W];if(A=d!=null?d[W]:void 0,c.hasOwnProperty(W)&&D!==A&&(D!=null||A!=null))if(W==="style")if(A){for(_ in A)!A.hasOwnProperty(_)||D&&D.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in D)D.hasOwnProperty(_)&&A[_]!==D[_]&&(a||(a={}),a[_]=D[_])}else a||(m||(m=[]),m.push(W,a)),a=D;else W==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,A=A?A.__html:void 0,D!=null&&A!==D&&(m=m||[]).push(W,D)):W==="children"?typeof D!="string"&&typeof D!="number"||(m=m||[]).push(W,""+D):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(D!=null&&W==="onScroll"&&yt("scroll",n),m||A===D||(m=[])):(m=m||[]).push(W,D))}a&&(m=m||[]).push("style",a);var W=m;(s.updateQueue=W)&&(s.flags|=4)}},tg=function(n,s,a,c){a!==c&&(s.flags|=4)};function Wa(n,s){if(!Et)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function dn(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function o0(n,s,a){var c=s.pendingProps;switch(Ih(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(s),null;case 1:return Dn(s.type)&&uu(),dn(s),null;case 3:return c=s.stateNode,Bo(),vt(Nn),vt(cn),Mh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(pu(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Er!==null&&(dd(Er),Er=null))),td(n,s),dn(s),null;case 5:Lh(s);var d=Us(ja.current);if(a=s.type,n!==null&&s.stateNode!=null)eg(n,s,a,c,d),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return dn(s),null}if(n=Us(Hr.current),pu(s)){c=s.stateNode,a=s.type;var m=s.memoizedProps;switch(c[$r]=s,c[Oa]=m,n=(s.mode&1)!==0,a){case"dialog":yt("cancel",c),yt("close",c);break;case"iframe":case"object":case"embed":yt("load",c);break;case"video":case"audio":for(d=0;d<xa.length;d++)yt(xa[d],c);break;case"source":yt("error",c);break;case"img":case"image":case"link":yt("error",c),yt("load",c);break;case"details":yt("toggle",c);break;case"input":Ci(c,m),yt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},yt("invalid",c);break;case"textarea":Pi(c,m),yt("invalid",c)}Di(a,m),d=null;for(var _ in m)if(m.hasOwnProperty(_)){var A=m[_];_==="children"?typeof A=="string"?c.textContent!==A&&(m.suppressHydrationWarning!==!0&&ou(c.textContent,A,n),d=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(m.suppressHydrationWarning!==!0&&ou(c.textContent,A,n),d=["children",""+A]):o.hasOwnProperty(_)&&A!=null&&_==="onScroll"&&yt("scroll",c)}switch(a){case"input":lr(c),fo(c,m,!0);break;case"textarea":lr(c),hr(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=au)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Pt(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[$r]=s,n[Oa]=c,Zm(n,s,!1,!1),s.stateNode=n;e:{switch(_=Ss(a,c),a){case"dialog":yt("cancel",n),yt("close",n),d=c;break;case"iframe":case"object":case"embed":yt("load",n),d=c;break;case"video":case"audio":for(d=0;d<xa.length;d++)yt(xa[d],n);d=c;break;case"source":yt("error",n),d=c;break;case"img":case"image":case"link":yt("error",n),yt("load",n),d=c;break;case"details":yt("toggle",n),d=c;break;case"input":Ci(n,c),d=Dr(n,c),yt("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=ae({},c,{value:void 0}),yt("invalid",n);break;case"textarea":Pi(n,c),d=Is(n,c),yt("invalid",n);break;default:d=c}Di(a,d),A=d;for(m in A)if(A.hasOwnProperty(m)){var D=A[m];m==="style"?ki(n,D):m==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&_n(n,D)):m==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&dr(n,D):typeof D=="number"&&dr(n,""+D):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?D!=null&&m==="onScroll"&&yt("scroll",n):D!=null&&pe(n,m,D,_))}switch(a){case"input":lr(n),fo(n,c,!1);break;case"textarea":lr(n),hr(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Ge(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?cr(n,!!c.multiple,m,!1):c.defaultValue!=null&&cr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=au)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return dn(s),null;case 6:if(n&&s.stateNode!=null)tg(n,s,n.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=Us(ja.current),Us(Hr.current),pu(s)){if(c=s.stateNode,a=s.memoizedProps,c[$r]=s,(m=c.nodeValue!==a)&&(n=Wn,n!==null))switch(n.tag){case 3:ou(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ou(c.nodeValue,a,(n.mode&1)!==0)}m&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[$r]=s,s.stateNode=c}return dn(s),null;case 13:if(vt(St),c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Et&&qn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)im(),Fo(),s.flags|=98560,m=!1;else if(m=pu(s),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[$r]=s}else Fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dn(s),m=!1}else Er!==null&&(dd(Er),Er=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(St.current&1)!==0?Ht===0&&(Ht=3):md())),s.updateQueue!==null&&(s.flags|=4),dn(s),null);case 4:return Bo(),td(n,s),n===null&&Va(s.stateNode.containerInfo),dn(s),null;case 10:return kh(s.type._context),dn(s),null;case 17:return Dn(s.type)&&uu(),dn(s),null;case 19:if(vt(St),m=s.memoizedState,m===null)return dn(s),null;if(c=(s.flags&128)!==0,_=m.rendering,_===null)if(c)Wa(m,!1);else{if(Ht!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(_=Eu(n),_!==null){for(s.flags|=128,Wa(m,!1),c=_.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)m=a,n=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,n=_.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return pt(St,St.current&1|2),s.child}n=n.sibling}m.tail!==null&&He()>qo&&(s.flags|=128,c=!0,Wa(m,!1),s.lanes=4194304)}else{if(!c)if(n=Eu(_),n!==null){if(s.flags|=128,c=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Wa(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Et)return dn(s),null}else 2*He()-m.renderingStartTime>qo&&a!==1073741824&&(s.flags|=128,c=!0,Wa(m,!1),s.lanes=4194304);m.isBackwards?(_.sibling=s.child,s.child=_):(a=m.last,a!==null?a.sibling=_:s.child=_,m.last=_)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=He(),s.sibling=null,a=St.current,pt(St,c?a&1|2:a&1),s):(dn(s),null);case 22:case 23:return pd(),c=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(Gn&1073741824)!==0&&(dn(s),s.subtreeFlags&6&&(s.flags|=8192)):dn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function a0(n,s){switch(Ih(s),s.tag){case 1:return Dn(s.type)&&uu(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Bo(),vt(Nn),vt(cn),Mh(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Lh(s),null;case 13:if(vt(St),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Fo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return vt(St),null;case 4:return Bo(),null;case 10:return kh(s.type._context),null;case 22:case 23:return pd(),null;case 24:return null;default:return null}}var ku=!1,fn=!1,l0=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Ho(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Nt(n,s,c)}else a.current=null}function nd(n,s,a){try{a()}catch(c){Nt(n,s,c)}}var ng=!1;function u0(n,s){if(ph=ji,n=Lp(),oh(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,A=-1,D=-1,W=0,J=0,ee=n,X=null;t:for(;;){for(var le;ee!==a||d!==0&&ee.nodeType!==3||(A=_+d),ee!==m||c!==0&&ee.nodeType!==3||(D=_+c),ee.nodeType===3&&(_+=ee.nodeValue.length),(le=ee.firstChild)!==null;)X=ee,ee=le;for(;;){if(ee===n)break t;if(X===a&&++W===d&&(A=_),X===m&&++J===c&&(D=_),(le=ee.nextSibling)!==null)break;ee=X,X=ee.parentNode}ee=le}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(mh={focusedElem:n,selectionRange:a},ji=!1,ye=s;ye!==null;)if(s=ye,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ye=n;else for(;ye!==null;){s=ye;try{var ve=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var Ee=ve.memoizedProps,xt=ve.memoizedState,U=s.stateNode,L=U.getSnapshotBeforeUpdate(s.elementType===s.type?Ee:wr(s.type,Ee),xt);U.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){Nt(s,s.return,ne)}if(n=s.sibling,n!==null){n.return=s.return,ye=n;break}ye=s.return}return ve=ng,ng=!1,ve}function qa(n,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var m=d.destroy;d.destroy=void 0,m!==void 0&&nd(s,a,m)}d=d.next}while(d!==c)}}function Nu(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function rd(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function rg(n){var s=n.alternate;s!==null&&(n.alternate=null,rg(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[$r],delete s[Oa],delete s[_h],delete s[Ww],delete s[qw])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function ig(n){return n.tag===5||n.tag===3||n.tag===4}function sg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ig(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function id(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=au));else if(c!==4&&(n=n.child,n!==null))for(id(n,s,a),n=n.sibling;n!==null;)id(n,s,a),n=n.sibling}function sd(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(sd(n,s,a),n=n.sibling;n!==null;)sd(n,s,a),n=n.sibling}var nn=null,Tr=!1;function Qi(n,s,a){for(a=a.child;a!==null;)og(n,s,a),a=a.sibling}function og(n,s,a){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(ot,a)}catch{}switch(a.tag){case 5:fn||Ho(a,s);case 6:var c=nn,d=Tr;nn=null,Qi(n,s,a),nn=c,Tr=d,nn!==null&&(Tr?(n=nn,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):nn.removeChild(a.stateNode));break;case 18:nn!==null&&(Tr?(n=nn,a=a.stateNode,n.nodeType===8?vh(n.parentNode,a):n.nodeType===1&&vh(n,a),yr(n)):vh(nn,a.stateNode));break;case 4:c=nn,d=Tr,nn=a.stateNode.containerInfo,Tr=!0,Qi(n,s,a),nn=c,Tr=d;break;case 0:case 11:case 14:case 15:if(!fn&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,_=m.destroy;m=m.tag,_!==void 0&&((m&2)!==0||(m&4)!==0)&&nd(a,s,_),d=d.next}while(d!==c)}Qi(n,s,a);break;case 1:if(!fn&&(Ho(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(A){Nt(a,s,A)}Qi(n,s,a);break;case 21:Qi(n,s,a);break;case 22:a.mode&1?(fn=(c=fn)||a.memoizedState!==null,Qi(n,s,a),fn=c):Qi(n,s,a);break;default:Qi(n,s,a)}}function ag(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new l0),s.forEach(function(c){var d=v0.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Ir(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=n,_=s,A=_;e:for(;A!==null;){switch(A.tag){case 5:nn=A.stateNode,Tr=!1;break e;case 3:nn=A.stateNode.containerInfo,Tr=!0;break e;case 4:nn=A.stateNode.containerInfo,Tr=!0;break e}A=A.return}if(nn===null)throw Error(t(160));og(m,_,d),nn=null,Tr=!1;var D=d.alternate;D!==null&&(D.return=null),d.return=null}catch(W){Nt(d,s,W)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)lg(s,n),s=s.sibling}function lg(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ir(s,n),qr(n),c&4){try{qa(3,n,n.return),Nu(3,n)}catch(Ee){Nt(n,n.return,Ee)}try{qa(5,n,n.return)}catch(Ee){Nt(n,n.return,Ee)}}break;case 1:Ir(s,n),qr(n),c&512&&a!==null&&Ho(a,a.return);break;case 5:if(Ir(s,n),qr(n),c&512&&a!==null&&Ho(a,a.return),n.flags&32){var d=n.stateNode;try{dr(d,"")}catch(Ee){Nt(n,n.return,Ee)}}if(c&4&&(d=n.stateNode,d!=null)){var m=n.memoizedProps,_=a!==null?a.memoizedProps:m,A=n.type,D=n.updateQueue;if(n.updateQueue=null,D!==null)try{A==="input"&&m.type==="radio"&&m.name!=null&&Fn(d,m),Ss(A,_);var W=Ss(A,m);for(_=0;_<D.length;_+=2){var J=D[_],ee=D[_+1];J==="style"?ki(d,ee):J==="dangerouslySetInnerHTML"?_n(d,ee):J==="children"?dr(d,ee):pe(d,J,ee,W)}switch(A){case"input":Ts(d,m);break;case"textarea":Sn(d,m);break;case"select":var X=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var le=m.value;le!=null?cr(d,!!m.multiple,le,!1):X!==!!m.multiple&&(m.defaultValue!=null?cr(d,!!m.multiple,m.defaultValue,!0):cr(d,!!m.multiple,m.multiple?[]:"",!1))}d[Oa]=m}catch(Ee){Nt(n,n.return,Ee)}}break;case 6:if(Ir(s,n),qr(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,m=n.memoizedProps;try{d.nodeValue=m}catch(Ee){Nt(n,n.return,Ee)}}break;case 3:if(Ir(s,n),qr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{yr(s.containerInfo)}catch(Ee){Nt(n,n.return,Ee)}break;case 4:Ir(s,n),qr(n);break;case 13:Ir(s,n),qr(n),d=n.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(ld=He())),c&4&&ag(n);break;case 22:if(J=a!==null&&a.memoizedState!==null,n.mode&1?(fn=(W=fn)||J,Ir(s,n),fn=W):Ir(s,n),qr(n),c&8192){if(W=n.memoizedState!==null,(n.stateNode.isHidden=W)&&!J&&(n.mode&1)!==0)for(ye=n,J=n.child;J!==null;){for(ee=ye=J;ye!==null;){switch(X=ye,le=X.child,X.tag){case 0:case 11:case 14:case 15:qa(4,X,X.return);break;case 1:Ho(X,X.return);var ve=X.stateNode;if(typeof ve.componentWillUnmount=="function"){c=X,a=X.return;try{s=c,ve.props=s.memoizedProps,ve.state=s.memoizedState,ve.componentWillUnmount()}catch(Ee){Nt(c,a,Ee)}}break;case 5:Ho(X,X.return);break;case 22:if(X.memoizedState!==null){hg(ee);continue}}le!==null?(le.return=X,ye=le):hg(ee)}J=J.sibling}e:for(J=null,ee=n;;){if(ee.tag===5){if(J===null){J=ee;try{d=ee.stateNode,W?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(A=ee.stateNode,D=ee.memoizedProps.style,_=D!=null&&D.hasOwnProperty("display")?D.display:null,A.style.display=Rn("display",_))}catch(Ee){Nt(n,n.return,Ee)}}}else if(ee.tag===6){if(J===null)try{ee.stateNode.nodeValue=W?"":ee.memoizedProps}catch(Ee){Nt(n,n.return,Ee)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===n)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===n)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===n)break e;J===ee&&(J=null),ee=ee.return}J===ee&&(J=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Ir(s,n),qr(n),c&4&&ag(n);break;case 21:break;default:Ir(s,n),qr(n)}}function qr(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(ig(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(dr(d,""),c.flags&=-33);var m=sg(n);sd(n,m,d);break;case 3:case 4:var _=c.stateNode.containerInfo,A=sg(n);id(n,A,_);break;default:throw Error(t(161))}}catch(D){Nt(n,n.return,D)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function c0(n,s,a){ye=n,ug(n)}function ug(n,s,a){for(var c=(n.mode&1)!==0;ye!==null;){var d=ye,m=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||ku;if(!_){var A=d.alternate,D=A!==null&&A.memoizedState!==null||fn;A=ku;var W=fn;if(ku=_,(fn=D)&&!W)for(ye=d;ye!==null;)_=ye,D=_.child,_.tag===22&&_.memoizedState!==null?dg(d):D!==null?(D.return=_,ye=D):dg(d);for(;m!==null;)ye=m,ug(m),m=m.sibling;ye=d,ku=A,fn=W}cg(n)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,ye=m):cg(n)}}function cg(n){for(;ye!==null;){var s=ye;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:fn||Nu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!fn)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:wr(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&hm(s,m,c);break;case 3:var _=s.updateQueue;if(_!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}hm(s,_,a)}break;case 5:var A=s.stateNode;if(a===null&&s.flags&4){a=A;var D=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var W=s.alternate;if(W!==null){var J=W.memoizedState;if(J!==null){var ee=J.dehydrated;ee!==null&&yr(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}fn||s.flags&512&&rd(s)}catch(X){Nt(s,s.return,X)}}if(s===n){ye=null;break}if(a=s.sibling,a!==null){a.return=s.return,ye=a;break}ye=s.return}}function hg(n){for(;ye!==null;){var s=ye;if(s===n){ye=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ye=a;break}ye=s.return}}function dg(n){for(;ye!==null;){var s=ye;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Nu(4,s)}catch(D){Nt(s,a,D)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(D){Nt(s,d,D)}}var m=s.return;try{rd(s)}catch(D){Nt(s,m,D)}break;case 5:var _=s.return;try{rd(s)}catch(D){Nt(s,_,D)}}}catch(D){Nt(s,s.return,D)}if(s===n){ye=null;break}var A=s.sibling;if(A!==null){A.return=s.return,ye=A;break}ye=s.return}}var h0=Math.ceil,Du=Re.ReactCurrentDispatcher,od=Re.ReactCurrentOwner,ir=Re.ReactCurrentBatchConfig,rt=0,Yt=null,bt=null,rn=0,Gn=0,Wo=Hi(0),Ht=0,Ga=null,zs=0,xu=0,ad=0,Ka=null,Vn=null,ld=0,qo=1/0,gi=null,Vu=!1,ud=null,Yi=null,Lu=!1,Xi=null,Ou=0,Qa=0,cd=null,Mu=-1,bu=0;function Tn(){return(rt&6)!==0?He():Mu!==-1?Mu:Mu=He()}function Ji(n){return(n.mode&1)===0?1:(rt&2)!==0&&rn!==0?rn&-rn:Kw.transition!==null?(bu===0&&(bu=ks()),bu):(n=Ze,n!==0||(n=window.event,n=n===void 0?16:Ia(n.type)),n)}function Sr(n,s,a,c){if(50<Qa)throw Qa=0,cd=null,Error(t(185));Mi(n,a,c),((rt&2)===0||n!==Yt)&&(n===Yt&&((rt&2)===0&&(xu|=a),Ht===4&&Zi(n,rn)),Ln(n,c),a===1&&rt===0&&(s.mode&1)===0&&(qo=He()+500,hu&&qi()))}function Ln(n,s){var a=n.callbackNode;ii(n,s);var c=Ps(n,n===Yt?rn:0);if(c===0)a!==null&&Yn(a),n.callbackNode=null,n.callbackPriority=0;else if(s=c&-c,n.callbackPriority!==s){if(a!=null&&Yn(a),s===1)n.tag===0?Gw(pg.bind(null,n)):Zp(pg.bind(null,n)),$w(function(){(rt&6)===0&&qi()}),a=null;else{switch(Fi(c)){case 1:a=zn;break;case 4:a=un;break;case 16:a=Zt;break;case 536870912:a=We;break;default:a=Zt}a=Tg(a,fg.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function fg(n,s){if(Mu=-1,bu=0,(rt&6)!==0)throw Error(t(327));var a=n.callbackNode;if(Go()&&n.callbackNode!==a)return null;var c=Ps(n,n===Yt?rn:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||s)s=Fu(n,c);else{s=c;var d=rt;rt|=2;var m=gg();(Yt!==n||rn!==s)&&(gi=null,qo=He()+500,$s(n,s));do try{p0();break}catch(A){mg(n,A)}while(!0);Ph(),Du.current=m,rt=d,bt!==null?s=0:(Yt=null,rn=0,s=Ht)}if(s!==0){if(s===2&&(d=Bn(n),d!==0&&(c=d,s=hd(n,d))),s===1)throw a=Ga,$s(n,0),Zi(n,c),Ln(n,He()),a;if(s===6)Zi(n,c);else{if(d=n.current.alternate,(c&30)===0&&!d0(d)&&(s=Fu(n,c),s===2&&(m=Bn(n),m!==0&&(c=m,s=hd(n,m))),s===1))throw a=Ga,$s(n,0),Zi(n,c),Ln(n,He()),a;switch(n.finishedWork=d,n.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:Hs(n,Vn,gi);break;case 3:if(Zi(n,c),(c&130023424)===c&&(s=ld+500-He(),10<s)){if(Ps(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Tn(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=yh(Hs.bind(null,n,Vn,gi),s);break}Hs(n,Vn,gi);break;case 4:if(Zi(n,c),(c&4194240)===c)break;for(s=n.eventTimes,d=-1;0<c;){var _=31-Ke(c);m=1<<_,_=s[_],_>d&&(d=_),c&=~m}if(c=d,c=He()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*h0(c/1960))-c,10<c){n.timeoutHandle=yh(Hs.bind(null,n,Vn,gi),c);break}Hs(n,Vn,gi);break;case 5:Hs(n,Vn,gi);break;default:throw Error(t(329))}}}return Ln(n,He()),n.callbackNode===a?fg.bind(null,n):null}function hd(n,s){var a=Ka;return n.current.memoizedState.isDehydrated&&($s(n,s).flags|=256),n=Fu(n,s),n!==2&&(s=Vn,Vn=a,s!==null&&dd(s)),n}function dd(n){Vn===null?Vn=n:Vn.push.apply(Vn,n)}function d0(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!_r(m(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zi(n,s){for(s&=~ad,s&=~xu,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-Ke(s),c=1<<a;n[a]=-1,s&=~c}}function pg(n){if((rt&6)!==0)throw Error(t(327));Go();var s=Ps(n,0);if((s&1)===0)return Ln(n,He()),null;var a=Fu(n,s);if(n.tag!==0&&a===2){var c=Bn(n);c!==0&&(s=c,a=hd(n,c))}if(a===1)throw a=Ga,$s(n,0),Zi(n,s),Ln(n,He()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Hs(n,Vn,gi),Ln(n,He()),null}function fd(n,s){var a=rt;rt|=1;try{return n(s)}finally{rt=a,rt===0&&(qo=He()+500,hu&&qi())}}function Bs(n){Xi!==null&&Xi.tag===0&&(rt&6)===0&&Go();var s=rt;rt|=1;var a=ir.transition,c=Ze;try{if(ir.transition=null,Ze=1,n)return n()}finally{Ze=c,ir.transition=a,rt=s,(rt&6)===0&&qi()}}function pd(){Gn=Wo.current,vt(Wo)}function $s(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,Bw(a)),bt!==null)for(a=bt.return;a!==null;){var c=a;switch(Ih(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&uu();break;case 3:Bo(),vt(Nn),vt(cn),Mh();break;case 5:Lh(c);break;case 4:Bo();break;case 13:vt(St);break;case 19:vt(St);break;case 10:kh(c.type._context);break;case 22:case 23:pd()}a=a.return}if(Yt=n,bt=n=es(n.current,null),rn=Gn=s,Ht=0,Ga=null,ad=xu=zs=0,Vn=Ka=null,Fs!==null){for(s=0;s<Fs.length;s++)if(a=Fs[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var _=m.next;m.next=d,c.next=_}a.pending=c}Fs=null}return n}function mg(n,s){do{var a=bt;try{if(Ph(),wu.current=Ru,Tu){for(var c=Rt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Tu=!1}if(js=0,Qt=$t=Rt=null,za=!1,Ba=0,od.current=null,a===null||a.return===null){Ht=1,Ga=s,bt=null;break}e:{var m=n,_=a.return,A=a,D=s;if(s=rn,A.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=D,J=A,ee=J.tag;if((J.mode&1)===0&&(ee===0||ee===11||ee===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var le=jm(_);if(le!==null){le.flags&=-257,zm(le,_,A,m,s),le.mode&1&&Um(m,W,s),s=le,D=W;var ve=s.updateQueue;if(ve===null){var Ee=new Set;Ee.add(D),s.updateQueue=Ee}else ve.add(D);break e}else{if((s&1)===0){Um(m,W,s),md();break e}D=Error(t(426))}}else if(Et&&A.mode&1){var xt=jm(_);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),zm(xt,_,A,m,s),Ah($o(D,A));break e}}m=D=$o(D,A),Ht!==4&&(Ht=2),Ka===null?Ka=[m]:Ka.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var U=bm(m,D,s);cm(m,U);break e;case 1:A=D;var L=m.type,j=m.stateNode;if((m.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Yi===null||!Yi.has(j)))){m.flags|=65536,s&=-s,m.lanes|=s;var ne=Fm(m,A,s);cm(m,ne);break e}}m=m.return}while(m!==null)}vg(a)}catch(Te){s=Te,bt===a&&a!==null&&(bt=a=a.return);continue}break}while(!0)}function gg(){var n=Du.current;return Du.current=Ru,n===null?Ru:n}function md(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Yt===null||(zs&268435455)===0&&(xu&268435455)===0||Zi(Yt,rn)}function Fu(n,s){var a=rt;rt|=2;var c=gg();(Yt!==n||rn!==s)&&(gi=null,$s(n,s));do try{f0();break}catch(d){mg(n,d)}while(!0);if(Ph(),rt=a,Du.current=c,bt!==null)throw Error(t(261));return Yt=null,rn=0,Ht}function f0(){for(;bt!==null;)yg(bt)}function p0(){for(;bt!==null&&!Or();)yg(bt)}function yg(n){var s=wg(n.alternate,n,Gn);n.memoizedProps=n.pendingProps,s===null?vg(n):bt=s,od.current=null}function vg(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=o0(a,s,Gn),a!==null){bt=a;return}}else{if(a=a0(a,s),a!==null){a.flags&=32767,bt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ht=6,bt=null;return}}if(s=s.sibling,s!==null){bt=s;return}bt=s=n}while(s!==null);Ht===0&&(Ht=5)}function Hs(n,s,a){var c=Ze,d=ir.transition;try{ir.transition=null,Ze=1,m0(n,s,a,c)}finally{ir.transition=d,Ze=c}return null}function m0(n,s,a,c){do Go();while(Xi!==null);if((rt&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(dt(n,m),n===Yt&&(bt=Yt=null,rn=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Lu||(Lu=!0,Tg(Zt,function(){return Go(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=ir.transition,ir.transition=null;var _=Ze;Ze=1;var A=rt;rt|=4,od.current=null,u0(n,a),lg(a,n),Ow(mh),ji=!!ph,mh=ph=null,n.current=a,c0(a),jn(),rt=A,Ze=_,ir.transition=m}else n.current=a;if(Lu&&(Lu=!1,Xi=n,Ou=d),m=n.pendingLanes,m===0&&(Yi=null),br(a.stateNode),Ln(n,He()),s!==null)for(c=n.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Vu)throw Vu=!1,n=ud,ud=null,n;return(Ou&1)!==0&&n.tag!==0&&Go(),m=n.pendingLanes,(m&1)!==0?n===cd?Qa++:(Qa=0,cd=n):Qa=0,qi(),null}function Go(){if(Xi!==null){var n=Fi(Ou),s=ir.transition,a=Ze;try{if(ir.transition=null,Ze=16>n?16:n,Xi===null)var c=!1;else{if(n=Xi,Xi=null,Ou=0,(rt&6)!==0)throw Error(t(331));var d=rt;for(rt|=4,ye=n.current;ye!==null;){var m=ye,_=m.child;if((ye.flags&16)!==0){var A=m.deletions;if(A!==null){for(var D=0;D<A.length;D++){var W=A[D];for(ye=W;ye!==null;){var J=ye;switch(J.tag){case 0:case 11:case 15:qa(8,J,m)}var ee=J.child;if(ee!==null)ee.return=J,ye=ee;else for(;ye!==null;){J=ye;var X=J.sibling,le=J.return;if(rg(J),J===W){ye=null;break}if(X!==null){X.return=le,ye=X;break}ye=le}}}var ve=m.alternate;if(ve!==null){var Ee=ve.child;if(Ee!==null){ve.child=null;do{var xt=Ee.sibling;Ee.sibling=null,Ee=xt}while(Ee!==null)}}ye=m}}if((m.subtreeFlags&2064)!==0&&_!==null)_.return=m,ye=_;else e:for(;ye!==null;){if(m=ye,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:qa(9,m,m.return)}var U=m.sibling;if(U!==null){U.return=m.return,ye=U;break e}ye=m.return}}var L=n.current;for(ye=L;ye!==null;){_=ye;var j=_.child;if((_.subtreeFlags&2064)!==0&&j!==null)j.return=_,ye=j;else e:for(_=L;ye!==null;){if(A=ye,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Nu(9,A)}}catch(Te){Nt(A,A.return,Te)}if(A===_){ye=null;break e}var ne=A.sibling;if(ne!==null){ne.return=A.return,ye=ne;break e}ye=A.return}}if(rt=d,qi(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(ot,n)}catch{}c=!0}return c}finally{Ze=a,ir.transition=s}}return!1}function _g(n,s,a){s=$o(a,s),s=bm(n,s,1),n=Ki(n,s,1),s=Tn(),n!==null&&(Mi(n,1,s),Ln(n,s))}function Nt(n,s,a){if(n.tag===3)_g(n,n,a);else for(;s!==null;){if(s.tag===3){_g(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Yi===null||!Yi.has(c))){n=$o(a,n),n=Fm(s,n,1),s=Ki(s,n,1),n=Tn(),s!==null&&(Mi(s,1,n),Ln(s,n));break}}s=s.return}}function g0(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),s=Tn(),n.pingedLanes|=n.suspendedLanes&a,Yt===n&&(rn&a)===a&&(Ht===4||Ht===3&&(rn&130023424)===rn&&500>He()-ld?$s(n,0):ad|=a),Ln(n,s)}function Eg(n,s){s===0&&((n.mode&1)===0?s=1:(s=go,go<<=1,(go&130023424)===0&&(go=4194304)));var a=Tn();n=fi(n,s),n!==null&&(Mi(n,s,a),Ln(n,a))}function y0(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Eg(n,a)}function v0(n,s){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),Eg(n,a)}var wg;wg=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||Nn.current)xn=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return xn=!1,s0(n,s,a);xn=(n.flags&131072)!==0}else xn=!1,Et&&(s.flags&1048576)!==0&&em(s,fu,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Pu(n,s),n=s.pendingProps;var d=Oo(s,cn.current);zo(s,a),d=Uh(null,s,c,n,d,a);var m=jh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Dn(c)?(m=!0,cu(s)):m=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,xh(s),d.updater=Au,s.stateNode=d,d._reactInternals=s,qh(s,c,n,a),s=Yh(null,s,c,!0,m,a)):(s.tag=0,Et&&m&&Th(s),wn(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(Pu(n,s),n=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=E0(c),n=wr(c,n),d){case 0:s=Qh(null,s,c,n,a);break e;case 1:s=Gm(null,s,c,n,a);break e;case 11:s=Bm(null,s,c,n,a);break e;case 14:s=$m(null,s,c,wr(c.type,n),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:wr(c,d),Qh(n,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:wr(c,d),Gm(n,s,c,d,a);case 3:e:{if(Km(s),n===null)throw Error(t(387));c=s.pendingProps,m=s.memoizedState,d=m.element,um(n,s),_u(s,c,null,a);var _=s.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){d=$o(Error(t(423)),s),s=Qm(n,s,c,a,d);break e}else if(c!==d){d=$o(Error(t(424)),s),s=Qm(n,s,c,a,d);break e}else for(qn=$i(s.stateNode.containerInfo.firstChild),Wn=s,Et=!0,Er=null,a=am(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Fo(),c===d){s=mi(n,s,a);break e}wn(n,s,c,a)}s=s.child}return s;case 5:return dm(s),n===null&&Rh(s),c=s.type,d=s.pendingProps,m=n!==null?n.memoizedProps:null,_=d.children,gh(c,d)?_=null:m!==null&&gh(c,m)&&(s.flags|=32),qm(n,s),wn(n,s,_,a),s.child;case 6:return n===null&&Rh(s),null;case 13:return Ym(n,s,a);case 4:return Vh(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=Uo(s,null,c,a):wn(n,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:wr(c,d),Bm(n,s,c,d,a);case 7:return wn(n,s,s.pendingProps,a),s.child;case 8:return wn(n,s,s.pendingProps.children,a),s.child;case 12:return wn(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,m=s.memoizedProps,_=d.value,pt(gu,c._currentValue),c._currentValue=_,m!==null)if(_r(m.value,_)){if(m.children===d.children&&!Nn.current){s=mi(n,s,a);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var A=m.dependencies;if(A!==null){_=m.child;for(var D=A.firstContext;D!==null;){if(D.context===c){if(m.tag===1){D=pi(-1,a&-a),D.tag=2;var W=m.updateQueue;if(W!==null){W=W.shared;var J=W.pending;J===null?D.next=D:(D.next=J.next,J.next=D),W.pending=D}}m.lanes|=a,D=m.alternate,D!==null&&(D.lanes|=a),Nh(m.return,a,s),A.lanes|=a;break}D=D.next}}else if(m.tag===10)_=m.type===s.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(t(341));_.lanes|=a,A=_.alternate,A!==null&&(A.lanes|=a),Nh(_,a,s),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===s){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}wn(n,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,zo(s,a),d=nr(d),c=c(d),s.flags|=1,wn(n,s,c,a),s.child;case 14:return c=s.type,d=wr(c,s.pendingProps),d=wr(c.type,d),$m(n,s,c,d,a);case 15:return Hm(n,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:wr(c,d),Pu(n,s),s.tag=1,Dn(c)?(n=!0,cu(s)):n=!1,zo(s,a),Om(s,c,d),qh(s,c,d,a),Yh(null,s,c,!0,n,a);case 19:return Jm(n,s,a);case 22:return Wm(n,s,a)}throw Error(t(156,s.tag))};function Tg(n,s){return lt(n,s)}function _0(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(n,s,a,c){return new _0(n,s,a,c)}function gd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function E0(n){if(typeof n=="function")return gd(n)?1:0;if(n!=null){if(n=n.$$typeof,n===O)return 11;if(n===ft)return 14}return 2}function es(n,s){var a=n.alternate;return a===null?(a=sr(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Uu(n,s,a,c,d,m){var _=2;if(c=n,typeof n=="function")gd(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case I:return Ws(a.children,d,m,s);case S:_=8,d|=8;break;case C:return n=sr(12,a,s,d|2),n.elementType=C,n.lanes=m,n;case P:return n=sr(13,a,s,d),n.elementType=P,n.lanes=m,n;case qe:return n=sr(19,a,s,d),n.elementType=qe,n.lanes=m,n;case nt:return ju(a,d,m,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case k:_=10;break e;case x:_=9;break e;case O:_=11;break e;case ft:_=14;break e;case Dt:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=sr(_,a,s,d),s.elementType=n,s.type=c,s.lanes=m,s}function Ws(n,s,a,c){return n=sr(7,n,c,s),n.lanes=a,n}function ju(n,s,a,c){return n=sr(22,n,c,s),n.elementType=nt,n.lanes=a,n.stateNode={isHidden:!1},n}function yd(n,s,a){return n=sr(6,n,null,s),n.lanes=a,n}function vd(n,s,a){return s=sr(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function w0(n,s,a,c,d){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oi(0),this.expirationTimes=Oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function _d(n,s,a,c,d,m,_,A,D){return n=new w0(n,s,a,A,D),s===1?(s=1,m===!0&&(s|=8)):s=0,m=sr(3,null,null,s),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},xh(m),n}function T0(n,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ue,key:c==null?null:""+c,children:n,containerInfo:s,implementation:a}}function Ig(n){if(!n)return Wi;n=n._reactInternals;e:{if(ce(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Dn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Dn(a))return Xp(n,a,s)}return s}function Sg(n,s,a,c,d,m,_,A,D){return n=_d(a,c,!0,n,d,m,_,A,D),n.context=Ig(null),a=n.current,c=Tn(),d=Ji(a),m=pi(c,d),m.callback=s??null,Ki(a,m,d),n.current.lanes=d,Mi(n,d,c),Ln(n,c),n}function zu(n,s,a,c){var d=s.current,m=Tn(),_=Ji(d);return a=Ig(a),s.context===null?s.context=a:s.pendingContext=a,s=pi(m,_),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=Ki(d,s,_),n!==null&&(Sr(n,d,_,m),vu(n,d,_)),_}function Bu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Rg(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Ed(n,s){Rg(n,s),(n=n.alternate)&&Rg(n,s)}function I0(){return null}var Ag=typeof reportError=="function"?reportError:function(n){console.error(n)};function wd(n){this._internalRoot=n}$u.prototype.render=wd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));zu(n,s,null,null)},$u.prototype.unmount=wd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Bs(function(){zu(null,n,null,null)}),s[ui]=null}};function $u(n){this._internalRoot=n}$u.prototype.unstable_scheduleHydration=function(n){if(n){var s=$l();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Ur.length&&s!==0&&s<Ur[a].priority;a++);Ur.splice(a,0,n),a===0&&ql(n)}};function Td(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Hu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Cg(){}function S0(n,s,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var W=Bu(_);m.call(W)}}var _=Sg(s,c,n,0,null,!1,!1,"",Cg);return n._reactRootContainer=_,n[ui]=_.current,Va(n.nodeType===8?n.parentNode:n),Bs(),_}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var A=c;c=function(){var W=Bu(D);A.call(W)}}var D=_d(n,0,!1,null,null,!1,!1,"",Cg);return n._reactRootContainer=D,n[ui]=D.current,Va(n.nodeType===8?n.parentNode:n),Bs(function(){zu(s,D,a,c)}),D}function Wu(n,s,a,c,d){var m=a._reactRootContainer;if(m){var _=m;if(typeof d=="function"){var A=d;d=function(){var D=Bu(_);A.call(D)}}zu(s,_,n,d)}else _=S0(a,s,n,d,c);return Bu(_)}zl=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=Li(s.pendingLanes);a!==0&&(bi(s,a|1),Ln(s,He()),(rt&6)===0&&(qo=He()+500,qi()))}break;case 13:Bs(function(){var c=fi(n,1);if(c!==null){var d=Tn();Sr(c,n,1,d)}}),Ed(n,1)}},yo=function(n){if(n.tag===13){var s=fi(n,134217728);if(s!==null){var a=Tn();Sr(s,n,134217728,a)}Ed(n,134217728)}},Bl=function(n){if(n.tag===13){var s=Ji(n),a=fi(n,s);if(a!==null){var c=Tn();Sr(a,n,s,c)}Ed(n,s)}},$l=function(){return Ze},Hl=function(n,s){var a=Ze;try{return Ze=n,s()}finally{Ze=a}},ri=function(n,s,a){switch(s){case"input":if(Ts(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var d=lu(c);if(!d)throw Error(t(90));Ct(c),Ts(c,d)}}}break;case"textarea":Sn(n,a);break;case"select":s=a.value,s!=null&&cr(n,!!a.multiple,s,!1)}},Vr=fd,Lr=Bs;var R0={usingClientEntryPoint:!1,Events:[Ma,Vo,lu,Un,Rs,fd]},Ya={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},A0={bundleType:Ya.bundleType,version:Ya.version,rendererPackageName:Ya.rendererPackageName,rendererConfig:Ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Re.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=it(n),n===null?null:n.stateNode},findFiberByHostInstance:Ya.findFiberByHostInstance||I0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{ot=qu.inject(A0),Ot=qu}catch{}}return On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R0,On.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Td(s))throw Error(t(200));return T0(n,s,null,a)},On.createRoot=function(n,s){if(!Td(n))throw Error(t(299));var a=!1,c="",d=Ag;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=_d(n,1,!1,null,null,a,!1,c,d),n[ui]=s.current,Va(n.nodeType===8?n.parentNode:n),new wd(s)},On.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=it(s),n=n===null?null:n.stateNode,n},On.flushSync=function(n){return Bs(n)},On.hydrate=function(n,s,a){if(!Hu(s))throw Error(t(200));return Wu(null,n,s,!0,a)},On.hydrateRoot=function(n,s,a){if(!Td(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",_=Ag;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),s=Sg(s,null,n,1,a??null,d,!1,m,_),n[ui]=s.current,Va(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new $u(s)},On.render=function(n,s,a){if(!Hu(s))throw Error(t(200));return Wu(null,n,s,!1,a)},On.unmountComponentAtNode=function(n){if(!Hu(n))throw Error(t(40));return n._reactRootContainer?(Bs(function(){Wu(null,null,n,!1,function(){n._reactRootContainer=null,n[ui]=null})}),!0):!1},On.unstable_batchedUpdates=fd,On.unstable_renderSubtreeIntoContainer=function(n,s,a,c){if(!Hu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Wu(n,s,a,!1,c)},On.version="18.3.1-next-f1338f8080-20240426",On}var Og;function Fv(){if(Og)return Rd.exports;Og=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rd.exports=M0(),Rd.exports}var Mg;function b0(){if(Mg)return Gu;Mg=1;var r=Fv();return Gu.createRoot=r.createRoot,Gu.hydrateRoot=r.hydrateRoot,Gu}var F0=b0();const U0=Ef(F0);var Uv=Fv();const j0=Ef(Uv),z0=Mv({__proto__:null,default:j0},[Uv]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wt(){return wt=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},wt.apply(this,arguments)}var Ut;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Ut||(Ut={}));const bg="popstate";function B0(r){r===void 0&&(r={});function e(i,o){let{pathname:l,search:h,hash:f}=i.location;return pl("",{pathname:l,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Al(o)}return H0(e,t,null,r)}function Ye(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ia(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $0(){return Math.random().toString(36).substr(2,8)}function Fg(r,e){return{usr:r.state,key:r.key,idx:e}}function pl(r,e,t,i){return t===void 0&&(t=null),wt({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?ws(e):e,{state:t,key:e&&e.key||i||$0()})}function Al(r){let{pathname:e="/",search:t="",hash:i=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ws(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substr(i),r=r.substr(0,i)),r&&(e.pathname=r)}return e}function H0(r,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,h=o.history,f=Ut.Pop,g=null,v=E();v==null&&(v=0,h.replaceState(wt({},h.state,{idx:v}),""));function E(){return(h.state||{idx:null}).idx}function w(){f=Ut.Pop;let z=E(),oe=z==null?null:z-v;v=z,g&&g({action:f,location:B.location,delta:oe})}function R(z,oe){f=Ut.Push;let te=pl(B.location,z,oe);v=E()+1;let pe=Fg(te,v),Re=B.createHref(te);try{h.pushState(pe,"",Re)}catch(je){if(je instanceof DOMException&&je.name==="DataCloneError")throw je;o.location.assign(Re)}l&&g&&g({action:f,location:B.location,delta:1})}function V(z,oe){f=Ut.Replace;let te=pl(B.location,z,oe);v=E();let pe=Fg(te,v),Re=B.createHref(te);h.replaceState(pe,"",Re),l&&g&&g({action:f,location:B.location,delta:0})}function H(z){let oe=o.location.origin!=="null"?o.location.origin:o.location.href,te=typeof z=="string"?z:Al(z);return te=te.replace(/ $/,"%20"),Ye(oe,"No window.location.(origin|href) available to create URL for href: "+te),new URL(te,oe)}let B={get action(){return f},get location(){return r(o,h)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(bg,w),g=z,()=>{o.removeEventListener(bg,w),g=null}},createHref(z){return e(o,z)},createURL:H,encodeLocation(z){let oe=H(z);return{pathname:oe.pathname,search:oe.search,hash:oe.hash}},push:R,replace:V,go(z){return h.go(z)}};return B}var ct;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(ct||(ct={}));const W0=new Set(["lazy","caseSensitive","path","id","index","children"]);function q0(r){return r.index===!0}function dc(r,e,t,i){return t===void 0&&(t=[]),i===void 0&&(i={}),r.map((o,l)=>{let h=[...t,String(l)],f=typeof o.id=="string"?o.id:h.join("-");if(Ye(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ye(!i[f],'Found a route id collision on id "'+f+`".  Route id's must be globally unique within Data Router usages`),q0(o)){let g=wt({},o,e(o),{id:f});return i[f]=g,g}else{let g=wt({},o,e(o),{id:f,children:void 0});return i[f]=g,o.children&&(g.children=dc(o.children,e,h,i)),g}})}function Gs(r,e,t){return t===void 0&&(t="/"),tc(r,e,t,!1)}function tc(r,e,t,i){let o=typeof e=="string"?ws(e):e,l=Cl(o.pathname||"/",t);if(l==null)return null;let h=jv(r);K0(h);let f=null;for(let g=0;f==null&&g<h.length;++g){let v=sT(l);f=rT(h[g],v,i)}return f}function G0(r,e){let{route:t,pathname:i,params:o}=r;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function jv(r,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(l,h,f)=>{let g={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};g.relativePath.startsWith("/")&&(Ye(g.relativePath.startsWith(i),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(i.length));let v=us([i,g.relativePath]),E=t.concat(g);l.children&&l.children.length>0&&(Ye(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),jv(l.children,e,E,v)),!(l.path==null&&!l.index)&&e.push({path:v,score:tT(v,l.index),routesMeta:E})};return r.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,h);else for(let g of zv(l.path))o(l,h,g)}),e}function zv(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let h=zv(i.join("/")),f=[];return f.push(...h.map(g=>g===""?l:[l,g].join("/"))),o&&f.push(...h),f.map(g=>r.startsWith("/")&&g===""?"/":g)}function K0(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:nT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const Q0=/^:[\w-]+$/,Y0=3,X0=2,J0=1,Z0=10,eT=-2,Ug=r=>r==="*";function tT(r,e){let t=r.split("/"),i=t.length;return t.some(Ug)&&(i+=eT),e&&(i+=X0),t.filter(o=>!Ug(o)).reduce((o,l)=>o+(Q0.test(l)?Y0:l===""?J0:Z0),i)}function nT(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function rT(r,e,t){t===void 0&&(t=!1);let{routesMeta:i}=r,o={},l="/",h=[];for(let f=0;f<i.length;++f){let g=i[f],v=f===i.length-1,E=l==="/"?e:e.slice(l.length)||"/",w=jg({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},E),R=g.route;if(!w&&v&&t&&!i[i.length-1].route.index&&(w=jg({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:us([l,w.pathname]),pathnameBase:lT(us([l,w.pathnameBase])),route:R}),w.pathnameBase!=="/"&&(l=us([l,w.pathnameBase]))}return h}function jg(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=iT(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((v,E,w)=>{let{paramName:R,isOptional:V}=E;if(R==="*"){let B=f[w]||"";h=l.slice(0,l.length-B.length).replace(/(.)\/+$/,"$1")}const H=f[w];return V&&!H?v[R]=void 0:v[R]=(H||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:h,pattern:r}}function iT(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),ia(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,g)=>(i.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function sT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ia(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function Cl(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function oT(r,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?ws(r):r;return{pathname:t?t.startsWith("/")?t:aT(t,e):e,search:uT(i),hash:cT(o)}}function aT(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Pd(r,e,t,i){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Bv(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Tf(r,e){let t=Bv(r);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function If(r,e,t,i){i===void 0&&(i=!1);let o;typeof r=="string"?o=ws(r):(o=wt({},r),Ye(!o.pathname||!o.pathname.includes("?"),Pd("?","pathname","search",o)),Ye(!o.pathname||!o.pathname.includes("#"),Pd("#","pathname","hash",o)),Ye(!o.search||!o.search.includes("#"),Pd("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let w=e.length-1;if(!i&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),w-=1;o.pathname=R.join("/")}f=w>=0?e[w]:"/"}let g=oT(o,f),v=h&&h!=="/"&&h.endsWith("/"),E=(l||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(v||E)&&(g.pathname+="/"),g}const us=r=>r.join("/").replace(/\/\/+/g,"/"),lT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),uT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,cT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;class fc{constructor(e,t,i,o){o===void 0&&(o=!1),this.status=e,this.statusText=t||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function ml(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const $v=["post","put","patch","delete"],hT=new Set($v),dT=["get",...$v],fT=new Set(dT),pT=new Set([301,302,303,307,308]),mT=new Set([307,308]),kd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},gT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ja={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Sf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yT=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),Hv="remix-router-transitions";function vT(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!t;Ye(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(r.mapRouteProperties)o=r.mapRouteProperties;else if(r.detectErrorBoundary){let N=r.detectErrorBoundary;o=M=>({hasErrorBoundary:N(M)})}else o=yT;let l={},h=dc(r.routes,o,void 0,l),f,g=r.basename||"/",v=r.dataStrategy||TT,E=r.patchRoutesOnNavigation,w=wt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},r.future),R=null,V=new Set,H=null,B=null,z=null,oe=r.hydrationData!=null,te=Gs(h,r.history.location,g),pe=!1,Re=null;if(te==null&&!E){let N=Mn(404,{pathname:r.history.location.pathname}),{matches:M,route:$}=Xg(h);te=M,Re={[$.id]:N}}te&&!r.hydrationData&&Lr(te,h,r.history.location.pathname).active&&(te=null);let je;if(te)if(te.some(N=>N.route.lazy))je=!1;else if(!te.some(N=>N.route.loader))je=!0;else if(w.v7_partialHydration){let N=r.hydrationData?r.hydrationData.loaderData:null,M=r.hydrationData?r.hydrationData.errors:null;if(M){let $=te.findIndex(Y=>M[Y.route.id]!==void 0);je=te.slice(0,$+1).every(Y=>!Hd(Y.route,N,M))}else je=te.every($=>!Hd($.route,N,M))}else je=r.hydrationData!=null;else if(je=!1,te=[],w.v7_partialHydration){let N=Lr(null,h,r.history.location.pathname);N.active&&N.matches&&(pe=!0,te=N.matches)}let Ue,I={historyAction:r.history.action,location:r.history.location,matches:te,initialized:je,navigation:kd,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||Re,fetchers:new Map,blockers:new Map},S=Ut.Pop,C=!1,k,x=!1,O=new Map,P=null,qe=!1,ft=!1,Dt=[],nt=new Set,Z=new Map,Ie=0,ae=-1,b=new Map,G=new Set,_e=new Map,Oe=new Map,ke=new Set,Fe=new Map,ze=new Map,Ge;function ht(){if(R=r.history.listen(N=>{let{action:M,location:$,delta:Y}=N;if(Ge){Ge(),Ge=void 0;return}ia(ze.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let se=ri({currentLocation:I.location,nextLocation:$,historyAction:M});if(se&&Y!=null){let me=new Promise(Ae=>{Ge=Ae});r.history.go(Y*-1),fr(se,{state:"blocked",location:$,proceed(){fr(se,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),me.then(()=>r.history.go(Y))},reset(){let Ae=new Map(I.blockers);Ae.set(se,Ja),Ct({blockers:Ae})}});return}return Fn(M,$)}),t){MT(e,O);let N=()=>bT(e,O);e.addEventListener("pagehide",N),P=()=>e.removeEventListener("pagehide",N)}return I.initialized||Fn(Ut.Pop,I.location,{initialHydration:!0}),Ue}function Lt(){R&&R(),P&&P(),V.clear(),k&&k.abort(),I.fetchers.forEach((N,M)=>Qn(M)),I.blockers.forEach((N,M)=>xr(M))}function lr(N){return V.add(N),()=>V.delete(N)}function Ct(N,M){M===void 0&&(M={}),I=wt({},I,N);let $=[],Y=[];w.v7_fetcherPersist&&I.fetchers.forEach((se,me)=>{se.state==="idle"&&(ke.has(me)?Y.push(me):$.push(me))}),ke.forEach(se=>{!I.fetchers.has(se)&&!Z.has(se)&&Y.push(se)}),[...V].forEach(se=>se(I,{deletedFetchers:Y,viewTransitionOpts:M.viewTransitionOpts,flushSync:M.flushSync===!0})),w.v7_fetcherPersist?($.forEach(se=>I.fetchers.delete(se)),Y.forEach(se=>Qn(se))):Y.forEach(se=>ke.delete(se))}function vn(N,M,$){var Y,se;let{flushSync:me}=$===void 0?{}:$,Ae=I.actionData!=null&&I.navigation.formMethod!=null&&Rr(I.navigation.formMethod)&&I.navigation.state==="loading"&&((Y=N.state)==null?void 0:Y._isRedirect)!==!0,ge;M.actionData?Object.keys(M.actionData).length>0?ge=M.actionData:ge=null:Ae?ge=I.actionData:ge=null;let fe=M.loaderData?Qg(I.loaderData,M.loaderData,M.matches||[],M.errors):I.loaderData,ue=I.blockers;ue.size>0&&(ue=new Map(ue),ue.forEach((Le,kt)=>ue.set(kt,Ja)));let ce=C===!0||I.navigation.formMethod!=null&&Rr(I.navigation.formMethod)&&((se=N.state)==null?void 0:se._isRedirect)!==!0;f&&(h=f,f=void 0),qe||S===Ut.Pop||(S===Ut.Push?r.history.push(N,N.state):S===Ut.Replace&&r.history.replace(N,N.state));let Ne;if(S===Ut.Pop){let Le=O.get(I.location.pathname);Le&&Le.has(N.pathname)?Ne={currentLocation:I.location,nextLocation:N}:O.has(N.pathname)&&(Ne={currentLocation:N,nextLocation:I.location})}else if(x){let Le=O.get(I.location.pathname);Le?Le.add(N.pathname):(Le=new Set([N.pathname]),O.set(I.location.pathname,Le)),Ne={currentLocation:I.location,nextLocation:N}}Ct(wt({},M,{actionData:ge,loaderData:fe,historyAction:S,location:N,initialized:!0,navigation:kd,revalidation:"idle",restoreScrollPosition:Vr(N,M.matches||I.matches),preventScrollReset:ce,blockers:ue}),{viewTransitionOpts:Ne,flushSync:me===!0}),S=Ut.Pop,C=!1,x=!1,qe=!1,ft=!1,Dt=[]}async function Dr(N,M){if(typeof N=="number"){r.history.go(N);return}let $=$d(I.location,I.matches,g,w.v7_prependBasename,N,w.v7_relativeSplatPath,M==null?void 0:M.fromRouteId,M==null?void 0:M.relative),{path:Y,submission:se,error:me}=zg(w.v7_normalizeFormMethod,!1,$,M),Ae=I.location,ge=pl(I.location,Y,M&&M.state);ge=wt({},ge,r.history.encodeLocation(ge));let fe=M&&M.replace!=null?M.replace:void 0,ue=Ut.Push;fe===!0?ue=Ut.Replace:fe===!1||se!=null&&Rr(se.formMethod)&&se.formAction===I.location.pathname+I.location.search&&(ue=Ut.Replace);let ce=M&&"preventScrollReset"in M?M.preventScrollReset===!0:void 0,Ne=(M&&M.flushSync)===!0,Le=ri({currentLocation:Ae,nextLocation:ge,historyAction:ue});if(Le){fr(Le,{state:"blocked",location:ge,proceed(){fr(Le,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),Dr(N,M)},reset(){let kt=new Map(I.blockers);kt.set(Le,Ja),Ct({blockers:kt})}});return}return await Fn(ue,ge,{submission:se,pendingError:me,preventScrollReset:ce,replace:M&&M.replace,enableViewTransition:M&&M.viewTransition,flushSync:Ne})}function Ci(){if(Tt(),Ct({revalidation:"loading"}),I.navigation.state!=="submitting"){if(I.navigation.state==="idle"){Fn(I.historyAction,I.location,{startUninterruptedRevalidation:!0});return}Fn(S||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation,enableViewTransition:x===!0})}}async function Fn(N,M,$){k&&k.abort(),k=null,S=N,qe=($&&$.startUninterruptedRevalidation)===!0,Rs(I.location,I.matches),C=($&&$.preventScrollReset)===!0,x=($&&$.enableViewTransition)===!0;let Y=f||h,se=$&&$.overrideNavigation,me=$!=null&&$.initialHydration&&I.matches&&I.matches.length>0&&!pe?I.matches:Gs(Y,M,g),Ae=($&&$.flushSync)===!0;if(me&&I.initialized&&!ft&&PT(I.location,M)&&!($&&$.submission&&Rr($.submission.formMethod))){vn(M,{matches:me},{flushSync:Ae});return}let ge=Lr(me,Y,M.pathname);if(ge.active&&ge.matches&&(me=ge.matches),!me){let{error:it,notFoundMatches:Be,route:lt}=ln(M.pathname);vn(M,{matches:Be,loaderData:{},errors:{[lt.id]:it}},{flushSync:Ae});return}k=new AbortController;let fe=Ko(r.history,M,k.signal,$&&$.submission),ue;if($&&$.pendingError)ue=[Ks(me).route.id,{type:ct.error,error:$.pendingError}];else if($&&$.submission&&Rr($.submission.formMethod)){let it=await Ts(fe,M,$.submission,me,ge.active,{replace:$.replace,flushSync:Ae});if(it.shortCircuited)return;if(it.pendingActionResult){let[Be,lt]=it.pendingActionResult;if(Kn(lt)&&ml(lt.error)&&lt.error.status===404){k=null,vn(M,{matches:it.matches,loaderData:{},errors:{[Be]:lt.error}});return}}me=it.matches||me,ue=it.pendingActionResult,se=Nd(M,$.submission),Ae=!1,ge.active=!1,fe=Ko(r.history,fe.url,fe.signal)}let{shortCircuited:ce,matches:Ne,loaderData:Le,errors:kt}=await fo(fe,M,me,ge.active,se,$&&$.submission,$&&$.fetcherSubmission,$&&$.replace,$&&$.initialHydration===!0,Ae,ue);ce||(k=null,vn(M,wt({matches:Ne||me},Yg(ue),{loaderData:Le,errors:kt})))}async function Ts(N,M,$,Y,se,me){me===void 0&&(me={}),Tt();let Ae=LT(M,$);if(Ct({navigation:Ae},{flushSync:me.flushSync===!0}),se){let ue=await Cn(Y,M.pathname,N.signal);if(ue.type==="aborted")return{shortCircuited:!0};if(ue.type==="error"){let ce=Ks(ue.partialMatches).route.id;return{matches:ue.partialMatches,pendingActionResult:[ce,{type:ct.error,error:ue.error}]}}else if(ue.matches)Y=ue.matches;else{let{notFoundMatches:ce,error:Ne,route:Le}=ln(M.pathname);return{matches:ce,pendingActionResult:[Le.id,{type:ct.error,error:Ne}]}}}let ge,fe=nl(Y,M);if(!fe.route.action&&!fe.route.lazy)ge={type:ct.error,error:Mn(405,{method:N.method,pathname:M.pathname,routeId:fe.route.id})};else if(ge=(await hr("action",I,N,[fe],Y,null))[fe.route.id],N.signal.aborted)return{shortCircuited:!0};if(Qs(ge)){let ue;return me&&me.replace!=null?ue=me.replace:ue=qg(ge.response.headers.get("Location"),new URL(N.url),g)===I.location.pathname+I.location.search,await Sn(N,ge,!0,{submission:$,replace:ue}),{shortCircuited:!0}}if(as(ge))throw Mn(400,{type:"defer-action"});if(Kn(ge)){let ue=Ks(Y,fe.route.id);return(me&&me.replace)!==!0&&(S=Ut.Push),{matches:Y,pendingActionResult:[ue.route.id,ge]}}return{matches:Y,pendingActionResult:[fe.route.id,ge]}}async function fo(N,M,$,Y,se,me,Ae,ge,fe,ue,ce){let Ne=se||Nd(M,me),Le=me||Ae||Zg(Ne),kt=!qe&&(!w.v7_partialHydration||!fe);if(Y){if(kt){let ot=ti(ce);Ct(wt({navigation:Ne},ot!==void 0?{actionData:ot}:{}),{flushSync:ue})}let We=await Cn($,M.pathname,N.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){let ot=Ks(We.partialMatches).route.id;return{matches:We.partialMatches,loaderData:{},errors:{[ot]:We.error}}}else if(We.matches)$=We.matches;else{let{error:ot,notFoundMatches:Ot,route:br}=ln(M.pathname);return{matches:Ot,loaderData:{},errors:{[br.id]:ot}}}}let it=f||h,[Be,lt]=$g(r.history,I,$,Le,M,w.v7_partialHydration&&fe===!0,w.v7_skipActionErrorRevalidation,ft,Dt,nt,ke,_e,G,it,g,ce);if(An(We=>!($&&$.some(ot=>ot.route.id===We))||Be&&Be.some(ot=>ot.route.id===We)),ae=++Ie,Be.length===0&&lt.length===0){let We=Ni();return vn(M,wt({matches:$,loaderData:{},errors:ce&&Kn(ce[1])?{[ce[0]]:ce[1].error}:null},Yg(ce),We?{fetchers:new Map(I.fetchers)}:{}),{flushSync:ue}),{shortCircuited:!0}}if(kt){let We={};if(!Y){We.navigation=Ne;let ot=ti(ce);ot!==void 0&&(We.actionData=ot)}lt.length>0&&(We.fetchers=ur(lt)),Ct(We,{flushSync:ue})}lt.forEach(We=>{Rn(We.key),We.controller&&Z.set(We.key,We.controller)});let Yn=()=>lt.forEach(We=>Rn(We.key));k&&k.signal.addEventListener("abort",Yn);let{loaderResults:Or,fetcherResults:jn}=await Pt(I,$,Be,lt,N);if(N.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",Yn),lt.forEach(We=>Z.delete(We.key));let He=Ku(Or);if(He)return await Sn(N,He.result,!0,{replace:ge}),{shortCircuited:!0};if(He=Ku(jn),He)return G.add(He.key),await Sn(N,He.result,!0,{replace:ge}),{shortCircuited:!0};let{loaderData:Vi,errors:zn}=Kg(I,$,Or,ce,lt,jn,Fe);Fe.forEach((We,ot)=>{We.subscribe(Ot=>{(Ot||We.done)&&Fe.delete(ot)})}),w.v7_partialHydration&&fe&&I.errors&&(zn=wt({},I.errors,zn));let un=Ni(),Zt=Di(ae),Mr=un||Zt||lt.length>0;return wt({matches:$,loaderData:Vi,errors:zn},Mr?{fetchers:new Map(I.fetchers)}:{})}function ti(N){if(N&&!Kn(N[1]))return{[N[0]]:N[1].data};if(I.actionData)return Object.keys(I.actionData).length===0?null:I.actionData}function ur(N){return N.forEach(M=>{let $=I.fetchers.get(M.key),Y=Za(void 0,$?$.data:void 0);I.fetchers.set(M.key,Y)}),new Map(I.fetchers)}function cr(N,M,$,Y){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Rn(N);let se=(Y&&Y.flushSync)===!0,me=f||h,Ae=$d(I.location,I.matches,g,w.v7_prependBasename,$,w.v7_relativeSplatPath,M,Y==null?void 0:Y.relative),ge=Gs(me,Ae,g),fe=Lr(ge,me,Ae);if(fe.active&&fe.matches&&(ge=fe.matches),!ge){_n(N,M,Mn(404,{pathname:Ae}),{flushSync:se});return}let{path:ue,submission:ce,error:Ne}=zg(w.v7_normalizeFormMethod,!0,Ae,Y);if(Ne){_n(N,M,Ne,{flushSync:se});return}let Le=nl(ge,ue),kt=(Y&&Y.preventScrollReset)===!0;if(ce&&Rr(ce.formMethod)){Is(N,M,ue,Le,ge,fe.active,se,kt,ce);return}_e.set(N,{routeId:M,path:ue}),Pi(N,M,ue,Le,ge,fe.active,se,kt,ce)}async function Is(N,M,$,Y,se,me,Ae,ge,fe){Tt(),_e.delete(N);function ue(Ke){if(!Ke.route.action&&!Ke.route.lazy){let Xn=Mn(405,{method:fe.formMethod,pathname:$,routeId:M});return _n(N,M,Xn,{flushSync:Ae}),!0}return!1}if(!me&&ue(Y))return;let ce=I.fetchers.get(N);Gt(N,OT(fe,ce),{flushSync:Ae});let Ne=new AbortController,Le=Ko(r.history,$,Ne.signal,fe);if(me){let Ke=await Cn(se,new URL(Le.url).pathname,Le.signal,N);if(Ke.type==="aborted")return;if(Ke.type==="error"){_n(N,M,Ke.error,{flushSync:Ae});return}else if(Ke.matches){if(se=Ke.matches,Y=nl(se,$),ue(Y))return}else{_n(N,M,Mn(404,{pathname:$}),{flushSync:Ae});return}}Z.set(N,Ne);let kt=Ie,Be=(await hr("action",I,Le,[Y],se,N))[Y.route.id];if(Le.signal.aborted){Z.get(N)===Ne&&Z.delete(N);return}if(w.v7_fetcherPersist&&ke.has(N)){if(Qs(Be)||Kn(Be)){Gt(N,rs(void 0));return}}else{if(Qs(Be))if(Z.delete(N),ae>kt){Gt(N,rs(void 0));return}else return G.add(N),Gt(N,Za(fe)),Sn(Le,Be,!1,{fetcherSubmission:fe,preventScrollReset:ge});if(Kn(Be)){_n(N,M,Be.error);return}}if(as(Be))throw Mn(400,{type:"defer-action"});let lt=I.navigation.location||I.location,Yn=Ko(r.history,lt,Ne.signal),Or=f||h,jn=I.navigation.state!=="idle"?Gs(Or,I.navigation.location,g):I.matches;Ye(jn,"Didn't find any matches after fetcher action");let He=++Ie;b.set(N,He);let Vi=Za(fe,Be.data);I.fetchers.set(N,Vi);let[zn,un]=$g(r.history,I,jn,fe,lt,!1,w.v7_skipActionErrorRevalidation,ft,Dt,nt,ke,_e,G,Or,g,[Y.route.id,Be]);un.filter(Ke=>Ke.key!==N).forEach(Ke=>{let Xn=Ke.key,Cs=I.fetchers.get(Xn),po=Za(void 0,Cs?Cs.data:void 0);I.fetchers.set(Xn,po),Rn(Xn),Ke.controller&&Z.set(Xn,Ke.controller)}),Ct({fetchers:new Map(I.fetchers)});let Zt=()=>un.forEach(Ke=>Rn(Ke.key));Ne.signal.addEventListener("abort",Zt);let{loaderResults:Mr,fetcherResults:We}=await Pt(I,jn,zn,un,Yn);if(Ne.signal.aborted)return;Ne.signal.removeEventListener("abort",Zt),b.delete(N),Z.delete(N),un.forEach(Ke=>Z.delete(Ke.key));let ot=Ku(Mr);if(ot)return Sn(Yn,ot.result,!1,{preventScrollReset:ge});if(ot=Ku(We),ot)return G.add(ot.key),Sn(Yn,ot.result,!1,{preventScrollReset:ge});let{loaderData:Ot,errors:br}=Kg(I,jn,Mr,void 0,un,We,Fe);if(I.fetchers.has(N)){let Ke=rs(Be.data);I.fetchers.set(N,Ke)}Di(He),I.navigation.state==="loading"&&He>ae?(Ye(S,"Expected pending action"),k&&k.abort(),vn(I.navigation.location,{matches:jn,loaderData:Ot,errors:br,fetchers:new Map(I.fetchers)})):(Ct({errors:br,loaderData:Qg(I.loaderData,Ot,jn,br),fetchers:new Map(I.fetchers)}),ft=!1)}async function Pi(N,M,$,Y,se,me,Ae,ge,fe){let ue=I.fetchers.get(N);Gt(N,Za(fe,ue?ue.data:void 0),{flushSync:Ae});let ce=new AbortController,Ne=Ko(r.history,$,ce.signal);if(me){let Be=await Cn(se,new URL(Ne.url).pathname,Ne.signal,N);if(Be.type==="aborted")return;if(Be.type==="error"){_n(N,M,Be.error,{flushSync:Ae});return}else if(Be.matches)se=Be.matches,Y=nl(se,$);else{_n(N,M,Mn(404,{pathname:$}),{flushSync:Ae});return}}Z.set(N,ce);let Le=Ie,it=(await hr("loader",I,Ne,[Y],se,N))[Y.route.id];if(as(it)&&(it=await Rf(it,Ne.signal,!0)||it),Z.get(N)===ce&&Z.delete(N),!Ne.signal.aborted){if(ke.has(N)){Gt(N,rs(void 0));return}if(Qs(it))if(ae>Le){Gt(N,rs(void 0));return}else{G.add(N),await Sn(Ne,it,!1,{preventScrollReset:ge});return}if(Kn(it)){_n(N,M,it.error);return}Ye(!as(it),"Unhandled fetcher deferred data"),Gt(N,rs(it.data))}}async function Sn(N,M,$,Y){let{submission:se,fetcherSubmission:me,preventScrollReset:Ae,replace:ge}=Y===void 0?{}:Y;M.response.headers.has("X-Remix-Revalidate")&&(ft=!0);let fe=M.response.headers.get("Location");Ye(fe,"Expected a Location header on the redirect Response"),fe=qg(fe,new URL(N.url),g);let ue=pl(I.location,fe,{_isRedirect:!0});if(t){let Be=!1;if(M.response.headers.has("X-Remix-Reload-Document"))Be=!0;else if(Sf.test(fe)){const lt=r.history.createURL(fe);Be=lt.origin!==e.location.origin||Cl(lt.pathname,g)==null}if(Be){ge?e.location.replace(fe):e.location.assign(fe);return}}k=null;let ce=ge===!0||M.response.headers.has("X-Remix-Replace")?Ut.Replace:Ut.Push,{formMethod:Ne,formAction:Le,formEncType:kt}=I.navigation;!se&&!me&&Ne&&Le&&kt&&(se=Zg(I.navigation));let it=se||me;if(mT.has(M.response.status)&&it&&Rr(it.formMethod))await Fn(ce,ue,{submission:wt({},it,{formAction:fe}),preventScrollReset:Ae||C,enableViewTransition:$?x:void 0});else{let Be=Nd(ue,se);await Fn(ce,ue,{overrideNavigation:Be,fetcherSubmission:me,preventScrollReset:Ae||C,enableViewTransition:$?x:void 0})}}async function hr(N,M,$,Y,se,me){let Ae,ge={};try{Ae=await IT(v,N,M,$,Y,se,me,l,o)}catch(fe){return Y.forEach(ue=>{ge[ue.route.id]={type:ct.error,error:fe}}),ge}for(let[fe,ue]of Object.entries(Ae))if(kT(ue)){let ce=ue.result;ge[fe]={type:ct.redirect,response:AT(ce,$,fe,se,g,w.v7_relativeSplatPath)}}else ge[fe]=await RT(ue);return ge}async function Pt(N,M,$,Y,se){let me=N.matches,Ae=hr("loader",N,se,$,M,null),ge=Promise.all(Y.map(async ce=>{if(ce.matches&&ce.match&&ce.controller){let Le=(await hr("loader",N,Ko(r.history,ce.path,ce.controller.signal),[ce.match],ce.matches,ce.key))[ce.match.route.id];return{[ce.key]:Le}}else return Promise.resolve({[ce.key]:{type:ct.error,error:Mn(404,{pathname:ce.path})}})})),fe=await Ae,ue=(await ge).reduce((ce,Ne)=>Object.assign(ce,Ne),{});return await Promise.all([xT(M,fe,se.signal,me,N.loaderData),VT(M,ue,Y)]),{loaderResults:fe,fetcherResults:ue}}function Tt(){ft=!0,Dt.push(...An()),_e.forEach((N,M)=>{Z.has(M)&&nt.add(M),Rn(M)})}function Gt(N,M,$){$===void 0&&($={}),I.fetchers.set(N,M),Ct({fetchers:new Map(I.fetchers)},{flushSync:($&&$.flushSync)===!0})}function _n(N,M,$,Y){Y===void 0&&(Y={});let se=Ks(I.matches,M);Qn(N),Ct({errors:{[se.route.id]:$},fetchers:new Map(I.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function dr(N){return Oe.set(N,(Oe.get(N)||0)+1),ke.has(N)&&ke.delete(N),I.fetchers.get(N)||gT}function Qn(N){let M=I.fetchers.get(N);Z.has(N)&&!(M&&M.state==="loading"&&b.has(N))&&Rn(N),_e.delete(N),b.delete(N),G.delete(N),w.v7_fetcherPersist&&ke.delete(N),nt.delete(N),I.fetchers.delete(N)}function ni(N){let M=(Oe.get(N)||0)-1;M<=0?(Oe.delete(N),ke.add(N),w.v7_fetcherPersist||Qn(N)):Oe.set(N,M),Ct({fetchers:new Map(I.fetchers)})}function Rn(N){let M=Z.get(N);M&&(M.abort(),Z.delete(N))}function ki(N){for(let M of N){let $=dr(M),Y=rs($.data);I.fetchers.set(M,Y)}}function Ni(){let N=[],M=!1;for(let $ of G){let Y=I.fetchers.get($);Ye(Y,"Expected fetcher: "+$),Y.state==="loading"&&(G.delete($),N.push($),M=!0)}return ki(N),M}function Di(N){let M=[];for(let[$,Y]of b)if(Y<N){let se=I.fetchers.get($);Ye(se,"Expected fetcher: "+$),se.state==="loading"&&(Rn($),b.delete($),M.push($))}return ki(M),M.length>0}function Ss(N,M){let $=I.blockers.get(N)||Ja;return ze.get(N)!==M&&ze.set(N,M),$}function xr(N){I.blockers.delete(N),ze.delete(N)}function fr(N,M){let $=I.blockers.get(N)||Ja;Ye($.state==="unblocked"&&M.state==="blocked"||$.state==="blocked"&&M.state==="blocked"||$.state==="blocked"&&M.state==="proceeding"||$.state==="blocked"&&M.state==="unblocked"||$.state==="proceeding"&&M.state==="unblocked","Invalid blocker state transition: "+$.state+" -> "+M.state);let Y=new Map(I.blockers);Y.set(N,M),Ct({blockers:Y})}function ri(N){let{currentLocation:M,nextLocation:$,historyAction:Y}=N;if(ze.size===0)return;ze.size>1&&ia(!1,"A router only supports one blocker at a time");let se=Array.from(ze.entries()),[me,Ae]=se[se.length-1],ge=I.blockers.get(me);if(!(ge&&ge.state==="proceeding")&&Ae({currentLocation:M,nextLocation:$,historyAction:Y}))return me}function ln(N){let M=Mn(404,{pathname:N}),$=f||h,{matches:Y,route:se}=Xg($);return An(),{notFoundMatches:Y,route:se,error:M}}function An(N){let M=[];return Fe.forEach(($,Y)=>{(!N||N(Y))&&($.cancel(),M.push(Y),Fe.delete(Y))}),M}function xi(N,M,$){if(H=N,z=M,B=$||null,!oe&&I.navigation===kd){oe=!0;let Y=Vr(I.location,I.matches);Y!=null&&Ct({restoreScrollPosition:Y})}return()=>{H=null,z=null,B=null}}function Un(N,M){return B&&B(N,M.map(Y=>G0(Y,I.loaderData)))||N.key}function Rs(N,M){if(H&&z){let $=Un(N,M);H[$]=z()}}function Vr(N,M){if(H){let $=Un(N,M),Y=H[$];if(typeof Y=="number")return Y}return null}function Lr(N,M,$){if(E)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:tc(M,$,g,!0)}}else return{active:!0,matches:tc(M,$,g,!0)||[]};return{active:!1,matches:null}}async function Cn(N,M,$,Y){if(!E)return{type:"success",matches:N};let se=N;for(;;){let me=f==null,Ae=f||h,ge=l;try{await E({signal:$,path:M,matches:se,fetcherKey:Y,patch:(ce,Ne)=>{$.aborted||Wg(ce,Ne,Ae,ge,o)}})}catch(ce){return{type:"error",error:ce,partialMatches:se}}finally{me&&!$.aborted&&(h=[...h])}if($.aborted)return{type:"aborted"};let fe=Gs(Ae,M,g);if(fe)return{type:"success",matches:fe};let ue=tc(Ae,M,g,!0);if(!ue||se.length===ue.length&&se.every((ce,Ne)=>ce.route.id===ue[Ne].route.id))return{type:"success",matches:null};se=ue}}function As(N){l={},f=dc(N,o,void 0,l)}function It(N,M){let $=f==null;Wg(N,M,f||h,l,o),$&&(h=[...h],Ct({}))}return Ue={get basename(){return g},get future(){return w},get state(){return I},get routes(){return h},get window(){return e},initialize:ht,subscribe:lr,enableScrollRestoration:xi,navigate:Dr,fetch:cr,revalidate:Ci,createHref:N=>r.history.createHref(N),encodeLocation:N=>r.history.encodeLocation(N),getFetcher:dr,deleteFetcher:ni,dispose:Lt,getBlocker:Ss,deleteBlocker:xr,patchRoutes:It,_internalFetchControllers:Z,_internalActiveDeferreds:Fe,_internalSetRoutes:As},Ue}function _T(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function $d(r,e,t,i,o,l,h,f){let g,v;if(h){g=[];for(let w of e)if(g.push(w),w.route.id===h){v=w;break}}else g=e,v=e[e.length-1];let E=If(o||".",Tf(g,l),Cl(r.pathname,t)||r.pathname,f==="path");if(o==null&&(E.search=r.search,E.hash=r.hash),(o==null||o===""||o===".")&&v){let w=Af(E.search);if(v.route.index&&!w)E.search=E.search?E.search.replace(/^\?/,"?index&"):"?index";else if(!v.route.index&&w){let R=new URLSearchParams(E.search),V=R.getAll("index");R.delete("index"),V.filter(B=>B).forEach(B=>R.append("index",B));let H=R.toString();E.search=H?"?"+H:""}}return i&&t!=="/"&&(E.pathname=E.pathname==="/"?t:us([t,E.pathname])),Al(E)}function zg(r,e,t,i){if(!i||!_T(i))return{path:t};if(i.formMethod&&!DT(i.formMethod))return{path:t,error:Mn(405,{method:i.formMethod})};let o=()=>({path:t,error:Mn(400,{type:"invalid-body"})}),l=i.formMethod||"get",h=r?l.toUpperCase():l.toLowerCase(),f=Gv(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Rr(h))return o();let R=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((V,H)=>{let[B,z]=H;return""+V+B+"="+z+`
`},""):String(i.body);return{path:t,submission:{formMethod:h,formAction:f,formEncType:i.formEncType,formData:void 0,json:void 0,text:R}}}else if(i.formEncType==="application/json"){if(!Rr(h))return o();try{let R=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:h,formAction:f,formEncType:i.formEncType,formData:void 0,json:R,text:void 0}}}catch{return o()}}}Ye(typeof FormData=="function","FormData is not available in this environment");let g,v;if(i.formData)g=Wd(i.formData),v=i.formData;else if(i.body instanceof FormData)g=Wd(i.body),v=i.body;else if(i.body instanceof URLSearchParams)g=i.body,v=Gg(g);else if(i.body==null)g=new URLSearchParams,v=new FormData;else try{g=new URLSearchParams(i.body),v=Gg(g)}catch{return o()}let E={formMethod:h,formAction:f,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:v,json:void 0,text:void 0};if(Rr(E.formMethod))return{path:t,submission:E};let w=ws(t);return e&&w.search&&Af(w.search)&&g.append("index",""),w.search="?"+g,{path:Al(w),submission:E}}function Bg(r,e,t){t===void 0&&(t=!1);let i=r.findIndex(o=>o.route.id===e);return i>=0?r.slice(0,t?i+1:i):r}function $g(r,e,t,i,o,l,h,f,g,v,E,w,R,V,H,B){let z=B?Kn(B[1])?B[1].error:B[1].data:void 0,oe=r.createURL(e.location),te=r.createURL(o),pe=t;l&&e.errors?pe=Bg(t,Object.keys(e.errors)[0],!0):B&&Kn(B[1])&&(pe=Bg(t,B[0]));let Re=B?B[1].statusCode:void 0,je=h&&Re&&Re>=400,Ue=pe.filter((S,C)=>{let{route:k}=S;if(k.lazy)return!0;if(k.loader==null)return!1;if(l)return Hd(k,e.loaderData,e.errors);if(ET(e.loaderData,e.matches[C],S)||g.some(P=>P===S.route.id))return!0;let x=e.matches[C],O=S;return Hg(S,wt({currentUrl:oe,currentParams:x.params,nextUrl:te,nextParams:O.params},i,{actionResult:z,actionStatus:Re,defaultShouldRevalidate:je?!1:f||oe.pathname+oe.search===te.pathname+te.search||oe.search!==te.search||Wv(x,O)}))}),I=[];return w.forEach((S,C)=>{if(l||!t.some(qe=>qe.route.id===S.routeId)||E.has(C))return;let k=Gs(V,S.path,H);if(!k){I.push({key:C,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let x=e.fetchers.get(C),O=nl(k,S.path),P=!1;R.has(C)?P=!1:v.has(C)?(v.delete(C),P=!0):x&&x.state!=="idle"&&x.data===void 0?P=f:P=Hg(O,wt({currentUrl:oe,currentParams:e.matches[e.matches.length-1].params,nextUrl:te,nextParams:t[t.length-1].params},i,{actionResult:z,actionStatus:Re,defaultShouldRevalidate:je?!1:f})),P&&I.push({key:C,routeId:S.routeId,path:S.path,matches:k,match:O,controller:new AbortController})}),[Ue,I]}function Hd(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let i=e!=null&&e[r.id]!==void 0,o=t!=null&&t[r.id]!==void 0;return!i&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!i&&!o}function ET(r,e,t){let i=!e||t.route.id!==e.route.id,o=r[t.route.id]===void 0;return i||o}function Wv(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function Hg(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Wg(r,e,t,i,o){var l;let h;if(r){let v=i[r];Ye(v,"No route found to patch children into: routeId = "+r),v.children||(v.children=[]),h=v.children}else h=t;let f=e.filter(v=>!h.some(E=>qv(v,E))),g=dc(f,o,[r||"_","patch",String(((l=h)==null?void 0:l.length)||"0")],i);h.push(...g)}function qv(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,i)=>{var o;return(o=e.children)==null?void 0:o.some(l=>qv(t,l))}):!1}async function wT(r,e,t){if(!r.lazy)return;let i=await r.lazy();if(!r.lazy)return;let o=t[r.id];Ye(o,"No route found in manifest");let l={};for(let h in i){let g=o[h]!==void 0&&h!=="hasErrorBoundary";ia(!g,'Route "'+o.id+'" has a static property "'+h+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+h+'" will be ignored.')),!g&&!W0.has(h)&&(l[h]=i[h])}Object.assign(o,l),Object.assign(o,wt({},e(o),{lazy:void 0}))}async function TT(r){let{matches:e}=r,t=e.filter(o=>o.shouldLoad);return(await Promise.all(t.map(o=>o.resolve()))).reduce((o,l,h)=>Object.assign(o,{[t[h].route.id]:l}),{})}async function IT(r,e,t,i,o,l,h,f,g,v){let E=l.map(V=>V.route.lazy?wT(V.route,g,f):void 0),w=l.map((V,H)=>{let B=E[H],z=o.some(te=>te.route.id===V.route.id);return wt({},V,{shouldLoad:z,resolve:async te=>(te&&i.method==="GET"&&(V.route.lazy||V.route.loader)&&(z=!0),z?ST(e,i,V,B,te,v):Promise.resolve({type:ct.data,result:void 0}))})}),R=await r({matches:w,request:i,params:l[0].params,fetcherKey:h,context:v});try{await Promise.all(E)}catch{}return R}async function ST(r,e,t,i,o,l){let h,f,g=v=>{let E,w=new Promise((H,B)=>E=B);f=()=>E(),e.signal.addEventListener("abort",f);let R=H=>typeof v!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+r+'" [routeId: '+t.route.id+"]"))):v({request:e,params:t.params,context:l},...H!==void 0?[H]:[]),V=(async()=>{try{return{type:"data",result:await(o?o(B=>R(B)):R())}}catch(H){return{type:"error",result:H}}})();return Promise.race([V,w])};try{let v=t.route[r];if(i)if(v){let E,[w]=await Promise.all([g(v).catch(R=>{E=R}),i]);if(E!==void 0)throw E;h=w}else if(await i,v=t.route[r],v)h=await g(v);else if(r==="action"){let E=new URL(e.url),w=E.pathname+E.search;throw Mn(405,{method:e.method,pathname:w,routeId:t.route.id})}else return{type:ct.data,result:void 0};else if(v)h=await g(v);else{let E=new URL(e.url),w=E.pathname+E.search;throw Mn(404,{pathname:w})}Ye(h.result!==void 0,"You defined "+(r==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+r+"` ")+"function. Please return a value or `null`.")}catch(v){return{type:ct.error,result:v}}finally{f&&e.signal.removeEventListener("abort",f)}return h}async function RT(r){let{result:e,type:t}=r;if(Kv(e)){let w;try{let R=e.headers.get("Content-Type");R&&/\bapplication\/json\b/.test(R)?e.body==null?w=null:w=await e.json():w=await e.text()}catch(R){return{type:ct.error,error:R}}return t===ct.error?{type:ct.error,error:new fc(e.status,e.statusText,w),statusCode:e.status,headers:e.headers}:{type:ct.data,data:w,statusCode:e.status,headers:e.headers}}if(t===ct.error){if(Jg(e)){var i,o;if(e.data instanceof Error){var l,h;return{type:ct.error,error:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}}return{type:ct.error,error:new fc(((i=e.init)==null?void 0:i.status)||500,void 0,e.data),statusCode:ml(e)?e.status:void 0,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:ct.error,error:e,statusCode:ml(e)?e.status:void 0}}if(NT(e)){var f,g;return{type:ct.deferred,deferredData:e,statusCode:(f=e.init)==null?void 0:f.status,headers:((g=e.init)==null?void 0:g.headers)&&new Headers(e.init.headers)}}if(Jg(e)){var v,E;return{type:ct.data,data:e.data,statusCode:(v=e.init)==null?void 0:v.status,headers:(E=e.init)!=null&&E.headers?new Headers(e.init.headers):void 0}}return{type:ct.data,data:e}}function AT(r,e,t,i,o,l){let h=r.headers.get("Location");if(Ye(h,"Redirects returned/thrown from loaders/actions must have a Location header"),!Sf.test(h)){let f=i.slice(0,i.findIndex(g=>g.route.id===t)+1);h=$d(new URL(e.url),f,o,!0,h,l),r.headers.set("Location",h)}return r}function qg(r,e,t){if(Sf.test(r)){let i=r,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=Cl(o.pathname,t)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return r}function Ko(r,e,t,i){let o=r.createURL(Gv(e)).toString(),l={signal:t};if(i&&Rr(i.formMethod)){let{formMethod:h,formEncType:f}=i;l.method=h.toUpperCase(),f==="application/json"?(l.headers=new Headers({"Content-Type":f}),l.body=JSON.stringify(i.json)):f==="text/plain"?l.body=i.text:f==="application/x-www-form-urlencoded"&&i.formData?l.body=Wd(i.formData):l.body=i.formData}return new Request(o,l)}function Wd(r){let e=new URLSearchParams;for(let[t,i]of r.entries())e.append(t,typeof i=="string"?i:i.name);return e}function Gg(r){let e=new FormData;for(let[t,i]of r.entries())e.append(t,i);return e}function CT(r,e,t,i,o){let l={},h=null,f,g=!1,v={},E=t&&Kn(t[1])?t[1].error:void 0;return r.forEach(w=>{if(!(w.route.id in e))return;let R=w.route.id,V=e[R];if(Ye(!Qs(V),"Cannot handle redirect results in processLoaderData"),Kn(V)){let H=V.error;E!==void 0&&(H=E,E=void 0),h=h||{};{let B=Ks(r,R);h[B.route.id]==null&&(h[B.route.id]=H)}l[R]=void 0,g||(g=!0,f=ml(V.error)?V.error.status:500),V.headers&&(v[R]=V.headers)}else as(V)?(i.set(R,V.deferredData),l[R]=V.deferredData.data,V.statusCode!=null&&V.statusCode!==200&&!g&&(f=V.statusCode),V.headers&&(v[R]=V.headers)):(l[R]=V.data,V.statusCode&&V.statusCode!==200&&!g&&(f=V.statusCode),V.headers&&(v[R]=V.headers))}),E!==void 0&&t&&(h={[t[0]]:E},l[t[0]]=void 0),{loaderData:l,errors:h,statusCode:f||200,loaderHeaders:v}}function Kg(r,e,t,i,o,l,h){let{loaderData:f,errors:g}=CT(e,t,i,h);return o.forEach(v=>{let{key:E,match:w,controller:R}=v,V=l[E];if(Ye(V,"Did not find corresponding fetcher result"),!(R&&R.signal.aborted))if(Kn(V)){let H=Ks(r.matches,w==null?void 0:w.route.id);g&&g[H.route.id]||(g=wt({},g,{[H.route.id]:V.error})),r.fetchers.delete(E)}else if(Qs(V))Ye(!1,"Unhandled fetcher revalidation redirect");else if(as(V))Ye(!1,"Unhandled fetcher deferred data");else{let H=rs(V.data);r.fetchers.set(E,H)}}),{loaderData:f,errors:g}}function Qg(r,e,t,i){let o=wt({},e);for(let l of t){let h=l.route.id;if(e.hasOwnProperty(h)?e[h]!==void 0&&(o[h]=e[h]):r[h]!==void 0&&l.route.loader&&(o[h]=r[h]),i&&i.hasOwnProperty(h))break}return o}function Yg(r){return r?Kn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Ks(r,e){return(e?r.slice(0,r.findIndex(i=>i.route.id===e)+1):[...r]).reverse().find(i=>i.route.hasErrorBoundary===!0)||r[0]}function Xg(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Mn(r,e){let{pathname:t,routeId:i,method:o,type:l,message:h}=e===void 0?{}:e,f="Unknown Server Error",g="Unknown @remix-run/router error";return r===400?(f="Bad Request",o&&t&&i?g="You made a "+o+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":l==="defer-action"?g="defer() is not supported in actions":l==="invalid-body"&&(g="Unable to encode submission body")):r===403?(f="Forbidden",g='Route "'+i+'" does not match URL "'+t+'"'):r===404?(f="Not Found",g='No route matches URL "'+t+'"'):r===405&&(f="Method Not Allowed",o&&t&&i?g="You made a "+o.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":o&&(g='Invalid request method "'+o.toUpperCase()+'"')),new fc(r||500,f,new Error(g),!0)}function Ku(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[i,o]=e[t];if(Qs(o))return{key:i,result:o}}}function Gv(r){let e=typeof r=="string"?ws(r):r;return Al(wt({},e,{hash:""}))}function PT(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function kT(r){return Kv(r.result)&&pT.has(r.result.status)}function as(r){return r.type===ct.deferred}function Kn(r){return r.type===ct.error}function Qs(r){return(r&&r.type)===ct.redirect}function Jg(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function NT(r){let e=r;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Kv(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function DT(r){return fT.has(r.toLowerCase())}function Rr(r){return hT.has(r.toLowerCase())}async function xT(r,e,t,i,o){let l=Object.entries(e);for(let h=0;h<l.length;h++){let[f,g]=l[h],v=r.find(R=>(R==null?void 0:R.route.id)===f);if(!v)continue;let E=i.find(R=>R.route.id===v.route.id),w=E!=null&&!Wv(E,v)&&(o&&o[v.route.id])!==void 0;as(g)&&w&&await Rf(g,t,!1).then(R=>{R&&(e[f]=R)})}}async function VT(r,e,t){for(let i=0;i<t.length;i++){let{key:o,routeId:l,controller:h}=t[i],f=e[o];r.find(v=>(v==null?void 0:v.route.id)===l)&&as(f)&&(Ye(h,"Expected an AbortController for revalidating fetcher deferred result"),await Rf(f,h.signal,!0).then(v=>{v&&(e[o]=v)}))}}async function Rf(r,e,t){if(t===void 0&&(t=!1),!await r.deferredData.resolveData(e)){if(t)try{return{type:ct.data,data:r.deferredData.unwrappedData}}catch(o){return{type:ct.error,error:o}}return{type:ct.data,data:r.deferredData.data}}}function Af(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function nl(r,e){let t=typeof e=="string"?ws(e).search:e.search;if(r[r.length-1].route.index&&Af(t||""))return r[r.length-1];let i=Bv(r);return i[i.length-1]}function Zg(r){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:l,json:h}=r;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:h,text:void 0}}}function Nd(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function LT(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Za(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function OT(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function rs(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function MT(r,e){try{let t=r.sessionStorage.getItem(Hv);if(t){let i=JSON.parse(t);for(let[o,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function bT(r,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{r.sessionStorage.setItem(Hv,JSON.stringify(t))}catch(i){ia(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},pc.apply(this,arguments)}const Oc=re.createContext(null),Qv=re.createContext(null),Pl=re.createContext(null),Cf=re.createContext(null),oo=re.createContext({outlet:null,matches:[],isDataRoute:!1}),Yv=re.createContext(null);function kl(){return re.useContext(Cf)!=null}function Nl(){return kl()||Ye(!1),re.useContext(Cf).location}function Xv(r){re.useContext(Pl).static||re.useLayoutEffect(r)}function Jv(){let{isDataRoute:r}=re.useContext(oo);return r?QT():FT()}function FT(){kl()||Ye(!1);let r=re.useContext(Oc),{basename:e,future:t,navigator:i}=re.useContext(Pl),{matches:o}=re.useContext(oo),{pathname:l}=Nl(),h=JSON.stringify(Tf(o,t.v7_relativeSplatPath)),f=re.useRef(!1);return Xv(()=>{f.current=!0}),re.useCallback(function(v,E){if(E===void 0&&(E={}),!f.current)return;if(typeof v=="number"){i.go(v);return}let w=If(v,JSON.parse(h),l,E.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:us([e,w.pathname])),(E.replace?i.replace:i.push)(w,E.state,E)},[e,i,h,l,r])}function UT(r,e,t,i){kl()||Ye(!1);let{navigator:o}=re.useContext(Pl),{matches:l}=re.useContext(oo),h=l[l.length-1],f=h?h.params:{};h&&h.pathname;let g=h?h.pathnameBase:"/";h&&h.route;let v=Nl(),E;E=v;let w=E.pathname||"/",R=w;if(g!=="/"){let B=g.replace(/^\//,"").split("/");R="/"+w.replace(/^\//,"").split("/").slice(B.length).join("/")}let V=Gs(r,{pathname:R});return HT(V&&V.map(B=>Object.assign({},B,{params:Object.assign({},f,B.params),pathname:us([g,o.encodeLocation?o.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:us([g,o.encodeLocation?o.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,t,i)}function jT(){let r=KT(),e=ml(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},e),t?re.createElement("pre",{style:o},t):null,null)}const zT=re.createElement(jT,null);class BT extends re.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?re.createElement(oo.Provider,{value:this.props.routeContext},re.createElement(Yv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $T(r){let{routeContext:e,match:t,children:i}=r,o=re.useContext(Oc);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),re.createElement(oo.Provider,{value:e},i)}function HT(r,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),r==null){var l;if(!t)return null;if(t.errors)r=t.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let h=r,f=(o=t)==null?void 0:o.errors;if(f!=null){let E=h.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);E>=0||Ye(!1),h=h.slice(0,Math.min(h.length,E+1))}let g=!1,v=-1;if(t&&i&&i.v7_partialHydration)for(let E=0;E<h.length;E++){let w=h[E];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=E),w.route.id){let{loaderData:R,errors:V}=t,H=w.route.loader&&R[w.route.id]===void 0&&(!V||V[w.route.id]===void 0);if(w.route.lazy||H){g=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((E,w,R)=>{let V,H=!1,B=null,z=null;t&&(V=f&&w.route.id?f[w.route.id]:void 0,B=w.route.errorElement||zT,g&&(v<0&&R===0?(YT("route-fallback"),H=!0,z=null):v===R&&(H=!0,z=w.route.hydrateFallbackElement||null)));let oe=e.concat(h.slice(0,R+1)),te=()=>{let pe;return V?pe=B:H?pe=z:w.route.Component?pe=re.createElement(w.route.Component,null):w.route.element?pe=w.route.element:pe=E,re.createElement($T,{match:w,routeContext:{outlet:E,matches:oe,isDataRoute:t!=null},children:pe})};return t&&(w.route.ErrorBoundary||w.route.errorElement||R===0)?re.createElement(BT,{location:t.location,revalidation:t.revalidation,component:B,error:V,children:te(),routeContext:{outlet:null,matches:oe,isDataRoute:!0}}):te()},null)}var Zv=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(Zv||{}),e_=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(e_||{});function WT(r){let e=re.useContext(Oc);return e||Ye(!1),e}function qT(r){let e=re.useContext(Qv);return e||Ye(!1),e}function GT(r){let e=re.useContext(oo);return e||Ye(!1),e}function t_(r){let e=GT(),t=e.matches[e.matches.length-1];return t.route.id||Ye(!1),t.route.id}function KT(){var r;let e=re.useContext(Yv),t=qT(e_.UseRouteError),i=t_();return e!==void 0?e:(r=t.errors)==null?void 0:r[i]}function QT(){let{router:r}=WT(Zv.UseNavigateStable),e=t_(),t=re.useRef(!1);return Xv(()=>{t.current=!0}),re.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,pc({fromRouteId:e},l)))},[r,e])}const ey={};function YT(r,e,t){ey[r]||(ey[r]=!0)}function XT(r,e){r==null||r.v7_startTransition,(r==null?void 0:r.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function n_(r){let{to:e,replace:t,state:i,relative:o}=r;kl()||Ye(!1);let{future:l,static:h}=re.useContext(Pl),{matches:f}=re.useContext(oo),{pathname:g}=Nl(),v=Jv(),E=If(e,Tf(f,l.v7_relativeSplatPath),g,o==="path"),w=JSON.stringify(E);return re.useEffect(()=>v(JSON.parse(w),{replace:t,state:i,relative:o}),[v,w,o,t,i]),null}function JT(r){let{basename:e="/",children:t=null,location:i,navigationType:o=Ut.Pop,navigator:l,static:h=!1,future:f}=r;kl()&&Ye(!1);let g=e.replace(/^\/*/,"/"),v=re.useMemo(()=>({basename:g,navigator:l,static:h,future:pc({v7_relativeSplatPath:!1},f)}),[g,f,l,h]);typeof i=="string"&&(i=ws(i));let{pathname:E="/",search:w="",hash:R="",state:V=null,key:H="default"}=i,B=re.useMemo(()=>{let z=Cl(E,g);return z==null?null:{location:{pathname:z,search:w,hash:R,state:V,key:H},navigationType:o}},[g,E,w,R,V,H,o]);return B==null?null:re.createElement(Pl.Provider,{value:v},re.createElement(Cf.Provider,{children:t,value:B}))}new Promise(()=>{});function ZT(r){let e={hasErrorBoundary:r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&Object.assign(e,{element:re.createElement(r.Component),Component:void 0}),r.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:re.createElement(r.HydrateFallback),HydrateFallback:void 0}),r.ErrorBoundary&&Object.assign(e,{errorElement:re.createElement(r.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},mc.apply(this,arguments)}const eI="6";try{window.__reactRouterVersion=eI}catch{}function tI(r,e){return vT({basename:void 0,future:mc({},void 0,{v7_prependBasename:!0}),history:B0({window:void 0}),hydrationData:nI(),routes:r,mapRouteProperties:ZT,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function nI(){var r;let e=(r=window)==null?void 0:r.__staticRouterHydrationData;return e&&e.errors&&(e=mc({},e,{errors:rI(e.errors)})),e}function rI(r){if(!r)return null;let e=Object.entries(r),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new fc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let h=new l(o.message);h.stack="",t[i]=h}catch{}}if(t[i]==null){let l=new Error(o.message);l.stack="",t[i]=l}}else t[i]=o;return t}const iI=re.createContext({isTransitioning:!1}),sI=re.createContext(new Map),oI="startTransition",ty=V0[oI],aI="flushSync",ny=z0[aI];function lI(r){ty?ty(r):r()}function el(r){ny?ny(r):r()}let uI=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function cI(r){let{fallbackElement:e,router:t,future:i}=r,[o,l]=re.useState(t.state),[h,f]=re.useState(),[g,v]=re.useState({isTransitioning:!1}),[E,w]=re.useState(),[R,V]=re.useState(),[H,B]=re.useState(),z=re.useRef(new Map),{v7_startTransition:oe}=i||{},te=re.useCallback(S=>{oe?lI(S):S()},[oe]),pe=re.useCallback((S,C)=>{let{deletedFetchers:k,flushSync:x,viewTransitionOpts:O}=C;S.fetchers.forEach((qe,ft)=>{qe.data!==void 0&&z.current.set(ft,qe.data)}),k.forEach(qe=>z.current.delete(qe));let P=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!O||P){x?el(()=>l(S)):te(()=>l(S));return}if(x){el(()=>{R&&(E&&E.resolve(),R.skipTransition()),v({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let qe=t.window.document.startViewTransition(()=>{el(()=>l(S))});qe.finished.finally(()=>{el(()=>{w(void 0),V(void 0),f(void 0),v({isTransitioning:!1})})}),el(()=>V(qe));return}R?(E&&E.resolve(),R.skipTransition(),B({state:S,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(f(S),v({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[t.window,R,E,z,te]);re.useLayoutEffect(()=>t.subscribe(pe),[t,pe]),re.useEffect(()=>{g.isTransitioning&&!g.flushSync&&w(new uI)},[g]),re.useEffect(()=>{if(E&&h&&t.window){let S=h,C=E.promise,k=t.window.document.startViewTransition(async()=>{te(()=>l(S)),await C});k.finished.finally(()=>{w(void 0),V(void 0),f(void 0),v({isTransitioning:!1})}),V(k)}},[te,h,E,t.window]),re.useEffect(()=>{E&&h&&o.location.key===h.location.key&&E.resolve()},[E,R,o.location,h]),re.useEffect(()=>{!g.isTransitioning&&H&&(f(H.state),v({isTransitioning:!0,flushSync:!1,currentLocation:H.currentLocation,nextLocation:H.nextLocation}),B(void 0))},[g.isTransitioning,H]),re.useEffect(()=>{},[]);let Re=re.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:S=>t.navigate(S),push:(S,C,k)=>t.navigate(S,{state:C,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(S,C,k)=>t.navigate(S,{replace:!0,state:C,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[t]),je=t.basename||"/",Ue=re.useMemo(()=>({router:t,navigator:Re,static:!1,basename:je}),[t,Re,je]),I=re.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return re.useEffect(()=>XT(i,t.future),[i,t.future]),re.createElement(re.Fragment,null,re.createElement(Oc.Provider,{value:Ue},re.createElement(Qv.Provider,{value:o},re.createElement(sI.Provider,{value:z.current},re.createElement(iI.Provider,{value:g},re.createElement(JT,{basename:je,location:o.location,navigationType:o.historyAction,navigator:Re,future:I},o.initialized||t.future.v7_partialHydration?re.createElement(hI,{routes:t.routes,future:t.future,state:o}):e))))),null)}const hI=re.memo(dI);function dI(r){let{routes:e,future:t,state:i}=r;return UT(e,void 0,i,t)}var ry;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(ry||(ry={}));var iy;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(iy||(iy={}));const fI=()=>{};var sy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},pI=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],f=r[t++],g=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const l=r[t++],h=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},i_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,f=h?r[o+1]:0,g=o+2<r.length,v=g?r[o+2]:0,E=l>>2,w=(l&3)<<4|f>>4;let R=(f&15)<<2|v>>6,V=v&63;g||(V=64,h||(R=64)),i.push(t[E],t[w],t[R],t[V])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(r_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):pI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const v=o<r.length?t[r.charAt(o)]:64;++o;const w=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||v==null||w==null)throw new mI;const R=l<<2|f>>4;if(i.push(R),v!==64){const V=f<<4&240|v>>2;if(i.push(V),w!==64){const H=v<<6&192|w;i.push(H)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class mI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gI=function(r){const e=r_(r);return i_.encodeByteArray(e,!0)},gc=function(r){return gI(r).replace(/\./g,"")},s_=function(r){try{return i_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=()=>yI().__FIREBASE_DEFAULTS__,_I=()=>{if(typeof process>"u"||typeof sy>"u")return;const r=sy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},EI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&s_(r[1]);return e&&JSON.parse(e)},Mc=()=>{try{return fI()||vI()||_I()||EI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},o_=r=>{var e,t;return(t=(e=Mc())==null?void 0:e.emulatorHosts)==null?void 0:t[r]},wI=r=>{const e=o_(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},a_=()=>{var r;return(r=Mc())==null?void 0:r.config},l_=r=>{var e;return(e=Mc())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function u_(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[gc(JSON.stringify(t)),gc(JSON.stringify(h)),""].join(".")}const al={};function SI(){const r={prod:[],emulator:[]};for(const e of Object.keys(al))al[e]?r.emulator.push(e):r.prod.push(e);return r}function RI(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let oy=!1;function c_(r,e){if(typeof window>"u"||typeof document>"u"||!fa(window.location.host)||al[r]===e||al[r]||oy)return;al[r]=e;function t(R){return`__firebase__banner__${R}`}const i="__firebase__banner",l=SI().prod.length>0;function h(){const R=document.getElementById(i);R&&R.remove()}function f(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,V){R.setAttribute("width","24"),R.setAttribute("id",V),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function v(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{oy=!0,h()},R}function E(R,V){R.setAttribute("id",V),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function w(){const R=RI(i),V=t("text"),H=document.getElementById(V)||document.createElement("span"),B=t("learnmore"),z=document.getElementById(B)||document.createElement("a"),oe=t("preprendIcon"),te=document.getElementById(oe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const pe=R.element;f(pe),E(z,B);const Re=v();g(te,oe),pe.append(te,H,z,Re),document.body.appendChild(pe)}l?(H.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function CI(){var e;const r=(e=Mc())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function NI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DI(){const r=yn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function xI(){return!CI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VI(){try{return typeof indexedDB=="object"}catch{return!1}}function LI(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="FirebaseError";class Ai extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=OI,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?MI(l,i):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new Ai(o,f,i)}}function MI(r,e){return r.replace(bI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const bI=/\{\$([^}]+)}/g;function FI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function to(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=r[o],h=e[o];if(ay(l)&&ay(h)){if(!to(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function ay(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function UI(r,e){const t=new jI(r,e);return t.subscribe.bind(t)}class jI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");zI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Dd),o.error===void 0&&(o.error=Dd),o.complete===void 0&&(o.complete=Dd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zI(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(r){return r&&r._delegate?r._delegate:r}class no{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new TI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HI(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&h.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:$I(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $I(r){return r===qs?void 0:r}function HI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new BI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Qe||(Qe={}));const qI={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},GI=Qe.INFO,KI={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},QI=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=KI[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pf{constructor(e){this.name=e,this._logLevel=GI,this._logHandler=QI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const YI=(r,e)=>e.some(t=>r instanceof t);let ly,uy;function XI(){return ly||(ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JI(){return uy||(uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h_=new WeakMap,qd=new WeakMap,d_=new WeakMap,xd=new WeakMap,kf=new WeakMap;function ZI(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(cs(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&h_.set(t,r)}).catch(()=>{}),kf.set(e,r),e}function eS(r){if(qd.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});qd.set(r,e)}let Gd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return qd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||d_.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return cs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function tS(r){Gd=r(Gd)}function nS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Vd(this),e,...t);return d_.set(i,e.sort?e.sort():[e]),cs(i)}:JI().includes(r)?function(...e){return r.apply(Vd(this),e),cs(h_.get(this))}:function(...e){return cs(r.apply(Vd(this),e))}}function rS(r){return typeof r=="function"?nS(r):(r instanceof IDBTransaction&&eS(r),YI(r,XI())?new Proxy(r,Gd):r)}function cs(r){if(r instanceof IDBRequest)return ZI(r);if(xd.has(r))return xd.get(r);const e=rS(r);return e!==r&&(xd.set(r,e),kf.set(e,r)),e}const Vd=r=>kf.get(r);function iS(r,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),f=cs(h);return i&&h.addEventListener("upgradeneeded",g=>{i(cs(h.result),g.oldVersion,g.newVersion,cs(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const sS=["get","getKey","getAll","getAllKeys","count"],oS=["put","add","delete","clear"],Ld=new Map;function cy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=oS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||sS.includes(t)))return;const l=async function(h,...f){const g=this.transaction(h,o?"readwrite":"readonly");let v=g.store;return i&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&g.done]))[0]};return Ld.set(e,l),l}tS(r=>({...r,get:(e,t,i)=>cy(e,t)||r.get(e,t,i),has:(e,t)=>!!cy(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(lS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function lS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kd="@firebase/app",hy="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new Pf("@firebase/app"),uS="@firebase/app-compat",cS="@firebase/analytics-compat",hS="@firebase/analytics",dS="@firebase/app-check-compat",fS="@firebase/app-check",pS="@firebase/auth",mS="@firebase/auth-compat",gS="@firebase/database",yS="@firebase/data-connect",vS="@firebase/database-compat",_S="@firebase/functions",ES="@firebase/functions-compat",wS="@firebase/installations",TS="@firebase/installations-compat",IS="@firebase/messaging",SS="@firebase/messaging-compat",RS="@firebase/performance",AS="@firebase/performance-compat",CS="@firebase/remote-config",PS="@firebase/remote-config-compat",kS="@firebase/storage",NS="@firebase/storage-compat",DS="@firebase/firestore",xS="@firebase/ai",VS="@firebase/firestore-compat",LS="firebase",OS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="[DEFAULT]",MS={[Kd]:"fire-core",[uS]:"fire-core-compat",[hS]:"fire-analytics",[cS]:"fire-analytics-compat",[fS]:"fire-app-check",[dS]:"fire-app-check-compat",[pS]:"fire-auth",[mS]:"fire-auth-compat",[gS]:"fire-rtdb",[yS]:"fire-data-connect",[vS]:"fire-rtdb-compat",[_S]:"fire-fn",[ES]:"fire-fn-compat",[wS]:"fire-iid",[TS]:"fire-iid-compat",[IS]:"fire-fcm",[SS]:"fire-fcm-compat",[RS]:"fire-perf",[AS]:"fire-perf-compat",[CS]:"fire-rc",[PS]:"fire-rc-compat",[kS]:"fire-gcs",[NS]:"fire-gcs-compat",[DS]:"fire-fst",[VS]:"fire-fst-compat",[xS]:"fire-vertex","fire-js":"fire-js",[LS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new Map,bS=new Map,Yd=new Map;function dy(r,e){try{r.container.addComponent(e)}catch(t){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function sa(r){const e=r.name;if(Yd.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;Yd.set(e,r);for(const t of yc.values())dy(t,r);for(const t of bS.values())dy(t,r);return!0}function Nf(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Ar(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new Dl("app","Firebase",FS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=OS;function f_(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:Qd,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw hs.create("bad-app-name",{appName:String(o)});if(t||(t=a_()),!t)throw hs.create("no-options");const l=yc.get(o);if(l){if(to(t,l.options)&&to(i,l.config))return l;throw hs.create("duplicate-app",{appName:o})}const h=new WI(o);for(const g of Yd.values())h.addComponent(g);const f=new US(t,i,h);return yc.set(o,f),f}function p_(r=Qd){const e=yc.get(r);if(!e&&r===Qd&&a_())return f_();if(!e)throw hs.create("no-app",{appName:r});return e}function ds(r,e,t){let i=MS[r]??r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(h.join(" "));return}sa(new no(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="firebase-heartbeat-database",zS=1,gl="firebase-heartbeat-store";let Od=null;function m_(){return Od||(Od=iS(jS,zS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(gl)}catch(t){console.warn(t)}}}}).catch(r=>{throw hs.create("idb-open",{originalErrorMessage:r.message})})),Od}async function BS(r){try{const t=(await m_()).transaction(gl),i=await t.objectStore(gl).get(g_(r));return await t.done,i}catch(e){if(e instanceof Ai)Ti.warn(e.message);else{const t=hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ti.warn(t.message)}}}async function fy(r,e){try{const i=(await m_()).transaction(gl,"readwrite");await i.objectStore(gl).put(e,g_(r)),await i.done}catch(t){if(t instanceof Ai)Ti.warn(t.message);else{const i=hs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ti.warn(i.message)}}}function g_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=1024,HS=30;class WS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new GS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=py();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>HS){const h=KS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ti.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=py(),{heartbeatsToSend:i,unsentEntries:o}=qS(this._heartbeatsCache.heartbeats),l=gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ti.warn(t),""}}}function py(){return new Date().toISOString().substring(0,10)}function qS(r,e=$S){const t=[];let i=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),my(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),my(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class GS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VI()?LI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await BS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return fy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return fy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function my(r){return gc(JSON.stringify({version:2,heartbeats:r})).length}function KS(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(r){sa(new no("platform-logger",e=>new aS(e),"PRIVATE")),sa(new no("heartbeat",e=>new WS(e),"PRIVATE")),ds(Kd,hy,r),ds(Kd,hy,"esm2020"),ds("fire-js","")}QS("");var YS="firebase",XS="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ds(YS,XS,"app");function y_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JS=y_,v_=new Dl("auth","Firebase",y_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Pf("@firebase/auth");function ZS(r,...e){vc.logLevel<=Qe.WARN&&vc.warn(`Auth (${pa}): ${r}`,...e)}function nc(r,...e){vc.logLevel<=Qe.ERROR&&vc.error(`Auth (${pa}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(r,...e){throw xf(r,...e)}function kr(r,...e){return xf(r,...e)}function Df(r,e,t){const i={...JS(),[e]:t};return new Dl("auth","Firebase",i).create(e,{appName:r.name})}function Js(r){return Df(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function e1(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Zr(r,"argument-error"),Df(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xf(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return v_.create(r,...e)}function Ve(r,e,...t){if(!r)throw xf(e,...t)}function _i(r){const e="INTERNAL ASSERTION FAILED: "+r;throw nc(e),new Error(e)}function Ii(r,e){r||_i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function t1(){return gy()==="http:"||gy()==="https:"}function gy(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t1()||kI()||"connection"in navigator)?navigator.onLine:!0}function r1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ii(t>e,"Short delay should be less than long delay!"),this.isMobile=AI()||NI()}get(){return n1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(r,e){Ii(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],o1=new Vl(3e4,6e4);function Lf(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ma(r,e,t,i,o={}){return E_(r,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const f=xl({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const v={method:e,headers:g,...l};return PI()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&fa(r.emulatorConfig.host)&&(v.credentials="include"),__.fetch()(await w_(r,r.config.apiHost,t,f),v)})}async function E_(r,e,t){r._canInitEmulator=!1;const i={...i1,...e};try{const o=new l1(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Qu(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[g,v]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qu(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Qu(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Qu(r,"user-disabled",h);const E=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Df(r,E,v);Zr(r,E)}}catch(o){if(o instanceof Ai)throw o;Zr(r,"network-request-failed",{message:String(o)})}}async function a1(r,e,t,i,o={}){const l=await ma(r,e,t,i,o);return"mfaPendingCredential"in l&&Zr(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function w_(r,e,t,i){const o=`${e}${t}?${i}`,l=r,h=l.config.emulator?Vf(r.config,o):`${r.config.apiScheme}://${o}`;return s1.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}class l1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(kr(this.auth,"network-request-failed")),o1.get())})}}function Qu(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=kr(r,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(r,e){return ma(r,"POST","/v1/accounts:delete",e)}async function _c(r,e){return ma(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function c1(r,e=!1){const t=In(r),i=await t.getIdToken(e),o=Of(i);Ve(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:ll(Md(o.auth_time)),issuedAtTime:ll(Md(o.iat)),expirationTime:ll(Md(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Md(r){return Number(r)*1e3}function Of(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return nc("JWT malformed, contained fewer than 3 sections"),null;try{const o=s_(t);return o?JSON.parse(o):(nc("Failed to decode base64 JWT payload"),null)}catch(o){return nc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function yy(r){const e=Of(r);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ai&&h1(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function h1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ll(this.lastLoginAt),this.creationTime=ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(r){var w;const e=r.auth,t=await r.getIdToken(),i=await yl(r,_c(e,{idToken:t}));Ve(i==null?void 0:i.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const l=(w=o.providerUserInfo)!=null&&w.length?T_(o.providerUserInfo):[],h=p1(r.providerData,l),f=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!(h!=null&&h.length),v=f?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Jd(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(r,E)}async function f1(r){const e=In(r);await Ec(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p1(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function T_(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(r,e){const t=await E_(r,{},async()=>{const i=xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=await w_(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:f,body:i};return r.emulatorConfig&&fa(r.emulatorConfig.host)&&(g.credentials="include"),__.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function g1(r,e){return ma(r,"POST","/v2/accounts:revokeToken",Lf(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=yy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await m1(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new Zo;return i&&(Ve(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Ve(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return _i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(r,e){Ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Cr{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new d1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await yl(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return c1(this,e)}reload(){return f1(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Cr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Ec(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ar(this.auth.app))return Promise.reject(Js(this.auth));const e=await this.getIdToken();return await yl(this,u1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,h=t.photoURL??void 0,f=t.tenantId??void 0,g=t._redirectEventId??void 0,v=t.createdAt??void 0,E=t.lastLoginAt??void 0,{uid:w,emailVerified:R,isAnonymous:V,providerData:H,stsTokenManager:B}=t;Ve(w&&B,e,"internal-error");const z=Zo.fromJSON(this.name,B);Ve(typeof w=="string",e,"internal-error"),ns(i,e.name),ns(o,e.name),Ve(typeof R=="boolean",e,"internal-error"),Ve(typeof V=="boolean",e,"internal-error"),ns(l,e.name),ns(h,e.name),ns(f,e.name),ns(g,e.name),ns(v,e.name),ns(E,e.name);const oe=new Cr({uid:w,auth:e,email:o,emailVerified:R,displayName:i,isAnonymous:V,photoURL:h,phoneNumber:l,tenantId:f,stsTokenManager:z,createdAt:v,lastLoginAt:E});return H&&Array.isArray(H)&&(oe.providerData=H.map(te=>({...te}))),g&&(oe._redirectEventId=g),oe}static async _fromIdTokenResponse(e,t,i=!1){const o=new Zo;o.updateFromServerResponse(t);const l=new Cr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Ec(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ve(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?T_(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new Zo;f.updateFromIdToken(i);const g=new Cr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Jd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,v),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=new Map;function Ei(r){Ii(r instanceof Function,"Expected a class definition");let e=vy.get(r);return e?(Ii(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,vy.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}I_.type="NONE";const _y=I_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(r,e,t){return`firebase:${r}:${e}:${t}`}class ea{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=rc(this.userKey,o.apiKey,l),this.fullPersistenceKey=rc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await _c(this.auth,{idToken:e}).catch(()=>{});return t?Cr._fromGetAccountInfoResponse(this.auth,t,e):null}return Cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ea(Ei(_y),e,i);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||Ei(_y);const h=rc(i,e.config.apiKey,e.name);let f=null;for(const v of t)try{const E=await v._get(h);if(E){let w;if(typeof E=="string"){const R=await _c(e,{idToken:E}).catch(()=>{});if(!R)break;w=await Cr._fromGetAccountInfoResponse(e,R,E)}else w=Cr._fromJSON(e,E);v!==l&&(f=w),l=v;break}}catch{}const g=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new ea(l,e,i):(l=g[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(h)}catch{}})),new ea(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k_(e))return"Blackberry";if(N_(e))return"Webos";if(R_(e))return"Safari";if((e.includes("chrome/")||A_(e))&&!e.includes("edge/"))return"Chrome";if(P_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function S_(r=yn()){return/firefox\//i.test(r)}function R_(r=yn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A_(r=yn()){return/crios\//i.test(r)}function C_(r=yn()){return/iemobile/i.test(r)}function P_(r=yn()){return/android/i.test(r)}function k_(r=yn()){return/blackberry/i.test(r)}function N_(r=yn()){return/webos/i.test(r)}function Mf(r=yn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function y1(r=yn()){var e;return Mf(r)&&!!((e=window.navigator)!=null&&e.standalone)}function v1(){return DI()&&document.documentMode===10}function D_(r=yn()){return Mf(r)||P_(r)||N_(r)||k_(r)||/windows phone/i.test(r)||C_(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(r,e=[]){let t;switch(r){case"Browser":t=Ey(yn());break;case"Worker":t=`${Ey(yn())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${pa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,f)=>{try{const g=e(l);h(g)}catch(g){f(g)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(r,e={}){return ma(r,"GET","/v2/passwordPolicy",Lf(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=6;class T1{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??w1,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wy(this),this.idTokenSubscription=new wy(this),this.beforeStateQueue=new _1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ei(t)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await ea.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _c(this,{idToken:e}),i=await Cr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Ar(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=i==null?void 0:i._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===f)&&(g!=null&&g.user)&&(i=g.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(h){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ec(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=r1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ar(this.app))return Promise.reject(Js(this));const t=e?In(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ar(this.app)?Promise.reject(Js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ar(this.app)?Promise.reject(Js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await E1(this),t=new T1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await g1(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ei(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await ea.create(this,[Ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(Ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&ZS(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function bc(r){return In(r)}class wy{constructor(e){this.auth=e,this.observer=null,this.addObserver=UI(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S1(r){bf=r}function R1(r){return bf.loadJS(r)}function A1(){return bf.gapiScript}function C1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(r,e){const t=Nf(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(to(l,e??{}))return o;Zr(o,"already-initialized")}return t.initialize({options:e})}function k1(r,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ei);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function N1(r,e,t){const i=bc(r);Ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=V_(e),{host:h,port:f}=D1(e),g=f===null?"":`:${f}`,v={url:`${l}//${h}${g}/`},E=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ve(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ve(to(v,i.config.emulator)&&to(E,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=v,i.emulatorConfig=E,i.settings.appVerificationDisabledForTesting=!0,fa(h)?(u_(`${l}//${h}${g}`),c_("Auth",!0)):x1()}function V_(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function D1(r){const e=V_(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Ty(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:Ty(h)}}}function Ty(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function x1(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _i("not implemented")}_getIdTokenResponse(e){return _i("not implemented")}_linkToIdToken(e,t){return _i("not implemented")}_getReauthenticationResolver(e){return _i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(r,e){return a1(r,"POST","/v1/accounts:signInWithIdp",Lf(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="http://localhost";class ro extends L_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...l}=t;if(!i||!o)return null;const h=new ro(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return ta(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ta(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ta(e,t)}buildRequest(){const e={requestUri:V1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Ff{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Ll{constructor(){super("facebook.com")}static credential(e){return ro._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ro._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return vi.credential(t,i)}catch{return null}}}vi.GOOGLE_SIGN_IN_METHOD="google.com";vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Ll{constructor(){super("github.com")}static credential(e){return ro._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Ll{constructor(){super("twitter.com")}static credential(e,t){return ro._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return os.credential(t,i)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Cr._fromIdTokenResponse(e,i,o),h=Iy(i);return new oa({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Iy(i);return new oa({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Iy(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends Ai{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,wc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new wc(e,t,i,o)}}function O_(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?wc._fromErrorAndOperation(r,l,e,i):l})}async function L1(r,e,t=!1){const i=await yl(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return oa._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O1(r,e,t=!1){const{auth:i}=r;if(Ar(i.app))return Promise.reject(Js(i));const o="reauthenticate";try{const l=await yl(r,O_(i,o,e,r),t);Ve(l.idToken,i,"internal-error");const h=Of(l.idToken);Ve(h,i,"internal-error");const{sub:f}=h;return Ve(r.uid===f,i,"user-mismatch"),oa._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Zr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1(r,e,t=!1){if(Ar(r.app))return Promise.reject(Js(r));const i="signIn",o=await O_(r,i,e),l=await oa._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(l.user),l}function b1(r,e,t,i){return In(r).onIdTokenChanged(e,t,i)}function F1(r,e,t){return In(r).beforeAuthStateChanged(e,t)}function U1(r,e,t,i){return In(r).onAuthStateChanged(e,t,i)}function j1(r){return In(r).signOut()}const Tc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tc,"1"),this.storage.removeItem(Tc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=1e3,B1=10;class b_ extends M_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,g)=>{this.notifyListeners(h,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);v1()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,B1):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},z1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}b_.type="LOCAL";const $1=b_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_ extends M_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}F_.type="SESSION";const U_=F_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Fc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(h).map(async v=>v(t.origin,l)),g=await H1(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,g)=>{const v=Uf("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(w){const R=w;if(R.data.eventId===v)switch(R.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(R.data.response);break;default:clearTimeout(E),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return window}function q1(r){Kr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function G1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function K1(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function Q1(){return j_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="firebaseLocalStorageDb",Y1=1,Ic="firebaseLocalStorage",B_="fbase_key";class Ol{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Uc(r,e){return r.transaction([Ic],e?"readwrite":"readonly").objectStore(Ic)}function X1(){const r=indexedDB.deleteDatabase(z_);return new Ol(r).toPromise()}function Zd(){const r=indexedDB.open(z_,Y1);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Ic,{keyPath:B_})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Ic)?e(i):(i.close(),await X1(),e(await Zd()))})})}async function Sy(r,e,t){const i=Uc(r,!0).put({[B_]:e,value:t});return new Ol(i).toPromise()}async function J1(r,e){const t=Uc(r,!1).get(e),i=await new Ol(t).toPromise();return i===void 0?null:i.value}function Ry(r,e){const t=Uc(r,!0).delete(e);return new Ol(t).toPromise()}const Z1=800,eR=3;class $_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>eR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fc._getInstance(Q1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await G1(),!this.activeServiceWorker)return;this.sender=new W1(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||K1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zd();return await Sy(e,Tc,"1"),await Ry(e,Tc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Sy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>J1(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ry(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Uc(o,!1).getAll();return new Ol(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$_.type="LOCAL";const tR=$_;new Vl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(r,e){return e?Ei(e):(Ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf extends L_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ta(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ta(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nR(r){return M1(r.auth,new jf(r),r.bypassAuthState)}function rR(r){const{auth:e,user:t}=r;return Ve(t,e,"internal-error"),O1(t,new jf(r),r.bypassAuthState)}async function iR(r){const{auth:e,user:t}=r;return Ve(t,e,"internal-error"),L1(t,new jf(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nR;case"linkViaPopup":case"linkViaRedirect":return iR;case"reauthViaPopup":case"reauthViaRedirect":return rR;default:Zr(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=new Vl(2e3,1e4);async function oR(r,e,t){if(Ar(r.app))return Promise.reject(kr(r,"operation-not-supported-in-this-environment"));const i=bc(r);e1(r,e,Ff);const o=H_(i,t);return new Ys(i,"signInViaPopup",e,o).executeNotNull()}class Ys extends W_{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Ys.currentPopupAction&&Ys.currentPopupAction.cancel(),Ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Ii(this.filter.length===1,"Popup operations only handle one event");const e=Uf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sR.get())};e()}}Ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="pendingRedirect",ic=new Map;class lR extends W_{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=ic.get(this.auth._key());if(!e){try{const i=await uR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ic.set(this.auth._key(),e)}return this.bypassAuthState||ic.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uR(r,e){const t=dR(e),i=hR(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function cR(r,e){ic.set(r._key(),e)}function hR(r){return Ei(r._redirectPersistence)}function dR(r){return rc(aR,r.config.apiKey,r.name)}async function fR(r,e,t=!1){if(Ar(r.app))return Promise.reject(Js(r));const i=bc(r),o=H_(i,e),h=await new lR(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=600*1e3;class mR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!q_(e)){const o=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(kr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ay(e))}saveEventToCache(e){this.cachedEventUids.add(Ay(e)),this.lastProcessedEventTime=Date.now()}}function Ay(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function q_({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q_(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(r,e={}){return ma(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_R=/^https?/;async function ER(r){if(r.config.emulator)return;const{authorizedDomains:e}=await yR(r);for(const t of e)try{if(wR(t))return}catch{}Zr(r,"unauthorized-domain")}function wR(r){const e=Xd(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!_R.test(t))return!1;if(vR.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new Vl(3e4,6e4);function Cy(){const r=Kr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function IR(r){return new Promise((e,t)=>{var o,l,h;function i(){Cy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cy(),t(kr(r,"network-request-failed"))},timeout:TR.get()})}if((l=(o=Kr().gapi)==null?void 0:o.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((h=Kr().gapi)!=null&&h.load)i();else{const f=C1("iframefcb");return Kr()[f]=()=>{gapi.load?i():t(kr(r,"network-request-failed"))},R1(`${A1()}?onload=${f}`).catch(g=>t(g))}}).catch(e=>{throw sc=null,e})}let sc=null;function SR(r){return sc=sc||IR(r),sc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Vl(5e3,15e3),AR="__/auth/iframe",CR="emulator/auth/iframe",PR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NR(r){const e=r.config;Ve(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Vf(e,CR):`https://${r.config.authDomain}/${AR}`,i={apiKey:e.apiKey,appName:r.name,v:pa},o=kR.get(r.config.apiHost);o&&(i.eid=o);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${xl(i).slice(1)}`}async function DR(r){const e=await SR(r),t=Kr().gapi;return Ve(t,r,"internal-error"),e.open({where:document.body,url:NR(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PR,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=kr(r,"network-request-failed"),f=Kr().setTimeout(()=>{l(h)},RR.get());function g(){Kr().clearTimeout(f),o(i)}i.ping(g).then(g,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VR=500,LR=600,OR="_blank",MR="http://localhost";class Py{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bR(r,e,t,i=VR,o=LR){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const g={...xR,width:i.toString(),height:o.toString(),top:l,left:h},v=yn().toLowerCase();t&&(f=A_(v)?OR:t),S_(v)&&(e=e||MR,g.scrollbars="yes");const E=Object.entries(g).reduce((R,[V,H])=>`${R}${V}=${H},`,"");if(y1(v)&&f!=="_self")return FR(e||"",f),new Py(null);const w=window.open(e||"",f,E);Ve(w,r,"popup-blocked");try{w.focus()}catch{}return new Py(w)}function FR(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="__/auth/handler",jR="emulator/auth/handler",zR=encodeURIComponent("fac");async function ky(r,e,t,i,o,l){Ve(r.config.authDomain,r,"auth-domain-config-required"),Ve(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:pa,eventId:o};if(e instanceof Ff){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",FI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))h[E]=w}if(e instanceof Ll){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const E of Object.keys(f))f[E]===void 0&&delete f[E];const g=await r._getAppCheckToken(),v=g?`#${zR}=${encodeURIComponent(g)}`:"";return`${BR(r)}?${xl(f).slice(1)}${v}`}function BR({config:r}){return r.emulator?Vf(r,jR):`https://${r.authDomain}/${UR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="webStorageSupport";class $R{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U_,this._completeRedirectFn=fR,this._overrideRedirectResult=cR}async _openPopup(e,t,i,o){var h;Ii((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const l=await ky(e,t,i,Xd(),o);return bR(e,l,Uf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await ky(e,t,i,Xd(),o);return q1(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Ii(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await DR(e),i=new mR(e);return t.register("authEvent",o=>(Ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bd,{type:bd},o=>{var h;const l=(h=o==null?void 0:o[0])==null?void 0:h[bd];l!==void 0&&t(!!l),Zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ER(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return D_()||R_()||Mf()}}const HR=$R;var Ny="@firebase/auth",Dy="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GR(r){sa(new no("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=i.options;Ve(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x_(r)},v=new I1(i,o,l,g);return k1(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),sa(new no("auth-internal",e=>{const t=bc(e.getProvider("auth").getImmediate());return(i=>new WR(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ds(Ny,Dy,qR(r)),ds(Ny,Dy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=300,QR=l_("authIdTokenMaxAge")||KR;let xy=null;const YR=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>QR)return;const o=t==null?void 0:t.token;xy!==o&&(xy=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function XR(r=p_()){const e=Nf(r,"auth");if(e.isInitialized())return e.getImmediate();const t=P1(r,{popupRedirectResolver:HR,persistence:[tR,$1,U_]}),i=l_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=YR(l.toString());F1(t,h,()=>h(t.currentUser)),b1(t,f=>h(f))}}const o=o_("auth");return o&&N1(t,`http://${o}`),t}function JR(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}S1({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const l=kr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",JR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GR("Browser");const ZR={apiKey:"AIzaSyBuCWmfyeRl0h6FEoS9_vlam5Hf0Zw3fW0",authDomain:"aditya-singhal-website.firebaseapp.com",projectId:"aditya-singhal-website",storageBucket:"aditya-singhal-website.appspot.com",messagingSenderId:"476753482582",appId:"1:476753482582:web:9b25b2d3cd6ff3ba66bcf7",measurementId:"G-CSRQLVW2TG"},ef=f_(ZR),tf=XR(ef),eA=({message:r="Loading..."})=>we.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",flexDirection:"column",gap:"1rem"},children:[we.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite"}}),we.jsx("p",{children:r}),we.jsx("style",{children:`
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `})]}),tA={user:null,loading:!0},G_=re.createContext(tA),nA=({children:r})=>{const[e,t]=re.useState(null),[i,o]=re.useState(!0);return re.useEffect(()=>U1(tf,h=>{t(h),o(!1)}),[]),i?we.jsx(eA,{message:"Authenticating..."}):we.jsx(G_.Provider,{value:{user:e,loading:i},children:r})},rA="/assets/react-CHdo91hT.svg",iA="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='31.88'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20257'%3e%3cdefs%3e%3clinearGradient%20id='IconifyId1813088fe1fbc01fb466'%20x1='-.828%25'%20x2='57.636%25'%20y1='7.652%25'%20y2='78.411%25'%3e%3cstop%20offset='0%25'%20stop-color='%2341D1FF'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23BD34FE'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='IconifyId1813088fe1fbc01fb467'%20x1='43.376%25'%20x2='50.316%25'%20y1='2.242%25'%20y2='89.03%25'%3e%3cstop%20offset='0%25'%20stop-color='%23FFEA83'%3e%3c/stop%3e%3cstop%20offset='8.333%25'%20stop-color='%23FFDD35'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23FFA800'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20fill='url(%23IconifyId1813088fe1fbc01fb466)'%20d='M255.153%2037.938L134.897%20252.976c-2.483%204.44-8.862%204.466-11.382.048L.875%2037.958c-2.746-4.814%201.371-10.646%206.827-9.67l120.385%2021.517a6.537%206.537%200%200%200%202.322-.004l117.867-21.483c5.438-.991%209.574%204.796%206.877%209.62Z'%3e%3c/path%3e%3cpath%20fill='url(%23IconifyId1813088fe1fbc01fb467)'%20d='M185.432.063L96.44%2017.501a3.268%203.268%200%200%200-2.634%203.014l-5.474%2092.456a3.268%203.268%200%200%200%203.997%203.378l24.777-5.718c2.318-.535%204.413%201.507%203.936%203.838l-7.361%2036.047c-.495%202.426%201.782%204.5%204.151%203.78l15.304-4.649c2.372-.72%204.652%201.36%204.15%203.788l-11.698%2056.621c-.732%203.542%203.979%205.473%205.943%202.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505%204.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z'%3e%3c/path%3e%3c/svg%3e";function sA(){const[r,e]=re.useState(0);return we.jsxs("div",{id:"private-app",children:[we.jsxs("div",{children:[we.jsx("a",{href:"https://vitejs.dev",target:"_blank",children:we.jsx("img",{src:iA,className:"logo",alt:"Vite logo"})}),we.jsx("a",{href:"https://react.dev",target:"_blank",children:we.jsx("img",{src:rA,className:"logo react",alt:"React logo"})})]}),we.jsx("h1",{children:"Vite + React"}),we.jsxs("div",{className:"card",children:[we.jsxs("button",{onClick:()=>e(t=>t+1),children:["count is ",r]}),we.jsxs("p",{children:["Edit ",we.jsx("code",{children:"src/PrivateApp.tsx"})," and save to test HMR"]})]}),we.jsx("p",{className:"read-the-docs",children:"Click on the Vite and React logos to learn more"})]})}const K_="/assets/404-DIjrbEzU.gif";class tl extends re.Component{constructor(){super(...arguments);yi(this,"state",{hasError:!1});yi(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})});yi(this,"handleGoHome",()=>{window.location.href="/"})}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,i){console.error("Uncaught error:",t,i)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:we.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",padding:"2rem"},children:[we.jsx("h2",{style:{fontSize:"max(2vw, 16px)",marginBottom:"1rem"},children:this.state.error?"Something went wrong":"Sorry, that was not a real page."}),this.state.error&&we.jsx("p",{style:{color:"#666",marginBottom:"1rem"},children:"We encountered an unexpected error. Please try again."}),we.jsx("img",{src:K_,alt:"Error",style:{maxWidth:"75%",height:"auto",width:"100%",marginBottom:"2rem"}}),we.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[this.state.error&&we.jsx("button",{onClick:this.handleRetry,style:{padding:"0.5rem 1rem",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Try Again"}),we.jsx("button",{onClick:this.handleGoHome,style:{padding:"0.5rem 1rem",backgroundColor:"#2ecc71",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Go Home"})]})]}):this.props.children}}const oA=()=>{const r=()=>{window.location.href="/"};return we.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",padding:"2rem"},children:[we.jsx("h2",{style:{fontSize:"max(2vw, 16px)",marginBottom:"1rem"},children:"Sorry, that was not a real page."}),we.jsx("img",{src:K_,alt:"Sorry 404!",style:{maxWidth:"75%",height:"auto",width:"100%",marginBottom:"2rem"}}),we.jsx("button",{onClick:r,style:{padding:"0.5rem 1rem",backgroundColor:"#2ecc71",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem"},children:"Go Home"})]})};var Vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fs,Q_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function C(){}C.prototype=S.prototype,I.D=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(k,x,O){for(var P=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)P[qe-2]=arguments[qe];return S.prototype[x].apply(k,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,C){C||(C=0);var k=Array(16);if(typeof S=="string")for(var x=0;16>x;++x)k[x]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(x=0;16>x;++x)k[x]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],x=I.g[2];var O=I.g[3],P=S+(O^C&(x^O))+k[0]+3614090360&4294967295;S=C+(P<<7&4294967295|P>>>25),P=O+(x^S&(C^x))+k[1]+3905402710&4294967295,O=S+(P<<12&4294967295|P>>>20),P=x+(C^O&(S^C))+k[2]+606105819&4294967295,x=O+(P<<17&4294967295|P>>>15),P=C+(S^x&(O^S))+k[3]+3250441966&4294967295,C=x+(P<<22&4294967295|P>>>10),P=S+(O^C&(x^O))+k[4]+4118548399&4294967295,S=C+(P<<7&4294967295|P>>>25),P=O+(x^S&(C^x))+k[5]+1200080426&4294967295,O=S+(P<<12&4294967295|P>>>20),P=x+(C^O&(S^C))+k[6]+2821735955&4294967295,x=O+(P<<17&4294967295|P>>>15),P=C+(S^x&(O^S))+k[7]+4249261313&4294967295,C=x+(P<<22&4294967295|P>>>10),P=S+(O^C&(x^O))+k[8]+1770035416&4294967295,S=C+(P<<7&4294967295|P>>>25),P=O+(x^S&(C^x))+k[9]+2336552879&4294967295,O=S+(P<<12&4294967295|P>>>20),P=x+(C^O&(S^C))+k[10]+4294925233&4294967295,x=O+(P<<17&4294967295|P>>>15),P=C+(S^x&(O^S))+k[11]+2304563134&4294967295,C=x+(P<<22&4294967295|P>>>10),P=S+(O^C&(x^O))+k[12]+1804603682&4294967295,S=C+(P<<7&4294967295|P>>>25),P=O+(x^S&(C^x))+k[13]+4254626195&4294967295,O=S+(P<<12&4294967295|P>>>20),P=x+(C^O&(S^C))+k[14]+2792965006&4294967295,x=O+(P<<17&4294967295|P>>>15),P=C+(S^x&(O^S))+k[15]+1236535329&4294967295,C=x+(P<<22&4294967295|P>>>10),P=S+(x^O&(C^x))+k[1]+4129170786&4294967295,S=C+(P<<5&4294967295|P>>>27),P=O+(C^x&(S^C))+k[6]+3225465664&4294967295,O=S+(P<<9&4294967295|P>>>23),P=x+(S^C&(O^S))+k[11]+643717713&4294967295,x=O+(P<<14&4294967295|P>>>18),P=C+(O^S&(x^O))+k[0]+3921069994&4294967295,C=x+(P<<20&4294967295|P>>>12),P=S+(x^O&(C^x))+k[5]+3593408605&4294967295,S=C+(P<<5&4294967295|P>>>27),P=O+(C^x&(S^C))+k[10]+38016083&4294967295,O=S+(P<<9&4294967295|P>>>23),P=x+(S^C&(O^S))+k[15]+3634488961&4294967295,x=O+(P<<14&4294967295|P>>>18),P=C+(O^S&(x^O))+k[4]+3889429448&4294967295,C=x+(P<<20&4294967295|P>>>12),P=S+(x^O&(C^x))+k[9]+568446438&4294967295,S=C+(P<<5&4294967295|P>>>27),P=O+(C^x&(S^C))+k[14]+3275163606&4294967295,O=S+(P<<9&4294967295|P>>>23),P=x+(S^C&(O^S))+k[3]+4107603335&4294967295,x=O+(P<<14&4294967295|P>>>18),P=C+(O^S&(x^O))+k[8]+1163531501&4294967295,C=x+(P<<20&4294967295|P>>>12),P=S+(x^O&(C^x))+k[13]+2850285829&4294967295,S=C+(P<<5&4294967295|P>>>27),P=O+(C^x&(S^C))+k[2]+4243563512&4294967295,O=S+(P<<9&4294967295|P>>>23),P=x+(S^C&(O^S))+k[7]+1735328473&4294967295,x=O+(P<<14&4294967295|P>>>18),P=C+(O^S&(x^O))+k[12]+2368359562&4294967295,C=x+(P<<20&4294967295|P>>>12),P=S+(C^x^O)+k[5]+4294588738&4294967295,S=C+(P<<4&4294967295|P>>>28),P=O+(S^C^x)+k[8]+2272392833&4294967295,O=S+(P<<11&4294967295|P>>>21),P=x+(O^S^C)+k[11]+1839030562&4294967295,x=O+(P<<16&4294967295|P>>>16),P=C+(x^O^S)+k[14]+4259657740&4294967295,C=x+(P<<23&4294967295|P>>>9),P=S+(C^x^O)+k[1]+2763975236&4294967295,S=C+(P<<4&4294967295|P>>>28),P=O+(S^C^x)+k[4]+1272893353&4294967295,O=S+(P<<11&4294967295|P>>>21),P=x+(O^S^C)+k[7]+4139469664&4294967295,x=O+(P<<16&4294967295|P>>>16),P=C+(x^O^S)+k[10]+3200236656&4294967295,C=x+(P<<23&4294967295|P>>>9),P=S+(C^x^O)+k[13]+681279174&4294967295,S=C+(P<<4&4294967295|P>>>28),P=O+(S^C^x)+k[0]+3936430074&4294967295,O=S+(P<<11&4294967295|P>>>21),P=x+(O^S^C)+k[3]+3572445317&4294967295,x=O+(P<<16&4294967295|P>>>16),P=C+(x^O^S)+k[6]+76029189&4294967295,C=x+(P<<23&4294967295|P>>>9),P=S+(C^x^O)+k[9]+3654602809&4294967295,S=C+(P<<4&4294967295|P>>>28),P=O+(S^C^x)+k[12]+3873151461&4294967295,O=S+(P<<11&4294967295|P>>>21),P=x+(O^S^C)+k[15]+530742520&4294967295,x=O+(P<<16&4294967295|P>>>16),P=C+(x^O^S)+k[2]+3299628645&4294967295,C=x+(P<<23&4294967295|P>>>9),P=S+(x^(C|~O))+k[0]+4096336452&4294967295,S=C+(P<<6&4294967295|P>>>26),P=O+(C^(S|~x))+k[7]+1126891415&4294967295,O=S+(P<<10&4294967295|P>>>22),P=x+(S^(O|~C))+k[14]+2878612391&4294967295,x=O+(P<<15&4294967295|P>>>17),P=C+(O^(x|~S))+k[5]+4237533241&4294967295,C=x+(P<<21&4294967295|P>>>11),P=S+(x^(C|~O))+k[12]+1700485571&4294967295,S=C+(P<<6&4294967295|P>>>26),P=O+(C^(S|~x))+k[3]+2399980690&4294967295,O=S+(P<<10&4294967295|P>>>22),P=x+(S^(O|~C))+k[10]+4293915773&4294967295,x=O+(P<<15&4294967295|P>>>17),P=C+(O^(x|~S))+k[1]+2240044497&4294967295,C=x+(P<<21&4294967295|P>>>11),P=S+(x^(C|~O))+k[8]+1873313359&4294967295,S=C+(P<<6&4294967295|P>>>26),P=O+(C^(S|~x))+k[15]+4264355552&4294967295,O=S+(P<<10&4294967295|P>>>22),P=x+(S^(O|~C))+k[6]+2734768916&4294967295,x=O+(P<<15&4294967295|P>>>17),P=C+(O^(x|~S))+k[13]+1309151649&4294967295,C=x+(P<<21&4294967295|P>>>11),P=S+(x^(C|~O))+k[4]+4149444226&4294967295,S=C+(P<<6&4294967295|P>>>26),P=O+(C^(S|~x))+k[11]+3174756917&4294967295,O=S+(P<<10&4294967295|P>>>22),P=x+(S^(O|~C))+k[2]+718787259&4294967295,x=O+(P<<15&4294967295|P>>>17),P=C+(O^(x|~S))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(x+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+x&4294967295,I.g[3]=I.g[3]+O&4294967295}i.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var C=S-this.blockSize,k=this.B,x=this.h,O=0;O<S;){if(x==0)for(;O<=C;)o(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<S;)if(k[x++]=I.charCodeAt(O++),x==this.blockSize){o(this,k),x=0;break}}else for(;O<S;)if(k[x++]=I[O++],x==this.blockSize){o(this,k),x=0;break}}this.h=x,this.o+=S},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var C=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=C&255,C/=256;for(this.u(I),I=Array(16),S=C=0;4>S;++S)for(var k=0;32>k;k+=8)I[C++]=this.g[S]>>>k&255;return I};function l(I,S){var C=f;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function h(I,S){this.h=S;for(var C=[],k=!0,x=I.length-1;0<=x;x--){var O=I[x]|0;k&&O==S||(C[x]=O,k=!1)}this.g=C}var f={};function g(I){return-128<=I&&128>I?l(I,function(S){return new h([S|0],0>S?-1:0)}):new h([I|0],0>I?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return w;if(0>I)return z(v(-I));for(var S=[],C=1,k=0;I>=C;k++)S[k]=I/C|0,C*=4294967296;return new h(S,0)}function E(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return z(E(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=v(Math.pow(S,8)),k=w,x=0;x<I.length;x+=8){var O=Math.min(8,I.length-x),P=parseInt(I.substring(x,x+O),S);8>O?(O=v(Math.pow(S,O)),k=k.j(O).add(v(P))):(k=k.j(C),k=k.add(v(P)))}return k}var w=g(0),R=g(1),V=g(16777216);r=h.prototype,r.m=function(){if(B(this))return-z(this).m();for(var I=0,S=1,C=0;C<this.g.length;C++){var k=this.i(C);I+=(0<=k?k:4294967296+k)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(H(this))return"0";if(B(this))return"-"+z(this).toString(I);for(var S=v(Math.pow(I,6)),C=this,k="";;){var x=Re(C,S).g;C=oe(C,x.j(S));var O=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=x,H(C))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},r.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function H(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function B(I){return I.h==-1}r.l=function(I){return I=oe(this,I),B(I)?-1:H(I)?0:1};function z(I){for(var S=I.g.length,C=[],k=0;k<S;k++)C[k]=~I.g[k];return new h(C,~I.h).add(R)}r.abs=function(){return B(this)?z(this):this},r.add=function(I){for(var S=Math.max(this.g.length,I.g.length),C=[],k=0,x=0;x<=S;x++){var O=k+(this.i(x)&65535)+(I.i(x)&65535),P=(O>>>16)+(this.i(x)>>>16)+(I.i(x)>>>16);k=P>>>16,O&=65535,P&=65535,C[x]=P<<16|O}return new h(C,C[C.length-1]&-2147483648?-1:0)};function oe(I,S){return I.add(z(S))}r.j=function(I){if(H(this)||H(I))return w;if(B(this))return B(I)?z(this).j(z(I)):z(z(this).j(I));if(B(I))return z(this.j(z(I)));if(0>this.l(V)&&0>I.l(V))return v(this.m()*I.m());for(var S=this.g.length+I.g.length,C=[],k=0;k<2*S;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var x=0;x<I.g.length;x++){var O=this.i(k)>>>16,P=this.i(k)&65535,qe=I.i(x)>>>16,ft=I.i(x)&65535;C[2*k+2*x]+=P*ft,te(C,2*k+2*x),C[2*k+2*x+1]+=O*ft,te(C,2*k+2*x+1),C[2*k+2*x+1]+=P*qe,te(C,2*k+2*x+1),C[2*k+2*x+2]+=O*qe,te(C,2*k+2*x+2)}for(k=0;k<S;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=S;k<2*S;k++)C[k]=0;return new h(C,0)};function te(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function pe(I,S){this.g=I,this.h=S}function Re(I,S){if(H(S))throw Error("division by zero");if(H(I))return new pe(w,w);if(B(I))return S=Re(z(I),S),new pe(z(S.g),z(S.h));if(B(S))return S=Re(I,z(S)),new pe(z(S.g),S.h);if(30<I.g.length){if(B(I)||B(S))throw Error("slowDivide_ only works with positive integers.");for(var C=R,k=S;0>=k.l(I);)C=je(C),k=je(k);var x=Ue(C,1),O=Ue(k,1);for(k=Ue(k,2),C=Ue(C,2);!H(k);){var P=O.add(k);0>=P.l(I)&&(x=x.add(C),O=P),k=Ue(k,1),C=Ue(C,1)}return S=oe(I,x.j(S)),new pe(x,S)}for(x=w;0<=I.l(S);){for(C=Math.max(1,Math.floor(I.m()/S.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=v(C),P=O.j(S);B(P)||0<P.l(I);)C-=k,O=v(C),P=O.j(S);H(O)&&(O=R),x=x.add(O),I=oe(I,P)}return new pe(x,I)}r.A=function(I){return Re(this,I).h},r.and=function(I){for(var S=Math.max(this.g.length,I.g.length),C=[],k=0;k<S;k++)C[k]=this.i(k)&I.i(k);return new h(C,this.h&I.h)},r.or=function(I){for(var S=Math.max(this.g.length,I.g.length),C=[],k=0;k<S;k++)C[k]=this.i(k)|I.i(k);return new h(C,this.h|I.h)},r.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),C=[],k=0;k<S;k++)C[k]=this.i(k)^I.i(k);return new h(C,this.h^I.h)};function je(I){for(var S=I.g.length+1,C=[],k=0;k<S;k++)C[k]=I.i(k)<<1|I.i(k-1)>>>31;return new h(C,I.h)}function Ue(I,S){var C=S>>5;S%=32;for(var k=I.g.length-C,x=[],O=0;O<k;O++)x[O]=0<S?I.i(O+C)>>>S|I.i(O+C+1)<<32-S:I.i(O+C);return new h(x,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Q_=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,fs=h}).apply(typeof Vy<"u"?Vy:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Y_,rl,X_,oc,nf,J_,Z_,eE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=t(this);function o(u,p){if(p)e:{var y=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var F=u[T];if(!(F in y))break e;y=y[F]}u=u[u.length-1],T=y[u],p=p(T),p!=T&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var y=0,T=!1,F={next:function(){if(!T&&y<u.length){var q=y++;return{value:p(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(u){return u||function(){return l(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function v(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function E(u,p,y){return u.call.apply(u.bind,arguments)}function w(u,p,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,T),u.apply(p,F)}}return function(){return u.apply(p,arguments)}}function R(u,p,y){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,R.apply(null,arguments)}function V(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function H(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,F,q){for(var ie=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)ie[ut-2]=arguments[ut];return p.prototype[F].apply(T,ie)}}function B(u){const p=u.length;if(0<p){const y=Array(p);for(let T=0;T<p;T++)y[T]=u[T];return y}return[]}function z(u,p){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(g(T)){const F=u.length||0,q=T.length||0;u.length=F+q;for(let ie=0;ie<q;ie++)u[F+ie]=T[ie]}else u.push(T)}}class oe{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function te(u){return/^[\s\xa0]*$/.test(u)}function pe(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function Re(u){return Re[" "](u),u}Re[" "]=function(){};var je=pe().indexOf("Gecko")!=-1&&!(pe().toLowerCase().indexOf("webkit")!=-1&&pe().indexOf("Edge")==-1)&&!(pe().indexOf("Trident")!=-1||pe().indexOf("MSIE")!=-1)&&pe().indexOf("Edge")==-1;function Ue(u,p,y){for(const T in u)p.call(y,u[T],T,u)}function I(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function S(u){const p={};for(const y in u)p[y]=u[y];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,p){let y,T;for(let F=1;F<arguments.length;F++){T=arguments[F];for(y in T)u[y]=T[y];for(let q=0;q<C.length;q++)y=C[q],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function x(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function O(u){f.setTimeout(()=>{throw u},0)}function P(){var u=Ie;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class qe{constructor(){this.h=this.g=null}add(p,y){const T=ft.get();T.set(p,y),this.h?this.h.next=T:this.g=T,this.h=T}}var ft=new oe(()=>new Dt,u=>u.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,Z=!1,Ie=new qe,ae=()=>{const u=f.Promise.resolve(void 0);nt=()=>{u.then(b)}};var b=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(y){O(y)}var p=ft;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}Z=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var Oe=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};f.addEventListener("test",y,p),f.removeEventListener("test",y,p)}catch{}return u})();function ke(u,p){if(_e.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(je){e:{try{Re(p.nodeName);var F=!0;break e}catch{}F=!1}F||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Fe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ke.aa.h.call(this)}}H(ke,_e);var Fe={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function ht(u,p,y,T,F){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!T,this.ha=F,this.key=++Ge,this.da=this.fa=!1}function Lt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function lr(u){this.src=u,this.g={},this.h=0}lr.prototype.add=function(u,p,y,T,F){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var ie=vn(u,p,T,F);return-1<ie?(p=u[ie],y||(p.fa=!1)):(p=new ht(p,this.src,q,!!T,F),p.fa=y,u.push(p)),p};function Ct(u,p){var y=p.type;if(y in u.g){var T=u.g[y],F=Array.prototype.indexOf.call(T,p,void 0),q;(q=0<=F)&&Array.prototype.splice.call(T,F,1),q&&(Lt(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function vn(u,p,y,T){for(var F=0;F<u.length;++F){var q=u[F];if(!q.da&&q.listener==p&&q.capture==!!y&&q.ha==T)return F}return-1}var Dr="closure_lm_"+(1e6*Math.random()|0),Ci={};function Fn(u,p,y,T,F){if(Array.isArray(p)){for(var q=0;q<p.length;q++)Fn(u,p[q],y,T,F);return null}return y=hr(y),u&&u[ze]?u.K(p,y,v(T)?!!T.capture:!1,F):Ts(u,p,y,!1,T,F)}function Ts(u,p,y,T,F,q){if(!p)throw Error("Invalid event type");var ie=v(F)?!!F.capture:!!F,ut=Pi(u);if(ut||(u[Dr]=ut=new lr(u)),y=ut.add(p,y,T,ie,q),y.proxy)return y;if(T=fo(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)Oe||(F=ie),F===void 0&&(F=!1),u.addEventListener(p.toString(),T,F);else if(u.attachEvent)u.attachEvent(cr(p.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function fo(){function u(y){return p.call(u.src,u.listener,y)}const p=Is;return u}function ti(u,p,y,T,F){if(Array.isArray(p))for(var q=0;q<p.length;q++)ti(u,p[q],y,T,F);else T=v(T)?!!T.capture:!!T,y=hr(y),u&&u[ze]?(u=u.i,p=String(p).toString(),p in u.g&&(q=u.g[p],y=vn(q,y,T,F),-1<y&&(Lt(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[p],u.h--)))):u&&(u=Pi(u))&&(p=u.g[p.toString()],u=-1,p&&(u=vn(p,y,T,F)),(y=-1<u?p[u]:null)&&ur(y))}function ur(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ze])Ct(p.i,u);else{var y=u.type,T=u.proxy;p.removeEventListener?p.removeEventListener(y,T,u.capture):p.detachEvent?p.detachEvent(cr(y),T):p.addListener&&p.removeListener&&p.removeListener(T),(y=Pi(p))?(Ct(y,u),y.h==0&&(y.src=null,p[Dr]=null)):Lt(u)}}}function cr(u){return u in Ci?Ci[u]:Ci[u]="on"+u}function Is(u,p){if(u.da)u=!0;else{p=new ke(p,this);var y=u.listener,T=u.ha||u.src;u.fa&&ur(u),u=y.call(T,p)}return u}function Pi(u){return u=u[Dr],u instanceof lr?u:null}var Sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function hr(u){return typeof u=="function"?u:(u[Sn]||(u[Sn]=function(p){return u.handleEvent(p)}),u[Sn])}function Pt(){G.call(this),this.i=new lr(this),this.M=this,this.F=null}H(Pt,G),Pt.prototype[ze]=!0,Pt.prototype.removeEventListener=function(u,p,y,T){ti(this,u,p,y,T)};function Tt(u,p){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=p.type||p,typeof p=="string")p=new _e(p,u);else if(p instanceof _e)p.target=p.target||u;else{var F=p;p=new _e(T,u),k(p,F)}if(F=!0,y)for(var q=y.length-1;0<=q;q--){var ie=p.g=y[q];F=Gt(ie,T,!0,p)&&F}if(ie=p.g=u,F=Gt(ie,T,!0,p)&&F,F=Gt(ie,T,!1,p)&&F,y)for(q=0;q<y.length;q++)ie=p.g=y[q],F=Gt(ie,T,!1,p)&&F}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],T=0;T<y.length;T++)Lt(y[T]);delete u.g[p],u.h--}}this.F=null},Pt.prototype.K=function(u,p,y,T){return this.i.add(String(u),p,!1,y,T)},Pt.prototype.L=function(u,p,y,T){return this.i.add(String(u),p,!0,y,T)};function Gt(u,p,y,T){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var F=!0,q=0;q<p.length;++q){var ie=p[q];if(ie&&!ie.da&&ie.capture==y){var ut=ie.listener,Bt=ie.ha||ie.src;ie.fa&&Ct(u.i,ie),F=ut.call(Bt,T)!==!1&&F}}return F&&!T.defaultPrevented}function _n(u,p,y){if(typeof u=="function")y&&(u=R(u,y));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(u,p||0)}function dr(u){u.g=_n(()=>{u.g=null,u.i&&(u.i=!1,dr(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Qn extends G{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:dr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ni(u){G.call(this),this.h=u,this.g={}}H(ni,G);var Rn=[];function ki(u){Ue(u.g,function(p,y){this.g.hasOwnProperty(y)&&ur(p)},u),u.g={}}ni.prototype.N=function(){ni.aa.N.call(this),ki(this)},ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ni=f.JSON.stringify,Di=f.JSON.parse,Ss=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function xr(){}xr.prototype.h=null;function fr(u){return u.h||(u.h=u.i())}function ri(){}var ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function An(){_e.call(this,"d")}H(An,_e);function xi(){_e.call(this,"c")}H(xi,_e);var Un={},Rs=null;function Vr(){return Rs=Rs||new Pt}Un.La="serverreachability";function Lr(u){_e.call(this,Un.La,u)}H(Lr,_e);function Cn(u){const p=Vr();Tt(p,new Lr(p))}Un.STAT_EVENT="statevent";function As(u,p){_e.call(this,Un.STAT_EVENT,u),this.stat=p}H(As,_e);function It(u){const p=Vr();Tt(p,new As(p,u))}Un.Ma="timingevent";function N(u,p){_e.call(this,Un.Ma,u),this.size=p}H(N,_e);function M(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function $(){this.g=!0}$.prototype.xa=function(){this.g=!1};function Y(u,p,y,T,F,q){u.info(function(){if(u.g)if(q)for(var ie="",ut=q.split("&"),Bt=0;Bt<ut.length;Bt++){var et=ut[Bt].split("=");if(1<et.length){var Kt=et[0];et=et[1];var Mt=Kt.split("_");ie=2<=Mt.length&&Mt[1]=="type"?ie+(Kt+"="+et+"&"):ie+(Kt+"=redacted&")}}else ie=null;else ie=q;return"XMLHTTP REQ ("+T+") [attempt "+F+"]: "+p+`
`+y+`
`+ie})}function se(u,p,y,T,F,q,ie){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+F+"]: "+p+`
`+y+`
`+q+" "+ie})}function me(u,p,y,T){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+ge(u,y)+(T?" "+T:"")})}function Ae(u,p){u.info(function(){return"TIMEOUT: "+p})}$.prototype.info=function(){};function ge(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var F=T[1];if(Array.isArray(F)&&!(1>F.length)){var q=F[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ie=1;ie<F.length;ie++)F[ie]=""}}}}return Ni(y)}catch{return p}}var fe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ue={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ce;function Ne(){}H(Ne,xr),Ne.prototype.g=function(){return new XMLHttpRequest},Ne.prototype.i=function(){return{}},ce=new Ne;function Le(u,p,y,T){this.j=u,this.i=p,this.l=y,this.R=T||1,this.U=new ni(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kt}function kt(){this.i=null,this.g="",this.h=!1}var it={},Be={};function lt(u,p,y){u.L=1,u.v=bi(Bn(p)),u.m=y,u.P=!0,Yn(u,null)}function Yn(u,p){u.F=Date.now(),He(u),u.A=Bn(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ui(y.i,"t",T),u.C=0,y=u.j.J,u.h=new kt,u.g=Jl(u.j,y?p:null,!u.m),0<u.O&&(u.M=new Qn(R(u.Y,u,u.g),u.O)),p=u.U,y=u.g,T=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(Rn[0]=F.toString()),F=Rn);for(var q=0;q<F.length;q++){var ie=Fn(y,F[q],T||p.handleEvent,!1,p.h||p);if(!ie)break;p.g[ie.key]=ie}p=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Cn(),Y(u.i,u.u,u.A,u.l,u.R,u.m)}Le.prototype.ca=function(u){u=u.target;const p=this.M;p&&kn(u)==3?p.j():this.Y(u)},Le.prototype.Y=function(u){try{if(u==this.g)e:{const Mt=kn(this.g);var p=this.g.Ba();const Zn=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||Sa(this.g)))){this.J||Mt!=4||p==7||(p==8||0>=Zn?Cn(3):Cn(2)),zn(this);var y=this.g.Z();this.X=y;t:if(Or(this)){var T=Sa(this.g);u="";var F=T.length,q=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zt(this),un(this);var ie="";break t}this.h.i=new f.TextDecoder}for(p=0;p<F;p++)this.h.h=!0,u+=this.h.i.decode(T[p],{stream:!(q&&p==F-1)});T.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=y==200,se(this.i,this.u,this.A,this.l,this.R,Mt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var ut,Bt=this.g;if((ut=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(ut)){var et=ut;break t}}et=null}if(y=et)me(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mr(this,y);else{this.o=!1,this.s=3,It(12),Zt(this),un(this);break e}}if(this.P){y=!0;let Hn;for(;!this.J&&this.C<ie.length;)if(Hn=jn(this,ie),Hn==Be){Mt==4&&(this.s=4,It(14),y=!1),me(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==it){this.s=4,It(15),me(this.i,this.l,ie,"[Invalid Chunk]"),y=!1;break}else me(this.i,this.l,Hn,null),Mr(this,Hn);if(Or(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||ie.length!=0||this.h.h||(this.s=1,It(16),y=!1),this.o=this.o&&y,!y)me(this.i,this.l,ie,"[Invalid Chunked Response]"),Zt(this),un(this);else if(0<ie.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Aa(Kt),Kt.M=!0,It(11))}}else me(this.i,this.l,ie,null),Mr(this,ie);Mt==4&&Zt(this),this.o&&!this.J&&(Mt==4?Ro(this.j,this):(this.o=!1,He(this)))}else Eo(this.g),y==400&&0<ie.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),Zt(this),un(this)}}}catch{}finally{}};function Or(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function jn(u,p){var y=u.C,T=p.indexOf(`
`,y);return T==-1?Be:(y=Number(p.substring(y,T)),isNaN(y)?it:(T+=1,T+y>p.length?Be:(p=p.slice(T,T+y),u.C=T+y,p)))}Le.prototype.cancel=function(){this.J=!0,Zt(this)};function He(u){u.S=Date.now()+u.I,Vi(u,u.I)}function Vi(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=M(R(u.ba,u),p)}function zn(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Le.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ae(this.i,this.A),this.L!=2&&(Cn(),It(17)),Zt(this),this.s=2,un(this)):Vi(this,this.S-u)};function un(u){u.j.G==0||u.J||Ro(u.j,u)}function Zt(u){zn(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,ki(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Mr(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||Ke(y.h,u))){if(!u.K&&Ke(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var F=T;if(F[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)So(y),vr(y);else break e;Io(y),It(18)}}else y.za=F[1],0<y.za-y.T&&37500>F[2]&&y.F&&y.v==0&&!y.C&&(y.C=M(R(y.Za,y),6e3));if(1>=br(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else li(y,11)}else if((u.K||y.g==u)&&So(y),!te(p))for(F=y.Da.g.parse(p),p=0;p<F.length;p++){let et=F[p];if(y.T=et[0],et=et[1],y.G==2)if(et[0]=="c"){y.K=et[1],y.ia=et[2];const Kt=et[3];Kt!=null&&(y.la=Kt,y.j.info("VER="+y.la));const Mt=et[4];Mt!=null&&(y.Aa=Mt,y.j.info("SVER="+y.Aa));const Zn=et[5];Zn!=null&&typeof Zn=="number"&&0<Zn&&(T=1.5*Zn,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Hn=u.g;if(Hn){const Vs=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var q=T.h;q.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Xn(q,q.h),q.h=null))}if(T.D){const Co=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(T.ya=Co,dt(T.I,T.D,Co))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var ie=u;if(T.qa=Xl(T,T.J?T.ia:null,T.W),ie.K){Cs(T.h,ie);var ut=ie,Bt=T.L;Bt&&(ut.I=Bt),ut.B&&(zn(ut),He(ut)),T.g=ie}else xs(T);0<y.i.length&&zr(y)}else et[0]!="stop"&&et[0]!="close"||li(y,7);else y.G==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?li(y,7):tn(y):et[0]!="noop"&&y.l&&y.l.ta(et),y.v=0)}}Cn(4)}catch{}}var We=class{constructor(u,p){this.g=u,this.map=p}};function ot(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ot(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function br(u){return u.h?1:u.g?u.g.size:0}function Ke(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Xn(u,p){u.g?u.g.add(p):u.h=p}function Cs(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}ot.prototype.cancel=function(){if(this.i=po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function po(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return B(u.i)}function mo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],y=u.length,T=0;T<y;T++)p.push(u[T]);return p}p=[],y=0;for(T in u)p[y++]=u[T];return p}function go(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const T in u)p[y++]=T;return p}}}function Li(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=go(u),T=mo(u),F=T.length,q=0;q<F;q++)p.call(void 0,T[q],y&&y[q],u)}var Ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zc(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),F=null;if(0<=T){var q=u[y].substring(0,T);F=u[y].substring(T+1)}else q=u[y];p(q,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function ii(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ii){this.h=u.h,ks(this,u.j),this.o=u.o,this.g=u.g,Oi(this,u.s),this.l=u.l;var p=u.i,y=new Fr;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),Mi(this,y),this.m=u.m}else u&&(p=String(u).match(Ps))?(this.h=!1,ks(this,p[1]||"",!0),this.o=Ze(p[2]||""),this.g=Ze(p[3]||"",!0),Oi(this,p[4]),this.l=Ze(p[5]||"",!0),Mi(this,p[6]||"",!0),this.m=Ze(p[7]||"")):(this.h=!1,this.i=new Fr(null,this.h))}ii.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Fi(p,yo,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Fi(p,yo,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Fi(y,y.charAt(0)=="/"?$l:Bl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Fi(y,wa)),u.join("")};function Bn(u){return new ii(u)}function ks(u,p,y){u.j=y?Ze(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Oi(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Mi(u,p,y){p instanceof Fr?(u.i=p,Ur(u.i,u.h)):(y||(p=Fi(p,Hl)),u.i=new Fr(p,u.h))}function dt(u,p,y){u.i.set(p,y)}function bi(u){return dt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ze(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Fi(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,zl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function zl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var yo=/[#\/\?@]/g,Bl=/[#\?:]/g,$l=/[#\?]/g,Hl=/[#\?@]/g,wa=/#/g;function Fr(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&Zc(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}r=Fr.prototype,r.add=function(u,p){en(this),this.i=null,u=Jn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function pr(u,p){en(u),p=Jn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function mr(u,p){return en(u),p=Jn(u,p),u.g.has(p)}r.forEach=function(u,p){en(this),this.g.forEach(function(y,T){y.forEach(function(F){u.call(p,F,T,this)},this)},this)},r.na=function(){en(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let T=0;T<p.length;T++){const F=u[T];for(let q=0;q<F.length;q++)y.push(p[T])}return y},r.V=function(u){en(this);let p=[];if(typeof u=="string")mr(this,u)&&(p=p.concat(this.g.get(Jn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},r.set=function(u,p){return en(this),this.i=null,u=Jn(this,u),mr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Ui(u,p,y){pr(u,p),0<y.length&&(u.i=null,u.g.set(Jn(u,p),B(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var T=p[y];const q=encodeURIComponent(String(T)),ie=this.V(T);for(T=0;T<ie.length;T++){var F=q;ie[T]!==""&&(F+="="+encodeURIComponent(String(ie[T]))),u.push(F)}}return this.i=u.join("&")};function Jn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Ur(u,p){p&&!u.j&&(en(u),u.i=null,u.g.forEach(function(y,T){var F=T.toLowerCase();T!=F&&(pr(this,T),Ui(this,F,y))},u)),u.j=p}function eh(u,p){const y=new $;if(f.Image){const T=new Image;T.onload=V(Pn,y,"TestLoadImage: loaded",!0,p,T),T.onerror=V(Pn,y,"TestLoadImage: error",!1,p,T),T.onabort=V(Pn,y,"TestLoadImage: abort",!1,p,T),T.ontimeout=V(Pn,y,"TestLoadImage: timeout",!1,p,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else p(!1)}function Wl(u,p){const y=new $,T=new AbortController,F=setTimeout(()=>{T.abort(),Pn(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(F),q.ok?Pn(y,"TestPingServer: ok",!0,p):Pn(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(F),Pn(y,"TestPingServer: error",!1,p)})}function Pn(u,p,y,T,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),T(y)}catch{}}function th(){this.g=new Ss}function ql(u,p,y){const T=y||"";try{Li(u,function(F,q){let ie=F;v(F)&&(ie=Ni(F)),p.push(T+q+"="+encodeURIComponent(ie))})}catch(F){throw p.push(T+"type="+encodeURIComponent("_badmap")),F}}function si(u){this.l=u.Ub||null,this.j=u.eb||!1}H(si,xr),si.prototype.g=function(){return new Ns(this.l,this.j)},si.prototype.i=(function(u){return function(){return u}})({});function Ns(u,p){Pt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(Ns,Pt),r=Ns.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,yr(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?gr(this):yr(this),this.readyState==3&&Gl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,gr(this))},r.Qa=function(u){this.g&&(this.response=u,gr(this))},r.ga=function(){this.g&&gr(this)};function gr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,yr(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function yr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function oi(u){let p="";return Ue(u,function(y,T){p+=T,p+=":",p+=y,p+=`\r
`}),p}function ji(u,p,y){e:{for(T in y){var T=!1;break e}T=!0}T||(y=oi(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):dt(u,p,y))}function _t(u){Pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(_t,Pt);var nh=/^https?$/i,Ta=["POST","PUT"];r=_t.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ce.g(),this.v=this.o?fr(this.o):fr(ce),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(q){Ds(this,q);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var F in T)y.set(F,T[F]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())y.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),F=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ta,p,void 0))||T||F||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ie]of y)this.g.setRequestHeader(q,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_o(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Ds(this,q)}};function Ds(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,vo(u),$n(u)}function vo(u){u.A||(u.A=!0,Tt(u,"complete"),Tt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Tt(this,"complete"),Tt(this,"abort"),$n(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),_t.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ia(this):this.bb())},r.bb=function(){Ia(this)};function Ia(u){if(u.h&&typeof h<"u"&&(!u.v[1]||kn(u)!=4||u.Z()!=2)){if(u.u&&kn(u)==4)_n(u.Ea,0,u);else if(Tt(u,"readystatechange"),kn(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var T;if(T=ie===0){var F=String(u.D).match(Ps)[1]||null;!F&&f.self&&f.self.location&&(F=f.self.location.protocol.slice(0,-1)),T=!nh.test(F?F.toLowerCase():"")}y=T}if(y)Tt(u,"complete"),Tt(u,"success");else{u.m=6;try{var q=2<kn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",vo(u)}}finally{$n(u)}}}}function $n(u,p){if(u.g){_o(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Tt(u,"ready");try{y.onreadystatechange=T}catch{}}}function _o(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function kn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Di(p)}};function Sa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Eo(u){const p={};u=(u.g&&2<=kn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(te(u[T]))continue;var y=x(u[T]);const F=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=p[F]||[];p[F]=q,q.push(y)}I(p,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function Ra(u){this.Aa=0,this.i=[],this.j=new $,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jr("baseRetryDelayMs",5e3,u),this.cb=jr("retryDelaySeedMs",1e4,u),this.Wa=jr("forwardChannelMaxRetries",2,u),this.wa=jr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ot(u&&u.concurrentRequestLimit),this.Da=new th,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ra.prototype,r.la=8,r.G=1,r.connect=function(u,p,y,T){It(0),this.W=u,this.H=p||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=Xl(this,null,this.W),zr(this)};function tn(u){if(wo(u),u.G==3){var p=u.U++,y=Bn(u.I);if(dt(y,"SID",u.K),dt(y,"RID",p),dt(y,"TYPE","terminate"),ai(u,y),p=new Le(u,u.j,p),p.L=2,p.v=bi(Bn(y)),y=!1,f.navigator&&f.navigator.sendBeacon)try{y=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&f.Image&&(new Image().src=p.v,y=!0),y||(p.g=Jl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),He(p)}Yl(u)}function vr(u){u.g&&(Aa(u),u.g.cancel(),u.g=null)}function wo(u){vr(u),u.u&&(f.clearTimeout(u.u),u.u=null),So(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function zr(u){if(!Ot(u.h)&&!u.s){u.s=!0;var p=u.Ga;nt||ae(),Z||(nt(),Z=!0),Ie.add(p,u),u.B=0}}function rh(u,p){return br(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=M(R(u.Ga,u,p),Ql(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new Le(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),k(q,this.S)):q=this.S),this.m!==null||this.O||(F.H=q,q=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=zi(this,F,p),y=Bn(this.I),dt(y,"RID",u),dt(y,"CVER",22),this.D&&dt(y,"X-HTTP-Session-Id",this.D),ai(this,y),q&&(this.O?p="headers="+encodeURIComponent(String(oi(q)))+"&"+p:this.m&&ji(y,this.m,q)),Xn(this.h,F),this.Ua&&dt(y,"TYPE","init"),this.P?(dt(y,"$req",p),dt(y,"SID","null"),F.T=!0,lt(F,y,null)):lt(F,y,p),this.G=2}}else this.G==3&&(u?To(this,u):this.i.length==0||Ot(this.h)||To(this))};function To(u,p){var y;p?y=p.l:y=u.U++;const T=Bn(u.I);dt(T,"SID",u.K),dt(T,"RID",y),dt(T,"AID",u.T),ai(u,T),u.m&&u.o&&ji(T,u.m,u.o),y=new Le(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=zi(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Xn(u.h,y),lt(y,T,p)}function ai(u,p){u.H&&Ue(u.H,function(y,T){dt(p,T,y)}),u.l&&Li({},function(y,T){dt(p,T,y)})}function zi(u,p,y){y=Math.min(u.i.length,y);var T=u.l?R(u.l.Na,u.l,u):null;e:{var F=u.i;let q=-1;for(;;){const ie=["count="+y];q==-1?0<y?(q=F[0].g,ie.push("ofs="+q)):q=0:ie.push("ofs="+q);let ut=!0;for(let Bt=0;Bt<y;Bt++){let et=F[Bt].g;const Kt=F[Bt].map;if(et-=q,0>et)q=Math.max(0,F[Bt].g-100),ut=!1;else try{ql(Kt,ie,"req"+et+"_")}catch{T&&T(Kt)}}if(ut){T=ie.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,T}function xs(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;nt||ae(),Z||(nt(),Z=!0),Ie.add(p,u),u.v=0}}function Io(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=M(R(u.Fa,u),Ql(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Kl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=M(R(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),vr(this),Kl(this))};function Aa(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Kl(u){u.g=new Le(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Bn(u.qa);dt(p,"RID","rpc"),dt(p,"SID",u.K),dt(p,"AID",u.T),dt(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&dt(p,"TO",u.ja),dt(p,"TYPE","xmlhttp"),ai(u,p),u.m&&u.o&&ji(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=bi(Bn(p)),y.m=null,y.P=!0,Yn(y,u)}r.Za=function(){this.C!=null&&(this.C=null,vr(this),Io(this),It(19))};function So(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Ro(u,p){var y=null;if(u.g==p){So(u),Aa(u),u.g=null;var T=2}else if(Ke(u.h,p))y=p.D,Cs(u.h,p),T=1;else return;if(u.G!=0){if(p.o)if(T==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var F=u.B;T=Vr(),Tt(T,new N(T,y)),zr(u)}else xs(u);else if(F=p.s,F==3||F==0&&0<p.X||!(T==1&&rh(u,p)||T==2&&Io(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),F){case 1:li(u,5);break;case 4:li(u,10);break;case 3:li(u,6);break;default:li(u,2)}}}function Ql(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function li(u,p){if(u.j.info("Error code "+p),p==2){var y=R(u.fb,u),T=u.Xa;const F=!T;T=new ii(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ks(T,"https"),bi(T),F?eh(T.toString(),y):Wl(T.toString(),y)}else It(2);u.G=0,u.l&&u.l.sa(p),Yl(u),wo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Yl(u){if(u.G=0,u.ka=[],u.l){const p=po(u.h);(p.length!=0||u.i.length!=0)&&(z(u.ka,p),z(u.ka,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.ra()}}function Xl(u,p,y){var T=y instanceof ii?Bn(y):new ii(y);if(T.g!="")p&&(T.g=p+"."+T.g),Oi(T,T.s);else{var F=f.location;T=F.protocol,p=p?p+"."+F.hostname:F.hostname,F=+F.port;var q=new ii(null);T&&ks(q,T),p&&(q.g=p),F&&Oi(q,F),y&&(q.l=y),T=q}return y=u.D,p=u.ya,y&&p&&dt(T,y,p),dt(T,"VER",u.la),ai(u,T),T}function Jl(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new _t(new si({eb:y})):new _t(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ca(){}r=Ca.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ao(){}Ao.prototype.g=function(u,p){return new En(u,p)};function En(u,p){Pt.call(this),this.g=new Ra(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!te(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!te(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Br(this)}H(En,Pt),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){tn(this.g)},En.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Ni(u),u=y);p.i.push(new We(p.Ya++,u)),p.G==3&&zr(p)},En.prototype.N=function(){this.g.l=null,delete this.j,tn(this.g),delete this.g,En.aa.N.call(this)};function Zl(u){An.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}H(Zl,An);function eu(){xi.call(this),this.status=1}H(eu,xi);function Br(u){this.g=u}H(Br,Ca),Br.prototype.ua=function(){Tt(this.g,"a")},Br.prototype.ta=function(u){Tt(this.g,new Zl(u))},Br.prototype.sa=function(u){Tt(this.g,new eu)},Br.prototype.ra=function(){Tt(this.g,"b")},Ao.prototype.createWebChannel=Ao.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,eE=function(){return new Ao},Z_=function(){return Vr()},J_=Un,nf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fe.NO_ERROR=0,fe.TIMEOUT=8,fe.HTTP_ERROR=6,oc=fe,ue.COMPLETE="complete",X_=ue,ri.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,rl=ri,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,Y_=_t}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});const Ly="@firebase/firestore",Oy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new Pf("@firebase/firestore");function Qo(){return io.logLevel}function de(r,...e){if(io.logLevel<=Qe.DEBUG){const t=e.map(zf);io.debug(`Firestore (${ga}): ${r}`,...t)}}function Si(r,...e){if(io.logLevel<=Qe.ERROR){const t=e.map(zf);io.error(`Firestore (${ga}): ${r}`,...t)}}function aa(r,...e){if(io.logLevel<=Qe.WARN){const t=e.map(zf);io.warn(`Firestore (${ga}): ${r}`,...t)}}function zf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,tE(r,i,t)}function tE(r,e,t){let i=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Si(i),new Error(i)}function at(r,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,r||tE(e,o,i)}function be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ai{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(mn.UNAUTHENTICATED)))}shutdown(){}}class lA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class uA{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){at(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let l=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Zs,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},f=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>f(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Zs)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(at(typeof i.accessToken=="string",31837,{l:i}),new nE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class cA{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hA{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new cA(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class My{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dA{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ar(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){at(this.o===void 0,3512);const i=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new My(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(at(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new My(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=fA(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function Xe(r,e){return r<e?-1:r>e?1:0}function rf(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const o=r.charAt(i),l=e.charAt(i);if(o!==l)return Fd(o)===Fd(l)?Xe(o,l):Fd(o)?1:-1}return Xe(r.length,e.length)}const pA=55296,mA=57343;function Fd(r){const e=r.charCodeAt(0);return e>=pA&&e<=mA}function la(r,e,t){return r.length===e.length&&r.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="__name__";class Gr{constructor(e,t,i){t===void 0?t=0:t>e.length&&De(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&De(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Gr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=Gr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Xe(e.length,t.length)}static compareSegments(e,t){const i=Gr.isNumericId(e),o=Gr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Gr.extractNumericId(e).compare(Gr.extractNumericId(t)):rf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fs.fromString(e.substring(4,e.length-2))}}class mt extends Gr{construct(e,t,i){return new mt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(K.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new mt(t)}static emptyPath(){return new mt([])}}const gA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Gr{construct(e,t,i){return new on(e,t,i)}static isValidIdentifier(e){return gA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===by}static keyField(){return new on([by])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new he(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new he(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(i+=f,o++):(l(),o++)}if(l(),h)throw new he(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(t)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(mt.fromString(e))}static fromName(e){return new Se(mt.fromString(e).popFirst(5))}static empty(){return new Se(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(r,e,t){if(!t)throw new he(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function yA(r,e,t,i){if(e===!0&&i===!0)throw new he(K.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Fy(r){if(!Se.isDocumentKey(r))throw new he(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Uy(r){if(Se.isDocumentKey(r))throw new he(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function iE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function jc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":De(12329,{type:typeof r})}function ul(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jc(r);throw new he(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Ml(r,e){if(!iE(r))throw new he(K.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const h=r[i];if(o&&typeof h!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new he(K.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=-62135596800,zy=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*zy);return new gt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jy)throw new he(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zy}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ml(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:zt("string",gt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new gt(0,0))}static max(){return new Me(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=-1;function vA(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Me.fromTimestamp(i===1e9?new gt(t+1,0):new gt(t,i));return new ms(o,Se.empty(),e)}function _A(r){return new ms(r.readTime,r.key,vl)}class ms{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ms(Me.min(),Se.empty(),vl)}static max(){return new ms(Me.max(),Se.empty(),vl)}}function EA(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(r.documentKey,e.documentKey),t!==0?t:Xe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==wA)throw r;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.reject(t)}static resolve(e){return new Q(((t,i)=>{t(e)}))}static reject(e){return new Q(((t,i)=>{i(e)}))}static waitFor(e){return new Q(((t,i)=>{let o=0,l=0,h=!1;e.forEach((f=>{++o,f.next((()=>{++l,h&&l===o&&t()}),(g=>i(g)))})),h=!0,l===o&&t()}))}static or(e){let t=Q.resolve(!1);for(const i of e)t=t.next((o=>o?Q.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new Q(((i,o)=>{const l=e.length,h=new Array(l);let f=0;for(let g=0;g<l;g++){const v=g;t(e[v]).next((E=>{h[v]=E,++f,f===l&&i(h)}),(E=>o(E)))}}))}static doWhile(e,t){return new Q(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function IA(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function va(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=-1;function Bc(r){return r==null}function Sc(r){return r===0&&1/r==-1/0}function SA(r){return typeof r=="number"&&Number.isInteger(r)&&!Sc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="";function RA(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=By(e)),e=AA(r.get(t),e);return By(e)}function AA(r,e){let t=e;const i=r.length;for(let o=0;o<i;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case sE:t+="";break;default:t+=l}}return t}function By(r){return r+sE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ao(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function oE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new At(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xu(this.root,e,this.comparator,!0)}}class Xu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??sn.RED,this.left=o??sn.EMPTY,this.right=l??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new sn(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hy(this.data.getIterator())}getIteratorFrom(e){return new Hy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class Hy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Pr([])}unionWith(e){let t=new qt(on.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Pr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new aE("Invalid base64 string: "+l):l}})(e);return new an(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new an(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const CA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(r){if(at(!!r,39018),typeof r=="string"){let e=0;const t=CA.exec(r);if(at(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Vt(r.seconds),nanos:Vt(r.nanos)}}function Vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ys(r){return typeof r=="string"?an.fromBase64String(r):an.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="server_timestamp",uE="__type__",cE="__previous_value__",hE="__local_write_time__";function Hf(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[uE])==null?void 0:i.stringValue)===lE}function $c(r){const e=r.mapValue.fields[cE];return Hf(e)?$c(e):e}function _l(r){const e=gs(r.mapValue.fields[hE].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,t,i,o,l,h,f,g,v,E){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=E}}const Rc="(default)";class El{constructor(e,t){this.projectId=e,this.database=t||Rc}static empty(){return new El("","")}get isDefaultDatabase(){return this.database===Rc}isEqual(e){return e instanceof El&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="__type__",kA="__max__",Ju={mapValue:{}},fE="__vector__",Ac="value";function vs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hf(r)?4:DA(r)?9007199254740991:NA(r)?10:11:De(28295,{value:r})}function ei(r,e){if(r===e)return!0;const t=vs(r);if(t!==vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return _l(r).isEqual(_l(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=gs(o.timestampValue),f=gs(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return ys(o.bytesValue).isEqual(ys(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return Vt(o.geoPointValue.latitude)===Vt(l.geoPointValue.latitude)&&Vt(o.geoPointValue.longitude)===Vt(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Vt(o.integerValue)===Vt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Vt(o.doubleValue),f=Vt(l.doubleValue);return h===f?Sc(h)===Sc(f):isNaN(h)&&isNaN(f)}return!1})(r,e);case 9:return la(r.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if($y(h)!==$y(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!ei(h[g],f[g])))return!1;return!0})(r,e);default:return De(52216,{left:r})}}function wl(r,e){return(r.values||[]).find((t=>ei(t,e)))!==void 0}function ua(r,e){if(r===e)return 0;const t=vs(r),i=vs(e);if(t!==i)return Xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(r.booleanValue,e.booleanValue);case 2:return(function(l,h){const f=Vt(l.integerValue||l.doubleValue),g=Vt(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1})(r,e);case 3:return Wy(r.timestampValue,e.timestampValue);case 4:return Wy(_l(r),_l(e));case 5:return rf(r.stringValue,e.stringValue);case 6:return(function(l,h){const f=ys(l),g=ys(h);return f.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(l,h){const f=l.split("/"),g=h.split("/");for(let v=0;v<f.length&&v<g.length;v++){const E=Xe(f[v],g[v]);if(E!==0)return E}return Xe(f.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,h){const f=Xe(Vt(l.latitude),Vt(h.latitude));return f!==0?f:Xe(Vt(l.longitude),Vt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return qy(r.arrayValue,e.arrayValue);case 10:return(function(l,h){var R,V,H,B;const f=l.fields||{},g=h.fields||{},v=(R=f[Ac])==null?void 0:R.arrayValue,E=(V=g[Ac])==null?void 0:V.arrayValue,w=Xe(((H=v==null?void 0:v.values)==null?void 0:H.length)||0,((B=E==null?void 0:E.values)==null?void 0:B.length)||0);return w!==0?w:qy(v,E)})(r.mapValue,e.mapValue);case 11:return(function(l,h){if(l===Ju.mapValue&&h===Ju.mapValue)return 0;if(l===Ju.mapValue)return 1;if(h===Ju.mapValue)return-1;const f=l.fields||{},g=Object.keys(f),v=h.fields||{},E=Object.keys(v);g.sort(),E.sort();for(let w=0;w<g.length&&w<E.length;++w){const R=rf(g[w],E[w]);if(R!==0)return R;const V=ua(f[g[w]],v[E[w]]);if(V!==0)return V}return Xe(g.length,E.length)})(r.mapValue,e.mapValue);default:throw De(23264,{he:t})}}function Wy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Xe(r,e);const t=gs(r),i=gs(e),o=Xe(t.seconds,i.seconds);return o!==0?o:Xe(t.nanos,i.nanos)}function qy(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=ua(t[o],i[o]);if(l)return l}return Xe(t.length,i.length)}function ca(r){return sf(r)}function sf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=gs(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return ys(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Se.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=sf(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${sf(t.fields[h])}`;return o+"}"})(r.mapValue):De(61005,{value:r})}function ac(r){switch(vs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$c(r);return e?16+ac(e):16;case 5:return 2*r.stringValue.length;case 6:return ys(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+ac(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return ao(i.fields,((l,h)=>{o+=l.length+ac(h)})),o})(r.mapValue);default:throw De(13486,{value:r})}}function Gy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function of(r){return!!r&&"integerValue"in r}function Wf(r){return!!r&&"arrayValue"in r}function Ky(r){return!!r&&"nullValue"in r}function Qy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function lc(r){return!!r&&"mapValue"in r}function NA(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[dE])==null?void 0:i.stringValue)===fE}function cl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ao(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=cl(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cl(r.arrayValue.values[t]);return e}return{...r}}function DA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===kA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!lc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cl(t)}setAll(e){let t=on.emptyPath(),i={},o=[];e.forEach(((h,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,i,o),i={},o=[],t=f.popLast()}h?i[f.lastSegment()]=cl(h):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());lc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ao(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new or(cl(this.value))}}function pE(r){const e=[];return ao(r.fields,((t,i)=>{const o=new on([t]);if(lc(i)){const l=pE(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,t,i,o,l,h,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new gn(e,0,Me.min(),Me.min(),Me.min(),or.empty(),0)}static newFoundDocument(e,t,i,o){return new gn(e,1,t,Me.min(),i,o,0)}static newNoDocument(e,t){return new gn(e,2,t,Me.min(),Me.min(),or.empty(),0)}static newUnknownDocument(e,t){return new gn(e,3,t,Me.min(),Me.min(),or.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t){this.position=e,this.inclusive=t}}function Yy(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?i=Se.comparator(Se.fromName(h.referenceValue),t.key):i=ua(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Xy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ei(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,t="asc"){this.field=e,this.dir=t}}function xA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{}class jt extends mE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new LA(e,t,i):t==="array-contains"?new bA(e,i):t==="in"?new FA(e,i):t==="not-in"?new UA(e,i):t==="array-contains-any"?new jA(e,i):new jt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new OA(e,i):new MA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ua(t,this.value)):t!==null&&vs(this.value)===vs(t)&&this.matchesComparison(ua(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends mE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Nr(e,t)}matches(e){return gE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gE(r){return r.op==="and"}function yE(r){return VA(r)&&gE(r)}function VA(r){for(const e of r.filters)if(e instanceof Nr)return!1;return!0}function af(r){if(r instanceof jt)return r.field.canonicalString()+r.op.toString()+ca(r.value);if(yE(r))return r.filters.map((e=>af(e))).join(",");{const e=r.filters.map((t=>af(t))).join(",");return`${r.op}(${e})`}}function vE(r,e){return r instanceof jt?(function(i,o){return o instanceof jt&&i.op===o.op&&i.field.isEqual(o.field)&&ei(i.value,o.value)})(r,e):r instanceof Nr?(function(i,o){return o instanceof Nr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,h,f)=>l&&vE(h,o.filters[f])),!0):!1})(r,e):void De(19439)}function _E(r){return r instanceof jt?(function(t){return`${t.field.canonicalString()} ${t.op} ${ca(t.value)}`})(r):r instanceof Nr?(function(t){return t.op.toString()+" {"+t.getFilters().map(_E).join(" ,")+"}"})(r):"Filter"}class LA extends jt{constructor(e,t,i){super(e,t,i),this.key=Se.fromName(i.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class OA extends jt{constructor(e,t){super(e,"in",t),this.keys=EE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class MA extends jt{constructor(e,t){super(e,"not-in",t),this.keys=EE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function EE(r,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>Se.fromName(i.referenceValue)))}class bA extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wf(t)&&wl(t.arrayValue,this.value)}}class FA extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wl(this.value.arrayValue,t)}}class UA extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!wl(this.value.arrayValue,t)}}class jA extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>wl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,t=null,i=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.Te=null}}function Jy(r,e=null,t=[],i=[],o=null,l=null,h=null){return new zA(r,e,t,i,o,l,h)}function qf(r){const e=be(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>af(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Bc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>ca(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>ca(i))).join(",")),e.Te=t}return e.Te}function Gf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!xA(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!vE(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Xy(r.startAt,e.startAt)&&Xy(r.endAt,e.endAt)}function lf(r){return Se.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t=null,i=[],o=[],l=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BA(r,e,t,i,o,l,h,f){return new _a(r,e,t,i,o,l,h,f)}function Kf(r){return new _a(r)}function Zy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function wE(r){return r.collectionGroup!==null}function hl(r){const e=be(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new qt(on.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(f=f.add(v.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Tl(l,i))})),t.has(on.keyField().canonicalString())||e.Ie.push(new Tl(on.keyField(),i))}return e.Ie}function Qr(r){const e=be(r);return e.Ee||(e.Ee=$A(e,hl(r))),e.Ee}function $A(r,e){if(r.limitType==="F")return Jy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Tl(o.field,l)}));const t=r.endAt?new Cc(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Cc(r.startAt.position,r.startAt.inclusive):null;return Jy(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function uf(r,e){const t=r.filters.concat([e]);return new _a(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function cf(r,e,t){return new _a(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Hc(r,e){return Gf(Qr(r),Qr(e))&&r.limitType===e.limitType}function TE(r){return`${qf(Qr(r))}|lt:${r.limitType}`}function Yo(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>_E(o))).join(", ")}]`),Bc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>ca(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>ca(o))).join(",")),`Target(${i})`})(Qr(r))}; limitType=${r.limitType})`}function Wc(r,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Se.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,o){for(const l of hl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(h,f,g){const v=Yy(h,f,g);return h.inclusive?v<=0:v<0})(i.startAt,hl(i),o)||i.endAt&&!(function(h,f,g){const v=Yy(h,f,g);return h.inclusive?v>=0:v>0})(i.endAt,hl(i),o))})(r,e)}function HA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function IE(r){return(e,t)=>{let i=!1;for(const o of hl(r)){const l=WA(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function WA(r,e,t){const i=r.field.isKeyField()?Se.comparator(e.key,t.key):(function(l,h,f){const g=h.data.field(l),v=f.data.field(l);return g!==null&&v!==null?ua(g,v):De(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return De(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ao(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return oE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=new At(Se.comparator);function Ri(){return qA}const SE=new At(Se.comparator);function il(...r){let e=SE;for(const t of r)e=e.insert(t.key,t);return e}function RE(r){let e=SE;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Xs(){return dl()}function AE(){return dl()}function dl(){return new lo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const GA=new At(Se.comparator),KA=new qt(Se.comparator);function Je(...r){let e=KA;for(const t of r)e=e.add(t);return e}const QA=new qt(Xe);function YA(){return QA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sc(e)?"-0":e}}function CE(r){return{integerValue:""+r}}function XA(r,e){return SA(e)?CE(e):Qf(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this._=void 0}}function JA(r,e,t){return r instanceof Il?(function(o,l){const h={fields:{[uE]:{stringValue:lE},[hE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Hf(l)&&(l=$c(l)),l&&(h.fields[cE]=l),{mapValue:h}})(t,e):r instanceof Sl?kE(r,e):r instanceof Rl?NE(r,e):(function(o,l){const h=PE(o,l),f=ev(h)+ev(o.Ae);return of(h)&&of(o.Ae)?CE(f):Qf(o.serializer,f)})(r,e)}function ZA(r,e,t){return r instanceof Sl?kE(r,e):r instanceof Rl?NE(r,e):t}function PE(r,e){return r instanceof Pc?(function(i){return of(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Il extends qc{}class Sl extends qc{constructor(e){super(),this.elements=e}}function kE(r,e){const t=DE(e);for(const i of r.elements)t.some((o=>ei(o,i)))||t.push(i);return{arrayValue:{values:t}}}class Rl extends qc{constructor(e){super(),this.elements=e}}function NE(r,e){let t=DE(e);for(const i of r.elements)t=t.filter((o=>!ei(o,i)));return{arrayValue:{values:t}}}class Pc extends qc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ev(r){return Vt(r.integerValue||r.doubleValue)}function DE(r){return Wf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,t){this.field=e,this.transform=t}}function tC(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof Sl&&o instanceof Sl||i instanceof Rl&&o instanceof Rl?la(i.elements,o.elements,ei):i instanceof Pc&&o instanceof Pc?ei(i.Ae,o.Ae):i instanceof Il&&o instanceof Il})(r.transform,e.transform)}class nC{constructor(e,t){this.version=e,this.transformResults=t}}class wi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Gc{}function xE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new LE(r.key,wi.none()):new bl(r.key,r.data,wi.none());{const t=r.data,i=or.empty();let o=new qt(on.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new uo(r.key,i,new Pr(o.toArray()),wi.none())}}function rC(r,e,t){r instanceof bl?(function(o,l,h){const f=o.value.clone(),g=nv(o.fieldTransforms,l,h.transformResults);f.setAll(g),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()})(r,e,t):r instanceof uo?(function(o,l,h){if(!uc(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=nv(o.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(VE(o)),g.setAll(f),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function fl(r,e,t,i){return r instanceof bl?(function(l,h,f,g){if(!uc(l.precondition,h))return f;const v=l.value.clone(),E=rv(l.fieldTransforms,g,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(r,e,t,i):r instanceof uo?(function(l,h,f,g){if(!uc(l.precondition,h))return f;const v=rv(l.fieldTransforms,g,h),E=h.data;return E.setAll(VE(l)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((w=>w.field)))})(r,e,t,i):(function(l,h,f){return uc(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f})(r,e,t)}function iC(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),l=PE(i.transform,o||null);l!=null&&(t===null&&(t=or.empty()),t.set(i.field,l))}return t||null}function tv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&la(i,o,((l,h)=>tC(l,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class bl extends Gc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class uo extends Gc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function VE(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function nv(r,e,t){const i=new Map;at(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,f=e.data.field(l.field);i.set(l.field,ZA(h,f,t[o]))}return i}function rv(r,e,t){const i=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);i.set(o.field,JA(l,h,e))}return i}class LE extends Gc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sC extends Gc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&rC(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=fl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=fl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=AE();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const g=xE(h,f);g!==null&&i.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Me.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Je())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,((t,i)=>tv(t,i)))&&la(this.baseMutations,e.baseMutations,((t,i)=>tv(t,i)))}}class Yf{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){at(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return GA})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new Yf(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,tt;function uC(r){switch(r){case K.OK:return De(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return De(15467,{code:r})}}function OE(r){if(r===void 0)return Si("GRPC error has no .code"),K.UNKNOWN;switch(r){case Ft.OK:return K.OK;case Ft.CANCELLED:return K.CANCELLED;case Ft.UNKNOWN:return K.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return K.INTERNAL;case Ft.UNAVAILABLE:return K.UNAVAILABLE;case Ft.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ft.NOT_FOUND:return K.NOT_FOUND;case Ft.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ft.ABORTED:return K.ABORTED;case Ft.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ft.DATA_LOSS:return K.DATA_LOSS;default:return De(39323,{code:r})}}(tt=Ft||(Ft={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=new fs([4294967295,4294967295],0);function iv(r){const e=cC().encode(r),t=new Q_;return t.update(e),new Uint8Array(t.digest())}function sv(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new fs([t,i],0),new fs([o,l],0)]}class Xf{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new sl(`Invalid padding: ${t}`);if(i<0)throw new sl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new sl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new sl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=fs.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(fs.fromNumber(i)));return o.compare(hC)===1&&(o=new fs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=iv(e),[i,o]=sv(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(i,o,l);if(!this.we(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Xf(l,o,t);return i.forEach((f=>h.insert(f))),h}insert(e){if(this.ge===0)return;const t=iv(e),[i,o]=sv(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(i,o,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Fl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Kc(Me.min(),o,new At(Xe),Ri(),Je())}}class Fl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Fl(i,t,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class ME{constructor(e,t){this.targetId=e,this.Ce=t}}class bE{constructor(e,t,i=an.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class ov{constructor(){this.ve=0,this.Fe=av(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),t=Je(),i=Je();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:De(38017,{changeType:l})}})),new Fl(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=av()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ri(),this.Je=Zu(),this.He=Zu(),this.Ye=new At(Xe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(lf(l))if(i===0){const h=new Se(l.path);this.et(t,h,gn.newNoDocument(h,Me.min()))}else at(i===1,20013,{expectedCount:i});else{const h=this._t(t);if(h!==i){const f=this.ut(e),g=f?this.ct(f,e,h):1;if(g!==0){this.it(t);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=ys(i).toUint8Array()}catch(g){if(g instanceof aE)return aa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Xf(h,o,l)}catch(g){return aa(g instanceof sl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const h=this.Ge.ht(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,h)=>{const f=this.ot(h);if(f){if(l.current&&lf(f.target)){const g=new Se(f.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,gn.newNoDocument(g,e))}l.Be&&(t.set(h,l.ke()),l.qe())}}));let i=Je();this.He.forEach(((l,h)=>{let f=!0;h.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,h)=>h.setReadTime(e)));const o=new Kc(e,t,this.Ye,this.je,i);return this.je=Ri(),this.Je=Zu(),this.He=Zu(),this.Ye=new At(Xe),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ov,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new qt(Xe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new qt(Xe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ov),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Zu(){return new At(Se.comparator)}function av(){return new At(Se.comparator)}const fC={asc:"ASCENDING",desc:"DESCENDING"},pC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mC={and:"AND",or:"OR"};class gC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hf(r,e){return r.useProto3Json||Bc(e)?e:{value:e}}function kc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function yC(r,e){return kc(r,e.toTimestamp())}function Yr(r){return at(!!r,49232),Me.fromTimestamp((function(t){const i=gs(t);return new gt(i.seconds,i.nanos)})(r))}function Jf(r,e){return df(r,e).canonicalString()}function df(r,e){const t=(function(o){return new mt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function UE(r){const e=mt.fromString(r);return at(HE(e),10190,{key:e.toString()}),e}function ff(r,e){return Jf(r.databaseId,e.path)}function Ud(r,e){const t=UE(e);if(t.get(1)!==r.databaseId.projectId)throw new he(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new he(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Se(zE(t))}function jE(r,e){return Jf(r.databaseId,e)}function vC(r){const e=UE(r);return e.length===4?mt.emptyPath():zE(e)}function pf(r){return new mt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function zE(r){return at(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function lv(r,e,t){return{name:ff(r,e),fields:t.value.mapValue.fields}}function _C(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:De(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(v,E){return v.useProto3Json?(at(E===void 0||typeof E=="string",58123),an.fromBase64String(E||"")):(at(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),an.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(v){const E=v.code===void 0?K.UNKNOWN:OE(v.code);return new he(E,v.message||"")})(h);t=new bE(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Ud(r,i.document.name),l=Yr(i.document.updateTime),h=i.document.createTime?Yr(i.document.createTime):Me.min(),f=new or({mapValue:{fields:i.document.fields}}),g=gn.newFoundDocument(o,l,h,f),v=i.targetIds||[],E=i.removedTargetIds||[];t=new cc(v,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Ud(r,i.document),l=i.readTime?Yr(i.readTime):Me.min(),h=gn.newNoDocument(o,l),f=i.removedTargetIds||[];t=new cc([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Ud(r,i.document),l=i.removedTargetIds||[];t=new cc([],l,o,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new lC(o,l),f=i.targetId;t=new ME(f,h)}}return t}function EC(r,e){let t;if(e instanceof bl)t={update:lv(r,e.key,e.value)};else if(e instanceof LE)t={delete:ff(r,e.key)};else if(e instanceof uo)t={update:lv(r,e.key,e.data),updateMask:kC(e.fieldMask)};else{if(!(e instanceof sC))return De(16599,{Vt:e.type});t={verify:ff(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,h){const f=h.transform;if(f instanceof Il)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Sl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Rl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Pc)return{fieldPath:h.field.canonicalString(),increment:f.Ae};throw De(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:yC(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:De(27497)})(r,e.precondition)),t}function wC(r,e){return r&&r.length>0?(at(e!==void 0,14353),r.map((t=>(function(o,l){let h=o.updateTime?Yr(o.updateTime):Yr(l);return h.isEqual(Me.min())&&(h=Yr(l)),new nC(h,o.transformResults||[])})(t,e)))):[]}function TC(r,e){return{documents:[jE(r,e.path)]}}function IC(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=jE(r,o);const l=(function(v){if(v.length!==0)return $E(Nr.create(v,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(v){if(v.length!==0)return v.map((E=>(function(R){return{field:Xo(R.field),direction:AC(R.dir)}})(E)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=hf(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:o}}function SC(r){let e=vC(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){at(i===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=(function(w){const R=BE(w);return R instanceof Nr&&yE(R)?R.getFilters():[R]})(t.where));let h=[];t.orderBy&&(h=(function(w){return w.map((R=>(function(H){return new Tl(Jo(H.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(R)))})(t.orderBy));let f=null;t.limit&&(f=(function(w){let R;return R=typeof w=="object"?w.value:w,Bc(R)?null:R})(t.limit));let g=null;t.startAt&&(g=(function(w){const R=!!w.before,V=w.values||[];return new Cc(V,R)})(t.startAt));let v=null;return t.endAt&&(v=(function(w){const R=!w.before,V=w.values||[];return new Cc(V,R)})(t.endAt)),BA(e,o,h,l,f,"F",g,v)}function RC(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function BE(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Jo(t.unaryFilter.field);return jt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Jo(t.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Jo(t.unaryFilter.field);return jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Jo(t.unaryFilter.field);return jt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(r):r.fieldFilter!==void 0?(function(t){return jt.create(Jo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Nr.create(t.compositeFilter.filters.map((i=>BE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(t.compositeFilter.op))})(r):De(30097,{filter:r})}function AC(r){return fC[r]}function CC(r){return pC[r]}function PC(r){return mC[r]}function Xo(r){return{fieldPath:r.canonicalString()}}function Jo(r){return on.fromServerFormat(r.fieldPath)}function $E(r){return r instanceof jt?(function(t){if(t.op==="=="){if(Qy(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NAN"}};if(Ky(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Qy(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NOT_NAN"}};if(Ky(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(t.field),op:CC(t.op),value:t.value}}})(r):r instanceof Nr?(function(t){const i=t.getFilters().map((o=>$E(o)));return i.length===1?i[0]:{compositeFilter:{op:PC(t.op),filters:i}}})(r):De(54877,{filter:r})}function kC(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function HE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t,i,o,l=Me.min(),h=Me.min(),f=an.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.yt=e}}function DC(r){const e=SC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.Cn=new VC}addToCollectionParentIndex(e,t){return this.Cn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(ms.min())}updateCollectionGroup(e,t,i){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class VC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new qt(mt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new qt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WE=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(WE,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ha(0)}static cr(){return new ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="LruGarbageCollector",LC=1048576;function hv([r,e],[t,i]){const o=Xe(r,t);return o===0?Xe(e,i):o}class OC{constructor(e){this.Ir=e,this.buffer=new qt(hv),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();hv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class MC{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(cv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){va(t)?de(cv,"Ignoring IndexedDB error during garbage collection: ",t):await ya(t)}await this.Vr(3e5)}))}}class bC{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(zc.ce);const i=new OC(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(uv)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uv):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,l,h,f,g,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(i=w,f=Date.now(),this.removeTargets(e,i,t)))).next((w=>(l=w,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((w=>(v=Date.now(),Qo()<=Qe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(g-f)+`ms
	Removed ${w} documents in `+(v-g)+`ms
Total Duration: ${v-E}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w}))))}}function FC(r,e){return new bC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.changes=new lo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&fl(i.mutation,o,Pr.empty(),gt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Je()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Je()){const o=Xs();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let h=il();return l.forEach(((f,g)=>{h=h.insert(f,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const i=Xs();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Je())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,f)=>{t.set(h,f)}))}))}computeViews(e,t,i,o){let l=Ri();const h=dl(),f=(function(){return dl()})();return t.forEach(((g,v)=>{const E=i.get(v.key);o.has(v.key)&&(E===void 0||E.mutation instanceof uo)?l=l.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),fl(E.mutation,v,E.mutation.getFieldMask(),gt.now())):h.set(v.key,Pr.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((v,E)=>h.set(v,E))),t.forEach(((v,E)=>f.set(v,new jC(E,h.get(v)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=dl();let o=new At(((h,f)=>h-f)),l=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const f of h)f.keys().forEach((g=>{const v=t.get(g);if(v===null)return;let E=i.get(g)||Pr.empty();E=f.applyToLocalView(v,E),i.set(g,E);const w=(o.get(f.batchId)||Je()).add(g);o=o.insert(f.batchId,w)}))})).next((()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),v=g.key,E=g.value,w=AE();E.forEach((R=>{if(!l.has(R)){const V=xE(t.get(R),i.get(R));V!==null&&w.set(R,V),l=l.add(R)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,w))}return Q.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(h){return Se.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Q.resolve(Xs());let f=vl,g=l;return h.next((v=>Q.forEach(v,((E,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),l.get(E)?Q.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{g=g.insert(E,R)}))))).next((()=>this.populateOverlays(e,v,l))).next((()=>this.computeViews(e,g,v,Je()))).next((E=>({batchId:f,changes:RE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next((i=>{let o=il();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=il();return this.indexManager.getCollectionParents(e,l).next((f=>Q.forEach(f,(g=>{const v=(function(w,R){return new _a(R,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,i,o).next((E=>{E.forEach(((w,R)=>{h=h.insert(w,R)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((h=>{l.forEach(((g,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,gn.newInvalidDocument(E)))}));let f=il();return h.forEach(((g,v)=>{const E=l.get(g);E!==void 0&&fl(E.mutation,v,Pr.empty(),gt.now()),Wc(t,v)&&(f=f.insert(g,v))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Q.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Yr(o.createTime)}})(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:DC(o.bundledQuery),readTime:Yr(o.readTime)}})(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.overlays=new At(Se.comparator),this.qr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Xs();return Q.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.St(e,t,l)})),Q.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),Q.resolve()}getOverlaysForCollection(e,t,i){const o=Xs(),l=t.length+1,h=new Se(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&g.largestBatchId>i&&o.set(g.getKey(),g)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new At(((v,E)=>v-E));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let E=l.get(v.largestBatchId);E===null&&(E=Xs(),l=l.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const f=Xs(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,E)=>f.set(v,E))),!(f.size()>=o)););return Q.resolve(f)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new aC(t,i));let l=this.qr.get(t);l===void 0&&(l=Je(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(){this.Qr=new qt(Jt.$r),this.Ur=new qt(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Jt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Jt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new Se(new mt([])),i=new Jt(t,e),o=new Jt(t,e+1),l=[];return this.Ur.forEachInRange([i,o],(h=>{this.Gr(h),l.push(h.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Se(new mt([])),i=new Jt(t,e),o=new Jt(t,e+1);let l=Je();return this.Ur.forEachInRange([i,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new Jt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Jt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Se.comparator(e.key,t.key)||Xe(e.Yr,t.Yr)}static Kr(e,t){return Xe(e.Yr,t.Yr)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Jt.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new oC(l,t,i,o);this.mutationQueue.push(h);for(const f of o)this.Zr=this.Zr.add(new Jt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,t){return Q.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),l=o<0?0:o;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?$f:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Jt(t,0),o=new Jt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(h=>{const f=this.Xr(h.Yr);l.push(f)})),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new qt(Xe);return t.forEach((o=>{const l=new Jt(o,0),h=new Jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,h],(f=>{i=i.add(f.Yr)}))})),Q.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;Se.isDocumentKey(l)||(l=l.child(""));const h=new Jt(new Se(l),0);let f=new qt(Xe);return this.Zr.forEachWhile((g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===o&&(f=f.add(g.Yr)),!0)}),h),Q.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){at(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Q.forEach(t.mutations,(o=>{const l=new Jt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Jt(t,0),o=this.Zr.firstAfterOrEqual(i);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.ri=e,this.docs=(function(){return new At(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Q.resolve(i?i.document.mutableCopy():gn.newInvalidDocument(t))}getEntries(e,t){let i=Ri();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():gn.newInvalidDocument(o))})),Q.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Ri();const h=t.path,f=new Se(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:v,value:{document:E}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||EA(_A(E),i)<=0||(o.has(E.key)||Wc(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,i,o){De(9500)}ii(e,t){return Q.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new GC(this)}getSize(e){return Q.resolve(this.size)}}class GC extends UC{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),Q.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.persistence=e,this.si=new lo((t=>qf(t)),Gf),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.oi=0,this._i=new Zf,this.targetCount=0,this.ai=ha.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),Q.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ha(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Pr(t),Q.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.si.forEach(((h,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),Q.waitFor(l).next((()=>o))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return Q.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),Q.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return Q.resolve(i)}containsKey(e,t){return Q.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t){this.ui={},this.overlays={},this.ci=new zc(0),this.li=!1,this.li=!0,this.hi=new HC,this.referenceDelegate=e(this),this.Pi=new KC(this),this.indexManager=new xC,this.remoteDocumentCache=(function(o){return new qC(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new NC(t),this.Ii=new BC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $C,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new WC(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const o=new QC(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return Q.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class QC extends TA{constructor(e){super(),this.currentSequenceNumber=e}}class ep{constructor(e){this.persistence=e,this.Ri=new Zf,this.Vi=null}static mi(e){return new ep(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),Q.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(i=>{const o=Se.fromPath(i);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Me.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Q.or([()=>Q.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Nc{constructor(e,t){this.persistence=e,this.pi=new lo((i=>RA(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=FC(this,t)}static mi(e,t){return new Nc(e,t)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return Q.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?Q.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((f=>{f||(i++,l.removeEntry(h,Me.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Q.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ac(e.data.value)),t}br(e,t,i){return Q.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return Q.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=Je(),o=Je();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new tp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xI()?8:IA(yn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ys(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.ws(e,t,o,i).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new YC;return this.Ss(e,t,h).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,h,f.size)}))})).next((()=>l.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(Qo()<=Qe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Yo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Qo()<=Qe.DEBUG&&de("QueryEngine","Query:",Yo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Qo()<=Qe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Yo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(t))):Q.resolve())}ys(e,t){if(Zy(t))return Q.resolve(null);let i=Qr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=cf(t,null,"F"),i=Qr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const h=Je(...l);return this.ps.getDocuments(e,h).next((f=>this.indexManager.getMinOffset(e,i).next((g=>{const v=this.Ds(t,f);return this.Cs(t,v,h,g.readTime)?this.ys(e,cf(t,null,"F")):this.vs(e,v,t,g)}))))})))))}ws(e,t,i,o){return Zy(t)||o.isEqual(Me.min())?Q.resolve(null):this.ps.getDocuments(e,i).next((l=>{const h=this.Ds(t,l);return this.Cs(t,h,i,o)?Q.resolve(null):(Qo()<=Qe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Yo(t)),this.vs(e,h,t,vA(o,vl)).next((f=>f)))}))}Ds(e,t){let i=new qt(IE(e));return t.forEach(((o,l)=>{Wc(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return Qo()<=Qe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Yo(t)),this.ps.getDocumentsMatchingQuery(e,t,ms.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="LocalStore",JC=3e8;class ZC{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new At(Xe),this.xs=new lo((l=>qf(l)),Gf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function eP(r,e,t,i){return new ZC(r,e,t,i)}async function GE(r,e){const t=be(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const h=[],f=[];let g=Je();for(const v of o){h.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of l){f.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(i,g).next((v=>({Ls:v,removedBatchIds:h,addedBatchIds:f})))}))}))}function tP(r,e){const t=be(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,g,v,E){const w=v.batch,R=w.keys();let V=Q.resolve();return R.forEach((H=>{V=V.next((()=>E.getEntry(g,H))).next((B=>{const z=v.docVersions.get(H);at(z!==null,48541),B.version.compareTo(z)<0&&(w.applyToRemoteDocument(B,v),B.isValidDocument()&&(B.setReadTime(v.commitVersion),E.addEntry(B)))}))})),V.next((()=>f.mutationQueue.removeMutationBatch(g,w)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let g=Je();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(g=g.add(f.batch.mutations[v].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function KE(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function nP(r,e){const t=be(r),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((E,w)=>{const R=o.get(w);if(!R)return;f.push(t.Pi.removeMatchingKeys(l,E.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(l,E.addedDocuments,w))));let V=R.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?V=V.withResumeToken(an.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,i)),o=o.insert(w,V),(function(B,z,oe){return B.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=JC?!0:oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0})(R,V,E)&&f.push(t.Pi.updateTargetData(l,V))}));let g=Ri(),v=Je();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))})),f.push(rP(l,h,e.documentUpdates).next((E=>{g=E.ks,v=E.qs}))),!i.isEqual(Me.min())){const E=t.Pi.getLastRemoteSnapshotVersion(l).next((w=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(E)}return Q.waitFor(f).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,v))).next((()=>g))})).then((l=>(t.Ms=o,l)))}function rP(r,e,t){let i=Je(),o=Je();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let h=Ri();return t.forEach(((f,g)=>{const v=l.get(f);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(Me.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):de(np,"Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function iP(r,e){const t=be(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=$f),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function sP(r,e){const t=be(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((l=>l?(o=l,Q.resolve(o)):t.Pi.allocateTargetId(i).next((h=>(o=new ls(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function mf(r,e,t){const i=be(r),o=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!va(h))throw h;de(np,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function dv(r,e,t){const i=be(r);let o=Me.min(),l=Je();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,v,E){const w=be(g),R=w.xs.get(E);return R!==void 0?Q.resolve(w.Ms.get(R)):w.Pi.getTargetData(v,E)})(i,h,Qr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,f.targetId).next((g=>{l=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(h,e,t?o:Me.min(),t?l:Je()))).next((f=>(oP(i,HA(e),f),{documents:f,Qs:l})))))}function oP(r,e,t){let i=r.Os.get(e)||Me.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Os.set(e,i)}class fv{constructor(){this.activeTargetIds=YA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aP{constructor(){this.Mo=new fv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="ConnectivityMonitor";class mv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(pv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(pv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec=null;function gf(){return ec===null?ec=(function(){return 268435456+Math.round(2147483648*Math.random())})():ec++,"0x"+ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="RestConnection",uP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Rc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,l){const h=gf(),f=this.zo(e,t.toUriEncodedString());de(jd,`Sending RPC '${e}' ${h}:`,f,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,l);const{host:v}=new URL(f),E=fa(v);return this.Jo(e,f,g,i,E).then((w=>(de(jd,`Received RPC '${e}' ${h}: `,w),w)),(w=>{throw aa(jd,`RPC '${e}' ${h} failed with error: `,w,"url: ",f,"request:",i),w}))}Ho(e,t,i,o,l,h){return this.Go(e,t,i,o,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ga})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const i=uP[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class dP extends cP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const h=gf();return new Promise(((f,g)=>{const v=new Y_;v.setWithCredentials(!0),v.listenOnce(X_.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case oc.NO_ERROR:const w=v.getResponseJson();de(pn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),f(w);break;case oc.TIMEOUT:de(pn,`RPC '${e}' ${h} timed out`),g(new he(K.DEADLINE_EXCEEDED,"Request time out"));break;case oc.HTTP_ERROR:const R=v.getStatus();if(de(pn,`RPC '${e}' ${h} failed with status:`,R,"response text:",v.getResponseText()),R>0){let V=v.getResponseJson();Array.isArray(V)&&(V=V[0]);const H=V==null?void 0:V.error;if(H&&H.status&&H.message){const B=(function(oe){const te=oe.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(te)>=0?te:K.UNKNOWN})(H.status);g(new he(B,H.message))}else g(new he(K.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new he(K.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{de(pn,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);de(pn,`RPC '${e}' ${h} sending request:`,o),v.send(t,"POST",E,i,15)}))}T_(e,t,i){const o=gf(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=eE(),f=Z_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const E=l.join("");de(pn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const w=h.createWebChannel(E,g);this.I_(w);let R=!1,V=!1;const H=new hP({Yo:z=>{V?de(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(R||(de(pn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),R=!0),de(pn,`RPC '${e}' stream ${o} sending:`,z),w.send(z))},Zo:()=>w.close()}),B=(z,oe,te)=>{z.listen(oe,(pe=>{try{te(pe)}catch(Re){setTimeout((()=>{throw Re}),0)}}))};return B(w,rl.EventType.OPEN,(()=>{V||(de(pn,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),B(w,rl.EventType.CLOSE,(()=>{V||(V=!0,de(pn,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(w))})),B(w,rl.EventType.ERROR,(z=>{V||(V=!0,aa(pn,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),H.a_(new he(K.UNAVAILABLE,"The operation could not be completed")))})),B(w,rl.EventType.MESSAGE,(z=>{var oe;if(!V){const te=z.data[0];at(!!te,16349);const pe=te,Re=(pe==null?void 0:pe.error)||((oe=pe[0])==null?void 0:oe.error);if(Re){de(pn,`RPC '${e}' stream ${o} received error:`,Re);const je=Re.status;let Ue=(function(C){const k=Ft[C];if(k!==void 0)return OE(k)})(je),I=Re.message;Ue===void 0&&(Ue=K.INTERNAL,I="Unknown error status: "+je+" with message "+Re.message),V=!0,H.a_(new he(Ue,I)),w.close()}else de(pn,`RPC '${e}' stream ${o} received:`,te),H.u_(te)}})),B(f,J_.STAT_EVENT,(z=>{z.stat===nf.PROXY?de(pn,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===nf.NOPROXY&&de(pn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(r){return new gC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="PersistentStream";class YE{constructor(e,t,i,o,l,h,f,g){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===K.RESOURCE_EXHAUSTED?(Si(t.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new he(K.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(gv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(gv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fP extends YE{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=_C(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Me.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Me.min():h.readTime?Yr(h.readTime):Me.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=pf(this.serializer),t.addTarget=(function(l,h){let f;const g=h.target;if(f=lf(g)?{documents:TC(l,g)}:{query:IC(l,g).ft},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=FE(l,h.resumeToken);const v=hf(l,h.expectedCount);v!==null&&(f.expectedCount=v)}else if(h.snapshotVersion.compareTo(Me.min())>0){f.readTime=kc(l,h.snapshotVersion.toTimestamp());const v=hf(l,h.expectedCount);v!==null&&(f.expectedCount=v)}return f})(this.serializer,e);const i=RC(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=pf(this.serializer),t.removeTarget=e,this.q_(t)}}class pP extends YE{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=wC(e.writeResults,e.commitTime),i=Yr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=pf(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>EC(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{}class gP extends mP{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Go(e,df(t,i),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(K.UNKNOWN,l.toString())}))}Ho(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Ho(e,df(t,i),o,h,f,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(K.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class yP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Si(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="RemoteStore";class vP{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((h=>{i.enqueueAndForget((async()=>{co(this)&&(de(so,"Restarting streams for network reachability change."),await(async function(g){const v=be(g);v.Ea.add(4),await Ul(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Yc(v)})(this))}))})),this.Ra=new yP(i,o)}}async function Yc(r){if(co(r))for(const e of r.da)await e(!0)}async function Ul(r){for(const e of r.da)await e(!1)}function XE(r,e){const t=be(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),op(t)?sp(t):Ea(t).O_()&&ip(t,e))}function rp(r,e){const t=be(r),i=Ea(t);t.Ia.delete(e),i.O_()&&JE(t,e),t.Ia.size===0&&(i.O_()?i.L_():co(t)&&t.Ra.set("Unknown"))}function ip(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ea(r).Y_(e)}function JE(r,e){r.Va.Ue(e),Ea(r).Z_(e)}function sp(r){r.Va=new dC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ea(r).start(),r.Ra.ua()}function op(r){return co(r)&&!Ea(r).x_()&&r.Ia.size>0}function co(r){return be(r).Ea.size===0}function ZE(r){r.Va=void 0}async function _P(r){r.Ra.set("Online")}async function EP(r){r.Ia.forEach(((e,t)=>{ip(r,e)}))}async function wP(r,e){ZE(r),op(r)?(r.Ra.ha(e),sp(r)):r.Ra.set("Unknown")}async function TP(r,e,t){if(r.Ra.set("Online"),e instanceof bE&&e.state===2&&e.cause)try{await(async function(o,l){const h=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.Ia.delete(f),o.Va.removeTarget(f))})(r,e)}catch(i){de(so,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Dc(r,i)}else if(e instanceof cc?r.Va.Ze(e):e instanceof ME?r.Va.st(e):r.Va.tt(e),!t.isEqual(Me.min()))try{const i=await KE(r.localStore);t.compareTo(i)>=0&&await(function(l,h){const f=l.Va.Tt(h);return f.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const E=l.Ia.get(v);E&&l.Ia.set(v,E.withResumeToken(g.resumeToken,h))}})),f.targetMismatches.forEach(((g,v)=>{const E=l.Ia.get(g);if(!E)return;l.Ia.set(g,E.withResumeToken(an.EMPTY_BYTE_STRING,E.snapshotVersion)),JE(l,g);const w=new ls(E.target,g,v,E.sequenceNumber);ip(l,w)})),l.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(i){de(so,"Failed to raise snapshot:",i),await Dc(r,i)}}async function Dc(r,e,t){if(!va(e))throw e;r.Ea.add(1),await Ul(r),r.Ra.set("Offline"),t||(t=()=>KE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{de(so,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Yc(r)}))}function ew(r,e){return e().catch((t=>Dc(r,t,e)))}async function Xc(r){const e=be(r),t=_s(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$f;for(;IP(e);)try{const o=await iP(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,SP(e,o)}catch(o){await Dc(e,o)}tw(e)&&nw(e)}function IP(r){return co(r)&&r.Ta.length<10}function SP(r,e){r.Ta.push(e);const t=_s(r);t.O_()&&t.X_&&t.ea(e.mutations)}function tw(r){return co(r)&&!_s(r).x_()&&r.Ta.length>0}function nw(r){_s(r).start()}async function RP(r){_s(r).ra()}async function AP(r){const e=_s(r);for(const t of r.Ta)e.ea(t.mutations)}async function CP(r,e,t){const i=r.Ta.shift(),o=Yf.from(i,e,t);await ew(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Xc(r)}async function PP(r,e){e&&_s(r).X_&&await(async function(i,o){if((function(h){return uC(h)&&h!==K.ABORTED})(o.code)){const l=i.Ta.shift();_s(i).B_(),await ew(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Xc(i)}})(r,e),tw(r)&&nw(r)}async function yv(r,e){const t=be(r);t.asyncQueue.verifyOperationInProgress(),de(so,"RemoteStore received new credentials");const i=co(t);t.Ea.add(3),await Ul(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Yc(t)}async function kP(r,e){const t=be(r);e?(t.Ea.delete(2),await Yc(t)):e||(t.Ea.add(2),await Ul(t),t.Ra.set("Unknown"))}function Ea(r){return r.ma||(r.ma=(function(t,i,o){const l=be(t);return l.sa(),new fP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:_P.bind(null,r),t_:EP.bind(null,r),r_:wP.bind(null,r),H_:TP.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),op(r)?sp(r):r.Ra.set("Unknown")):(await r.ma.stop(),ZE(r))}))),r.ma}function _s(r){return r.fa||(r.fa=(function(t,i,o){const l=be(t);return l.sa(),new pP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:RP.bind(null,r),r_:PP.bind(null,r),ta:AP.bind(null,r),na:CP.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Xc(r)):(await r.fa.stop(),r.Ta.length>0&&(de(so,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,f=new ap(e,t,h,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lp(r,e){if(Si("AsyncQueue",`${e}: ${r}`),va(r))return new he(K.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{static emptySet(e){return new na(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Se.comparator(t.key,i.key):(t,i)=>Se.comparator(t.key,i.key),this.keyedMap=il(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof na)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new na;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(){this.ga=new At(Se.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class da{constructor(e,t,i,o,l,h,f,g,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach((f=>{h.push({type:0,doc:f})})),new da(e,t,na.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class DP{constructor(){this.queries=_v(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=be(t),l=o.queries;o.queries=_v(),l.forEach(((h,f)=>{for(const g of f.Sa)g.onError(i)}))})(this,new he(K.ABORTED,"Firestore shutting down"))}}function _v(){return new lo((r=>TE(r)),Hc)}async function xP(r,e){const t=be(r);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new NP,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=lp(h,`Initialization of query '${Yo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&up(t)}async function VP(r,e){const t=be(r),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.Sa.indexOf(e);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function LP(r,e){const t=be(r);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.Sa)f.Fa(o)&&(i=!0);h.wa=o}}i&&up(t)}function OP(r,e,t){const i=be(r),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function up(r){r.Ca.forEach((e=>{e.next()}))}var yf,Ev;(Ev=yf||(yf={})).Ma="default",Ev.Cache="cache";class MP{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new da(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this.key=e}}class iw{constructor(e){this.key=e}}class bP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=IE(e),this.tu=new na(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new vv,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const R=o.get(E),V=Wc(this.query,w)?w:null,H=!!R&&this.mutatedKeys.has(R.key),B=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let z=!1;R&&V?R.data.isEqual(V.data)?H!==B&&(i.track({type:3,doc:V}),z=!0):this.su(R,V)||(i.track({type:2,doc:V}),z=!0,(g&&this.eu(V,g)>0||v&&this.eu(V,v)<0)&&(f=!0)):!R&&V?(i.track({type:0,doc:V}),z=!0):R&&!V&&(i.track({type:1,doc:R}),z=!0,(g||v)&&(f=!0)),z&&(V?(h=h.add(V),l=B?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),i.track({type:1,doc:E})}return{tu:h,iu:i,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,w)=>(function(V,H){const B=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:z})}};return B(V)-B(H)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(i),o=o??!1;const f=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,v=g!==this.Za;return this.Za=g,h.length!==0||v?{snapshot:new da(this.query,e.tu,l,h,e.mutatedKeys,g===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new iw(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new rw(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return da.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cp="SyncEngine";class FP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class UP{constructor(e){this.key=e,this.hu=!1}}class jP{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new lo((f=>TE(f)),Hc),this.Iu=new Map,this.Eu=new Set,this.du=new At(Se.comparator),this.Au=new Map,this.Ru=new Zf,this.Vu={},this.mu=new Map,this.fu=ha.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zP(r,e,t=!0){const i=cw(r);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await sw(i,e,t,!0),o}async function BP(r,e){const t=cw(r);await sw(t,e,!0,!1)}async function sw(r,e,t,i){const o=await sP(r.localStore,Qr(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await $P(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&XE(r.remoteStore,o),f}async function $P(r,e,t,i,o){r.pu=(w,R,V)=>(async function(B,z,oe,te){let pe=z.view.ru(oe);pe.Cs&&(pe=await dv(B.localStore,z.query,!1).then((({documents:I})=>z.view.ru(I,pe))));const Re=te&&te.targetChanges.get(z.targetId),je=te&&te.targetMismatches.get(z.targetId)!=null,Ue=z.view.applyChanges(pe,B.isPrimaryClient,Re,je);return Tv(B,z.targetId,Ue.au),Ue.snapshot})(r,w,R,V);const l=await dv(r.localStore,e,!0),h=new bP(e,l.Qs),f=h.ru(l.documents),g=Fl.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),v=h.applyChanges(f,r.isPrimaryClient,g);Tv(r,t,v.au);const E=new FP(e,t,h);return r.Tu.set(e,E),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),v.snapshot}async function HP(r,e,t){const i=be(r),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((h=>!Hc(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await mf(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&rp(i.remoteStore,o.targetId),vf(i,o.targetId)})).catch(ya)):(vf(i,o.targetId),await mf(i.localStore,o.targetId,!0))}async function WP(r,e){const t=be(r),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),rp(t.remoteStore,i.targetId))}async function qP(r,e,t){const i=ZP(r);try{const o=await(function(h,f){const g=be(h),v=gt.now(),E=f.reduce(((V,H)=>V.add(H.key)),Je());let w,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let H=Ri(),B=Je();return g.Ns.getEntries(V,E).next((z=>{H=z,H.forEach(((oe,te)=>{te.isValidDocument()||(B=B.add(oe))}))})).next((()=>g.localDocuments.getOverlayedDocuments(V,H))).next((z=>{w=z;const oe=[];for(const te of f){const pe=iC(te,w.get(te.key).overlayedDocument);pe!=null&&oe.push(new uo(te.key,pe,pE(pe.value.mapValue),wi.exists(!0)))}return g.mutationQueue.addMutationBatch(V,v,oe,f)})).next((z=>{R=z;const oe=z.applyToLocalDocumentSet(w,B);return g.documentOverlayCache.saveOverlays(V,z.batchId,oe)}))})).then((()=>({batchId:R.batchId,changes:RE(w)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,f,g){let v=h.Vu[h.currentUser.toKey()];v||(v=new At(Xe)),v=v.insert(f,g),h.Vu[h.currentUser.toKey()]=v})(i,o.batchId,t),await jl(i,o.changes),await Xc(i.remoteStore)}catch(o){const l=lp(o,"Failed to persist write");t.reject(l)}}async function ow(r,e){const t=be(r);try{const i=await nP(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Au.get(l);h&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?at(h.hu,14607):o.removedDocuments.size>0&&(at(h.hu,42227),h.hu=!1))})),await jl(t,i,e)}catch(i){await ya(i)}}function wv(r,e,t){const i=be(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((l,h)=>{const f=h.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(h,f){const g=be(h);g.onlineState=f;let v=!1;g.queries.forEach(((E,w)=>{for(const R of w.Sa)R.va(f)&&(v=!0)})),v&&up(g)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function GP(r,e,t){const i=be(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let h=new At(Se.comparator);h=h.insert(l,gn.newNoDocument(l,Me.min()));const f=Je().add(l),g=new Kc(Me.min(),new Map,new At(Xe),h,f);await ow(i,g),i.du=i.du.remove(l),i.Au.delete(e),hp(i)}else await mf(i.localStore,e,!1).then((()=>vf(i,e,t))).catch(ya)}async function KP(r,e){const t=be(r),i=e.batch.batchId;try{const o=await tP(t.localStore,e);lw(t,i,null),aw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await jl(t,o)}catch(o){await ya(o)}}async function QP(r,e,t){const i=be(r);try{const o=await(function(h,f){const g=be(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let E;return g.mutationQueue.lookupMutationBatch(v,f).next((w=>(at(w!==null,37113),E=w.keys(),g.mutationQueue.removeMutationBatch(v,w)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,E,f))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E))).next((()=>g.localDocuments.getDocuments(v,E)))}))})(i.localStore,e);lw(i,e,t),aw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await jl(i,o)}catch(o){await ya(o)}}function aw(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function lw(r,e,t){const i=be(r);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function vf(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||uw(r,i)}))}function uw(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(rp(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),hp(r))}function Tv(r,e,t){for(const i of t)i instanceof rw?(r.Ru.addReference(i.key,e),YP(r,i)):i instanceof iw?(de(cp,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||uw(r,i.key)):De(19791,{wu:i})}function YP(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Eu.has(i)||(de(cp,"New document in limbo: "+t),r.Eu.add(i),hp(r))}function hp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Se(mt.fromString(e)),i=r.fu.next();r.Au.set(i,new UP(t)),r.du=r.du.insert(t,i),XE(r.remoteStore,new ls(Qr(Kf(t.path)),i,"TargetPurposeLimboResolution",zc.ce))}}async function jl(r,e,t){const i=be(r),o=[],l=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,g)=>{h.push(i.pu(g,e,t).then((v=>{var E;if((v||t)&&i.isPrimaryClient){const w=v?!v.fromCache:(E=t==null?void 0:t.targetChanges.get(g.targetId))==null?void 0:E.current;i.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(v){o.push(v);const w=tp.As(g.targetId,v);l.push(w)}})))})),await Promise.all(h),i.Pu.H_(o),await(async function(g,v){const E=be(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Q.forEach(v,(R=>Q.forEach(R.Es,(V=>E.persistence.referenceDelegate.addReference(w,R.targetId,V))).next((()=>Q.forEach(R.ds,(V=>E.persistence.referenceDelegate.removeReference(w,R.targetId,V)))))))))}catch(w){if(!va(w))throw w;de(np,"Failed to update sequence numbers: "+w)}for(const w of v){const R=w.targetId;if(!w.fromCache){const V=E.Ms.get(R),H=V.snapshotVersion,B=V.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(R,B)}}})(i.localStore,l))}async function XP(r,e){const t=be(r);if(!t.currentUser.isEqual(e)){de(cp,"User change. New user:",e.toKey());const i=await GE(t.localStore,e);t.currentUser=e,(function(l,h){l.mu.forEach((f=>{f.forEach((g=>{g.reject(new he(K.CANCELLED,h))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await jl(t,i.Ls)}}function JP(r,e){const t=be(r),i=t.Au.get(e);if(i&&i.hu)return Je().add(i.key);{let o=Je();const l=t.Iu.get(e);if(!l)return o;for(const h of l){const f=t.Tu.get(h);o=o.unionWith(f.view.nu)}return o}}function cw(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ow.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GP.bind(null,e),e.Pu.H_=LP.bind(null,e.eventManager),e.Pu.yu=OP.bind(null,e.eventManager),e}function ZP(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QP.bind(null,e),e}class xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return eP(this.persistence,new XC,e.initialUser,this.serializer)}Cu(e){return new qE(ep.mi,this.serializer)}Du(e){return new aP}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xc.provider={build:()=>new xc};class ek extends xc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){at(this.persistence.referenceDelegate instanceof Nc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new MC(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new qE((i=>Nc.mi(i,t)),this.serializer)}}class _f{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>wv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=XP.bind(null,this.syncEngine),await kP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new DP})()}createDatastore(e){const t=Qc(e.databaseInfo.databaseId),i=(function(l){return new dP(l)})(e.databaseInfo);return(function(l,h,f,g){return new gP(l,h,f,g)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,h,f){return new vP(i,o,l,h,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>wv(this.syncEngine,t,0)),(function(){return mv.v()?new mv:new lP})())}createSyncEngine(e,t){return(function(o,l,h,f,g,v,E){const w=new jP(o,l,h,f,g,v);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=be(o);de(so,"RemoteStore shutting down."),l.Ea.add(5),await Ul(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}_f.provider={build:()=>new _f};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="FirestoreClient";class nk{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=mn.UNAUTHENTICATED,this.clientId=Bf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async h=>{de(Es,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(de(Es,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=lp(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Bd(r,e){r.asyncQueue.verifyOperationInProgress(),de(Es,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await GE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Iv(r,e){r.asyncQueue.verifyOperationInProgress();const t=await rk(r);de(Es,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>yv(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>yv(e.remoteStore,o))),r._onlineComponents=e}async function rk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(Es,"Using user provided OfflineComponentProvider");try{await Bd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;aa("Error using user provided cache. Falling back to memory cache: "+t),await Bd(r,new xc)}}else de(Es,"Using default OfflineComponentProvider"),await Bd(r,new ek(void 0));return r._offlineComponents}async function hw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(Es,"Using user provided OnlineComponentProvider"),await Iv(r,r._uninitializedComponentsProvider._online)):(de(Es,"Using default OnlineComponentProvider"),await Iv(r,new _f))),r._onlineComponents}function ik(r){return hw(r).then((e=>e.syncEngine))}async function Sv(r){const e=await hw(r),t=e.eventManager;return t.onListen=zP.bind(null,e.syncEngine),t.onUnlisten=HP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=BP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WP.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="firestore.googleapis.com",Av=!0;class Cv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fw,this.ssl=Av}else this.host=e.host,this.ssl=e.ssl??Av;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LC)throw new he(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dw(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new aA;switch(i.type){case"firstParty":return new hA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Rv.get(t);i&&(de("ComponentProvider","Removing Datastore"),Rv.delete(t),i.terminate())})(this),Promise.resolve()}}function sk(r,e,t,i={}){var v;r=ul(r,Jc);const o=fa(e),l=r._getSettings(),h={...l,emulatorOptions:r._getEmulatorOptions()},f=`${e}:${t}`;o&&(u_(`https://${f}`),c_("Firestore",!0)),l.host!==fw&&l.host!==f&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:f,ssl:o,emulatorOptions:i};if(!to(g,h)&&(r._setSettings(g),i.mockUserToken)){let E,w;if(typeof i.mockUserToken=="string")E=i.mockUserToken,w=mn.MOCK_USER;else{E=II(i.mockUserToken,(v=r._app)==null?void 0:v.options.projectId);const R=i.mockUserToken.sub||i.mockUserToken.user_id;if(!R)throw new he(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new mn(R)}r._authCredentials=new lA(new nE(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ho(this.firestore,e,this._query)}}class Wt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Ml(t,Wt._jsonSchema))return new Wt(e,i||null,new Se(mt.fromString(t.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:zt("string",Wt._jsonSchemaVersion),referencePath:zt("string")};class ps extends ho{constructor(e,t,i){super(e,t,Kf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Se(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function Pv(r,e,...t){if(r=In(r),rE("collection","path",e),r instanceof Jc){const i=mt.fromString(e,...t);return Uy(i),new ps(r,null,i)}{if(!(r instanceof Wt||r instanceof ps))throw new he(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(mt.fromString(e,...t));return Uy(i),new ps(r.firestore,null,i)}}function ok(r,e,...t){if(r=In(r),arguments.length===1&&(e=Bf.newId()),rE("doc","path",e),r instanceof Jc){const i=mt.fromString(e,...t);return Fy(i),new Wt(r,null,new Se(i))}{if(!(r instanceof Wt||r instanceof ps))throw new he(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(mt.fromString(e,...t));return Fy(i),new Wt(r.firestore,r instanceof ps?r.converter:null,new Se(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="AsyncQueue";class Nv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QE(this,"async_queue_retry"),this._c=()=>{const i=zd();i&&de(kv,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=zd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=zd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!va(e))throw e;de(kv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Si("INTERNAL UNHANDLED ERROR: ",Dv(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=ap.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&De(47125,{Pc:Dv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Dv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(r){return(function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1})(r,["next","error","complete"])}class Vc extends Jc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Nv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nv(e),this._firestoreClient=void 0,await e}}}function Vv(r,e){const t=typeof r=="object"?r:p_(),i=typeof r=="string"?r:Rc,o=Nf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=wI("firestore");l&&sk(o,...l)}return o}function pw(r){if(r._terminated)throw new he(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ak(r),r._firestoreClient}function ak(r){var i,o,l;const e=r._freezeSettings(),t=(function(f,g,v,E){return new PA(f,g,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,dw(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((i=r._app)==null?void 0:i.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new nk(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ar(an.fromBase64String(e))}catch(t){throw new he(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ar(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ar._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ml(e,ar._jsonSchema))return ar.fromBase64String(e.bytes)}}ar._jsonSchemaVersion="firestore/bytes/1.0",ar._jsonSchema={type:zt("string",ar._jsonSchemaVersion),bytes:zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xr._jsonSchemaVersion}}static fromJSON(e){if(Ml(e,Xr._jsonSchema))return new Xr(e.latitude,e.longitude)}}Xr._jsonSchemaVersion="firestore/geoPoint/1.0",Xr._jsonSchema={type:zt("string",Xr._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Jr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ml(e,Jr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Jr(e.vectorValues);throw new he(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jr._jsonSchemaVersion="firestore/vectorValue/1.0",Jr._jsonSchema={type:zt("string",Jr._jsonSchemaVersion),vectorValues:zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=/^__.*__$/;class uk{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new uo(e,this.data,this.fieldMask,t,this.fieldTransforms):new bl(e,this.data,t,this.fieldTransforms)}}function mw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:r})}}class pp{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new pp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(mw(this.Ac)&&lk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ck{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Qc(e)}Cc(e,t,i,o=!1){return new pp({Ac:e,methodName:t,Dc:i,path:on.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gw(r){const e=r._freezeSettings(),t=Qc(r._databaseId);return new ck(r._databaseId,!!e.ignoreUndefinedProperties,t)}function hk(r,e,t,i,o,l={}){const h=r.Cc(l.merge||l.mergeFields?2:0,e,t,o);_w("Data must be an object, but it was:",h,i);const f=yw(i,h);let g,v;if(l.merge)g=new Pr(h.fieldMask),v=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const w of l.mergeFields){const R=fk(e,w,t);if(!h.contains(R))throw new he(K.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);mk(E,R)||E.push(R)}g=new Pr(E),v=h.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,v=h.fieldTransforms;return new uk(new or(f),g,v)}class mp extends fp{_toFieldTransform(e){return new eC(e.path,new Il)}isEqual(e){return e instanceof mp}}function dk(r,e,t,i=!1){return gp(t,r.Cc(i?4:3,e))}function gp(r,e){if(vw(r=In(r)))return _w("Unsupported field value:",e,r),yw(r,e);if(r instanceof fp)return(function(i,o){if(!mw(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let h=0;for(const f of i){let g=gp(f,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}})(r,e)}return(function(i,o){if((i=In(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return XA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=gt.fromDate(i);return{timestampValue:kc(o.serializer,l)}}if(i instanceof gt){const l=new gt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:kc(o.serializer,l)}}if(i instanceof Xr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ar)return{bytesValue:FE(o.serializer,i._byteString)};if(i instanceof Wt){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Jf(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Jr)return(function(h,f){return{mapValue:{fields:{[dE]:{stringValue:fE},[Ac]:{arrayValue:{values:h.toArray().map((v=>{if(typeof v!="number")throw f.Sc("VectorValues must only contain numeric values.");return Qf(f.serializer,v)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${jc(i)}`)})(r,e)}function yw(r,e){const t={};return oE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(r,((i,o)=>{const l=gp(o,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function vw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof gt||r instanceof Xr||r instanceof ar||r instanceof Wt||r instanceof fp||r instanceof Jr)}function _w(r,e,t){if(!vw(t)||!iE(t)){const i=jc(t);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function fk(r,e,t){if((e=In(e))instanceof dp)return e._internalPath;if(typeof e=="string")return Ew(r,e);throw Lc("Field path arguments must be of type string or ",r,!1,void 0,t)}const pk=new RegExp("[~\\*/\\[\\]]");function Ew(r,e,t){if(e.search(pk)>=0)throw Lc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new dp(...e.split("."))._internalPath}catch{throw Lc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Lc(r,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${i}`),h&&(g+=` in document ${o}`),g+=")"),new he(K.INVALID_ARGUMENT,f+r+g)}function mk(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class gk extends ww{data(){return super.data()}}function yp(r,e){return typeof e=="string"?Ew(r,e):e instanceof dp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vp{}class Tw extends vp{}function vk(r,e,...t){let i=[];e instanceof vp&&i.push(e),i=i.concat(t),(function(l){const h=l.filter((g=>g instanceof Ep)).length,f=l.filter((g=>g instanceof _p)).length;if(h>1||h>0&&f>0)throw new he(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)r=o._apply(r);return r}class _p extends Tw{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new _p(e,t,i)}_apply(e){const t=this._parse(e);return Iw(e._query,t),new ho(e.firestore,e.converter,uf(e._query,t))}_parse(e){const t=gw(e.firestore);return(function(l,h,f,g,v,E,w){let R;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Ov(w,E);const H=[];for(const B of w)H.push(Lv(g,l,B));R={arrayValue:{values:H}}}else R=Lv(g,l,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Ov(w,E),R=dk(f,h,w,E==="in"||E==="not-in");return jt.create(v,E,R)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ep extends vp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ep(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Nr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let h=o;const f=l.getFlattenedFilters();for(const g of f)Iw(h,g),h=uf(h,g)})(e._query,t),new ho(e.firestore,e.converter,uf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wp extends Tw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new wp(e,t)}_apply(e){const t=(function(o,l,h){if(o.startAt!==null)throw new he(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tl(l,h)})(e._query,this._field,this._direction);return new ho(e.firestore,e.converter,(function(o,l){const h=o.explicitOrderBy.concat([l]);return new _a(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function _k(r,e="asc"){const t=e,i=yp("orderBy",r);return wp._create(i,t)}function Lv(r,e,t){if(typeof(t=In(t))=="string"){if(t==="")throw new he(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wE(e)&&t.indexOf("/")!==-1)throw new he(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(mt.fromString(t));if(!Se.isDocumentKey(i))throw new he(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Gy(r,new Se(i))}if(t instanceof Wt)return Gy(r,t._key);throw new he(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jc(t)}.`)}function Ov(r,e){if(!Array.isArray(r)||r.length===0)throw new he(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Iw(r,e){const t=(function(o,l){for(const h of o)for(const f of h.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Ek{convertValue(e,t="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ao(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){var i,o,l;const t=(l=(o=(i=e.fields)==null?void 0:i[Ac].arrayValue)==null?void 0:o.values)==null?void 0:l.map((h=>Vt(h.doubleValue)));return new Jr(t)}convertGeoPoint(e){return new Xr(Vt(e.latitude),Vt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=$c(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){const t=gs(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=mt.fromString(e);at(HE(i),9688,{name:e});const o=new El(i.get(1),i.get(3)),l=new Se(i.popFirst(5));return o.isEqual(t)||Si(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(r,e,t){let i;return i=r?r.toFirestore(e):e,i}class ol{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eo extends ww{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(yp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=eo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:zt("string",eo._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class hc extends eo{data(e={}){return super.data(e)}}class ra{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ol(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new hc(this._firestore,this._userDataWriter,i.key,i,new ol(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((f=>{const g=new hc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ol(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const g=new hc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ol(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,E=-1;return f.type!==0&&(v=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),E=h.indexOf(f.doc.key)),{type:Tk(f.type),doc:g,oldIndex:v,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Tk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:r})}}ra._jsonSchemaVersion="firestore/querySnapshot/1.0",ra._jsonSchema={type:zt("string",ra._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class Sw extends Ek{constructor(e){super(),this.firestore=e}convertBytes(e){return new ar(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,t)}}function Ik(r,e){const t=ul(r.firestore,Vc),i=ok(r),o=wk(r.converter,e);return Rk(t,[hk(gw(r.firestore),"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,wi.exists(!1))]).then((()=>i))}function Sk(r,...e){var g,v,E;r=In(r);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||xv(e[i])||(t=e[i++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(xv(e[i])){const w=e[i];e[i]=(g=w.next)==null?void 0:g.bind(w),e[i+1]=(v=w.error)==null?void 0:v.bind(w),e[i+2]=(E=w.complete)==null?void 0:E.bind(w)}let l,h,f;if(r instanceof Wt)h=ul(r.firestore,Vc),f=Kf(r._key.path),l={next:w=>{e[i]&&e[i](Ak(h,r,w))},error:e[i+1],complete:e[i+2]};else{const w=ul(r,ho);h=ul(w.firestore,Vc),f=w._query;const R=new Sw(h);l={next:V=>{e[i]&&e[i](new ra(h,R,w,V))},error:e[i+1],complete:e[i+2]},yk(r._query)}return(function(R,V,H,B){const z=new tk(B),oe=new MP(V,z,H);return R.asyncQueue.enqueueAndForget((async()=>xP(await Sv(R),oe))),()=>{z.Nu(),R.asyncQueue.enqueueAndForget((async()=>VP(await Sv(R),oe)))}})(pw(h),f,o,l)}function Rk(r,e){return(function(i,o){const l=new Zs;return i.asyncQueue.enqueueAndForget((async()=>qP(await ik(i),o,l))),l.promise})(pw(r),e)}function Ak(r,e,t){const i=t.docs.get(e._key),o=new Sw(r);return new eo(r,o,e._key,i,new ol(t.hasPendingWrites,t.fromCache),e.converter)}function Ck(){return new mp("serverTimestamp")}(function(e,t=!0){(function(o){ga=o})(pa),sa(new no("firestore",((i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),f=new Vc(new uA(i.getProvider("auth-internal")),new dA(h,i.getProvider("app-check-internal")),(function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new he(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new El(v.options.projectId,E)})(h,o),h);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),ds(Ly,Oy,e),ds(Ly,Oy,"esm2020")})();class Pk extends re.Component{constructor(t){super(t);yi(this,"handleAddLoveMessage",async()=>{const{newLoveMessage:t}=this.state;if(t.trim()!=="")try{const i=Vv(ef),o=Pv(i,"love-ingy-messages");let l={message:t,timestamp:Ck()};try{const h=JSON.parse(t);h&&typeof h=="object"&&(l={message:h.text,timestamp:new gt(h.timestamp/1e3,h.timestamp%1e3)})}catch{}await Ik(o,l),this.setState({newLoveMessage:""})}catch(i){console.error("Error adding message:",i),i&&typeof i=="object"&&"code"in i&&i.code==="permission-denied"&&alert("Access denied. You do not have permission to add messages.")}});yi(this,"handleInputChange",t=>{this.setState({newLoveMessage:t.target.value})});yi(this,"handleMouseEnter",t=>{this.setState({hoveredIndex:t})});yi(this,"handleMouseLeave",()=>{this.setState({hoveredIndex:null})});yi(this,"handleKeyPress",t=>{t.key==="Enter"&&this.handleAddLoveMessage()});this.state={loveMessages:[],newLoveMessage:"",hoveredIndex:null}}componentDidMount(){const t=Vv(ef),i=Pv(t,"love-ingy-messages"),o=vk(i,_k("timestamp","desc"));Sk(o,l=>{const h=l.docs.map(f=>{const g=f.data();return{id:f.id,message:g.message,timestamp:g.timestamp?g.timestamp.toDate().toISOString():new Date().toISOString()}});this.setState({loveMessages:h})},l=>{console.error("Error fetching messages:",l),l.code==="permission-denied"&&alert("Access denied. You do not have permission to view these messages.")})}render(){return we.jsxs(we.Fragment,{children:[we.jsx("div",{className:"love-ingy-body"})," ",we.jsxs("div",{className:"container",children:[we.jsx("div",{children:this.state.loveMessages.map(({message:t,timestamp:i},o)=>we.jsxs("div",{className:"love-message-container",onMouseEnter:()=>this.handleMouseEnter(o),onMouseLeave:this.handleMouseLeave,children:[we.jsx("p",{className:"love-message",children:t}),this.state.hoveredIndex===o&&we.jsx("div",{className:"tooltip",children:new Date(i).toLocaleString()})]},o))}),we.jsxs("div",{className:"add-message-container",children:[we.jsx("input",{className:"love-ingy-input",type:"text",placeholder:"Add a new love message",value:this.state.newLoveMessage,onChange:this.handleInputChange,onKeyPress:this.handleKeyPress}),we.jsx("button",{className:"love-ingy-button",onClick:this.handleAddLoveMessage,children:"Add Love Message"})]})]})]})}}function kk(){return we.jsx("div",{style:{width:"100%",height:"100vh"},children:we.jsx("iframe",{src:"/static/index.html",title:"Aditya Singhal",style:{width:"100%",height:"100%",border:"none"}})})}const Nk=()=>re.useContext(G_),Dk=({children:r})=>{const{user:e}=Nk(),t=Nl();return e?r:we.jsx(n_,{to:"/login",state:{from:t},replace:!0})},xk=()=>{var l,h;const r=["adityaarunsinghal@gmail.com","johannefriedman@gmail.com","johanne.friedman@gmail.com"],e=Jv(),i=((h=(l=Nl().state)==null?void 0:l.from)==null?void 0:h.pathname)||"/",o=async()=>{const f=new vi;try{const v=(await oR(tf,f)).user.email;if(v&&!r.includes(v)){await j1(tf),alert("Access denied. Only Adi and Ingy can log in.");return}e(i)}catch(g){console.error(g)}};return we.jsxs("div",{className:"login-page",children:[we.jsx("h1",{children:"Hi babydoll ;)"}),we.jsx("button",{onClick:o,children:"Log in with Google"})]})},Vk=tI([{path:"/",element:we.jsx(tl,{children:we.jsx(kk,{})})},{path:"/login",element:we.jsx(tl,{children:we.jsx(xk,{})})},{path:"/private",element:we.jsx(tl,{children:we.jsx(sA,{})})},{path:"/404",element:we.jsx(tl,{children:we.jsx(oA,{})})},{path:"/lovesingy",element:we.jsx(tl,{children:we.jsx(Dk,{children:we.jsx(Pk,{})})})},{path:"/*",element:we.jsx(n_,{to:"/404",replace:!0})}]);U0.createRoot(document.getElementById("root")).render(we.jsx(bv.StrictMode,{children:we.jsx(nA,{children:we.jsx(cI,{router:Vk})})}));
