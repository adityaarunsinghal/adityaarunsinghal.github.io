var V0=Object.defineProperty;var L0=(r,e,t)=>e in r?V0(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var O0=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Ku=(r,e,t)=>L0(r,typeof e!="symbol"?e+"":e,t);var Xk=O0((t2,zl)=>{function jv(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in r)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Rf(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Pd={exports:{}},nl={},kd={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function b0(){if(Ng)return Qe;Ng=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function R(T){return T===null||typeof T!="object"?null:(T=E&&T[E]||T["@@iterator"],typeof T=="function"?T:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,H={};function U(T,j,J){this.props=T,this.context=j,this.refs=H,this.updater=J||V}U.prototype.isReactComponent={},U.prototype.setState=function(T,j){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,j,"setState")},U.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function ce(){}ce.prototype=U.prototype;function re(T,j,J){this.props=T,this.context=j,this.refs=H,this.updater=J||V}var pe=re.prototype=new ce;pe.constructor=re,$(pe,U.prototype),pe.isPureReactComponent=!0;var Ce=Array.isArray,je=Object.prototype.hasOwnProperty,We={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function A(T,j,J){var ue,oe={},fe=null,le=null;if(j!=null)for(ue in j.ref!==void 0&&(le=j.ref),j.key!==void 0&&(fe=""+j.key),j)je.call(j,ue)&&!S.hasOwnProperty(ue)&&(oe[ue]=j[ue]);var me=arguments.length-2;if(me===1)oe.children=J;else if(1<me){for(var xe=Array(me),qe=0;qe<me;qe++)xe[qe]=arguments[qe+2];oe.children=xe}if(T&&T.defaultProps)for(ue in me=T.defaultProps,me)oe[ue]===void 0&&(oe[ue]=me[ue]);return{$$typeof:r,type:T,key:fe,ref:le,props:oe,_owner:We.current}}function P(T,j){return{$$typeof:r,type:T.type,key:j,ref:T.ref,props:T.props,_owner:T._owner}}function x(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function L(T){var j={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(J){return j[J]})}var b=/\/+/g;function k(T,j){return typeof T=="object"&&T!==null&&T.key!=null?L(""+T.key):j.toString(36)}function Ge(T,j,J,ue,oe){var fe=typeof T;(fe==="undefined"||fe==="boolean")&&(T=null);var le=!1;if(T===null)le=!0;else switch(fe){case"string":case"number":le=!0;break;case"object":switch(T.$$typeof){case r:case e:le=!0}}if(le)return le=T,oe=oe(le),T=ue===""?"."+k(le,0):ue,Ce(oe)?(J="",T!=null&&(J=T.replace(b,"$&/")+"/"),Ge(oe,j,J,"",function(qe){return qe})):oe!=null&&(x(oe)&&(oe=P(oe,J+(!oe.key||le&&le.key===oe.key?"":(""+oe.key).replace(b,"$&/")+"/")+T)),j.push(oe)),1;if(le=0,ue=ue===""?".":ue+":",Ce(T))for(var me=0;me<T.length;me++){fe=T[me];var xe=ue+k(fe,me);le+=Ge(fe,j,J,xe,oe)}else if(xe=R(T),typeof xe=="function")for(T=xe.call(T),me=0;!(fe=T.next()).done;)fe=fe.value,xe=ue+k(fe,me++),le+=Ge(fe,j,J,xe,oe);else if(fe==="object")throw j=String(T),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return le}function dt(T,j,J){if(T==null)return T;var ue=[],oe=0;return Ge(T,ue,"","",function(fe){return j.call(J,fe,oe++)}),ue}function Ct(T){if(T._status===-1){var j=T._result;j=j(),j.then(function(J){(T._status===0||T._status===-1)&&(T._status=1,T._result=J)},function(J){(T._status===0||T._status===-1)&&(T._status=2,T._result=J)}),T._status===-1&&(T._status=0,T._result=j)}if(T._status===1)return T._result.default;throw T._result}var it={current:null},ie={transition:null},Pe={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:ie,ReactCurrentOwner:We};function D(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:dt,forEach:function(T,j,J){dt(T,function(){j.apply(this,arguments)},J)},count:function(T){var j=0;return dt(T,function(){j++}),j},toArray:function(T){return dt(T,function(j){return j})||[]},only:function(T){if(!x(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Qe.Component=U,Qe.Fragment=t,Qe.Profiler=o,Qe.PureComponent=re,Qe.StrictMode=i,Qe.Suspense=m,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pe,Qe.act=D,Qe.cloneElement=function(T,j,J){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var ue=$({},T.props),oe=T.key,fe=T.ref,le=T._owner;if(j!=null){if(j.ref!==void 0&&(fe=j.ref,le=We.current),j.key!==void 0&&(oe=""+j.key),T.type&&T.type.defaultProps)var me=T.type.defaultProps;for(xe in j)je.call(j,xe)&&!S.hasOwnProperty(xe)&&(ue[xe]=j[xe]===void 0&&me!==void 0?me[xe]:j[xe])}var xe=arguments.length-2;if(xe===1)ue.children=J;else if(1<xe){me=Array(xe);for(var qe=0;qe<xe;qe++)me[qe]=arguments[qe+2];ue.children=me}return{$$typeof:r,type:T.type,key:oe,ref:fe,props:ue,_owner:le}},Qe.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:l,_context:T},T.Consumer=T},Qe.createElement=A,Qe.createFactory=function(T){var j=A.bind(null,T);return j.type=T,j},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(T){return{$$typeof:f,render:T}},Qe.isValidElement=x,Qe.lazy=function(T){return{$$typeof:_,_payload:{_status:-1,_result:T},_init:Ct}},Qe.memo=function(T,j){return{$$typeof:y,type:T,compare:j===void 0?null:j}},Qe.startTransition=function(T){var j=ie.transition;ie.transition={};try{T()}finally{ie.transition=j}},Qe.unstable_act=D,Qe.useCallback=function(T,j){return it.current.useCallback(T,j)},Qe.useContext=function(T){return it.current.useContext(T)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(T){return it.current.useDeferredValue(T)},Qe.useEffect=function(T,j){return it.current.useEffect(T,j)},Qe.useId=function(){return it.current.useId()},Qe.useImperativeHandle=function(T,j,J){return it.current.useImperativeHandle(T,j,J)},Qe.useInsertionEffect=function(T,j){return it.current.useInsertionEffect(T,j)},Qe.useLayoutEffect=function(T,j){return it.current.useLayoutEffect(T,j)},Qe.useMemo=function(T,j){return it.current.useMemo(T,j)},Qe.useReducer=function(T,j,J){return it.current.useReducer(T,j,J)},Qe.useRef=function(T){return it.current.useRef(T)},Qe.useState=function(T){return it.current.useState(T)},Qe.useSyncExternalStore=function(T,j,J){return it.current.useSyncExternalStore(T,j,J)},Qe.useTransition=function(){return it.current.useTransition()},Qe.version="18.3.1",Qe}var Dg;function Af(){return Dg||(Dg=1,kd.exports=b0()),kd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function F0(){if(Mg)return nl;Mg=1;var r=Af(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,m,y){var _,E={},R=null,V=null;y!==void 0&&(R=""+y),m.key!==void 0&&(R=""+m.key),m.ref!==void 0&&(V=m.ref);for(_ in m)i.call(m,_)&&!l.hasOwnProperty(_)&&(E[_]=m[_]);if(f&&f.defaultProps)for(_ in m=f.defaultProps,m)E[_]===void 0&&(E[_]=m[_]);return{$$typeof:e,type:f,key:R,ref:V,props:E,_owner:o.current}}return nl.Fragment=t,nl.jsx=h,nl.jsxs=h,nl}var Vg;function U0(){return Vg||(Vg=1,Pd.exports=F0()),Pd.exports}var q=U0(),te=Af();const zv=Rf(te),j0=jv({__proto__:null,default:zv},[te]);var Qu={},xd={exports:{}},Wn={},Nd={exports:{}},Dd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function z0(){return Lg||(Lg=1,(function(r){function e(ie,Pe){var D=ie.length;ie.push(Pe);e:for(;0<D;){var T=D-1>>>1,j=ie[T];if(0<o(j,Pe))ie[T]=Pe,ie[D]=j,D=T;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var Pe=ie[0],D=ie.pop();if(D!==Pe){ie[0]=D;e:for(var T=0,j=ie.length,J=j>>>1;T<J;){var ue=2*(T+1)-1,oe=ie[ue],fe=ue+1,le=ie[fe];if(0>o(oe,D))fe<j&&0>o(le,oe)?(ie[T]=le,ie[fe]=D,T=fe):(ie[T]=oe,ie[ue]=D,T=ue);else if(fe<j&&0>o(le,D))ie[T]=le,ie[fe]=D,T=fe;else break e}}return Pe}function o(ie,Pe){var D=ie.sortIndex-Pe.sortIndex;return D!==0?D:ie.id-Pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var m=[],y=[],_=1,E=null,R=3,V=!1,$=!1,H=!1,U=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function pe(ie){for(var Pe=t(y);Pe!==null;){if(Pe.callback===null)i(y);else if(Pe.startTime<=ie)i(y),Pe.sortIndex=Pe.expirationTime,e(m,Pe);else break;Pe=t(y)}}function Ce(ie){if(H=!1,pe(ie),!$)if(t(m)!==null)$=!0,Ct(je);else{var Pe=t(y);Pe!==null&&it(Ce,Pe.startTime-ie)}}function je(ie,Pe){$=!1,H&&(H=!1,ce(A),A=-1),V=!0;var D=R;try{for(pe(Pe),E=t(m);E!==null&&(!(E.expirationTime>Pe)||ie&&!L());){var T=E.callback;if(typeof T=="function"){E.callback=null,R=E.priorityLevel;var j=T(E.expirationTime<=Pe);Pe=r.unstable_now(),typeof j=="function"?E.callback=j:E===t(m)&&i(m),pe(Pe)}else i(m);E=t(m)}if(E!==null)var J=!0;else{var ue=t(y);ue!==null&&it(Ce,ue.startTime-Pe),J=!1}return J}finally{E=null,R=D,V=!1}}var We=!1,S=null,A=-1,P=5,x=-1;function L(){return!(r.unstable_now()-x<P)}function b(){if(S!==null){var ie=r.unstable_now();x=ie;var Pe=!0;try{Pe=S(!0,ie)}finally{Pe?k():(We=!1,S=null)}}else We=!1}var k;if(typeof re=="function")k=function(){re(b)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,dt=Ge.port2;Ge.port1.onmessage=b,k=function(){dt.postMessage(null)}}else k=function(){U(b,0)};function Ct(ie){S=ie,We||(We=!0,k())}function it(ie,Pe){A=U(function(){ie(r.unstable_now())},Pe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){$||V||($=!0,Ct(je))},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return t(m)},r.unstable_next=function(ie){switch(R){case 1:case 2:case 3:var Pe=3;break;default:Pe=R}var D=R;R=Pe;try{return ie()}finally{R=D}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,Pe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var D=R;R=ie;try{return Pe()}finally{R=D}},r.unstable_scheduleCallback=function(ie,Pe,D){var T=r.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?T+D:T):D=T,ie){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=D+j,ie={id:_++,callback:Pe,priorityLevel:ie,startTime:D,expirationTime:j,sortIndex:-1},D>T?(ie.sortIndex=D,e(y,ie),t(m)===null&&ie===t(y)&&(H?(ce(A),A=-1):H=!0,it(Ce,D-T))):(ie.sortIndex=j,e(m,ie),$||V||($=!0,Ct(je))),ie},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(ie){var Pe=R;return function(){var D=R;R=Pe;try{return ie.apply(this,arguments)}finally{R=D}}}})(Dd)),Dd}var Og;function B0(){return Og||(Og=1,Nd.exports=z0()),Nd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function $0(){if(bg)return Wn;bg=1;var r=Af(),e=B0();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){h(n,s),h(n+"Capture",s)}function h(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function R(n){return m.call(E,n)?!0:m.call(_,n)?!1:y.test(n)?E[n]=!0:(_[n]=!0,!1)}function V(n,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function $(n,s,a,c){if(s===null||typeof s>"u"||V(n,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function H(n,s,a,c,d,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){U[n]=new H(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];U[s]=new H(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){U[n]=new H(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){U[n]=new H(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){U[n]=new H(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){U[n]=new H(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){U[n]=new H(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){U[n]=new H(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){U[n]=new H(n,5,!1,n.toLowerCase(),null,!1,!1)});var ce=/[\-:]([a-z])/g;function re(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(ce,re);U[s]=new H(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(ce,re);U[s]=new H(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(ce,re);U[s]=new H(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){U[n]=new H(n,1,!1,n.toLowerCase(),null,!1,!1)}),U.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){U[n]=new H(n,1,!1,n.toLowerCase(),null,!0,!0)});function pe(n,s,a,c){var d=U.hasOwnProperty(s)?U[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&($(s,a,d,c)&&(a=null),c||d===null?R(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,s,a):n.setAttribute(s,a))))}var Ce=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,je=Symbol.for("react.element"),We=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),L=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),Ge=Symbol.for("react.suspense_list"),dt=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),it=Symbol.for("react.offscreen"),ie=Symbol.iterator;function Pe(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var D=Object.assign,T;function j(n){if(T===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);T=s&&s[1]||""}return`
`+T+n}var J=!1;function ue(n,s){if(!n||J)return"";J=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(K){var c=K}Reflect.construct(n,[],s)}else{try{s.call()}catch(K){c=K}n.call(s.prototype)}else{try{throw Error()}catch(K){c=K}n()}}catch(K){if(K&&c&&typeof K.stack=="string"){for(var d=K.stack.split(`
`),g=c.stack.split(`
`),w=d.length-1,C=g.length-1;1<=w&&0<=C&&d[w]!==g[C];)C--;for(;1<=w&&0<=C;w--,C--)if(d[w]!==g[C]){if(w!==1||C!==1)do if(w--,C--,0>C||d[w]!==g[C]){var M=`
`+d[w].replace(" at new "," at ");return n.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",n.displayName)),M}while(1<=w&&0<=C);break}}}finally{J=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?j(n):""}function oe(n){switch(n.tag){case 5:return j(n.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return n=ue(n.type,!1),n;case 11:return n=ue(n.type.render,!1),n;case 1:return n=ue(n.type,!0),n;default:return""}}function fe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case S:return"Fragment";case We:return"Portal";case P:return"Profiler";case A:return"StrictMode";case k:return"Suspense";case Ge:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case L:return(n.displayName||"Context")+".Consumer";case x:return(n._context.displayName||"Context")+".Provider";case b:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case dt:return s=n.displayName||null,s!==null?s:fe(n.type)||"Memo";case Ct:s=n._payload,n=n._init;try{return fe(n(s))}catch{}}return null}function le(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function me(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function xe(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function qe(n){var s=xe(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ye(n){n._valueTracker||(n._valueTracker=qe(n))}function ze(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=xe(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function lt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function $e(n,s){var a=s.checked;return D({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Nt(n,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=me(s.value!=null?s.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Tt(n,s){s=s.checked,s!=null&&pe(n,"checked",s,!1)}function Qt(n,s){Tt(n,s);var a=me(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?ln(n,s.type,a):s.hasOwnProperty("defaultValue")&&ln(n,s.type,me(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function vn(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function ln(n,s,a){(s!=="number"||lt(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var Ot=Array.isArray;function Kn(n,s,a,c){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+me(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function ai(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return D({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function br(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Ot(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:me(a)}}function un(n,s){var a=me(s.value),c=me(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Qn(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function It(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?It(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var zt,tn=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(s,a,c,d)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(zt=zt||document.createElement("div"),zt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=zt.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Ln(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var _n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vr=["Webkit","ms","Moz","O"];Object.keys(_n).forEach(function(n){vr.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),_n[s]=_n[n]})});function wn(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||_n.hasOwnProperty(n)&&_n[n]?(""+s).trim():s+"px"}function Di(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=wn(a,s[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Mi=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vi(n,s){if(s){if(Mi[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Cs(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fr=null;function _r(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var li=null,En=null,On=null;function Li(n){if(n=za(n)){if(typeof li!="function")throw Error(t(280));var s=n.stateNode;s&&(s=uu(s),li(n.stateNode,n.type,s))}}function Yn(n){En?On?On.push(n):On=[n]:En=n}function Ps(){if(En){var n=En,s=On;if(On=En=null,Li(n),s)for(n=0;n<s.length;n++)Li(s[n])}}function Ur(n,s){return n(s)}function jr(){}var bn=!1;function ks(n,s,a){if(bn)return n(s,a);bn=!0;try{return Ur(n,s,a)}finally{bn=!1,(En!==null||On!==null)&&(jr(),Ps())}}function Dt(n,s){var a=n.stateNode;if(a===null)return null;var c=uu(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var N=!1;if(f)try{var F={};Object.defineProperty(F,"passive",{get:function(){N=!0}}),window.addEventListener("test",F,F),window.removeEventListener("test",F,F)}catch{N=!1}function G(n,s,a,c,d,g,w,C,M){var K=Array.prototype.slice.call(arguments,3);try{s.apply(a,K)}catch(ne){this.onError(ne)}}var Z=!1,de=null,Te=!1,De=null,Ie={onError:function(n){Z=!0,de=n}};function Ee(n,s,a,c,d,g,w,C,M){Z=!1,de=null,G.apply(Ie,arguments)}function ye(n,s,a,c,d,g,w,C,M){if(Ee.apply(this,arguments),Z){if(Z){var K=de;Z=!1,de=null}else throw Error(t(198));Te||(Te=!0,De=K)}}function ve(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Le(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Ue(n){if(ve(n)!==n)throw Error(t(188))}function bt(n){var s=n.alternate;if(!s){if(s=ve(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,c=s;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return Ue(d),n;if(g===c)return Ue(d),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=g;else{for(var w=!1,C=d.child;C;){if(C===a){w=!0,a=d,c=g;break}if(C===c){w=!0,c=d,a=g;break}C=C.sibling}if(!w){for(C=g.child;C;){if(C===a){w=!0,a=g,c=d;break}if(C===c){w=!0,c=g,a=d;break}C=C.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function ct(n){return n=bt(n),n!==null?Ke(n):null}function Ke(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Ke(n);if(s!==null)return s;n=n.sibling}return null}var mt=e.unstable_scheduleCallback,or=e.unstable_cancelCallback,zr=e.unstable_shouldYield,Xn=e.unstable_requestPaint,Xe=e.unstable_now,Oi=e.unstable_getCurrentPriorityLevel,Jn=e.unstable_ImmediatePriority,Tn=e.unstable_UserBlockingPriority,cn=e.unstable_NormalPriority,Br=e.unstable_LowPriority,Je=e.unstable_IdlePriority,ft=null,Bt=null;function $r(n){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(ft,n,void 0,(n.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:yo,ar=Math.log,xs=Math.LN2;function yo(n){return n>>>=0,n===0?32:31-(ar(n)/xs|0)|0}var vo=64,_o=4194304;function bi(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ns(n,s){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,g=n.pingedLanes,w=a&268435455;if(w!==0){var C=w&~d;C!==0?c=bi(C):(g&=w,g!==0&&(c=bi(g)))}else w=a&~d,w!==0?c=bi(w):g!==0&&(c=bi(g));if(c===0)return 0;if(s!==0&&s!==c&&(s&d)===0&&(d=c&-c,g=s&-s,d>=g||d===16&&(g&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=c;0<s;)a=31-et(s),d=1<<a,c|=n[a],s&=~d;return c}function ih(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ui(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,g=n.pendingLanes;0<g;){var w=31-et(g),C=1<<w,M=d[w];M===-1?((C&a)===0||(C&c)!==0)&&(d[w]=ih(C,s)):M<=s&&(n.expiredLanes|=C),g&=~C}}function Zn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ds(){var n=vo;return vo<<=1,(vo&4194240)===0&&(vo=64),n}function Fi(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Ui(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-et(s),n[s]=a}function vt(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-et(a),g=1<<d;s[d]=0,c[d]=-1,n[d]=-1,a&=~g}}function ji(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-et(a),d=1<<c;d&s|n[c]&s&&(n[c]|=s),a&=~d}}var st=0;function zi(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Bl,wo,$l,Hl,Wl,Aa=!1,Hr=[],hn=null,wr=null,Er=null,Bi=new Map,lr=new Map,Wr=[],sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ql(n,s){switch(n){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Bi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":lr.delete(s.pointerId)}}function Fn(n,s,a,c,d,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=za(s),s!==null&&wo(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function oh(n,s,a,c,d){switch(s){case"focusin":return hn=Fn(hn,n,s,a,c,d),!0;case"dragenter":return wr=Fn(wr,n,s,a,c,d),!0;case"mouseover":return Er=Fn(Er,n,s,a,c,d),!0;case"pointerover":var g=d.pointerId;return Bi.set(g,Fn(Bi.get(g)||null,n,s,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,lr.set(g,Fn(lr.get(g)||null,n,s,a,c,d)),!0}return!1}function Gl(n){var s=bs(n.target);if(s!==null){var a=ve(s);if(a!==null){if(s=a.tag,s===13){if(s=Le(a),s!==null){n.blockedOn=s,Wl(n.priority,function(){$l(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ci(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Eo(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Fr=c,a.target.dispatchEvent(c),Fr=null}else return s=za(a),s!==null&&wo(s),n.blockedOn=a,!1;s.shift()}return!0}function Ms(n,s,a){ci(n)&&a.delete(s)}function Kl(){Aa=!1,hn!==null&&ci(hn)&&(hn=null),wr!==null&&ci(wr)&&(wr=null),Er!==null&&ci(Er)&&(Er=null),Bi.forEach(Ms),lr.forEach(Ms)}function Tr(n,s){n.blockedOn===s&&(n.blockedOn=null,Aa||(Aa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Kl)))}function Ir(n){function s(d){return Tr(d,n)}if(0<Hr.length){Tr(Hr[0],n);for(var a=1;a<Hr.length;a++){var c=Hr[a];c.blockedOn===n&&(c.blockedOn=null)}}for(hn!==null&&Tr(hn,n),wr!==null&&Tr(wr,n),Er!==null&&Tr(Er,n),Bi.forEach(s),lr.forEach(s),a=0;a<Wr.length;a++)c=Wr[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)Gl(a),a.blockedOn===null&&Wr.shift()}var hi=Ce.ReactCurrentBatchConfig,$i=!0;function Pt(n,s,a,c){var d=st,g=hi.transition;hi.transition=null;try{st=1,Ca(n,s,a,c)}finally{st=d,hi.transition=g}}function ah(n,s,a,c){var d=st,g=hi.transition;hi.transition=null;try{st=4,Ca(n,s,a,c)}finally{st=d,hi.transition=g}}function Ca(n,s,a,c){if($i){var d=Eo(n,s,a,c);if(d===null)vh(n,s,c,Vs,a),ql(n,c);else if(oh(d,n,s,a,c))c.stopPropagation();else if(ql(n,c),s&4&&-1<sh.indexOf(n)){for(;d!==null;){var g=za(d);if(g!==null&&Bl(g),g=Eo(n,s,a,c),g===null&&vh(n,s,c,Vs,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else vh(n,s,c,null,a)}}var Vs=null;function Eo(n,s,a,c){if(Vs=null,n=_r(c),n=bs(n),n!==null)if(s=ve(n),s===null)n=null;else if(a=s.tag,a===13){if(n=Le(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Vs=n,null}function Pa(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oi()){case Jn:return 1;case Tn:return 4;case cn:case Br:return 16;case Je:return 536870912;default:return 16}default:return 16}}var er=null,To=null,Un=null;function ka(){if(Un)return Un;var n,s=To,a=s.length,c,d="value"in er?er.value:er.textContent,g=d.length;for(n=0;n<a&&s[n]===d[n];n++);var w=a-n;for(c=1;c<=w&&s[a-c]===d[g-c];c++);return Un=d.slice(n,1<c?1-c:void 0)}function Io(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function qr(){return!0}function xa(){return!1}function dn(n){function s(a,c,d,g,w){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?qr:xa,this.isPropagationStopped=xa,this}return D(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qr)},persist:function(){},isPersistent:qr}),s}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},So=dn(Sr),Gr=D({},Sr,{view:0,detail:0}),lh=dn(Gr),Ro,di,Hi,Ls=D({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Hi&&(Hi&&n.type==="mousemove"?(Ro=n.screenX-Hi.screenX,di=n.screenY-Hi.screenY):di=Ro=0,Hi=n),Ro)},movementY:function(n){return"movementY"in n?n.movementY:di}}),Ao=dn(Ls),Na=D({},Ls,{dataTransfer:0}),Ql=dn(Na),Co=D({},Gr,{relatedTarget:0}),Po=dn(Co),Yl=D({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),fi=dn(Yl),Xl=D({},Sr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Jl=dn(Xl),Zl=D({},Sr,{data:0}),Da=dn(Zl),ko={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tu(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=eu[n])?!!s[n]:!1}function Kr(){return tu}var u=D({},Gr,{key:function(n){if(n.key){var s=ko[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Io(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Nn[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(n){return n.type==="keypress"?Io(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Io(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=dn(u),v=D({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=dn(v),z=D({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),Q=dn(z),he=D({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gt=dn(he),Yt=D({},Ls,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ot=dn(Yt),nn=[9,13,27,32],$t=f&&"CompositionEvent"in window,ur=null;f&&"documentMode"in document&&(ur=document.documentMode);var tr=f&&"TextEvent"in window&&!ur,Os=f&&(!$t||ur&&8<ur&&11>=ur),xo=" ",Rp=!1;function Ap(n,s){switch(n){case"keyup":return nn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var No=!1;function NE(n,s){switch(n){case"compositionend":return Cp(s);case"keypress":return s.which!==32?null:(Rp=!0,xo);case"textInput":return n=s.data,n===xo&&Rp?null:n;default:return null}}function DE(n,s){if(No)return n==="compositionend"||!$t&&Ap(n,s)?(n=ka(),Un=To=er=null,No=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Os&&s.locale!=="ko"?null:s.data;default:return null}}var ME={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pp(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!ME[n.type]:s==="textarea"}function kp(n,s,a,c){Yn(c),s=ou(s,"onChange"),0<s.length&&(a=new So("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var Ma=null,Va=null;function VE(n){Gp(n,0)}function nu(n){var s=Oo(n);if(ze(s))return n}function LE(n,s){if(n==="change")return s}var xp=!1;if(f){var uh;if(f){var ch="oninput"in document;if(!ch){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),ch=typeof Np.oninput=="function"}uh=ch}else uh=!1;xp=uh&&(!document.documentMode||9<document.documentMode)}function Dp(){Ma&&(Ma.detachEvent("onpropertychange",Mp),Va=Ma=null)}function Mp(n){if(n.propertyName==="value"&&nu(Va)){var s=[];kp(s,Va,n,_r(n)),ks(VE,s)}}function OE(n,s,a){n==="focusin"?(Dp(),Ma=s,Va=a,Ma.attachEvent("onpropertychange",Mp)):n==="focusout"&&Dp()}function bE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return nu(Va)}function FE(n,s){if(n==="click")return nu(s)}function UE(n,s){if(n==="input"||n==="change")return nu(s)}function jE(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Rr=typeof Object.is=="function"?Object.is:jE;function La(n,s){if(Rr(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!m.call(s,d)||!Rr(n[d],s[d]))return!1}return!0}function Vp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Lp(n,s){var a=Vp(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vp(a)}}function Op(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Op(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function bp(){for(var n=window,s=lt();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=lt(n.document)}return s}function hh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function zE(n){var s=bp(),a=n.focusedElem,c=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&Op(a.ownerDocument.documentElement,a)){if(c!==null&&hh(a)){if(s=c.start,n=c.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!n.extend&&g>c&&(d=c,c=g,g=d),d=Lp(a,g);var w=Lp(a,c);d&&w&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==w.node||n.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),n.removeAllRanges(),g>c?(n.addRange(s),n.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var BE=f&&"documentMode"in document&&11>=document.documentMode,Do=null,dh=null,Oa=null,fh=!1;function Fp(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fh||Do==null||Do!==lt(c)||(c=Do,"selectionStart"in c&&hh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Oa&&La(Oa,c)||(Oa=c,c=ou(dh,"onSelect"),0<c.length&&(s=new So("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=Do)))}function ru(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Mo={animationend:ru("Animation","AnimationEnd"),animationiteration:ru("Animation","AnimationIteration"),animationstart:ru("Animation","AnimationStart"),transitionend:ru("Transition","TransitionEnd")},ph={},Up={};f&&(Up=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function iu(n){if(ph[n])return ph[n];if(!Mo[n])return n;var s=Mo[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Up)return ph[n]=s[a];return n}var jp=iu("animationend"),zp=iu("animationiteration"),Bp=iu("animationstart"),$p=iu("transitionend"),Hp=new Map,Wp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(n,s){Hp.set(n,s),l(s,[n])}for(var mh=0;mh<Wp.length;mh++){var gh=Wp[mh],$E=gh.toLowerCase(),HE=gh[0].toUpperCase()+gh.slice(1);Wi($E,"on"+HE)}Wi(jp,"onAnimationEnd"),Wi(zp,"onAnimationIteration"),Wi(Bp,"onAnimationStart"),Wi("dblclick","onDoubleClick"),Wi("focusin","onFocus"),Wi("focusout","onBlur"),Wi($p,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ba));function qp(n,s,a){var c=n.type||"unknown-event";n.currentTarget=a,ye(c,s,void 0,n),n.currentTarget=null}function Gp(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var w=c.length-1;0<=w;w--){var C=c[w],M=C.instance,K=C.currentTarget;if(C=C.listener,M!==g&&d.isPropagationStopped())break e;qp(d,C,K),g=M}else for(w=0;w<c.length;w++){if(C=c[w],M=C.instance,K=C.currentTarget,C=C.listener,M!==g&&d.isPropagationStopped())break e;qp(d,C,K),g=M}}}if(Te)throw n=De,Te=!1,De=null,n}function Rt(n,s){var a=s[Sh];a===void 0&&(a=s[Sh]=new Set);var c=n+"__bubble";a.has(c)||(Kp(s,n,2,!1),a.add(c))}function yh(n,s,a){var c=0;s&&(c|=4),Kp(a,n,c,s)}var su="_reactListening"+Math.random().toString(36).slice(2);function Fa(n){if(!n[su]){n[su]=!0,i.forEach(function(a){a!=="selectionchange"&&(WE.has(a)||yh(a,!1,n),yh(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[su]||(s[su]=!0,yh("selectionchange",!1,s))}}function Kp(n,s,a,c){switch(Pa(s)){case 1:var d=Pt;break;case 4:d=ah;break;default:d=Ca}a=d.bind(null,s,a,n),d=void 0,!N||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function vh(n,s,a,c,d){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var C=c.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(w===4)for(w=c.return;w!==null;){var M=w.tag;if((M===3||M===4)&&(M=w.stateNode.containerInfo,M===d||M.nodeType===8&&M.parentNode===d))return;w=w.return}for(;C!==null;){if(w=bs(C),w===null)return;if(M=w.tag,M===5||M===6){c=g=w;continue e}C=C.parentNode}}c=c.return}ks(function(){var K=g,ne=_r(a),se=[];e:{var ee=Hp.get(n);if(ee!==void 0){var ge=So,Re=n;switch(n){case"keypress":if(Io(a)===0)break e;case"keydown":case"keyup":ge=p;break;case"focusin":Re="focus",ge=Po;break;case"focusout":Re="blur",ge=Po;break;case"beforeblur":case"afterblur":ge=Po;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Ql;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Q;break;case jp:case zp:case Bp:ge=fi;break;case $p:ge=gt;break;case"scroll":ge=lh;break;case"wheel":ge=ot;break;case"copy":case"cut":case"paste":ge=Jl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=I}var Ae=(s&4)!==0,Ut=!Ae&&n==="scroll",B=Ae?ee!==null?ee+"Capture":null:ee;Ae=[];for(var O=K,W;O!==null;){W=O;var ae=W.stateNode;if(W.tag===5&&ae!==null&&(W=ae,B!==null&&(ae=Dt(O,B),ae!=null&&Ae.push(Ua(O,ae,W)))),Ut)break;O=O.return}0<Ae.length&&(ee=new ge(ee,Re,null,a,ne),se.push({event:ee,listeners:Ae}))}}if((s&7)===0){e:{if(ee=n==="mouseover"||n==="pointerover",ge=n==="mouseout"||n==="pointerout",ee&&a!==Fr&&(Re=a.relatedTarget||a.fromElement)&&(bs(Re)||Re[pi]))break e;if((ge||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,ge?(Re=a.relatedTarget||a.toElement,ge=K,Re=Re?bs(Re):null,Re!==null&&(Ut=ve(Re),Re!==Ut||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(ge=null,Re=K),ge!==Re)){if(Ae=Ao,ae="onMouseLeave",B="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(Ae=I,ae="onPointerLeave",B="onPointerEnter",O="pointer"),Ut=ge==null?ee:Oo(ge),W=Re==null?ee:Oo(Re),ee=new Ae(ae,O+"leave",ge,a,ne),ee.target=Ut,ee.relatedTarget=W,ae=null,bs(ne)===K&&(Ae=new Ae(B,O+"enter",Re,a,ne),Ae.target=W,Ae.relatedTarget=Ut,ae=Ae),Ut=ae,ge&&Re)t:{for(Ae=ge,B=Re,O=0,W=Ae;W;W=Vo(W))O++;for(W=0,ae=B;ae;ae=Vo(ae))W++;for(;0<O-W;)Ae=Vo(Ae),O--;for(;0<W-O;)B=Vo(B),W--;for(;O--;){if(Ae===B||B!==null&&Ae===B.alternate)break t;Ae=Vo(Ae),B=Vo(B)}Ae=null}else Ae=null;ge!==null&&Qp(se,ee,ge,Ae,!1),Re!==null&&Ut!==null&&Qp(se,Ut,Re,Ae,!0)}}e:{if(ee=K?Oo(K):window,ge=ee.nodeName&&ee.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ee.type==="file")var ke=LE;else if(Pp(ee))if(xp)ke=UE;else{ke=bE;var Me=OE}else(ge=ee.nodeName)&&ge.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ke=FE);if(ke&&(ke=ke(n,K))){kp(se,ke,a,ne);break e}Me&&Me(n,ee,K),n==="focusout"&&(Me=ee._wrapperState)&&Me.controlled&&ee.type==="number"&&ln(ee,"number",ee.value)}switch(Me=K?Oo(K):window,n){case"focusin":(Pp(Me)||Me.contentEditable==="true")&&(Do=Me,dh=K,Oa=null);break;case"focusout":Oa=dh=Do=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,Fp(se,a,ne);break;case"selectionchange":if(BE)break;case"keydown":case"keyup":Fp(se,a,ne)}var Ve;if($t)e:{switch(n){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else No?Ap(n,a)&&(be="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(Os&&a.locale!=="ko"&&(No||be!=="onCompositionStart"?be==="onCompositionEnd"&&No&&(Ve=ka()):(er=ne,To="value"in er?er.value:er.textContent,No=!0)),Me=ou(K,be),0<Me.length&&(be=new Da(be,n,null,a,ne),se.push({event:be,listeners:Me}),Ve?be.data=Ve:(Ve=Cp(a),Ve!==null&&(be.data=Ve)))),(Ve=tr?NE(n,a):DE(n,a))&&(K=ou(K,"onBeforeInput"),0<K.length&&(ne=new Da("onBeforeInput","beforeinput",null,a,ne),se.push({event:ne,listeners:K}),ne.data=Ve))}Gp(se,s)})}function Ua(n,s,a){return{instance:n,listener:s,currentTarget:a}}function ou(n,s){for(var a=s+"Capture",c=[];n!==null;){var d=n,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=Dt(n,a),g!=null&&c.unshift(Ua(n,g,d)),g=Dt(n,s),g!=null&&c.push(Ua(n,g,d))),n=n.return}return c}function Vo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Qp(n,s,a,c,d){for(var g=s._reactName,w=[];a!==null&&a!==c;){var C=a,M=C.alternate,K=C.stateNode;if(M!==null&&M===c)break;C.tag===5&&K!==null&&(C=K,d?(M=Dt(a,g),M!=null&&w.unshift(Ua(a,M,C))):d||(M=Dt(a,g),M!=null&&w.push(Ua(a,M,C)))),a=a.return}w.length!==0&&n.push({event:s,listeners:w})}var qE=/\r\n?/g,GE=/\u0000|\uFFFD/g;function Yp(n){return(typeof n=="string"?n:""+n).replace(qE,`
`).replace(GE,"")}function au(n,s,a){if(s=Yp(s),Yp(n)!==s&&a)throw Error(t(425))}function lu(){}var _h=null,wh=null;function Eh(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Th=typeof setTimeout=="function"?setTimeout:void 0,KE=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,QE=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(n){return Xp.resolve(null).then(n).catch(YE)}:Th;function YE(n){setTimeout(function(){throw n})}function Ih(n,s){var a=s,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Ir(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Ir(s)}function qi(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Jp(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var Lo=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Lo,ja="__reactProps$"+Lo,pi="__reactContainer$"+Lo,Sh="__reactEvents$"+Lo,XE="__reactListeners$"+Lo,JE="__reactHandles$"+Lo;function bs(n){var s=n[Qr];if(s)return s;for(var a=n.parentNode;a;){if(s=a[pi]||a[Qr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Jp(n);n!==null;){if(a=n[Qr])return a;n=Jp(n)}return s}n=a,a=n.parentNode}return null}function za(n){return n=n[Qr]||n[pi],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Oo(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function uu(n){return n[ja]||null}var Rh=[],bo=-1;function Gi(n){return{current:n}}function At(n){0>bo||(n.current=Rh[bo],Rh[bo]=null,bo--)}function _t(n,s){bo++,Rh[bo]=n.current,n.current=s}var Ki={},In=Gi(Ki),jn=Gi(!1),Fs=Ki;function Fo(n,s){var a=n.type.contextTypes;if(!a)return Ki;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=s[g];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=d),d}function zn(n){return n=n.childContextTypes,n!=null}function cu(){At(jn),At(In)}function Zp(n,s,a){if(In.current!==Ki)throw Error(t(168));_t(In,s),_t(jn,a)}function em(n,s,a){var c=n.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,le(n)||"Unknown",d));return D({},a,c)}function hu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ki,Fs=In.current,_t(In,n),_t(jn,jn.current),!0}function tm(n,s,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=em(n,s,Fs),c.__reactInternalMemoizedMergedChildContext=n,At(jn),At(In),_t(In,n)):At(jn),_t(jn,a)}var mi=null,du=!1,Ah=!1;function nm(n){mi===null?mi=[n]:mi.push(n)}function ZE(n){du=!0,nm(n)}function Qi(){if(!Ah&&mi!==null){Ah=!0;var n=0,s=st;try{var a=mi;for(st=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}mi=null,du=!1}catch(d){throw mi!==null&&(mi=mi.slice(n+1)),mt(Jn,Qi),d}finally{st=s,Ah=!1}}return null}var Uo=[],jo=0,fu=null,pu=0,cr=[],hr=0,Us=null,gi=1,yi="";function js(n,s){Uo[jo++]=pu,Uo[jo++]=fu,fu=n,pu=s}function rm(n,s,a){cr[hr++]=gi,cr[hr++]=yi,cr[hr++]=Us,Us=n;var c=gi;n=yi;var d=32-et(c)-1;c&=~(1<<d),a+=1;var g=32-et(s)+d;if(30<g){var w=d-d%5;g=(c&(1<<w)-1).toString(32),c>>=w,d-=w,gi=1<<32-et(s)+d|a<<d|c,yi=g+n}else gi=1<<g|a<<d|c,yi=n}function Ch(n){n.return!==null&&(js(n,1),rm(n,1,0))}function Ph(n){for(;n===fu;)fu=Uo[--jo],Uo[jo]=null,pu=Uo[--jo],Uo[jo]=null;for(;n===Us;)Us=cr[--hr],cr[hr]=null,yi=cr[--hr],cr[hr]=null,gi=cr[--hr],cr[hr]=null}var nr=null,rr=null,kt=!1,Ar=null;function im(n,s){var a=mr(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function sm(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,nr=n,rr=qi(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,nr=n,rr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Us!==null?{id:gi,overflow:yi}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=mr(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,nr=n,rr=null,!0):!1;default:return!1}}function kh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function xh(n){if(kt){var s=rr;if(s){var a=s;if(!sm(n,s)){if(kh(n))throw Error(t(418));s=qi(a.nextSibling);var c=nr;s&&sm(n,s)?im(c,a):(n.flags=n.flags&-4097|2,kt=!1,nr=n)}}else{if(kh(n))throw Error(t(418));n.flags=n.flags&-4097|2,kt=!1,nr=n}}}function om(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;nr=n}function mu(n){if(n!==nr)return!1;if(!kt)return om(n),kt=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!Eh(n.type,n.memoizedProps)),s&&(s=rr)){if(kh(n))throw am(),Error(t(418));for(;s;)im(n,s),s=qi(s.nextSibling)}if(om(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){rr=qi(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}rr=null}}else rr=nr?qi(n.stateNode.nextSibling):null;return!0}function am(){for(var n=rr;n;)n=qi(n.nextSibling)}function zo(){rr=nr=null,kt=!1}function Nh(n){Ar===null?Ar=[n]:Ar.push(n)}var e0=Ce.ReactCurrentBatchConfig;function Ba(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,g=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var C=d.refs;w===null?delete C[g]:C[g]=w},s._stringRef=g,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function gu(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function lm(n){var s=n._init;return s(n._payload)}function um(n){function s(B,O){if(n){var W=B.deletions;W===null?(B.deletions=[O],B.flags|=16):W.push(O)}}function a(B,O){if(!n)return null;for(;O!==null;)s(B,O),O=O.sibling;return null}function c(B,O){for(B=new Map;O!==null;)O.key!==null?B.set(O.key,O):B.set(O.index,O),O=O.sibling;return B}function d(B,O){return B=rs(B,O),B.index=0,B.sibling=null,B}function g(B,O,W){return B.index=W,n?(W=B.alternate,W!==null?(W=W.index,W<O?(B.flags|=2,O):W):(B.flags|=2,O)):(B.flags|=1048576,O)}function w(B){return n&&B.alternate===null&&(B.flags|=2),B}function C(B,O,W,ae){return O===null||O.tag!==6?(O=Td(W,B.mode,ae),O.return=B,O):(O=d(O,W),O.return=B,O)}function M(B,O,W,ae){var ke=W.type;return ke===S?ne(B,O,W.props.children,ae,W.key):O!==null&&(O.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===Ct&&lm(ke)===O.type)?(ae=d(O,W.props),ae.ref=Ba(B,O,W),ae.return=B,ae):(ae=ju(W.type,W.key,W.props,null,B.mode,ae),ae.ref=Ba(B,O,W),ae.return=B,ae)}function K(B,O,W,ae){return O===null||O.tag!==4||O.stateNode.containerInfo!==W.containerInfo||O.stateNode.implementation!==W.implementation?(O=Id(W,B.mode,ae),O.return=B,O):(O=d(O,W.children||[]),O.return=B,O)}function ne(B,O,W,ae,ke){return O===null||O.tag!==7?(O=Ks(W,B.mode,ae,ke),O.return=B,O):(O=d(O,W),O.return=B,O)}function se(B,O,W){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Td(""+O,B.mode,W),O.return=B,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case je:return W=ju(O.type,O.key,O.props,null,B.mode,W),W.ref=Ba(B,null,O),W.return=B,W;case We:return O=Id(O,B.mode,W),O.return=B,O;case Ct:var ae=O._init;return se(B,ae(O._payload),W)}if(Ot(O)||Pe(O))return O=Ks(O,B.mode,W,null),O.return=B,O;gu(B,O)}return null}function ee(B,O,W,ae){var ke=O!==null?O.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return ke!==null?null:C(B,O,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case je:return W.key===ke?M(B,O,W,ae):null;case We:return W.key===ke?K(B,O,W,ae):null;case Ct:return ke=W._init,ee(B,O,ke(W._payload),ae)}if(Ot(W)||Pe(W))return ke!==null?null:ne(B,O,W,ae,null);gu(B,W)}return null}function ge(B,O,W,ae,ke){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return B=B.get(W)||null,C(O,B,""+ae,ke);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case je:return B=B.get(ae.key===null?W:ae.key)||null,M(O,B,ae,ke);case We:return B=B.get(ae.key===null?W:ae.key)||null,K(O,B,ae,ke);case Ct:var Me=ae._init;return ge(B,O,W,Me(ae._payload),ke)}if(Ot(ae)||Pe(ae))return B=B.get(W)||null,ne(O,B,ae,ke,null);gu(O,ae)}return null}function Re(B,O,W,ae){for(var ke=null,Me=null,Ve=O,be=O=0,on=null;Ve!==null&&be<W.length;be++){Ve.index>be?(on=Ve,Ve=null):on=Ve.sibling;var ht=ee(B,Ve,W[be],ae);if(ht===null){Ve===null&&(Ve=on);break}n&&Ve&&ht.alternate===null&&s(B,Ve),O=g(ht,O,be),Me===null?ke=ht:Me.sibling=ht,Me=ht,Ve=on}if(be===W.length)return a(B,Ve),kt&&js(B,be),ke;if(Ve===null){for(;be<W.length;be++)Ve=se(B,W[be],ae),Ve!==null&&(O=g(Ve,O,be),Me===null?ke=Ve:Me.sibling=Ve,Me=Ve);return kt&&js(B,be),ke}for(Ve=c(B,Ve);be<W.length;be++)on=ge(Ve,B,be,W[be],ae),on!==null&&(n&&on.alternate!==null&&Ve.delete(on.key===null?be:on.key),O=g(on,O,be),Me===null?ke=on:Me.sibling=on,Me=on);return n&&Ve.forEach(function(is){return s(B,is)}),kt&&js(B,be),ke}function Ae(B,O,W,ae){var ke=Pe(W);if(typeof ke!="function")throw Error(t(150));if(W=ke.call(W),W==null)throw Error(t(151));for(var Me=ke=null,Ve=O,be=O=0,on=null,ht=W.next();Ve!==null&&!ht.done;be++,ht=W.next()){Ve.index>be?(on=Ve,Ve=null):on=Ve.sibling;var is=ee(B,Ve,ht.value,ae);if(is===null){Ve===null&&(Ve=on);break}n&&Ve&&is.alternate===null&&s(B,Ve),O=g(is,O,be),Me===null?ke=is:Me.sibling=is,Me=is,Ve=on}if(ht.done)return a(B,Ve),kt&&js(B,be),ke;if(Ve===null){for(;!ht.done;be++,ht=W.next())ht=se(B,ht.value,ae),ht!==null&&(O=g(ht,O,be),Me===null?ke=ht:Me.sibling=ht,Me=ht);return kt&&js(B,be),ke}for(Ve=c(B,Ve);!ht.done;be++,ht=W.next())ht=ge(Ve,B,be,ht.value,ae),ht!==null&&(n&&ht.alternate!==null&&Ve.delete(ht.key===null?be:ht.key),O=g(ht,O,be),Me===null?ke=ht:Me.sibling=ht,Me=ht);return n&&Ve.forEach(function(M0){return s(B,M0)}),kt&&js(B,be),ke}function Ut(B,O,W,ae){if(typeof W=="object"&&W!==null&&W.type===S&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case je:e:{for(var ke=W.key,Me=O;Me!==null;){if(Me.key===ke){if(ke=W.type,ke===S){if(Me.tag===7){a(B,Me.sibling),O=d(Me,W.props.children),O.return=B,B=O;break e}}else if(Me.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===Ct&&lm(ke)===Me.type){a(B,Me.sibling),O=d(Me,W.props),O.ref=Ba(B,Me,W),O.return=B,B=O;break e}a(B,Me);break}else s(B,Me);Me=Me.sibling}W.type===S?(O=Ks(W.props.children,B.mode,ae,W.key),O.return=B,B=O):(ae=ju(W.type,W.key,W.props,null,B.mode,ae),ae.ref=Ba(B,O,W),ae.return=B,B=ae)}return w(B);case We:e:{for(Me=W.key;O!==null;){if(O.key===Me)if(O.tag===4&&O.stateNode.containerInfo===W.containerInfo&&O.stateNode.implementation===W.implementation){a(B,O.sibling),O=d(O,W.children||[]),O.return=B,B=O;break e}else{a(B,O);break}else s(B,O);O=O.sibling}O=Id(W,B.mode,ae),O.return=B,B=O}return w(B);case Ct:return Me=W._init,Ut(B,O,Me(W._payload),ae)}if(Ot(W))return Re(B,O,W,ae);if(Pe(W))return Ae(B,O,W,ae);gu(B,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,O!==null&&O.tag===6?(a(B,O.sibling),O=d(O,W),O.return=B,B=O):(a(B,O),O=Td(W,B.mode,ae),O.return=B,B=O),w(B)):a(B,O)}return Ut}var Bo=um(!0),cm=um(!1),yu=Gi(null),vu=null,$o=null,Dh=null;function Mh(){Dh=$o=vu=null}function Vh(n){var s=yu.current;At(yu),n._currentValue=s}function Lh(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function Ho(n,s){vu=n,Dh=$o=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Bn=!0),n.firstContext=null)}function dr(n){var s=n._currentValue;if(Dh!==n)if(n={context:n,memoizedValue:s,next:null},$o===null){if(vu===null)throw Error(t(308));$o=n,vu.dependencies={lanes:0,firstContext:n}}else $o=$o.next=n;return s}var zs=null;function Oh(n){zs===null?zs=[n]:zs.push(n)}function hm(n,s,a,c){var d=s.interleaved;return d===null?(a.next=a,Oh(s)):(a.next=d.next,d.next=a),s.interleaved=a,vi(n,c)}function vi(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Yi=!1;function bh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dm(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function _i(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Xi(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(ut&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,vi(n,a)}return d=c.interleaved,d===null?(s.next=s,Oh(c)):(s.next=d.next,d.next=s),c.interleaved=s,vi(n,a)}function _u(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,ji(n,a)}}function fm(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?d=g=s:g=g.next=s}else d=g=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function wu(n,s,a,c){var d=n.updateQueue;Yi=!1;var g=d.firstBaseUpdate,w=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var M=C,K=M.next;M.next=null,w===null?g=K:w.next=K,w=M;var ne=n.alternate;ne!==null&&(ne=ne.updateQueue,C=ne.lastBaseUpdate,C!==w&&(C===null?ne.firstBaseUpdate=K:C.next=K,ne.lastBaseUpdate=M))}if(g!==null){var se=d.baseState;w=0,ne=K=M=null,C=g;do{var ee=C.lane,ge=C.eventTime;if((c&ee)===ee){ne!==null&&(ne=ne.next={eventTime:ge,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var Re=n,Ae=C;switch(ee=s,ge=a,Ae.tag){case 1:if(Re=Ae.payload,typeof Re=="function"){se=Re.call(ge,se,ee);break e}se=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ae.payload,ee=typeof Re=="function"?Re.call(ge,se,ee):Re,ee==null)break e;se=D({},se,ee);break e;case 2:Yi=!0}}C.callback!==null&&C.lane!==0&&(n.flags|=64,ee=d.effects,ee===null?d.effects=[C]:ee.push(C))}else ge={eventTime:ge,lane:ee,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ne===null?(K=ne=ge,M=se):ne=ne.next=ge,w|=ee;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,d.lastBaseUpdate=ee,d.shared.pending=null}}while(!0);if(ne===null&&(M=se),d.baseState=M,d.firstBaseUpdate=K,d.lastBaseUpdate=ne,s=d.shared.interleaved,s!==null){d=s;do w|=d.lane,d=d.next;while(d!==s)}else g===null&&(d.shared.lanes=0);Hs|=w,n.lanes=w,n.memoizedState=se}}function pm(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var c=n[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var $a={},Yr=Gi($a),Ha=Gi($a),Wa=Gi($a);function Bs(n){if(n===$a)throw Error(t(174));return n}function Fh(n,s){switch(_t(Wa,s),_t(Ha,n),_t(Yr,$a),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:St(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=St(s,n)}At(Yr),_t(Yr,s)}function Wo(){At(Yr),At(Ha),At(Wa)}function mm(n){Bs(Wa.current);var s=Bs(Yr.current),a=St(s,n.type);s!==a&&(_t(Ha,n),_t(Yr,a))}function Uh(n){Ha.current===n&&(At(Yr),At(Ha))}var Mt=Gi(0);function Eu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var jh=[];function zh(){for(var n=0;n<jh.length;n++)jh[n]._workInProgressVersionPrimary=null;jh.length=0}var Tu=Ce.ReactCurrentDispatcher,Bh=Ce.ReactCurrentBatchConfig,$s=0,Vt=null,Xt=null,rn=null,Iu=!1,qa=!1,Ga=0,t0=0;function Sn(){throw Error(t(321))}function $h(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Rr(n[a],s[a]))return!1;return!0}function Hh(n,s,a,c,d,g){if($s=g,Vt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Tu.current=n===null||n.memoizedState===null?s0:o0,n=a(c,d),qa){g=0;do{if(qa=!1,Ga=0,25<=g)throw Error(t(301));g+=1,rn=Xt=null,s.updateQueue=null,Tu.current=a0,n=a(c,d)}while(qa)}if(Tu.current=Au,s=Xt!==null&&Xt.next!==null,$s=0,rn=Xt=Vt=null,Iu=!1,s)throw Error(t(300));return n}function Wh(){var n=Ga!==0;return Ga=0,n}function Xr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Vt.memoizedState=rn=n:rn=rn.next=n,rn}function fr(){if(Xt===null){var n=Vt.alternate;n=n!==null?n.memoizedState:null}else n=Xt.next;var s=rn===null?Vt.memoizedState:rn.next;if(s!==null)rn=s,Xt=n;else{if(n===null)throw Error(t(310));Xt=n,n={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},rn===null?Vt.memoizedState=rn=n:rn=rn.next=n}return rn}function Ka(n,s){return typeof s=="function"?s(n):s}function qh(n){var s=fr(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=Xt,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var w=d.next;d.next=g.next,g.next=w}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var C=w=null,M=null,K=g;do{var ne=K.lane;if(($s&ne)===ne)M!==null&&(M=M.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),c=K.hasEagerState?K.eagerState:n(c,K.action);else{var se={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};M===null?(C=M=se,w=c):M=M.next=se,Vt.lanes|=ne,Hs|=ne}K=K.next}while(K!==null&&K!==g);M===null?w=c:M.next=C,Rr(c,s.memoizedState)||(Bn=!0),s.memoizedState=c,s.baseState=w,s.baseQueue=M,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do g=d.lane,Vt.lanes|=g,Hs|=g,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Gh(n){var s=fr(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,g=s.memoizedState;if(d!==null){a.pending=null;var w=d=d.next;do g=n(g,w.action),w=w.next;while(w!==d);Rr(g,s.memoizedState)||(Bn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function gm(){}function ym(n,s){var a=Vt,c=fr(),d=s(),g=!Rr(c.memoizedState,d);if(g&&(c.memoizedState=d,Bn=!0),c=c.queue,Kh(wm.bind(null,a,c,n),[n]),c.getSnapshot!==s||g||rn!==null&&rn.memoizedState.tag&1){if(a.flags|=2048,Qa(9,_m.bind(null,a,c,d,s),void 0,null),sn===null)throw Error(t(349));($s&30)!==0||vm(a,s,d)}return d}function vm(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Vt.updateQueue,s===null?(s={lastEffect:null,stores:null},Vt.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function _m(n,s,a,c){s.value=a,s.getSnapshot=c,Em(s)&&Tm(n)}function wm(n,s,a){return a(function(){Em(s)&&Tm(n)})}function Em(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Rr(n,a)}catch{return!0}}function Tm(n){var s=vi(n,1);s!==null&&xr(s,n,1,-1)}function Im(n){var s=Xr();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:n},s.queue=n,n=n.dispatch=i0.bind(null,Vt,n),[s.memoizedState,n]}function Qa(n,s,a,c){return n={tag:n,create:s,destroy:a,deps:c,next:null},s=Vt.updateQueue,s===null?(s={lastEffect:null,stores:null},Vt.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n)),n}function Sm(){return fr().memoizedState}function Su(n,s,a,c){var d=Xr();Vt.flags|=n,d.memoizedState=Qa(1|s,a,void 0,c===void 0?null:c)}function Ru(n,s,a,c){var d=fr();c=c===void 0?null:c;var g=void 0;if(Xt!==null){var w=Xt.memoizedState;if(g=w.destroy,c!==null&&$h(c,w.deps)){d.memoizedState=Qa(s,a,g,c);return}}Vt.flags|=n,d.memoizedState=Qa(1|s,a,g,c)}function Rm(n,s){return Su(8390656,8,n,s)}function Kh(n,s){return Ru(2048,8,n,s)}function Am(n,s){return Ru(4,2,n,s)}function Cm(n,s){return Ru(4,4,n,s)}function Pm(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function km(n,s,a){return a=a!=null?a.concat([n]):null,Ru(4,4,Pm.bind(null,s,n),a)}function Qh(){}function xm(n,s){var a=fr();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&$h(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function Nm(n,s){var a=fr();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&$h(s,c[1])?c[0]:(n=n(),a.memoizedState=[n,s],n)}function Dm(n,s,a){return($s&21)===0?(n.baseState&&(n.baseState=!1,Bn=!0),n.memoizedState=a):(Rr(a,s)||(a=Ds(),Vt.lanes|=a,Hs|=a,n.baseState=!0),s)}function n0(n,s){var a=st;st=a!==0&&4>a?a:4,n(!0);var c=Bh.transition;Bh.transition={};try{n(!1),s()}finally{st=a,Bh.transition=c}}function Mm(){return fr().memoizedState}function r0(n,s,a){var c=ts(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Vm(n))Lm(s,a);else if(a=hm(n,s,a,c),a!==null){var d=Mn();xr(a,n,c,d),Om(a,s,c)}}function i0(n,s,a){var c=ts(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vm(n))Lm(s,d);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,C=g(w,a);if(d.hasEagerState=!0,d.eagerState=C,Rr(C,w)){var M=s.interleaved;M===null?(d.next=d,Oh(s)):(d.next=M.next,M.next=d),s.interleaved=d;return}}catch{}finally{}a=hm(n,s,d,c),a!==null&&(d=Mn(),xr(a,n,c,d),Om(a,s,c))}}function Vm(n){var s=n.alternate;return n===Vt||s!==null&&s===Vt}function Lm(n,s){qa=Iu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Om(n,s,a){if((a&4194240)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,ji(n,a)}}var Au={readContext:dr,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},s0={readContext:dr,useCallback:function(n,s){return Xr().memoizedState=[n,s===void 0?null:s],n},useContext:dr,useEffect:Rm,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,Su(4194308,4,Pm.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Su(4194308,4,n,s)},useInsertionEffect:function(n,s){return Su(4,2,n,s)},useMemo:function(n,s){var a=Xr();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var c=Xr();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},c.queue=n,n=n.dispatch=r0.bind(null,Vt,n),[c.memoizedState,n]},useRef:function(n){var s=Xr();return n={current:n},s.memoizedState=n},useState:Im,useDebugValue:Qh,useDeferredValue:function(n){return Xr().memoizedState=n},useTransition:function(){var n=Im(!1),s=n[0];return n=n0.bind(null,n[1]),Xr().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var c=Vt,d=Xr();if(kt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),sn===null)throw Error(t(349));($s&30)!==0||vm(c,s,a)}d.memoizedState=a;var g={value:a,getSnapshot:s};return d.queue=g,Rm(wm.bind(null,c,g,n),[n]),c.flags|=2048,Qa(9,_m.bind(null,c,g,a,s),void 0,null),a},useId:function(){var n=Xr(),s=sn.identifierPrefix;if(kt){var a=yi,c=gi;a=(c&~(1<<32-et(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ga++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=t0++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},o0={readContext:dr,useCallback:xm,useContext:dr,useEffect:Kh,useImperativeHandle:km,useInsertionEffect:Am,useLayoutEffect:Cm,useMemo:Nm,useReducer:qh,useRef:Sm,useState:function(){return qh(Ka)},useDebugValue:Qh,useDeferredValue:function(n){var s=fr();return Dm(s,Xt.memoizedState,n)},useTransition:function(){var n=qh(Ka)[0],s=fr().memoizedState;return[n,s]},useMutableSource:gm,useSyncExternalStore:ym,useId:Mm,unstable_isNewReconciler:!1},a0={readContext:dr,useCallback:xm,useContext:dr,useEffect:Kh,useImperativeHandle:km,useInsertionEffect:Am,useLayoutEffect:Cm,useMemo:Nm,useReducer:Gh,useRef:Sm,useState:function(){return Gh(Ka)},useDebugValue:Qh,useDeferredValue:function(n){var s=fr();return Xt===null?s.memoizedState=n:Dm(s,Xt.memoizedState,n)},useTransition:function(){var n=Gh(Ka)[0],s=fr().memoizedState;return[n,s]},useMutableSource:gm,useSyncExternalStore:ym,useId:Mm,unstable_isNewReconciler:!1};function Cr(n,s){if(n&&n.defaultProps){s=D({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function Yh(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:D({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Cu={isMounted:function(n){return(n=n._reactInternals)?ve(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var c=Mn(),d=ts(n),g=_i(c,d);g.payload=s,a!=null&&(g.callback=a),s=Xi(n,g,d),s!==null&&(xr(s,n,d,c),_u(s,n,d))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=Mn(),d=ts(n),g=_i(c,d);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Xi(n,g,d),s!==null&&(xr(s,n,d,c),_u(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Mn(),c=ts(n),d=_i(a,c);d.tag=2,s!=null&&(d.callback=s),s=Xi(n,d,c),s!==null&&(xr(s,n,c,a),_u(s,n,c))}};function bm(n,s,a,c,d,g,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,w):s.prototype&&s.prototype.isPureReactComponent?!La(a,c)||!La(d,g):!0}function Fm(n,s,a){var c=!1,d=Ki,g=s.contextType;return typeof g=="object"&&g!==null?g=dr(g):(d=zn(s)?Fs:In.current,c=s.contextTypes,g=(c=c!=null)?Fo(n,d):Ki),s=new s(a,g),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Cu,n.stateNode=s,s._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=g),s}function Um(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&Cu.enqueueReplaceState(s,s.state,null)}function Xh(n,s,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},bh(n);var g=s.contextType;typeof g=="object"&&g!==null?d.context=dr(g):(g=zn(s)?Fs:In.current,d.context=Fo(n,g)),d.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Yh(n,s,g,a),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Cu.enqueueReplaceState(d,d.state,null),wu(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function qo(n,s){try{var a="",c=s;do a+=oe(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:s,stack:d,digest:null}}function Jh(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function Zh(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var l0=typeof WeakMap=="function"?WeakMap:Map;function jm(n,s,a){a=_i(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Vu||(Vu=!0,pd=c),Zh(n,s)},a}function zm(n,s,a){a=_i(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){Zh(n,s)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Zh(n,s),typeof c!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function Bm(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new l0;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),n=T0.bind(null,n,s,a),s.then(n,n))}function $m(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Hm(n,s,a,c,d){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=_i(-1,1),s.tag=2,Xi(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var u0=Ce.ReactCurrentOwner,Bn=!1;function Dn(n,s,a,c){s.child=n===null?cm(s,null,a,c):Bo(s,n.child,a,c)}function Wm(n,s,a,c,d){a=a.render;var g=s.ref;return Ho(s,d),c=Hh(n,s,a,c,g,d),a=Wh(),n!==null&&!Bn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,wi(n,s,d)):(kt&&a&&Ch(s),s.flags|=1,Dn(n,s,c,d),s.child)}function qm(n,s,a,c,d){if(n===null){var g=a.type;return typeof g=="function"&&!Ed(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Gm(n,s,g,c,d)):(n=ju(a.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,(n.lanes&d)===0){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:La,a(w,c)&&n.ref===s.ref)return wi(n,s,d)}return s.flags|=1,n=rs(g,c),n.ref=s.ref,n.return=s,s.child=n}function Gm(n,s,a,c,d){if(n!==null){var g=n.memoizedProps;if(La(g,c)&&n.ref===s.ref)if(Bn=!1,s.pendingProps=c=g,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Bn=!0);else return s.lanes=n.lanes,wi(n,s,d)}return ed(n,s,a,c,d)}function Km(n,s,a){var c=s.pendingProps,d=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(Ko,ir),ir|=a;else{if((a&1073741824)===0)return n=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,_t(Ko,ir),ir|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,_t(Ko,ir),ir|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,_t(Ko,ir),ir|=c;return Dn(n,s,d,a),s.child}function Qm(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function ed(n,s,a,c,d){var g=zn(a)?Fs:In.current;return g=Fo(s,g),Ho(s,d),a=Hh(n,s,a,c,g,d),c=Wh(),n!==null&&!Bn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,wi(n,s,d)):(kt&&c&&Ch(s),s.flags|=1,Dn(n,s,a,d),s.child)}function Ym(n,s,a,c,d){if(zn(a)){var g=!0;hu(s)}else g=!1;if(Ho(s,d),s.stateNode===null)ku(n,s),Fm(s,a,c),Xh(s,a,c,d),c=!0;else if(n===null){var w=s.stateNode,C=s.memoizedProps;w.props=C;var M=w.context,K=a.contextType;typeof K=="object"&&K!==null?K=dr(K):(K=zn(a)?Fs:In.current,K=Fo(s,K));var ne=a.getDerivedStateFromProps,se=typeof ne=="function"||typeof w.getSnapshotBeforeUpdate=="function";se||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==c||M!==K)&&Um(s,w,c,K),Yi=!1;var ee=s.memoizedState;w.state=ee,wu(s,c,w,d),M=s.memoizedState,C!==c||ee!==M||jn.current||Yi?(typeof ne=="function"&&(Yh(s,a,ne,c),M=s.memoizedState),(C=Yi||bm(s,a,C,c,ee,M,K))?(se||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=M),w.props=c,w.state=M,w.context=K,c=C):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{w=s.stateNode,dm(n,s),C=s.memoizedProps,K=s.type===s.elementType?C:Cr(s.type,C),w.props=K,se=s.pendingProps,ee=w.context,M=a.contextType,typeof M=="object"&&M!==null?M=dr(M):(M=zn(a)?Fs:In.current,M=Fo(s,M));var ge=a.getDerivedStateFromProps;(ne=typeof ge=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==se||ee!==M)&&Um(s,w,c,M),Yi=!1,ee=s.memoizedState,w.state=ee,wu(s,c,w,d);var Re=s.memoizedState;C!==se||ee!==Re||jn.current||Yi?(typeof ge=="function"&&(Yh(s,a,ge,c),Re=s.memoizedState),(K=Yi||bm(s,a,K,c,ee,Re,M)||!1)?(ne||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,Re,M),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,Re,M)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===n.memoizedProps&&ee===n.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&ee===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Re),w.props=c,w.state=Re,w.context=M,c=K):(typeof w.componentDidUpdate!="function"||C===n.memoizedProps&&ee===n.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&ee===n.memoizedState||(s.flags|=1024),c=!1)}return td(n,s,a,c,g,d)}function td(n,s,a,c,d,g){Qm(n,s);var w=(s.flags&128)!==0;if(!c&&!w)return d&&tm(s,a,!1),wi(n,s,g);c=s.stateNode,u0.current=s;var C=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,n!==null&&w?(s.child=Bo(s,n.child,null,g),s.child=Bo(s,null,C,g)):Dn(n,s,C,g),s.memoizedState=c.state,d&&tm(s,a,!0),s.child}function Xm(n){var s=n.stateNode;s.pendingContext?Zp(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Zp(n,s.context,!1),Fh(n,s.containerInfo)}function Jm(n,s,a,c,d){return zo(),Nh(d),s.flags|=256,Dn(n,s,a,c),s.child}var nd={dehydrated:null,treeContext:null,retryLane:0};function rd(n){return{baseLanes:n,cachePool:null,transitions:null}}function Zm(n,s,a){var c=s.pendingProps,d=Mt.current,g=!1,w=(s.flags&128)!==0,C;if((C=w)||(C=n!==null&&n.memoizedState===null?!1:(d&2)!==0),C?(g=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),_t(Mt,d&1),n===null)return xh(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=c.children,n=c.fallback,g?(c=s.mode,g=s.child,w={mode:"hidden",children:w},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=w):g=zu(w,c,0,null),n=Ks(n,c,a,null),g.return=s,n.return=s,g.sibling=n,s.child=g,s.child.memoizedState=rd(a),s.memoizedState=nd,n):id(s,w));if(d=n.memoizedState,d!==null&&(C=d.dehydrated,C!==null))return c0(n,s,w,c,C,d,a);if(g){g=c.fallback,w=s.mode,d=n.child,C=d.sibling;var M={mode:"hidden",children:c.children};return(w&1)===0&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=M,s.deletions=null):(c=rs(d,M),c.subtreeFlags=d.subtreeFlags&14680064),C!==null?g=rs(C,g):(g=Ks(g,w,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,w=n.child.memoizedState,w=w===null?rd(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=n.childLanes&~a,s.memoizedState=nd,c}return g=n.child,n=g.sibling,c=rs(g,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=c,s.memoizedState=null,c}function id(n,s){return s=zu({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function Pu(n,s,a,c){return c!==null&&Nh(c),Bo(s,n.child,null,a),n=id(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function c0(n,s,a,c,d,g,w){if(a)return s.flags&256?(s.flags&=-257,c=Jh(Error(t(422))),Pu(n,s,w,c)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(g=c.fallback,d=s.mode,c=zu({mode:"visible",children:c.children},d,0,null),g=Ks(g,d,w,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,(s.mode&1)!==0&&Bo(s,n.child,null,w),s.child.memoizedState=rd(w),s.memoizedState=nd,g);if((s.mode&1)===0)return Pu(n,s,w,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var C=c.dgst;return c=C,g=Error(t(419)),c=Jh(g,c,void 0),Pu(n,s,w,c)}if(C=(w&n.childLanes)!==0,Bn||C){if(c=sn,c!==null){switch(w&-w){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|w))!==0?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,vi(n,d),xr(c,n,d,-1))}return wd(),c=Jh(Error(t(421))),Pu(n,s,w,c)}return d.data==="$?"?(s.flags|=128,s.child=n.child,s=I0.bind(null,n),d._reactRetry=s,null):(n=g.treeContext,rr=qi(d.nextSibling),nr=s,kt=!0,Ar=null,n!==null&&(cr[hr++]=gi,cr[hr++]=yi,cr[hr++]=Us,gi=n.id,yi=n.overflow,Us=s),s=id(s,c.children),s.flags|=4096,s)}function eg(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Lh(n.return,s,a)}function sd(n,s,a,c,d){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function tg(n,s,a){var c=s.pendingProps,d=c.revealOrder,g=c.tail;if(Dn(n,s,c.children,a),c=Mt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&eg(n,a,s);else if(n.tag===19)eg(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(_t(Mt,c),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&Eu(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),sd(s,!1,d,a,g);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&Eu(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}sd(s,!0,a,null,g);break;case"together":sd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ku(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function wi(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Hs|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=rs(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=rs(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function h0(n,s,a){switch(s.tag){case 3:Xm(s),zo();break;case 5:mm(s);break;case 1:zn(s.type)&&hu(s);break;case 4:Fh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;_t(yu,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(_t(Mt,Mt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Zm(n,s,a):(_t(Mt,Mt.current&1),n=wi(n,s,a),n!==null?n.sibling:null);_t(Mt,Mt.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(n.flags&128)!==0){if(c)return tg(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),_t(Mt,Mt.current),c)break;return null;case 22:case 23:return s.lanes=0,Km(n,s,a)}return wi(n,s,a)}var ng,od,rg,ig;ng=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},od=function(){},rg=function(n,s,a,c){var d=n.memoizedProps;if(d!==c){n=s.stateNode,Bs(Yr.current);var g=null;switch(a){case"input":d=$e(n,d),c=$e(n,c),g=[];break;case"select":d=D({},d,{value:void 0}),c=D({},c,{value:void 0}),g=[];break;case"textarea":d=ai(n,d),c=ai(n,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=lu)}Vi(a,c);var w;a=null;for(K in d)if(!c.hasOwnProperty(K)&&d.hasOwnProperty(K)&&d[K]!=null)if(K==="style"){var C=d[K];for(w in C)C.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?g||(g=[]):(g=g||[]).push(K,null));for(K in c){var M=c[K];if(C=d!=null?d[K]:void 0,c.hasOwnProperty(K)&&M!==C&&(M!=null||C!=null))if(K==="style")if(C){for(w in C)!C.hasOwnProperty(w)||M&&M.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in M)M.hasOwnProperty(w)&&C[w]!==M[w]&&(a||(a={}),a[w]=M[w])}else a||(g||(g=[]),g.push(K,a)),a=M;else K==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,C=C?C.__html:void 0,M!=null&&C!==M&&(g=g||[]).push(K,M)):K==="children"?typeof M!="string"&&typeof M!="number"||(g=g||[]).push(K,""+M):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(M!=null&&K==="onScroll"&&Rt("scroll",n),g||C===M||(g=[])):(g=g||[]).push(K,M))}a&&(g=g||[]).push("style",a);var K=g;(s.updateQueue=K)&&(s.flags|=4)}},ig=function(n,s,a,c){a!==c&&(s.flags|=4)};function Ya(n,s){if(!kt)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Rn(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function d0(n,s,a){var c=s.pendingProps;switch(Ph(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(s),null;case 1:return zn(s.type)&&cu(),Rn(s),null;case 3:return c=s.stateNode,Wo(),At(jn),At(In),zh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(mu(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ar!==null&&(yd(Ar),Ar=null))),od(n,s),Rn(s),null;case 5:Uh(s);var d=Bs(Wa.current);if(a=s.type,n!==null&&s.stateNode!=null)rg(n,s,a,c,d),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return Rn(s),null}if(n=Bs(Yr.current),mu(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[Qr]=s,c[ja]=g,n=(s.mode&1)!==0,a){case"dialog":Rt("cancel",c),Rt("close",c);break;case"iframe":case"object":case"embed":Rt("load",c);break;case"video":case"audio":for(d=0;d<ba.length;d++)Rt(ba[d],c);break;case"source":Rt("error",c);break;case"img":case"image":case"link":Rt("error",c),Rt("load",c);break;case"details":Rt("toggle",c);break;case"input":Nt(c,g),Rt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Rt("invalid",c);break;case"textarea":br(c,g),Rt("invalid",c)}Vi(a,g),d=null;for(var w in g)if(g.hasOwnProperty(w)){var C=g[w];w==="children"?typeof C=="string"?c.textContent!==C&&(g.suppressHydrationWarning!==!0&&au(c.textContent,C,n),d=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&au(c.textContent,C,n),d=["children",""+C]):o.hasOwnProperty(w)&&C!=null&&w==="onScroll"&&Rt("scroll",c)}switch(a){case"input":Ye(c),vn(c,g,!0);break;case"textarea":Ye(c),Qn(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=lu)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{w=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=It(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=w.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=w.createElement(a,{is:c.is}):(n=w.createElement(a),a==="select"&&(w=n,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):n=w.createElementNS(n,a),n[Qr]=s,n[ja]=c,ng(n,s,!1,!1),s.stateNode=n;e:{switch(w=Cs(a,c),a){case"dialog":Rt("cancel",n),Rt("close",n),d=c;break;case"iframe":case"object":case"embed":Rt("load",n),d=c;break;case"video":case"audio":for(d=0;d<ba.length;d++)Rt(ba[d],n);d=c;break;case"source":Rt("error",n),d=c;break;case"img":case"image":case"link":Rt("error",n),Rt("load",n),d=c;break;case"details":Rt("toggle",n),d=c;break;case"input":Nt(n,c),d=$e(n,c),Rt("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=D({},c,{value:void 0}),Rt("invalid",n);break;case"textarea":br(n,c),d=ai(n,c),Rt("invalid",n);break;default:d=c}Vi(a,d),C=d;for(g in C)if(C.hasOwnProperty(g)){var M=C[g];g==="style"?Di(n,M):g==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&tn(n,M)):g==="children"?typeof M=="string"?(a!=="textarea"||M!=="")&&Ln(n,M):typeof M=="number"&&Ln(n,""+M):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?M!=null&&g==="onScroll"&&Rt("scroll",n):M!=null&&pe(n,g,M,w))}switch(a){case"input":Ye(n),vn(n,c,!1);break;case"textarea":Ye(n),Qn(n);break;case"option":c.value!=null&&n.setAttribute("value",""+me(c.value));break;case"select":n.multiple=!!c.multiple,g=c.value,g!=null?Kn(n,!!c.multiple,g,!1):c.defaultValue!=null&&Kn(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=lu)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Rn(s),null;case 6:if(n&&s.stateNode!=null)ig(n,s,n.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=Bs(Wa.current),Bs(Yr.current),mu(s)){if(c=s.stateNode,a=s.memoizedProps,c[Qr]=s,(g=c.nodeValue!==a)&&(n=nr,n!==null))switch(n.tag){case 3:au(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&au(c.nodeValue,a,(n.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Qr]=s,s.stateNode=c}return Rn(s),null;case 13:if(At(Mt),c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(kt&&rr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)am(),zo(),s.flags|=98560,g=!1;else if(g=mu(s),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Qr]=s}else zo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Rn(s),g=!1}else Ar!==null&&(yd(Ar),Ar=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(Mt.current&1)!==0?Jt===0&&(Jt=3):wd())),s.updateQueue!==null&&(s.flags|=4),Rn(s),null);case 4:return Wo(),od(n,s),n===null&&Fa(s.stateNode.containerInfo),Rn(s),null;case 10:return Vh(s.type._context),Rn(s),null;case 17:return zn(s.type)&&cu(),Rn(s),null;case 19:if(At(Mt),g=s.memoizedState,g===null)return Rn(s),null;if(c=(s.flags&128)!==0,w=g.rendering,w===null)if(c)Ya(g,!1);else{if(Jt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(w=Eu(n),w!==null){for(s.flags|=128,Ya(g,!1),c=w.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,n=c,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,n=w.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return _t(Mt,Mt.current&1|2),s.child}n=n.sibling}g.tail!==null&&Xe()>Qo&&(s.flags|=128,c=!0,Ya(g,!1),s.lanes=4194304)}else{if(!c)if(n=Eu(w),n!==null){if(s.flags|=128,c=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ya(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!kt)return Rn(s),null}else 2*Xe()-g.renderingStartTime>Qo&&a!==1073741824&&(s.flags|=128,c=!0,Ya(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Xe(),s.sibling=null,a=Mt.current,_t(Mt,c?a&1|2:a&1),s):(Rn(s),null);case 22:case 23:return _d(),c=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(ir&1073741824)!==0&&(Rn(s),s.subtreeFlags&6&&(s.flags|=8192)):Rn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function f0(n,s){switch(Ph(s),s.tag){case 1:return zn(s.type)&&cu(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Wo(),At(jn),At(In),zh(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Uh(s),null;case 13:if(At(Mt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));zo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return At(Mt),null;case 4:return Wo(),null;case 10:return Vh(s.type._context),null;case 22:case 23:return _d(),null;case 24:return null;default:return null}}var xu=!1,An=!1,p0=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Go(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Ft(n,s,c)}else a.current=null}function ad(n,s,a){try{a()}catch(c){Ft(n,s,c)}}var sg=!1;function m0(n,s){if(_h=$i,n=bp(),hh(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,C=-1,M=-1,K=0,ne=0,se=n,ee=null;t:for(;;){for(var ge;se!==a||d!==0&&se.nodeType!==3||(C=w+d),se!==g||c!==0&&se.nodeType!==3||(M=w+c),se.nodeType===3&&(w+=se.nodeValue.length),(ge=se.firstChild)!==null;)ee=se,se=ge;for(;;){if(se===n)break t;if(ee===a&&++K===d&&(C=w),ee===g&&++ne===c&&(M=w),(ge=se.nextSibling)!==null)break;se=ee,ee=se.parentNode}se=ge}a=C===-1||M===-1?null:{start:C,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(wh={focusedElem:n,selectionRange:a},$i=!1,Se=s;Se!==null;)if(s=Se,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Se=n;else for(;Se!==null;){s=Se;try{var Re=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var Ae=Re.memoizedProps,Ut=Re.memoizedState,B=s.stateNode,O=B.getSnapshotBeforeUpdate(s.elementType===s.type?Ae:Cr(s.type,Ae),Ut);B.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var W=s.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){Ft(s,s.return,ae)}if(n=s.sibling,n!==null){n.return=s.return,Se=n;break}Se=s.return}return Re=sg,sg=!1,Re}function Xa(n,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var g=d.destroy;d.destroy=void 0,g!==void 0&&ad(s,a,g)}d=d.next}while(d!==c)}}function Nu(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function ld(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function og(n){var s=n.alternate;s!==null&&(n.alternate=null,og(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Qr],delete s[ja],delete s[Sh],delete s[XE],delete s[JE])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function ag(n){return n.tag===5||n.tag===3||n.tag===4}function lg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ag(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ud(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=lu));else if(c!==4&&(n=n.child,n!==null))for(ud(n,s,a),n=n.sibling;n!==null;)ud(n,s,a),n=n.sibling}function cd(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(cd(n,s,a),n=n.sibling;n!==null;)cd(n,s,a),n=n.sibling}var fn=null,Pr=!1;function Ji(n,s,a){for(a=a.child;a!==null;)ug(n,s,a),a=a.sibling}function ug(n,s,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 5:An||Go(a,s);case 6:var c=fn,d=Pr;fn=null,Ji(n,s,a),fn=c,Pr=d,fn!==null&&(Pr?(n=fn,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):fn.removeChild(a.stateNode));break;case 18:fn!==null&&(Pr?(n=fn,a=a.stateNode,n.nodeType===8?Ih(n.parentNode,a):n.nodeType===1&&Ih(n,a),Ir(n)):Ih(fn,a.stateNode));break;case 4:c=fn,d=Pr,fn=a.stateNode.containerInfo,Pr=!0,Ji(n,s,a),fn=c,Pr=d;break;case 0:case 11:case 14:case 15:if(!An&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,w=g.destroy;g=g.tag,w!==void 0&&((g&2)!==0||(g&4)!==0)&&ad(a,s,w),d=d.next}while(d!==c)}Ji(n,s,a);break;case 1:if(!An&&(Go(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){Ft(a,s,C)}Ji(n,s,a);break;case 21:Ji(n,s,a);break;case 22:a.mode&1?(An=(c=An)||a.memoizedState!==null,Ji(n,s,a),An=c):Ji(n,s,a);break;default:Ji(n,s,a)}}function cg(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new p0),s.forEach(function(c){var d=S0.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function kr(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=n,w=s,C=w;e:for(;C!==null;){switch(C.tag){case 5:fn=C.stateNode,Pr=!1;break e;case 3:fn=C.stateNode.containerInfo,Pr=!0;break e;case 4:fn=C.stateNode.containerInfo,Pr=!0;break e}C=C.return}if(fn===null)throw Error(t(160));ug(g,w,d),fn=null,Pr=!1;var M=d.alternate;M!==null&&(M.return=null),d.return=null}catch(K){Ft(d,s,K)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)hg(s,n),s=s.sibling}function hg(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(kr(s,n),Jr(n),c&4){try{Xa(3,n,n.return),Nu(3,n)}catch(Ae){Ft(n,n.return,Ae)}try{Xa(5,n,n.return)}catch(Ae){Ft(n,n.return,Ae)}}break;case 1:kr(s,n),Jr(n),c&512&&a!==null&&Go(a,a.return);break;case 5:if(kr(s,n),Jr(n),c&512&&a!==null&&Go(a,a.return),n.flags&32){var d=n.stateNode;try{Ln(d,"")}catch(Ae){Ft(n,n.return,Ae)}}if(c&4&&(d=n.stateNode,d!=null)){var g=n.memoizedProps,w=a!==null?a.memoizedProps:g,C=n.type,M=n.updateQueue;if(n.updateQueue=null,M!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&Tt(d,g),Cs(C,w);var K=Cs(C,g);for(w=0;w<M.length;w+=2){var ne=M[w],se=M[w+1];ne==="style"?Di(d,se):ne==="dangerouslySetInnerHTML"?tn(d,se):ne==="children"?Ln(d,se):pe(d,ne,se,K)}switch(C){case"input":Qt(d,g);break;case"textarea":un(d,g);break;case"select":var ee=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var ge=g.value;ge!=null?Kn(d,!!g.multiple,ge,!1):ee!==!!g.multiple&&(g.defaultValue!=null?Kn(d,!!g.multiple,g.defaultValue,!0):Kn(d,!!g.multiple,g.multiple?[]:"",!1))}d[ja]=g}catch(Ae){Ft(n,n.return,Ae)}}break;case 6:if(kr(s,n),Jr(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,g=n.memoizedProps;try{d.nodeValue=g}catch(Ae){Ft(n,n.return,Ae)}}break;case 3:if(kr(s,n),Jr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Ir(s.containerInfo)}catch(Ae){Ft(n,n.return,Ae)}break;case 4:kr(s,n),Jr(n);break;case 13:kr(s,n),Jr(n),d=n.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(fd=Xe())),c&4&&cg(n);break;case 22:if(ne=a!==null&&a.memoizedState!==null,n.mode&1?(An=(K=An)||ne,kr(s,n),An=K):kr(s,n),Jr(n),c&8192){if(K=n.memoizedState!==null,(n.stateNode.isHidden=K)&&!ne&&(n.mode&1)!==0)for(Se=n,ne=n.child;ne!==null;){for(se=Se=ne;Se!==null;){switch(ee=Se,ge=ee.child,ee.tag){case 0:case 11:case 14:case 15:Xa(4,ee,ee.return);break;case 1:Go(ee,ee.return);var Re=ee.stateNode;if(typeof Re.componentWillUnmount=="function"){c=ee,a=ee.return;try{s=c,Re.props=s.memoizedProps,Re.state=s.memoizedState,Re.componentWillUnmount()}catch(Ae){Ft(c,a,Ae)}}break;case 5:Go(ee,ee.return);break;case 22:if(ee.memoizedState!==null){pg(se);continue}}ge!==null?(ge.return=ee,Se=ge):pg(se)}ne=ne.sibling}e:for(ne=null,se=n;;){if(se.tag===5){if(ne===null){ne=se;try{d=se.stateNode,K?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=se.stateNode,M=se.memoizedProps.style,w=M!=null&&M.hasOwnProperty("display")?M.display:null,C.style.display=wn("display",w))}catch(Ae){Ft(n,n.return,Ae)}}}else if(se.tag===6){if(ne===null)try{se.stateNode.nodeValue=K?"":se.memoizedProps}catch(Ae){Ft(n,n.return,Ae)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===n)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===n)break e;for(;se.sibling===null;){if(se.return===null||se.return===n)break e;ne===se&&(ne=null),se=se.return}ne===se&&(ne=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:kr(s,n),Jr(n),c&4&&cg(n);break;case 21:break;default:kr(s,n),Jr(n)}}function Jr(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(ag(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Ln(d,""),c.flags&=-33);var g=lg(n);cd(n,g,d);break;case 3:case 4:var w=c.stateNode.containerInfo,C=lg(n);ud(n,C,w);break;default:throw Error(t(161))}}catch(M){Ft(n,n.return,M)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function g0(n,s,a){Se=n,dg(n)}function dg(n,s,a){for(var c=(n.mode&1)!==0;Se!==null;){var d=Se,g=d.child;if(d.tag===22&&c){var w=d.memoizedState!==null||xu;if(!w){var C=d.alternate,M=C!==null&&C.memoizedState!==null||An;C=xu;var K=An;if(xu=w,(An=M)&&!K)for(Se=d;Se!==null;)w=Se,M=w.child,w.tag===22&&w.memoizedState!==null?mg(d):M!==null?(M.return=w,Se=M):mg(d);for(;g!==null;)Se=g,dg(g),g=g.sibling;Se=d,xu=C,An=K}fg(n)}else(d.subtreeFlags&8772)!==0&&g!==null?(g.return=d,Se=g):fg(n)}}function fg(n){for(;Se!==null;){var s=Se;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:An||Nu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!An)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Cr(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&pm(s,g,c);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}pm(s,w,a)}break;case 5:var C=s.stateNode;if(a===null&&s.flags&4){a=C;var M=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&a.focus();break;case"img":M.src&&(a.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var K=s.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var se=ne.dehydrated;se!==null&&Ir(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}An||s.flags&512&&ld(s)}catch(ee){Ft(s,s.return,ee)}}if(s===n){Se=null;break}if(a=s.sibling,a!==null){a.return=s.return,Se=a;break}Se=s.return}}function pg(n){for(;Se!==null;){var s=Se;if(s===n){Se=null;break}var a=s.sibling;if(a!==null){a.return=s.return,Se=a;break}Se=s.return}}function mg(n){for(;Se!==null;){var s=Se;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Nu(4,s)}catch(M){Ft(s,a,M)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(M){Ft(s,d,M)}}var g=s.return;try{ld(s)}catch(M){Ft(s,g,M)}break;case 5:var w=s.return;try{ld(s)}catch(M){Ft(s,w,M)}}}catch(M){Ft(s,s.return,M)}if(s===n){Se=null;break}var C=s.sibling;if(C!==null){C.return=s.return,Se=C;break}Se=s.return}}var y0=Math.ceil,Du=Ce.ReactCurrentDispatcher,hd=Ce.ReactCurrentOwner,pr=Ce.ReactCurrentBatchConfig,ut=0,sn=null,Ht=null,pn=0,ir=0,Ko=Gi(0),Jt=0,Ja=null,Hs=0,Mu=0,dd=0,Za=null,$n=null,fd=0,Qo=1/0,Ei=null,Vu=!1,pd=null,Zi=null,Lu=!1,es=null,Ou=0,el=0,md=null,bu=-1,Fu=0;function Mn(){return(ut&6)!==0?Xe():bu!==-1?bu:bu=Xe()}function ts(n){return(n.mode&1)===0?1:(ut&2)!==0&&pn!==0?pn&-pn:e0.transition!==null?(Fu===0&&(Fu=Ds()),Fu):(n=st,n!==0||(n=window.event,n=n===void 0?16:Pa(n.type)),n)}function xr(n,s,a,c){if(50<el)throw el=0,md=null,Error(t(185));Ui(n,a,c),((ut&2)===0||n!==sn)&&(n===sn&&((ut&2)===0&&(Mu|=a),Jt===4&&ns(n,pn)),Hn(n,c),a===1&&ut===0&&(s.mode&1)===0&&(Qo=Xe()+500,du&&Qi()))}function Hn(n,s){var a=n.callbackNode;ui(n,s);var c=Ns(n,n===sn?pn:0);if(c===0)a!==null&&or(a),n.callbackNode=null,n.callbackPriority=0;else if(s=c&-c,n.callbackPriority!==s){if(a!=null&&or(a),s===1)n.tag===0?ZE(yg.bind(null,n)):nm(yg.bind(null,n)),QE(function(){(ut&6)===0&&Qi()}),a=null;else{switch(zi(c)){case 1:a=Jn;break;case 4:a=Tn;break;case 16:a=cn;break;case 536870912:a=Je;break;default:a=cn}a=Rg(a,gg.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function gg(n,s){if(bu=-1,Fu=0,(ut&6)!==0)throw Error(t(327));var a=n.callbackNode;if(Yo()&&n.callbackNode!==a)return null;var c=Ns(n,n===sn?pn:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||s)s=Uu(n,c);else{s=c;var d=ut;ut|=2;var g=_g();(sn!==n||pn!==s)&&(Ei=null,Qo=Xe()+500,qs(n,s));do try{w0();break}catch(C){vg(n,C)}while(!0);Mh(),Du.current=g,ut=d,Ht!==null?s=0:(sn=null,pn=0,s=Jt)}if(s!==0){if(s===2&&(d=Zn(n),d!==0&&(c=d,s=gd(n,d))),s===1)throw a=Ja,qs(n,0),ns(n,c),Hn(n,Xe()),a;if(s===6)ns(n,c);else{if(d=n.current.alternate,(c&30)===0&&!v0(d)&&(s=Uu(n,c),s===2&&(g=Zn(n),g!==0&&(c=g,s=gd(n,g))),s===1))throw a=Ja,qs(n,0),ns(n,c),Hn(n,Xe()),a;switch(n.finishedWork=d,n.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:Gs(n,$n,Ei);break;case 3:if(ns(n,c),(c&130023424)===c&&(s=fd+500-Xe(),10<s)){if(Ns(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Mn(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Th(Gs.bind(null,n,$n,Ei),s);break}Gs(n,$n,Ei);break;case 4:if(ns(n,c),(c&4194240)===c)break;for(s=n.eventTimes,d=-1;0<c;){var w=31-et(c);g=1<<w,w=s[w],w>d&&(d=w),c&=~g}if(c=d,c=Xe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*y0(c/1960))-c,10<c){n.timeoutHandle=Th(Gs.bind(null,n,$n,Ei),c);break}Gs(n,$n,Ei);break;case 5:Gs(n,$n,Ei);break;default:throw Error(t(329))}}}return Hn(n,Xe()),n.callbackNode===a?gg.bind(null,n):null}function gd(n,s){var a=Za;return n.current.memoizedState.isDehydrated&&(qs(n,s).flags|=256),n=Uu(n,s),n!==2&&(s=$n,$n=a,s!==null&&yd(s)),n}function yd(n){$n===null?$n=n:$n.push.apply($n,n)}function v0(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!Rr(g(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ns(n,s){for(s&=~dd,s&=~Mu,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-et(s),c=1<<a;n[a]=-1,s&=~c}}function yg(n){if((ut&6)!==0)throw Error(t(327));Yo();var s=Ns(n,0);if((s&1)===0)return Hn(n,Xe()),null;var a=Uu(n,s);if(n.tag!==0&&a===2){var c=Zn(n);c!==0&&(s=c,a=gd(n,c))}if(a===1)throw a=Ja,qs(n,0),ns(n,s),Hn(n,Xe()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Gs(n,$n,Ei),Hn(n,Xe()),null}function vd(n,s){var a=ut;ut|=1;try{return n(s)}finally{ut=a,ut===0&&(Qo=Xe()+500,du&&Qi())}}function Ws(n){es!==null&&es.tag===0&&(ut&6)===0&&Yo();var s=ut;ut|=1;var a=pr.transition,c=st;try{if(pr.transition=null,st=1,n)return n()}finally{st=c,pr.transition=a,ut=s,(ut&6)===0&&Qi()}}function _d(){ir=Ko.current,At(Ko)}function qs(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,KE(a)),Ht!==null)for(a=Ht.return;a!==null;){var c=a;switch(Ph(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&cu();break;case 3:Wo(),At(jn),At(In),zh();break;case 5:Uh(c);break;case 4:Wo();break;case 13:At(Mt);break;case 19:At(Mt);break;case 10:Vh(c.type._context);break;case 22:case 23:_d()}a=a.return}if(sn=n,Ht=n=rs(n.current,null),pn=ir=s,Jt=0,Ja=null,dd=Mu=Hs=0,$n=Za=null,zs!==null){for(s=0;s<zs.length;s++)if(a=zs[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var w=g.next;g.next=d,c.next=w}a.pending=c}zs=null}return n}function vg(n,s){do{var a=Ht;try{if(Mh(),Tu.current=Au,Iu){for(var c=Vt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Iu=!1}if($s=0,rn=Xt=Vt=null,qa=!1,Ga=0,hd.current=null,a===null||a.return===null){Jt=1,Ja=s,Ht=null;break}e:{var g=n,w=a.return,C=a,M=s;if(s=pn,C.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var K=M,ne=C,se=ne.tag;if((ne.mode&1)===0&&(se===0||se===11||se===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ge=$m(w);if(ge!==null){ge.flags&=-257,Hm(ge,w,C,g,s),ge.mode&1&&Bm(g,K,s),s=ge,M=K;var Re=s.updateQueue;if(Re===null){var Ae=new Set;Ae.add(M),s.updateQueue=Ae}else Re.add(M);break e}else{if((s&1)===0){Bm(g,K,s),wd();break e}M=Error(t(426))}}else if(kt&&C.mode&1){var Ut=$m(w);if(Ut!==null){(Ut.flags&65536)===0&&(Ut.flags|=256),Hm(Ut,w,C,g,s),Nh(qo(M,C));break e}}g=M=qo(M,C),Jt!==4&&(Jt=2),Za===null?Za=[g]:Za.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var B=jm(g,M,s);fm(g,B);break e;case 1:C=M;var O=g.type,W=g.stateNode;if((g.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Zi===null||!Zi.has(W)))){g.flags|=65536,s&=-s,g.lanes|=s;var ae=zm(g,C,s);fm(g,ae);break e}}g=g.return}while(g!==null)}Eg(a)}catch(ke){s=ke,Ht===a&&a!==null&&(Ht=a=a.return);continue}break}while(!0)}function _g(){var n=Du.current;return Du.current=Au,n===null?Au:n}function wd(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),sn===null||(Hs&268435455)===0&&(Mu&268435455)===0||ns(sn,pn)}function Uu(n,s){var a=ut;ut|=2;var c=_g();(sn!==n||pn!==s)&&(Ei=null,qs(n,s));do try{_0();break}catch(d){vg(n,d)}while(!0);if(Mh(),ut=a,Du.current=c,Ht!==null)throw Error(t(261));return sn=null,pn=0,Jt}function _0(){for(;Ht!==null;)wg(Ht)}function w0(){for(;Ht!==null&&!zr();)wg(Ht)}function wg(n){var s=Sg(n.alternate,n,ir);n.memoizedProps=n.pendingProps,s===null?Eg(n):Ht=s,hd.current=null}function Eg(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=d0(a,s,ir),a!==null){Ht=a;return}}else{if(a=f0(a,s),a!==null){a.flags&=32767,Ht=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Jt=6,Ht=null;return}}if(s=s.sibling,s!==null){Ht=s;return}Ht=s=n}while(s!==null);Jt===0&&(Jt=5)}function Gs(n,s,a){var c=st,d=pr.transition;try{pr.transition=null,st=1,E0(n,s,a,c)}finally{pr.transition=d,st=c}return null}function E0(n,s,a,c){do Yo();while(es!==null);if((ut&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if(vt(n,g),n===sn&&(Ht=sn=null,pn=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Lu||(Lu=!0,Rg(cn,function(){return Yo(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=pr.transition,pr.transition=null;var w=st;st=1;var C=ut;ut|=4,hd.current=null,m0(n,a),hg(a,n),zE(wh),$i=!!_h,wh=_h=null,n.current=a,g0(a),Xn(),ut=C,st=w,pr.transition=g}else n.current=a;if(Lu&&(Lu=!1,es=n,Ou=d),g=n.pendingLanes,g===0&&(Zi=null),$r(a.stateNode),Hn(n,Xe()),s!==null)for(c=n.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Vu)throw Vu=!1,n=pd,pd=null,n;return(Ou&1)!==0&&n.tag!==0&&Yo(),g=n.pendingLanes,(g&1)!==0?n===md?el++:(el=0,md=n):el=0,Qi(),null}function Yo(){if(es!==null){var n=zi(Ou),s=pr.transition,a=st;try{if(pr.transition=null,st=16>n?16:n,es===null)var c=!1;else{if(n=es,es=null,Ou=0,(ut&6)!==0)throw Error(t(331));var d=ut;for(ut|=4,Se=n.current;Se!==null;){var g=Se,w=g.child;if((Se.flags&16)!==0){var C=g.deletions;if(C!==null){for(var M=0;M<C.length;M++){var K=C[M];for(Se=K;Se!==null;){var ne=Se;switch(ne.tag){case 0:case 11:case 15:Xa(8,ne,g)}var se=ne.child;if(se!==null)se.return=ne,Se=se;else for(;Se!==null;){ne=Se;var ee=ne.sibling,ge=ne.return;if(og(ne),ne===K){Se=null;break}if(ee!==null){ee.return=ge,Se=ee;break}Se=ge}}}var Re=g.alternate;if(Re!==null){var Ae=Re.child;if(Ae!==null){Re.child=null;do{var Ut=Ae.sibling;Ae.sibling=null,Ae=Ut}while(Ae!==null)}}Se=g}}if((g.subtreeFlags&2064)!==0&&w!==null)w.return=g,Se=w;else e:for(;Se!==null;){if(g=Se,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Xa(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,Se=B;break e}Se=g.return}}var O=n.current;for(Se=O;Se!==null;){w=Se;var W=w.child;if((w.subtreeFlags&2064)!==0&&W!==null)W.return=w,Se=W;else e:for(w=O;Se!==null;){if(C=Se,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Nu(9,C)}}catch(ke){Ft(C,C.return,ke)}if(C===w){Se=null;break e}var ae=C.sibling;if(ae!==null){ae.return=C.return,Se=ae;break e}Se=C.return}}if(ut=d,Qi(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(ft,n)}catch{}c=!0}return c}finally{st=a,pr.transition=s}}return!1}function Tg(n,s,a){s=qo(a,s),s=jm(n,s,1),n=Xi(n,s,1),s=Mn(),n!==null&&(Ui(n,1,s),Hn(n,s))}function Ft(n,s,a){if(n.tag===3)Tg(n,n,a);else for(;s!==null;){if(s.tag===3){Tg(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Zi===null||!Zi.has(c))){n=qo(a,n),n=zm(s,n,1),s=Xi(s,n,1),n=Mn(),s!==null&&(Ui(s,1,n),Hn(s,n));break}}s=s.return}}function T0(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),s=Mn(),n.pingedLanes|=n.suspendedLanes&a,sn===n&&(pn&a)===a&&(Jt===4||Jt===3&&(pn&130023424)===pn&&500>Xe()-fd?qs(n,0):dd|=a),Hn(n,s)}function Ig(n,s){s===0&&((n.mode&1)===0?s=1:(s=_o,_o<<=1,(_o&130023424)===0&&(_o=4194304)));var a=Mn();n=vi(n,s),n!==null&&(Ui(n,s,a),Hn(n,a))}function I0(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Ig(n,a)}function S0(n,s){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),Ig(n,a)}var Sg;Sg=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||jn.current)Bn=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return Bn=!1,h0(n,s,a);Bn=(n.flags&131072)!==0}else Bn=!1,kt&&(s.flags&1048576)!==0&&rm(s,pu,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;ku(n,s),n=s.pendingProps;var d=Fo(s,In.current);Ho(s,a),d=Hh(null,s,c,n,d,a);var g=Wh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,zn(c)?(g=!0,hu(s)):g=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,bh(s),d.updater=Cu,s.stateNode=d,d._reactInternals=s,Xh(s,c,n,a),s=td(null,s,c,!0,g,a)):(s.tag=0,kt&&g&&Ch(s),Dn(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(ku(n,s),n=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=A0(c),n=Cr(c,n),d){case 0:s=ed(null,s,c,n,a);break e;case 1:s=Ym(null,s,c,n,a);break e;case 11:s=Wm(null,s,c,n,a);break e;case 14:s=qm(null,s,c,Cr(c.type,n),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Cr(c,d),ed(n,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Cr(c,d),Ym(n,s,c,d,a);case 3:e:{if(Xm(s),n===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,d=g.element,dm(n,s),wu(s,c,null,a);var w=s.memoizedState;if(c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){d=qo(Error(t(423)),s),s=Jm(n,s,c,a,d);break e}else if(c!==d){d=qo(Error(t(424)),s),s=Jm(n,s,c,a,d);break e}else for(rr=qi(s.stateNode.containerInfo.firstChild),nr=s,kt=!0,Ar=null,a=cm(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(zo(),c===d){s=wi(n,s,a);break e}Dn(n,s,c,a)}s=s.child}return s;case 5:return mm(s),n===null&&xh(s),c=s.type,d=s.pendingProps,g=n!==null?n.memoizedProps:null,w=d.children,Eh(c,d)?w=null:g!==null&&Eh(c,g)&&(s.flags|=32),Qm(n,s),Dn(n,s,w,a),s.child;case 6:return n===null&&xh(s),null;case 13:return Zm(n,s,a);case 4:return Fh(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=Bo(s,null,c,a):Dn(n,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Cr(c,d),Wm(n,s,c,d,a);case 7:return Dn(n,s,s.pendingProps,a),s.child;case 8:return Dn(n,s,s.pendingProps.children,a),s.child;case 12:return Dn(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,g=s.memoizedProps,w=d.value,_t(yu,c._currentValue),c._currentValue=w,g!==null)if(Rr(g.value,w)){if(g.children===d.children&&!jn.current){s=wi(n,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var C=g.dependencies;if(C!==null){w=g.child;for(var M=C.firstContext;M!==null;){if(M.context===c){if(g.tag===1){M=_i(-1,a&-a),M.tag=2;var K=g.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?M.next=M:(M.next=ne.next,ne.next=M),K.pending=M}}g.lanes|=a,M=g.alternate,M!==null&&(M.lanes|=a),Lh(g.return,a,s),C.lanes|=a;break}M=M.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,C=w.alternate,C!==null&&(C.lanes|=a),Lh(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Dn(n,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,Ho(s,a),d=dr(d),c=c(d),s.flags|=1,Dn(n,s,c,a),s.child;case 14:return c=s.type,d=Cr(c,s.pendingProps),d=Cr(c.type,d),qm(n,s,c,d,a);case 15:return Gm(n,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Cr(c,d),ku(n,s),s.tag=1,zn(c)?(n=!0,hu(s)):n=!1,Ho(s,a),Fm(s,c,d),Xh(s,c,d,a),td(null,s,c,!0,n,a);case 19:return tg(n,s,a);case 22:return Km(n,s,a)}throw Error(t(156,s.tag))};function Rg(n,s){return mt(n,s)}function R0(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(n,s,a,c){return new R0(n,s,a,c)}function Ed(n){return n=n.prototype,!(!n||!n.isReactComponent)}function A0(n){if(typeof n=="function")return Ed(n)?1:0;if(n!=null){if(n=n.$$typeof,n===b)return 11;if(n===dt)return 14}return 2}function rs(n,s){var a=n.alternate;return a===null?(a=mr(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function ju(n,s,a,c,d,g){var w=2;if(c=n,typeof n=="function")Ed(n)&&(w=1);else if(typeof n=="string")w=5;else e:switch(n){case S:return Ks(a.children,d,g,s);case A:w=8,d|=8;break;case P:return n=mr(12,a,s,d|2),n.elementType=P,n.lanes=g,n;case k:return n=mr(13,a,s,d),n.elementType=k,n.lanes=g,n;case Ge:return n=mr(19,a,s,d),n.elementType=Ge,n.lanes=g,n;case it:return zu(a,d,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case x:w=10;break e;case L:w=9;break e;case b:w=11;break e;case dt:w=14;break e;case Ct:w=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=mr(w,a,s,d),s.elementType=n,s.type=c,s.lanes=g,s}function Ks(n,s,a,c){return n=mr(7,n,c,s),n.lanes=a,n}function zu(n,s,a,c){return n=mr(22,n,c,s),n.elementType=it,n.lanes=a,n.stateNode={isHidden:!1},n}function Td(n,s,a){return n=mr(6,n,null,s),n.lanes=a,n}function Id(n,s,a){return s=mr(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function C0(n,s,a,c,d){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fi(0),this.expirationTimes=Fi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fi(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Sd(n,s,a,c,d,g,w,C,M){return n=new C0(n,s,a,C,M),s===1?(s=1,g===!0&&(s|=8)):s=0,g=mr(3,null,null,s),n.current=g,g.stateNode=n,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},bh(g),n}function P0(n,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:We,key:c==null?null:""+c,children:n,containerInfo:s,implementation:a}}function Ag(n){if(!n)return Ki;n=n._reactInternals;e:{if(ve(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(zn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(zn(a))return em(n,a,s)}return s}function Cg(n,s,a,c,d,g,w,C,M){return n=Sd(a,c,!0,n,d,g,w,C,M),n.context=Ag(null),a=n.current,c=Mn(),d=ts(a),g=_i(c,d),g.callback=s??null,Xi(a,g,d),n.current.lanes=d,Ui(n,d,c),Hn(n,c),n}function Bu(n,s,a,c){var d=s.current,g=Mn(),w=ts(d);return a=Ag(a),s.context===null?s.context=a:s.pendingContext=a,s=_i(g,w),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=Xi(d,s,w),n!==null&&(xr(n,d,w,g),_u(n,d,w)),w}function $u(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Pg(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Rd(n,s){Pg(n,s),(n=n.alternate)&&Pg(n,s)}function k0(){return null}var kg=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ad(n){this._internalRoot=n}Hu.prototype.render=Ad.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));Bu(n,s,null,null)},Hu.prototype.unmount=Ad.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Ws(function(){Bu(null,n,null,null)}),s[pi]=null}};function Hu(n){this._internalRoot=n}Hu.prototype.unstable_scheduleHydration=function(n){if(n){var s=Hl();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Wr.length&&s!==0&&s<Wr[a].priority;a++);Wr.splice(a,0,n),a===0&&Gl(n)}};function Cd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Wu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function xg(){}function x0(n,s,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var K=$u(w);g.call(K)}}var w=Cg(s,c,n,0,null,!1,!1,"",xg);return n._reactRootContainer=w,n[pi]=w.current,Fa(n.nodeType===8?n.parentNode:n),Ws(),w}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var C=c;c=function(){var K=$u(M);C.call(K)}}var M=Sd(n,0,!1,null,null,!1,!1,"",xg);return n._reactRootContainer=M,n[pi]=M.current,Fa(n.nodeType===8?n.parentNode:n),Ws(function(){Bu(s,M,a,c)}),M}function qu(n,s,a,c,d){var g=a._reactRootContainer;if(g){var w=g;if(typeof d=="function"){var C=d;d=function(){var M=$u(w);C.call(M)}}Bu(s,w,n,d)}else w=x0(a,s,n,d,c);return $u(w)}Bl=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=bi(s.pendingLanes);a!==0&&(ji(s,a|1),Hn(s,Xe()),(ut&6)===0&&(Qo=Xe()+500,Qi()))}break;case 13:Ws(function(){var c=vi(n,1);if(c!==null){var d=Mn();xr(c,n,1,d)}}),Rd(n,1)}},wo=function(n){if(n.tag===13){var s=vi(n,134217728);if(s!==null){var a=Mn();xr(s,n,134217728,a)}Rd(n,134217728)}},$l=function(n){if(n.tag===13){var s=ts(n),a=vi(n,s);if(a!==null){var c=Mn();xr(a,n,s,c)}Rd(n,s)}},Hl=function(){return st},Wl=function(n,s){var a=st;try{return st=n,s()}finally{st=a}},li=function(n,s,a){switch(s){case"input":if(Qt(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var d=uu(c);if(!d)throw Error(t(90));ze(c),Qt(c,d)}}}break;case"textarea":un(n,a);break;case"select":s=a.value,s!=null&&Kn(n,!!a.multiple,s,!1)}},Ur=vd,jr=Ws;var N0={usingClientEntryPoint:!1,Events:[za,Oo,uu,Yn,Ps,vd]},tl={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D0={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=ct(n),n===null?null:n.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||k0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{ft=Gu.inject(D0),Bt=Gu}catch{}}return Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N0,Wn.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cd(s))throw Error(t(200));return P0(n,s,null,a)},Wn.createRoot=function(n,s){if(!Cd(n))throw Error(t(299));var a=!1,c="",d=kg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=Sd(n,1,!1,null,null,a,!1,c,d),n[pi]=s.current,Fa(n.nodeType===8?n.parentNode:n),new Ad(s)},Wn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=ct(s),n=n===null?null:n.stateNode,n},Wn.flushSync=function(n){return Ws(n)},Wn.hydrate=function(n,s,a){if(!Wu(s))throw Error(t(200));return qu(null,n,s,!0,a)},Wn.hydrateRoot=function(n,s,a){if(!Cd(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",w=kg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=Cg(s,null,n,1,a??null,d,!1,g,w),n[pi]=s.current,Fa(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Hu(s)},Wn.render=function(n,s,a){if(!Wu(s))throw Error(t(200));return qu(null,n,s,!1,a)},Wn.unmountComponentAtNode=function(n){if(!Wu(n))throw Error(t(40));return n._reactRootContainer?(Ws(function(){qu(null,null,n,!1,function(){n._reactRootContainer=null,n[pi]=null})}),!0):!1},Wn.unstable_batchedUpdates=vd,Wn.unstable_renderSubtreeIntoContainer=function(n,s,a,c){if(!Wu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return qu(n,s,a,!1,c)},Wn.version="18.3.1-next-f1338f8080-20240426",Wn}var Fg;function Bv(){if(Fg)return xd.exports;Fg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xd.exports=$0(),xd.exports}var Ug;function H0(){if(Ug)return Qu;Ug=1;var r=Bv();return Qu.createRoot=r.createRoot,Qu.hydrateRoot=r.hydrateRoot,Qu}var W0=H0();const q0=Rf(W0);var $v=Bv();const G0=Rf($v),K0=jv({__proto__:null,default:G0},[$v]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xt(){return xt=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},xt.apply(this,arguments)}var qt;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(qt||(qt={}));const jg="popstate";function Q0(r){r===void 0&&(r={});function e(i,o){let{pathname:l,search:h,hash:f}=i.location;return vl("",{pathname:l,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:io(o)}return X0(e,t,null,r)}function Ze(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function aa(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Y0(){return Math.random().toString(36).substr(2,8)}function zg(r,e){return{usr:r.state,key:r.key,idx:e}}function vl(r,e,t,i){return t===void 0&&(t=null),xt({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Ss(e):e,{state:t,key:e&&e.key||i||Y0()})}function io(r){let{pathname:e="/",search:t="",hash:i=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ss(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substr(i),r=r.substr(0,i)),r&&(e.pathname=r)}return e}function X0(r,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,h=o.history,f=qt.Pop,m=null,y=_();y==null&&(y=0,h.replaceState(xt({},h.state,{idx:y}),""));function _(){return(h.state||{idx:null}).idx}function E(){f=qt.Pop;let U=_(),ce=U==null?null:U-y;y=U,m&&m({action:f,location:H.location,delta:ce})}function R(U,ce){f=qt.Push;let re=vl(H.location,U,ce);y=_()+1;let pe=zg(re,y),Ce=H.createHref(re);try{h.pushState(pe,"",Ce)}catch(je){if(je instanceof DOMException&&je.name==="DataCloneError")throw je;o.location.assign(Ce)}l&&m&&m({action:f,location:H.location,delta:1})}function V(U,ce){f=qt.Replace;let re=vl(H.location,U,ce);y=_();let pe=zg(re,y),Ce=H.createHref(re);h.replaceState(pe,"",Ce),l&&m&&m({action:f,location:H.location,delta:0})}function $(U){let ce=o.location.origin!=="null"?o.location.origin:o.location.href,re=typeof U=="string"?U:io(U);return re=re.replace(/ $/,"%20"),Ze(ce,"No window.location.(origin|href) available to create URL for href: "+re),new URL(re,ce)}let H={get action(){return f},get location(){return r(o,h)},listen(U){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(jg,E),m=U,()=>{o.removeEventListener(jg,E),m=null}},createHref(U){return e(o,U)},createURL:$,encodeLocation(U){let ce=$(U);return{pathname:ce.pathname,search:ce.search,hash:ce.hash}},push:R,replace:V,go(U){return h.go(U)}};return H}var yt;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(yt||(yt={}));const J0=new Set(["lazy","caseSensitive","path","id","index","children"]);function Z0(r){return r.index===!0}function pc(r,e,t,i){return t===void 0&&(t=[]),i===void 0&&(i={}),r.map((o,l)=>{let h=[...t,String(l)],f=typeof o.id=="string"?o.id:h.join("-");if(Ze(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ze(!i[f],'Found a route id collision on id "'+f+`".  Route id's must be globally unique within Data Router usages`),Z0(o)){let m=xt({},o,e(o),{id:f});return i[f]=m,m}else{let m=xt({},o,e(o),{id:f,children:void 0});return i[f]=m,o.children&&(m.children=pc(o.children,e,h,i)),m}})}function Ys(r,e,t){return t===void 0&&(t="/"),rc(r,e,t,!1)}function rc(r,e,t,i){let o=typeof e=="string"?Ss(e):e,l=ga(o.pathname||"/",t);if(l==null)return null;let h=Hv(r);tT(h);let f=null;for(let m=0;f==null&&m<h.length;++m){let y=dT(l);f=cT(h[m],y,i)}return f}function eT(r,e){let{route:t,pathname:i,params:o}=r;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function Hv(r,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(l,h,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};m.relativePath.startsWith("/")&&(Ze(m.relativePath.startsWith(i),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(i.length));let y=Ri([i,m.relativePath]),_=t.concat(m);l.children&&l.children.length>0&&(Ze(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),Hv(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:lT(y,l.index),routesMeta:_})};return r.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,h);else for(let m of Wv(l.path))o(l,h,m)}),e}function Wv(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let h=Wv(i.join("/")),f=[];return f.push(...h.map(m=>m===""?l:[l,m].join("/"))),o&&f.push(...h),f.map(m=>r.startsWith("/")&&m===""?"/":m)}function tT(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:uT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const nT=/^:[\w-]+$/,rT=3,iT=2,sT=1,oT=10,aT=-2,Bg=r=>r==="*";function lT(r,e){let t=r.split("/"),i=t.length;return t.some(Bg)&&(i+=aT),e&&(i+=iT),t.filter(o=>!Bg(o)).reduce((o,l)=>o+(nT.test(l)?rT:l===""?sT:oT),i)}function uT(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function cT(r,e,t){t===void 0&&(t=!1);let{routesMeta:i}=r,o={},l="/",h=[];for(let f=0;f<i.length;++f){let m=i[f],y=f===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",E=$g({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},_),R=m.route;if(!E&&y&&t&&!i[i.length-1].route.index&&(E=$g({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),h.push({params:o,pathname:Ri([l,E.pathname]),pathnameBase:mT(Ri([l,E.pathnameBase])),route:R}),E.pathnameBase!=="/"&&(l=Ri([l,E.pathnameBase]))}return h}function $g(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=hT(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,_,E)=>{let{paramName:R,isOptional:V}=_;if(R==="*"){let H=f[E]||"";h=l.slice(0,l.length-H.length).replace(/(.)\/+$/,"$1")}const $=f[E];return V&&!$?y[R]=void 0:y[R]=($||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:r}}function hT(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),aa(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function dT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return aa(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function ga(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function fT(r,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?Ss(r):r;return{pathname:t?t.startsWith("/")?t:pT(t,e):e,search:gT(i),hash:yT(o)}}function pT(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Md(r,e,t,i){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qv(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bc(r,e){let t=qv(r);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function Fc(r,e,t,i){i===void 0&&(i=!1);let o;typeof r=="string"?o=Ss(r):(o=xt({},r),Ze(!o.pathname||!o.pathname.includes("?"),Md("?","pathname","search",o)),Ze(!o.pathname||!o.pathname.includes("#"),Md("#","pathname","hash",o)),Ze(!o.search||!o.search.includes("#"),Md("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let E=e.length-1;if(!i&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),E-=1;o.pathname=R.join("/")}f=E>=0?e[E]:"/"}let m=fT(o,f),y=h&&h!=="/"&&h.endsWith("/"),_=(l||h===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(y||_)&&(m.pathname+="/"),m}const Ri=r=>r.join("/").replace(/\/\/+/g,"/"),mT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),gT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,yT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;class mc{constructor(e,t,i,o){o===void 0&&(o=!1),this.status=e,this.statusText=t||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function _l(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Gv=["post","put","patch","delete"],vT=new Set(Gv),_T=["get",...Gv],wT=new Set(_T),ET=new Set([301,302,303,307,308]),TT=new Set([307,308]),Vd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},rl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Cf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ST=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),Kv="remix-router-transitions";function RT(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!t;Ze(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(r.mapRouteProperties)o=r.mapRouteProperties;else if(r.detectErrorBoundary){let N=r.detectErrorBoundary;o=F=>({hasErrorBoundary:N(F)})}else o=ST;let l={},h=pc(r.routes,o,void 0,l),f,m=r.basename||"/",y=r.dataStrategy||kT,_=r.patchRoutesOnNavigation,E=xt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},r.future),R=null,V=new Set,$=null,H=null,U=null,ce=r.hydrationData!=null,re=Ys(h,r.history.location,m),pe=!1,Ce=null;if(re==null&&!_){let N=qn(404,{pathname:r.history.location.pathname}),{matches:F,route:G}=ey(h);re=F,Ce={[G.id]:N}}re&&!r.hydrationData&&jr(re,h,r.history.location.pathname).active&&(re=null);let je;if(re)if(re.some(N=>N.route.lazy))je=!1;else if(!re.some(N=>N.route.loader))je=!0;else if(E.v7_partialHydration){let N=r.hydrationData?r.hydrationData.loaderData:null,F=r.hydrationData?r.hydrationData.errors:null;if(F){let G=re.findIndex(Z=>F[Z.route.id]!==void 0);je=re.slice(0,G+1).every(Z=>!Yd(Z.route,N,F))}else je=re.every(G=>!Yd(G.route,N,F))}else je=r.hydrationData!=null;else if(je=!1,re=[],E.v7_partialHydration){let N=jr(null,h,r.history.location.pathname);N.active&&N.matches&&(pe=!0,re=N.matches)}let We,S={historyAction:r.history.action,location:r.history.location,matches:re,initialized:je,navigation:Vd,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||Ce,fetchers:new Map,blockers:new Map},A=qt.Pop,P=!1,x,L=!1,b=new Map,k=null,Ge=!1,dt=!1,Ct=[],it=new Set,ie=new Map,Pe=0,D=-1,T=new Map,j=new Set,J=new Map,ue=new Map,oe=new Set,fe=new Map,le=new Map,me;function xe(){if(R=r.history.listen(N=>{let{action:F,location:G,delta:Z}=N;if(me){me(),me=void 0;return}aa(le.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=li({currentLocation:S.location,nextLocation:G,historyAction:F});if(de&&Z!=null){let Te=new Promise(De=>{me=De});r.history.go(Z*-1),_r(de,{state:"blocked",location:G,proceed(){_r(de,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),Te.then(()=>r.history.go(Z))},reset(){let De=new Map(S.blockers);De.set(de,rl),ze({blockers:De})}});return}return Tt(F,G)}),t){$T(e,b);let N=()=>HT(e,b);e.addEventListener("pagehide",N),k=()=>e.removeEventListener("pagehide",N)}return S.initialized||Tt(qt.Pop,S.location,{initialHydration:!0}),We}function qe(){R&&R(),k&&k(),V.clear(),x&&x.abort(),S.fetchers.forEach((N,F)=>_n(F)),S.blockers.forEach((N,F)=>Fr(F))}function Ye(N){return V.add(N),()=>V.delete(N)}function ze(N,F){F===void 0&&(F={}),S=xt({},S,N);let G=[],Z=[];E.v7_fetcherPersist&&S.fetchers.forEach((de,Te)=>{de.state==="idle"&&(oe.has(Te)?Z.push(Te):G.push(Te))}),oe.forEach(de=>{!S.fetchers.has(de)&&!ie.has(de)&&Z.push(de)}),[...V].forEach(de=>de(S,{deletedFetchers:Z,viewTransitionOpts:F.viewTransitionOpts,flushSync:F.flushSync===!0})),E.v7_fetcherPersist?(G.forEach(de=>S.fetchers.delete(de)),Z.forEach(de=>_n(de))):Z.forEach(de=>oe.delete(de))}function lt(N,F,G){var Z,de;let{flushSync:Te}=G===void 0?{}:G,De=S.actionData!=null&&S.navigation.formMethod!=null&&Nr(S.navigation.formMethod)&&S.navigation.state==="loading"&&((Z=N.state)==null?void 0:Z._isRedirect)!==!0,Ie;F.actionData?Object.keys(F.actionData).length>0?Ie=F.actionData:Ie=null:De?Ie=S.actionData:Ie=null;let Ee=F.loaderData?Jg(S.loaderData,F.loaderData,F.matches||[],F.errors):S.loaderData,ye=S.blockers;ye.size>0&&(ye=new Map(ye),ye.forEach((Ue,bt)=>ye.set(bt,rl)));let ve=P===!0||S.navigation.formMethod!=null&&Nr(S.navigation.formMethod)&&((de=N.state)==null?void 0:de._isRedirect)!==!0;f&&(h=f,f=void 0),Ge||A===qt.Pop||(A===qt.Push?r.history.push(N,N.state):A===qt.Replace&&r.history.replace(N,N.state));let Le;if(A===qt.Pop){let Ue=b.get(S.location.pathname);Ue&&Ue.has(N.pathname)?Le={currentLocation:S.location,nextLocation:N}:b.has(N.pathname)&&(Le={currentLocation:N,nextLocation:S.location})}else if(L){let Ue=b.get(S.location.pathname);Ue?Ue.add(N.pathname):(Ue=new Set([N.pathname]),b.set(S.location.pathname,Ue)),Le={currentLocation:S.location,nextLocation:N}}ze(xt({},F,{actionData:Ie,loaderData:Ee,historyAction:A,location:N,initialized:!0,navigation:Vd,revalidation:"idle",restoreScrollPosition:Ur(N,F.matches||S.matches),preventScrollReset:ve,blockers:ye}),{viewTransitionOpts:Le,flushSync:Te===!0}),A=qt.Pop,P=!1,L=!1,Ge=!1,dt=!1,Ct=[]}async function $e(N,F){if(typeof N=="number"){r.history.go(N);return}let G=Qd(S.location,S.matches,m,E.v7_prependBasename,N,E.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:Z,submission:de,error:Te}=Hg(E.v7_normalizeFormMethod,!1,G,F),De=S.location,Ie=vl(S.location,Z,F&&F.state);Ie=xt({},Ie,r.history.encodeLocation(Ie));let Ee=F&&F.replace!=null?F.replace:void 0,ye=qt.Push;Ee===!0?ye=qt.Replace:Ee===!1||de!=null&&Nr(de.formMethod)&&de.formAction===S.location.pathname+S.location.search&&(ye=qt.Replace);let ve=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,Le=(F&&F.flushSync)===!0,Ue=li({currentLocation:De,nextLocation:Ie,historyAction:ye});if(Ue){_r(Ue,{state:"blocked",location:Ie,proceed(){_r(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:Ie}),$e(N,F)},reset(){let bt=new Map(S.blockers);bt.set(Ue,rl),ze({blockers:bt})}});return}return await Tt(ye,Ie,{submission:de,pendingError:Te,preventScrollReset:ve,replace:F&&F.replace,enableViewTransition:F&&F.viewTransition,flushSync:Le})}function Nt(){if(St(),ze({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){Tt(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}Tt(A||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:L===!0})}}async function Tt(N,F,G){x&&x.abort(),x=null,A=N,Ge=(G&&G.startUninterruptedRevalidation)===!0,Ps(S.location,S.matches),P=(G&&G.preventScrollReset)===!0,L=(G&&G.enableViewTransition)===!0;let Z=f||h,de=G&&G.overrideNavigation,Te=G!=null&&G.initialHydration&&S.matches&&S.matches.length>0&&!pe?S.matches:Ys(Z,F,m),De=(G&&G.flushSync)===!0;if(Te&&S.initialized&&!dt&&LT(S.location,F)&&!(G&&G.submission&&Nr(G.submission.formMethod))){lt(F,{matches:Te},{flushSync:De});return}let Ie=jr(Te,Z,F.pathname);if(Ie.active&&Ie.matches&&(Te=Ie.matches),!Te){let{error:ct,notFoundMatches:Ke,route:mt}=En(F.pathname);lt(F,{matches:Ke,loaderData:{},errors:{[mt.id]:ct}},{flushSync:De});return}x=new AbortController;let Ee=Xo(r.history,F,x.signal,G&&G.submission),ye;if(G&&G.pendingError)ye=[Xs(Te).route.id,{type:yt.error,error:G.pendingError}];else if(G&&G.submission&&Nr(G.submission.formMethod)){let ct=await Qt(Ee,F,G.submission,Te,Ie.active,{replace:G.replace,flushSync:De});if(ct.shortCircuited)return;if(ct.pendingActionResult){let[Ke,mt]=ct.pendingActionResult;if(sr(mt)&&_l(mt.error)&&mt.error.status===404){x=null,lt(F,{matches:ct.matches,loaderData:{},errors:{[Ke]:mt.error}});return}}Te=ct.matches||Te,ye=ct.pendingActionResult,de=Ld(F,G.submission),De=!1,Ie.active=!1,Ee=Xo(r.history,Ee.url,Ee.signal)}let{shortCircuited:ve,matches:Le,loaderData:Ue,errors:bt}=await vn(Ee,F,Te,Ie.active,de,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,De,ye);ve||(x=null,lt(F,xt({matches:Le||Te},Zg(ye),{loaderData:Ue,errors:bt})))}async function Qt(N,F,G,Z,de,Te){Te===void 0&&(Te={}),St();let De=zT(F,G);if(ze({navigation:De},{flushSync:Te.flushSync===!0}),de){let ye=await bn(Z,F.pathname,N.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let ve=Xs(ye.partialMatches).route.id;return{matches:ye.partialMatches,pendingActionResult:[ve,{type:yt.error,error:ye.error}]}}else if(ye.matches)Z=ye.matches;else{let{notFoundMatches:ve,error:Le,route:Ue}=En(F.pathname);return{matches:ve,pendingActionResult:[Ue.id,{type:yt.error,error:Le}]}}}let Ie,Ee=ol(Z,F);if(!Ee.route.action&&!Ee.route.lazy)Ie={type:yt.error,error:qn(405,{method:N.method,pathname:F.pathname,routeId:Ee.route.id})};else if(Ie=(await Qn("action",S,N,[Ee],Z,null))[Ee.route.id],N.signal.aborted)return{shortCircuited:!0};if(Js(Ie)){let ye;return Te&&Te.replace!=null?ye=Te.replace:ye=Qg(Ie.response.headers.get("Location"),new URL(N.url),m)===S.location.pathname+S.location.search,await un(N,Ie,!0,{submission:G,replace:ye}),{shortCircuited:!0}}if(hs(Ie))throw qn(400,{type:"defer-action"});if(sr(Ie)){let ye=Xs(Z,Ee.route.id);return(Te&&Te.replace)!==!0&&(A=qt.Push),{matches:Z,pendingActionResult:[ye.route.id,Ie]}}return{matches:Z,pendingActionResult:[Ee.route.id,Ie]}}async function vn(N,F,G,Z,de,Te,De,Ie,Ee,ye,ve){let Le=de||Ld(F,Te),Ue=Te||De||ny(Le),bt=!Ge&&(!E.v7_partialHydration||!Ee);if(Z){if(bt){let ft=ln(ve);ze(xt({navigation:Le},ft!==void 0?{actionData:ft}:{}),{flushSync:ye})}let Je=await bn(G,F.pathname,N.signal);if(Je.type==="aborted")return{shortCircuited:!0};if(Je.type==="error"){let ft=Xs(Je.partialMatches).route.id;return{matches:Je.partialMatches,loaderData:{},errors:{[ft]:Je.error}}}else if(Je.matches)G=Je.matches;else{let{error:ft,notFoundMatches:Bt,route:$r}=En(F.pathname);return{matches:Bt,loaderData:{},errors:{[$r.id]:ft}}}}let ct=f||h,[Ke,mt]=qg(r.history,S,G,Ue,F,E.v7_partialHydration&&Ee===!0,E.v7_skipActionErrorRevalidation,dt,Ct,it,oe,J,j,ct,m,ve);if(On(Je=>!(G&&G.some(ft=>ft.route.id===Je))||Ke&&Ke.some(ft=>ft.route.id===Je)),D=++Pe,Ke.length===0&&mt.length===0){let Je=Mi();return lt(F,xt({matches:G,loaderData:{},errors:ve&&sr(ve[1])?{[ve[0]]:ve[1].error}:null},Zg(ve),Je?{fetchers:new Map(S.fetchers)}:{}),{flushSync:ye}),{shortCircuited:!0}}if(bt){let Je={};if(!Z){Je.navigation=Le;let ft=ln(ve);ft!==void 0&&(Je.actionData=ft)}mt.length>0&&(Je.fetchers=Ot(mt)),ze(Je,{flushSync:ye})}mt.forEach(Je=>{wn(Je.key),Je.controller&&ie.set(Je.key,Je.controller)});let or=()=>mt.forEach(Je=>wn(Je.key));x&&x.signal.addEventListener("abort",or);let{loaderResults:zr,fetcherResults:Xn}=await It(S,G,Ke,mt,N);if(N.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",or),mt.forEach(Je=>ie.delete(Je.key));let Xe=Yu(zr);if(Xe)return await un(N,Xe.result,!0,{replace:Ie}),{shortCircuited:!0};if(Xe=Yu(Xn),Xe)return j.add(Xe.key),await un(N,Xe.result,!0,{replace:Ie}),{shortCircuited:!0};let{loaderData:Oi,errors:Jn}=Xg(S,G,zr,ve,mt,Xn,fe);fe.forEach((Je,ft)=>{Je.subscribe(Bt=>{(Bt||Je.done)&&fe.delete(ft)})}),E.v7_partialHydration&&Ee&&S.errors&&(Jn=xt({},S.errors,Jn));let Tn=Mi(),cn=Vi(D),Br=Tn||cn||mt.length>0;return xt({matches:G,loaderData:Oi,errors:Jn},Br?{fetchers:new Map(S.fetchers)}:{})}function ln(N){if(N&&!sr(N[1]))return{[N[0]]:N[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function Ot(N){return N.forEach(F=>{let G=S.fetchers.get(F.key),Z=il(void 0,G?G.data:void 0);S.fetchers.set(F.key,Z)}),new Map(S.fetchers)}function Kn(N,F,G,Z){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");wn(N);let de=(Z&&Z.flushSync)===!0,Te=f||h,De=Qd(S.location,S.matches,m,E.v7_prependBasename,G,E.v7_relativeSplatPath,F,Z==null?void 0:Z.relative),Ie=Ys(Te,De,m),Ee=jr(Ie,Te,De);if(Ee.active&&Ee.matches&&(Ie=Ee.matches),!Ie){tn(N,F,qn(404,{pathname:De}),{flushSync:de});return}let{path:ye,submission:ve,error:Le}=Hg(E.v7_normalizeFormMethod,!0,De,Z);if(Le){tn(N,F,Le,{flushSync:de});return}let Ue=ol(Ie,ye),bt=(Z&&Z.preventScrollReset)===!0;if(ve&&Nr(ve.formMethod)){ai(N,F,ye,Ue,Ie,Ee.active,de,bt,ve);return}J.set(N,{routeId:F,path:ye}),br(N,F,ye,Ue,Ie,Ee.active,de,bt,ve)}async function ai(N,F,G,Z,de,Te,De,Ie,Ee){St(),J.delete(N);function ye(et){if(!et.route.action&&!et.route.lazy){let ar=qn(405,{method:Ee.formMethod,pathname:G,routeId:F});return tn(N,F,ar,{flushSync:De}),!0}return!1}if(!Te&&ye(Z))return;let ve=S.fetchers.get(N);zt(N,BT(Ee,ve),{flushSync:De});let Le=new AbortController,Ue=Xo(r.history,G,Le.signal,Ee);if(Te){let et=await bn(de,new URL(Ue.url).pathname,Ue.signal,N);if(et.type==="aborted")return;if(et.type==="error"){tn(N,F,et.error,{flushSync:De});return}else if(et.matches){if(de=et.matches,Z=ol(de,G),ye(Z))return}else{tn(N,F,qn(404,{pathname:G}),{flushSync:De});return}}ie.set(N,Le);let bt=Pe,Ke=(await Qn("action",S,Ue,[Z],de,N))[Z.route.id];if(Ue.signal.aborted){ie.get(N)===Le&&ie.delete(N);return}if(E.v7_fetcherPersist&&oe.has(N)){if(Js(Ke)||sr(Ke)){zt(N,as(void 0));return}}else{if(Js(Ke))if(ie.delete(N),D>bt){zt(N,as(void 0));return}else return j.add(N),zt(N,il(Ee)),un(Ue,Ke,!1,{fetcherSubmission:Ee,preventScrollReset:Ie});if(sr(Ke)){tn(N,F,Ke.error);return}}if(hs(Ke))throw qn(400,{type:"defer-action"});let mt=S.navigation.location||S.location,or=Xo(r.history,mt,Le.signal),zr=f||h,Xn=S.navigation.state!=="idle"?Ys(zr,S.navigation.location,m):S.matches;Ze(Xn,"Didn't find any matches after fetcher action");let Xe=++Pe;T.set(N,Xe);let Oi=il(Ee,Ke.data);S.fetchers.set(N,Oi);let[Jn,Tn]=qg(r.history,S,Xn,Ee,mt,!1,E.v7_skipActionErrorRevalidation,dt,Ct,it,oe,J,j,zr,m,[Z.route.id,Ke]);Tn.filter(et=>et.key!==N).forEach(et=>{let ar=et.key,xs=S.fetchers.get(ar),yo=il(void 0,xs?xs.data:void 0);S.fetchers.set(ar,yo),wn(ar),et.controller&&ie.set(ar,et.controller)}),ze({fetchers:new Map(S.fetchers)});let cn=()=>Tn.forEach(et=>wn(et.key));Le.signal.addEventListener("abort",cn);let{loaderResults:Br,fetcherResults:Je}=await It(S,Xn,Jn,Tn,or);if(Le.signal.aborted)return;Le.signal.removeEventListener("abort",cn),T.delete(N),ie.delete(N),Tn.forEach(et=>ie.delete(et.key));let ft=Yu(Br);if(ft)return un(or,ft.result,!1,{preventScrollReset:Ie});if(ft=Yu(Je),ft)return j.add(ft.key),un(or,ft.result,!1,{preventScrollReset:Ie});let{loaderData:Bt,errors:$r}=Xg(S,Xn,Br,void 0,Tn,Je,fe);if(S.fetchers.has(N)){let et=as(Ke.data);S.fetchers.set(N,et)}Vi(Xe),S.navigation.state==="loading"&&Xe>D?(Ze(A,"Expected pending action"),x&&x.abort(),lt(S.navigation.location,{matches:Xn,loaderData:Bt,errors:$r,fetchers:new Map(S.fetchers)})):(ze({errors:$r,loaderData:Jg(S.loaderData,Bt,Xn,$r),fetchers:new Map(S.fetchers)}),dt=!1)}async function br(N,F,G,Z,de,Te,De,Ie,Ee){let ye=S.fetchers.get(N);zt(N,il(Ee,ye?ye.data:void 0),{flushSync:De});let ve=new AbortController,Le=Xo(r.history,G,ve.signal);if(Te){let Ke=await bn(de,new URL(Le.url).pathname,Le.signal,N);if(Ke.type==="aborted")return;if(Ke.type==="error"){tn(N,F,Ke.error,{flushSync:De});return}else if(Ke.matches)de=Ke.matches,Z=ol(de,G);else{tn(N,F,qn(404,{pathname:G}),{flushSync:De});return}}ie.set(N,ve);let Ue=Pe,ct=(await Qn("loader",S,Le,[Z],de,N))[Z.route.id];if(hs(ct)&&(ct=await Pf(ct,Le.signal,!0)||ct),ie.get(N)===ve&&ie.delete(N),!Le.signal.aborted){if(oe.has(N)){zt(N,as(void 0));return}if(Js(ct))if(D>Ue){zt(N,as(void 0));return}else{j.add(N),await un(Le,ct,!1,{preventScrollReset:Ie});return}if(sr(ct)){tn(N,F,ct.error);return}Ze(!hs(ct),"Unhandled fetcher deferred data"),zt(N,as(ct.data))}}async function un(N,F,G,Z){let{submission:de,fetcherSubmission:Te,preventScrollReset:De,replace:Ie}=Z===void 0?{}:Z;F.response.headers.has("X-Remix-Revalidate")&&(dt=!0);let Ee=F.response.headers.get("Location");Ze(Ee,"Expected a Location header on the redirect Response"),Ee=Qg(Ee,new URL(N.url),m);let ye=vl(S.location,Ee,{_isRedirect:!0});if(t){let Ke=!1;if(F.response.headers.has("X-Remix-Reload-Document"))Ke=!0;else if(Cf.test(Ee)){const mt=r.history.createURL(Ee);Ke=mt.origin!==e.location.origin||ga(mt.pathname,m)==null}if(Ke){Ie?e.location.replace(Ee):e.location.assign(Ee);return}}x=null;let ve=Ie===!0||F.response.headers.has("X-Remix-Replace")?qt.Replace:qt.Push,{formMethod:Le,formAction:Ue,formEncType:bt}=S.navigation;!de&&!Te&&Le&&Ue&&bt&&(de=ny(S.navigation));let ct=de||Te;if(TT.has(F.response.status)&&ct&&Nr(ct.formMethod))await Tt(ve,ye,{submission:xt({},ct,{formAction:Ee}),preventScrollReset:De||P,enableViewTransition:G?L:void 0});else{let Ke=Ld(ye,de);await Tt(ve,ye,{overrideNavigation:Ke,fetcherSubmission:Te,preventScrollReset:De||P,enableViewTransition:G?L:void 0})}}async function Qn(N,F,G,Z,de,Te){let De,Ie={};try{De=await xT(y,N,F,G,Z,de,Te,l,o)}catch(Ee){return Z.forEach(ye=>{Ie[ye.route.id]={type:yt.error,error:Ee}}),Ie}for(let[Ee,ye]of Object.entries(De))if(OT(ye)){let ve=ye.result;Ie[Ee]={type:yt.redirect,response:MT(ve,G,Ee,de,m,E.v7_relativeSplatPath)}}else Ie[Ee]=await DT(ye);return Ie}async function It(N,F,G,Z,de){let Te=N.matches,De=Qn("loader",N,de,G,F,null),Ie=Promise.all(Z.map(async ve=>{if(ve.matches&&ve.match&&ve.controller){let Ue=(await Qn("loader",N,Xo(r.history,ve.path,ve.controller.signal),[ve.match],ve.matches,ve.key))[ve.match.route.id];return{[ve.key]:Ue}}else return Promise.resolve({[ve.key]:{type:yt.error,error:qn(404,{pathname:ve.path})}})})),Ee=await De,ye=(await Ie).reduce((ve,Le)=>Object.assign(ve,Le),{});return await Promise.all([UT(F,Ee,de.signal,Te,N.loaderData),jT(F,ye,Z)]),{loaderResults:Ee,fetcherResults:ye}}function St(){dt=!0,Ct.push(...On()),J.forEach((N,F)=>{ie.has(F)&&it.add(F),wn(F)})}function zt(N,F,G){G===void 0&&(G={}),S.fetchers.set(N,F),ze({fetchers:new Map(S.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function tn(N,F,G,Z){Z===void 0&&(Z={});let de=Xs(S.matches,F);_n(N),ze({errors:{[de.route.id]:G},fetchers:new Map(S.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function Ln(N){return ue.set(N,(ue.get(N)||0)+1),oe.has(N)&&oe.delete(N),S.fetchers.get(N)||IT}function _n(N){let F=S.fetchers.get(N);ie.has(N)&&!(F&&F.state==="loading"&&T.has(N))&&wn(N),J.delete(N),T.delete(N),j.delete(N),E.v7_fetcherPersist&&oe.delete(N),it.delete(N),S.fetchers.delete(N)}function vr(N){let F=(ue.get(N)||0)-1;F<=0?(ue.delete(N),oe.add(N),E.v7_fetcherPersist||_n(N)):ue.set(N,F),ze({fetchers:new Map(S.fetchers)})}function wn(N){let F=ie.get(N);F&&(F.abort(),ie.delete(N))}function Di(N){for(let F of N){let G=Ln(F),Z=as(G.data);S.fetchers.set(F,Z)}}function Mi(){let N=[],F=!1;for(let G of j){let Z=S.fetchers.get(G);Ze(Z,"Expected fetcher: "+G),Z.state==="loading"&&(j.delete(G),N.push(G),F=!0)}return Di(N),F}function Vi(N){let F=[];for(let[G,Z]of T)if(Z<N){let de=S.fetchers.get(G);Ze(de,"Expected fetcher: "+G),de.state==="loading"&&(wn(G),T.delete(G),F.push(G))}return Di(F),F.length>0}function Cs(N,F){let G=S.blockers.get(N)||rl;return le.get(N)!==F&&le.set(N,F),G}function Fr(N){S.blockers.delete(N),le.delete(N)}function _r(N,F){let G=S.blockers.get(N)||rl;Ze(G.state==="unblocked"&&F.state==="blocked"||G.state==="blocked"&&F.state==="blocked"||G.state==="blocked"&&F.state==="proceeding"||G.state==="blocked"&&F.state==="unblocked"||G.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+G.state+" -> "+F.state);let Z=new Map(S.blockers);Z.set(N,F),ze({blockers:Z})}function li(N){let{currentLocation:F,nextLocation:G,historyAction:Z}=N;if(le.size===0)return;le.size>1&&aa(!1,"A router only supports one blocker at a time");let de=Array.from(le.entries()),[Te,De]=de[de.length-1],Ie=S.blockers.get(Te);if(!(Ie&&Ie.state==="proceeding")&&De({currentLocation:F,nextLocation:G,historyAction:Z}))return Te}function En(N){let F=qn(404,{pathname:N}),G=f||h,{matches:Z,route:de}=ey(G);return On(),{notFoundMatches:Z,route:de,error:F}}function On(N){let F=[];return fe.forEach((G,Z)=>{(!N||N(Z))&&(G.cancel(),F.push(Z),fe.delete(Z))}),F}function Li(N,F,G){if($=N,U=F,H=G||null,!ce&&S.navigation===Vd){ce=!0;let Z=Ur(S.location,S.matches);Z!=null&&ze({restoreScrollPosition:Z})}return()=>{$=null,U=null,H=null}}function Yn(N,F){return H&&H(N,F.map(Z=>eT(Z,S.loaderData)))||N.key}function Ps(N,F){if($&&U){let G=Yn(N,F);$[G]=U()}}function Ur(N,F){if($){let G=Yn(N,F),Z=$[G];if(typeof Z=="number")return Z}return null}function jr(N,F,G){if(_)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:rc(F,G,m,!0)}}else return{active:!0,matches:rc(F,G,m,!0)||[]};return{active:!1,matches:null}}async function bn(N,F,G,Z){if(!_)return{type:"success",matches:N};let de=N;for(;;){let Te=f==null,De=f||h,Ie=l;try{await _({signal:G,path:F,matches:de,fetcherKey:Z,patch:(ve,Le)=>{G.aborted||Kg(ve,Le,De,Ie,o)}})}catch(ve){return{type:"error",error:ve,partialMatches:de}}finally{Te&&!G.aborted&&(h=[...h])}if(G.aborted)return{type:"aborted"};let Ee=Ys(De,F,m);if(Ee)return{type:"success",matches:Ee};let ye=rc(De,F,m,!0);if(!ye||de.length===ye.length&&de.every((ve,Le)=>ve.route.id===ye[Le].route.id))return{type:"success",matches:null};de=ye}}function ks(N){l={},f=pc(N,o,void 0,l)}function Dt(N,F){let G=f==null;Kg(N,F,f||h,l,o),G&&(h=[...h],ze({}))}return We={get basename(){return m},get future(){return E},get state(){return S},get routes(){return h},get window(){return e},initialize:xe,subscribe:Ye,enableScrollRestoration:Li,navigate:$e,fetch:Kn,revalidate:Nt,createHref:N=>r.history.createHref(N),encodeLocation:N=>r.history.encodeLocation(N),getFetcher:Ln,deleteFetcher:vr,dispose:qe,getBlocker:Cs,deleteBlocker:Fr,patchRoutes:Dt,_internalFetchControllers:ie,_internalActiveDeferreds:fe,_internalSetRoutes:ks},We}function AT(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Qd(r,e,t,i,o,l,h,f){let m,y;if(h){m=[];for(let E of e)if(m.push(E),E.route.id===h){y=E;break}}else m=e,y=e[e.length-1];let _=Fc(o||".",bc(m,l),ga(r.pathname,t)||r.pathname,f==="path");if(o==null&&(_.search=r.search,_.hash=r.hash),(o==null||o===""||o===".")&&y){let E=kf(_.search);if(y.route.index&&!E)_.search=_.search?_.search.replace(/^\?/,"?index&"):"?index";else if(!y.route.index&&E){let R=new URLSearchParams(_.search),V=R.getAll("index");R.delete("index"),V.filter(H=>H).forEach(H=>R.append("index",H));let $=R.toString();_.search=$?"?"+$:""}}return i&&t!=="/"&&(_.pathname=_.pathname==="/"?t:Ri([t,_.pathname])),io(_)}function Hg(r,e,t,i){if(!i||!AT(i))return{path:t};if(i.formMethod&&!FT(i.formMethod))return{path:t,error:qn(405,{method:i.formMethod})};let o=()=>({path:t,error:qn(400,{type:"invalid-body"})}),l=i.formMethod||"get",h=r?l.toUpperCase():l.toLowerCase(),f=Xv(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Nr(h))return o();let R=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((V,$)=>{let[H,U]=$;return""+V+H+"="+U+`
`},""):String(i.body);return{path:t,submission:{formMethod:h,formAction:f,formEncType:i.formEncType,formData:void 0,json:void 0,text:R}}}else if(i.formEncType==="application/json"){if(!Nr(h))return o();try{let R=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:h,formAction:f,formEncType:i.formEncType,formData:void 0,json:R,text:void 0}}}catch{return o()}}}Ze(typeof FormData=="function","FormData is not available in this environment");let m,y;if(i.formData)m=Xd(i.formData),y=i.formData;else if(i.body instanceof FormData)m=Xd(i.body),y=i.body;else if(i.body instanceof URLSearchParams)m=i.body,y=Yg(m);else if(i.body==null)m=new URLSearchParams,y=new FormData;else try{m=new URLSearchParams(i.body),y=Yg(m)}catch{return o()}let _={formMethod:h,formAction:f,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:y,json:void 0,text:void 0};if(Nr(_.formMethod))return{path:t,submission:_};let E=Ss(t);return e&&E.search&&kf(E.search)&&m.append("index",""),E.search="?"+m,{path:io(E),submission:_}}function Wg(r,e,t){t===void 0&&(t=!1);let i=r.findIndex(o=>o.route.id===e);return i>=0?r.slice(0,t?i+1:i):r}function qg(r,e,t,i,o,l,h,f,m,y,_,E,R,V,$,H){let U=H?sr(H[1])?H[1].error:H[1].data:void 0,ce=r.createURL(e.location),re=r.createURL(o),pe=t;l&&e.errors?pe=Wg(t,Object.keys(e.errors)[0],!0):H&&sr(H[1])&&(pe=Wg(t,H[0]));let Ce=H?H[1].statusCode:void 0,je=h&&Ce&&Ce>=400,We=pe.filter((A,P)=>{let{route:x}=A;if(x.lazy)return!0;if(x.loader==null)return!1;if(l)return Yd(x,e.loaderData,e.errors);if(CT(e.loaderData,e.matches[P],A)||m.some(k=>k===A.route.id))return!0;let L=e.matches[P],b=A;return Gg(A,xt({currentUrl:ce,currentParams:L.params,nextUrl:re,nextParams:b.params},i,{actionResult:U,actionStatus:Ce,defaultShouldRevalidate:je?!1:f||ce.pathname+ce.search===re.pathname+re.search||ce.search!==re.search||Qv(L,b)}))}),S=[];return E.forEach((A,P)=>{if(l||!t.some(Ge=>Ge.route.id===A.routeId)||_.has(P))return;let x=Ys(V,A.path,$);if(!x){S.push({key:P,routeId:A.routeId,path:A.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(P),b=ol(x,A.path),k=!1;R.has(P)?k=!1:y.has(P)?(y.delete(P),k=!0):L&&L.state!=="idle"&&L.data===void 0?k=f:k=Gg(b,xt({currentUrl:ce,currentParams:e.matches[e.matches.length-1].params,nextUrl:re,nextParams:t[t.length-1].params},i,{actionResult:U,actionStatus:Ce,defaultShouldRevalidate:je?!1:f})),k&&S.push({key:P,routeId:A.routeId,path:A.path,matches:x,match:b,controller:new AbortController})}),[We,S]}function Yd(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let i=e!=null&&e[r.id]!==void 0,o=t!=null&&t[r.id]!==void 0;return!i&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!i&&!o}function CT(r,e,t){let i=!e||t.route.id!==e.route.id,o=r[t.route.id]===void 0;return i||o}function Qv(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function Gg(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Kg(r,e,t,i,o){var l;let h;if(r){let y=i[r];Ze(y,"No route found to patch children into: routeId = "+r),y.children||(y.children=[]),h=y.children}else h=t;let f=e.filter(y=>!h.some(_=>Yv(y,_))),m=pc(f,o,[r||"_","patch",String(((l=h)==null?void 0:l.length)||"0")],i);h.push(...m)}function Yv(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,i)=>{var o;return(o=e.children)==null?void 0:o.some(l=>Yv(t,l))}):!1}async function PT(r,e,t){if(!r.lazy)return;let i=await r.lazy();if(!r.lazy)return;let o=t[r.id];Ze(o,"No route found in manifest");let l={};for(let h in i){let m=o[h]!==void 0&&h!=="hasErrorBoundary";aa(!m,'Route "'+o.id+'" has a static property "'+h+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+h+'" will be ignored.')),!m&&!J0.has(h)&&(l[h]=i[h])}Object.assign(o,l),Object.assign(o,xt({},e(o),{lazy:void 0}))}async function kT(r){let{matches:e}=r,t=e.filter(o=>o.shouldLoad);return(await Promise.all(t.map(o=>o.resolve()))).reduce((o,l,h)=>Object.assign(o,{[t[h].route.id]:l}),{})}async function xT(r,e,t,i,o,l,h,f,m,y){let _=l.map(V=>V.route.lazy?PT(V.route,m,f):void 0),E=l.map((V,$)=>{let H=_[$],U=o.some(re=>re.route.id===V.route.id);return xt({},V,{shouldLoad:U,resolve:async re=>(re&&i.method==="GET"&&(V.route.lazy||V.route.loader)&&(U=!0),U?NT(e,i,V,H,re,y):Promise.resolve({type:yt.data,result:void 0}))})}),R=await r({matches:E,request:i,params:l[0].params,fetcherKey:h,context:y});try{await Promise.all(_)}catch{}return R}async function NT(r,e,t,i,o,l){let h,f,m=y=>{let _,E=new Promise(($,H)=>_=H);f=()=>_(),e.signal.addEventListener("abort",f);let R=$=>typeof y!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+r+'" [routeId: '+t.route.id+"]"))):y({request:e,params:t.params,context:l},...$!==void 0?[$]:[]),V=(async()=>{try{return{type:"data",result:await(o?o(H=>R(H)):R())}}catch($){return{type:"error",result:$}}})();return Promise.race([V,E])};try{let y=t.route[r];if(i)if(y){let _,[E]=await Promise.all([m(y).catch(R=>{_=R}),i]);if(_!==void 0)throw _;h=E}else if(await i,y=t.route[r],y)h=await m(y);else if(r==="action"){let _=new URL(e.url),E=_.pathname+_.search;throw qn(405,{method:e.method,pathname:E,routeId:t.route.id})}else return{type:yt.data,result:void 0};else if(y)h=await m(y);else{let _=new URL(e.url),E=_.pathname+_.search;throw qn(404,{pathname:E})}Ze(h.result!==void 0,"You defined "+(r==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+r+"` ")+"function. Please return a value or `null`.")}catch(y){return{type:yt.error,result:y}}finally{f&&e.signal.removeEventListener("abort",f)}return h}async function DT(r){let{result:e,type:t}=r;if(Jv(e)){let E;try{let R=e.headers.get("Content-Type");R&&/\bapplication\/json\b/.test(R)?e.body==null?E=null:E=await e.json():E=await e.text()}catch(R){return{type:yt.error,error:R}}return t===yt.error?{type:yt.error,error:new mc(e.status,e.statusText,E),statusCode:e.status,headers:e.headers}:{type:yt.data,data:E,statusCode:e.status,headers:e.headers}}if(t===yt.error){if(ty(e)){var i,o;if(e.data instanceof Error){var l,h;return{type:yt.error,error:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}}return{type:yt.error,error:new mc(((i=e.init)==null?void 0:i.status)||500,void 0,e.data),statusCode:_l(e)?e.status:void 0,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:yt.error,error:e,statusCode:_l(e)?e.status:void 0}}if(bT(e)){var f,m;return{type:yt.deferred,deferredData:e,statusCode:(f=e.init)==null?void 0:f.status,headers:((m=e.init)==null?void 0:m.headers)&&new Headers(e.init.headers)}}if(ty(e)){var y,_;return{type:yt.data,data:e.data,statusCode:(y=e.init)==null?void 0:y.status,headers:(_=e.init)!=null&&_.headers?new Headers(e.init.headers):void 0}}return{type:yt.data,data:e}}function MT(r,e,t,i,o,l){let h=r.headers.get("Location");if(Ze(h,"Redirects returned/thrown from loaders/actions must have a Location header"),!Cf.test(h)){let f=i.slice(0,i.findIndex(m=>m.route.id===t)+1);h=Qd(new URL(e.url),f,o,!0,h,l),r.headers.set("Location",h)}return r}function Qg(r,e,t){if(Cf.test(r)){let i=r,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=ga(o.pathname,t)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return r}function Xo(r,e,t,i){let o=r.createURL(Xv(e)).toString(),l={signal:t};if(i&&Nr(i.formMethod)){let{formMethod:h,formEncType:f}=i;l.method=h.toUpperCase(),f==="application/json"?(l.headers=new Headers({"Content-Type":f}),l.body=JSON.stringify(i.json)):f==="text/plain"?l.body=i.text:f==="application/x-www-form-urlencoded"&&i.formData?l.body=Xd(i.formData):l.body=i.formData}return new Request(o,l)}function Xd(r){let e=new URLSearchParams;for(let[t,i]of r.entries())e.append(t,typeof i=="string"?i:i.name);return e}function Yg(r){let e=new FormData;for(let[t,i]of r.entries())e.append(t,i);return e}function VT(r,e,t,i,o){let l={},h=null,f,m=!1,y={},_=t&&sr(t[1])?t[1].error:void 0;return r.forEach(E=>{if(!(E.route.id in e))return;let R=E.route.id,V=e[R];if(Ze(!Js(V),"Cannot handle redirect results in processLoaderData"),sr(V)){let $=V.error;_!==void 0&&($=_,_=void 0),h=h||{};{let H=Xs(r,R);h[H.route.id]==null&&(h[H.route.id]=$)}l[R]=void 0,m||(m=!0,f=_l(V.error)?V.error.status:500),V.headers&&(y[R]=V.headers)}else hs(V)?(i.set(R,V.deferredData),l[R]=V.deferredData.data,V.statusCode!=null&&V.statusCode!==200&&!m&&(f=V.statusCode),V.headers&&(y[R]=V.headers)):(l[R]=V.data,V.statusCode&&V.statusCode!==200&&!m&&(f=V.statusCode),V.headers&&(y[R]=V.headers))}),_!==void 0&&t&&(h={[t[0]]:_},l[t[0]]=void 0),{loaderData:l,errors:h,statusCode:f||200,loaderHeaders:y}}function Xg(r,e,t,i,o,l,h){let{loaderData:f,errors:m}=VT(e,t,i,h);return o.forEach(y=>{let{key:_,match:E,controller:R}=y,V=l[_];if(Ze(V,"Did not find corresponding fetcher result"),!(R&&R.signal.aborted))if(sr(V)){let $=Xs(r.matches,E==null?void 0:E.route.id);m&&m[$.route.id]||(m=xt({},m,{[$.route.id]:V.error})),r.fetchers.delete(_)}else if(Js(V))Ze(!1,"Unhandled fetcher revalidation redirect");else if(hs(V))Ze(!1,"Unhandled fetcher deferred data");else{let $=as(V.data);r.fetchers.set(_,$)}}),{loaderData:f,errors:m}}function Jg(r,e,t,i){let o=xt({},e);for(let l of t){let h=l.route.id;if(e.hasOwnProperty(h)?e[h]!==void 0&&(o[h]=e[h]):r[h]!==void 0&&l.route.loader&&(o[h]=r[h]),i&&i.hasOwnProperty(h))break}return o}function Zg(r){return r?sr(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Xs(r,e){return(e?r.slice(0,r.findIndex(i=>i.route.id===e)+1):[...r]).reverse().find(i=>i.route.hasErrorBoundary===!0)||r[0]}function ey(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function qn(r,e){let{pathname:t,routeId:i,method:o,type:l,message:h}=e===void 0?{}:e,f="Unknown Server Error",m="Unknown @remix-run/router error";return r===400?(f="Bad Request",o&&t&&i?m="You made a "+o+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":l==="defer-action"?m="defer() is not supported in actions":l==="invalid-body"&&(m="Unable to encode submission body")):r===403?(f="Forbidden",m='Route "'+i+'" does not match URL "'+t+'"'):r===404?(f="Not Found",m='No route matches URL "'+t+'"'):r===405&&(f="Method Not Allowed",o&&t&&i?m="You made a "+o.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":o&&(m='Invalid request method "'+o.toUpperCase()+'"')),new mc(r||500,f,new Error(m),!0)}function Yu(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[i,o]=e[t];if(Js(o))return{key:i,result:o}}}function Xv(r){let e=typeof r=="string"?Ss(r):r;return io(xt({},e,{hash:""}))}function LT(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function OT(r){return Jv(r.result)&&ET.has(r.result.status)}function hs(r){return r.type===yt.deferred}function sr(r){return r.type===yt.error}function Js(r){return(r&&r.type)===yt.redirect}function ty(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function bT(r){let e=r;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Jv(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function FT(r){return wT.has(r.toLowerCase())}function Nr(r){return vT.has(r.toLowerCase())}async function UT(r,e,t,i,o){let l=Object.entries(e);for(let h=0;h<l.length;h++){let[f,m]=l[h],y=r.find(R=>(R==null?void 0:R.route.id)===f);if(!y)continue;let _=i.find(R=>R.route.id===y.route.id),E=_!=null&&!Qv(_,y)&&(o&&o[y.route.id])!==void 0;hs(m)&&E&&await Pf(m,t,!1).then(R=>{R&&(e[f]=R)})}}async function jT(r,e,t){for(let i=0;i<t.length;i++){let{key:o,routeId:l,controller:h}=t[i],f=e[o];r.find(y=>(y==null?void 0:y.route.id)===l)&&hs(f)&&(Ze(h,"Expected an AbortController for revalidating fetcher deferred result"),await Pf(f,h.signal,!0).then(y=>{y&&(e[o]=y)}))}}async function Pf(r,e,t){if(t===void 0&&(t=!1),!await r.deferredData.resolveData(e)){if(t)try{return{type:yt.data,data:r.deferredData.unwrappedData}}catch(o){return{type:yt.error,error:o}}return{type:yt.data,data:r.deferredData.data}}}function kf(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function ol(r,e){let t=typeof e=="string"?Ss(e).search:e.search;if(r[r.length-1].route.index&&kf(t||""))return r[r.length-1];let i=qv(r);return i[i.length-1]}function ny(r){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:l,json:h}=r;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:h,text:void 0}}}function Ld(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function zT(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function il(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function BT(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function as(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function $T(r,e){try{let t=r.sessionStorage.getItem(Kv);if(t){let i=JSON.parse(t);for(let[o,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function HT(r,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{r.sessionStorage.setItem(Kv,JSON.stringify(t))}catch(i){aa(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},gc.apply(this,arguments)}const Uc=te.createContext(null),Zv=te.createContext(null),Rs=te.createContext(null),xf=te.createContext(null),As=te.createContext({outlet:null,matches:[],isDataRoute:!1}),e_=te.createContext(null);function WT(r,e){let{relative:t}=e===void 0?{}:e;ya()||Ze(!1);let{basename:i,navigator:o}=te.useContext(Rs),{hash:l,pathname:h,search:f}=n_(r,{relative:t}),m=h;return i!=="/"&&(m=h==="/"?i:Ri([i,h])),o.createHref({pathname:m,search:f,hash:l})}function ya(){return te.useContext(xf)!=null}function co(){return ya()||Ze(!1),te.useContext(xf).location}function t_(r){te.useContext(Rs).static||te.useLayoutEffect(r)}function jc(){let{isDataRoute:r}=te.useContext(As);return r?rI():qT()}function qT(){ya()||Ze(!1);let r=te.useContext(Uc),{basename:e,future:t,navigator:i}=te.useContext(Rs),{matches:o}=te.useContext(As),{pathname:l}=co(),h=JSON.stringify(bc(o,t.v7_relativeSplatPath)),f=te.useRef(!1);return t_(()=>{f.current=!0}),te.useCallback(function(y,_){if(_===void 0&&(_={}),!f.current)return;if(typeof y=="number"){i.go(y);return}let E=Fc(y,JSON.parse(h),l,_.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ri([e,E.pathname])),(_.replace?i.replace:i.push)(E,_.state,_)},[e,i,h,l,r])}function n_(r,e){let{relative:t}=e===void 0?{}:e,{future:i}=te.useContext(Rs),{matches:o}=te.useContext(As),{pathname:l}=co(),h=JSON.stringify(bc(o,i.v7_relativeSplatPath));return te.useMemo(()=>Fc(r,JSON.parse(h),l,t==="path"),[r,h,l,t])}function GT(r,e,t,i){ya()||Ze(!1);let{navigator:o}=te.useContext(Rs),{matches:l}=te.useContext(As),h=l[l.length-1],f=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let y=co(),_;_=y;let E=_.pathname||"/",R=E;if(m!=="/"){let H=m.replace(/^\//,"").split("/");R="/"+E.replace(/^\//,"").split("/").slice(H.length).join("/")}let V=Ys(r,{pathname:R});return JT(V&&V.map(H=>Object.assign({},H,{params:Object.assign({},f,H.params),pathname:Ri([m,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?m:Ri([m,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),l,t,i)}function KT(){let r=nI(),e=_l(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),t?te.createElement("pre",{style:o},t):null,null)}const QT=te.createElement(KT,null);class YT extends te.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?te.createElement(As.Provider,{value:this.props.routeContext},te.createElement(e_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XT(r){let{routeContext:e,match:t,children:i}=r,o=te.useContext(Uc);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),te.createElement(As.Provider,{value:e},i)}function JT(r,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),r==null){var l;if(!t)return null;if(t.errors)r=t.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let h=r,f=(o=t)==null?void 0:o.errors;if(f!=null){let _=h.findIndex(E=>E.route.id&&(f==null?void 0:f[E.route.id])!==void 0);_>=0||Ze(!1),h=h.slice(0,Math.min(h.length,_+1))}let m=!1,y=-1;if(t&&i&&i.v7_partialHydration)for(let _=0;_<h.length;_++){let E=h[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=_),E.route.id){let{loaderData:R,errors:V}=t,$=E.route.loader&&R[E.route.id]===void 0&&(!V||V[E.route.id]===void 0);if(E.route.lazy||$){m=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}return h.reduceRight((_,E,R)=>{let V,$=!1,H=null,U=null;t&&(V=f&&E.route.id?f[E.route.id]:void 0,H=E.route.errorElement||QT,m&&(y<0&&R===0?(iI("route-fallback"),$=!0,U=null):y===R&&($=!0,U=E.route.hydrateFallbackElement||null)));let ce=e.concat(h.slice(0,R+1)),re=()=>{let pe;return V?pe=H:$?pe=U:E.route.Component?pe=te.createElement(E.route.Component,null):E.route.element?pe=E.route.element:pe=_,te.createElement(XT,{match:E,routeContext:{outlet:_,matches:ce,isDataRoute:t!=null},children:pe})};return t&&(E.route.ErrorBoundary||E.route.errorElement||R===0)?te.createElement(YT,{location:t.location,revalidation:t.revalidation,component:H,error:V,children:re(),routeContext:{outlet:null,matches:ce,isDataRoute:!0}}):re()},null)}var r_=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(r_||{}),i_=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(i_||{});function ZT(r){let e=te.useContext(Uc);return e||Ze(!1),e}function eI(r){let e=te.useContext(Zv);return e||Ze(!1),e}function tI(r){let e=te.useContext(As);return e||Ze(!1),e}function s_(r){let e=tI(),t=e.matches[e.matches.length-1];return t.route.id||Ze(!1),t.route.id}function nI(){var r;let e=te.useContext(e_),t=eI(i_.UseRouteError),i=s_();return e!==void 0?e:(r=t.errors)==null?void 0:r[i]}function rI(){let{router:r}=ZT(r_.UseNavigateStable),e=s_(),t=te.useRef(!1);return t_(()=>{t.current=!0}),te.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,gc({fromRouteId:e},l)))},[r,e])}const ry={};function iI(r,e,t){ry[r]||(ry[r]=!0)}function sI(r,e){r==null||r.v7_startTransition,(r==null?void 0:r.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function o_(r){let{to:e,replace:t,state:i,relative:o}=r;ya()||Ze(!1);let{future:l,static:h}=te.useContext(Rs),{matches:f}=te.useContext(As),{pathname:m}=co(),y=jc(),_=Fc(e,bc(f,l.v7_relativeSplatPath),m,o==="path"),E=JSON.stringify(_);return te.useEffect(()=>y(JSON.parse(E),{replace:t,state:i,relative:o}),[y,E,o,t,i]),null}function oI(r){let{basename:e="/",children:t=null,location:i,navigationType:o=qt.Pop,navigator:l,static:h=!1,future:f}=r;ya()&&Ze(!1);let m=e.replace(/^\/*/,"/"),y=te.useMemo(()=>({basename:m,navigator:l,static:h,future:gc({v7_relativeSplatPath:!1},f)}),[m,f,l,h]);typeof i=="string"&&(i=Ss(i));let{pathname:_="/",search:E="",hash:R="",state:V=null,key:$="default"}=i,H=te.useMemo(()=>{let U=ga(_,m);return U==null?null:{location:{pathname:U,search:E,hash:R,state:V,key:$},navigationType:o}},[m,_,E,R,V,$,o]);return H==null?null:te.createElement(Rs.Provider,{value:y},te.createElement(xf.Provider,{children:t,value:H}))}new Promise(()=>{});function aI(r){let e={hasErrorBoundary:r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&Object.assign(e,{element:te.createElement(r.Component),Component:void 0}),r.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:te.createElement(r.HydrateFallback),HydrateFallback:void 0}),r.ErrorBoundary&&Object.assign(e,{errorElement:te.createElement(r.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},wl.apply(this,arguments)}function lI(r,e){if(r==null)return{};var t={},i=Object.keys(r),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function uI(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function cI(r,e){return r.button===0&&(!e||e==="_self")&&!uI(r)}const hI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dI="6";try{window.__reactRouterVersion=dI}catch{}function fI(r,e){return RT({basename:void 0,future:wl({},void 0,{v7_prependBasename:!0}),history:Q0({window:void 0}),hydrationData:pI(),routes:r,mapRouteProperties:aI,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function pI(){var r;let e=(r=window)==null?void 0:r.__staticRouterHydrationData;return e&&e.errors&&(e=wl({},e,{errors:mI(e.errors)})),e}function mI(r){if(!r)return null;let e=Object.entries(r),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new mc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let h=new l(o.message);h.stack="",t[i]=h}catch{}}if(t[i]==null){let l=new Error(o.message);l.stack="",t[i]=l}}else t[i]=o;return t}const gI=te.createContext({isTransitioning:!1}),yI=te.createContext(new Map),vI="startTransition",iy=j0[vI],_I="flushSync",sy=K0[_I];function wI(r){iy?iy(r):r()}function sl(r){sy?sy(r):r()}let EI=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function TI(r){let{fallbackElement:e,router:t,future:i}=r,[o,l]=te.useState(t.state),[h,f]=te.useState(),[m,y]=te.useState({isTransitioning:!1}),[_,E]=te.useState(),[R,V]=te.useState(),[$,H]=te.useState(),U=te.useRef(new Map),{v7_startTransition:ce}=i||{},re=te.useCallback(A=>{ce?wI(A):A()},[ce]),pe=te.useCallback((A,P)=>{let{deletedFetchers:x,flushSync:L,viewTransitionOpts:b}=P;A.fetchers.forEach((Ge,dt)=>{Ge.data!==void 0&&U.current.set(dt,Ge.data)}),x.forEach(Ge=>U.current.delete(Ge));let k=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!b||k){L?sl(()=>l(A)):re(()=>l(A));return}if(L){sl(()=>{R&&(_&&_.resolve(),R.skipTransition()),y({isTransitioning:!0,flushSync:!0,currentLocation:b.currentLocation,nextLocation:b.nextLocation})});let Ge=t.window.document.startViewTransition(()=>{sl(()=>l(A))});Ge.finished.finally(()=>{sl(()=>{E(void 0),V(void 0),f(void 0),y({isTransitioning:!1})})}),sl(()=>V(Ge));return}R?(_&&_.resolve(),R.skipTransition(),H({state:A,currentLocation:b.currentLocation,nextLocation:b.nextLocation})):(f(A),y({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}))},[t.window,R,_,U,re]);te.useLayoutEffect(()=>t.subscribe(pe),[t,pe]),te.useEffect(()=>{m.isTransitioning&&!m.flushSync&&E(new EI)},[m]),te.useEffect(()=>{if(_&&h&&t.window){let A=h,P=_.promise,x=t.window.document.startViewTransition(async()=>{re(()=>l(A)),await P});x.finished.finally(()=>{E(void 0),V(void 0),f(void 0),y({isTransitioning:!1})}),V(x)}},[re,h,_,t.window]),te.useEffect(()=>{_&&h&&o.location.key===h.location.key&&_.resolve()},[_,R,o.location,h]),te.useEffect(()=>{!m.isTransitioning&&$&&(f($.state),y({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}),H(void 0))},[m.isTransitioning,$]),te.useEffect(()=>{},[]);let Ce=te.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:A=>t.navigate(A),push:(A,P,x)=>t.navigate(A,{state:P,preventScrollReset:x==null?void 0:x.preventScrollReset}),replace:(A,P,x)=>t.navigate(A,{replace:!0,state:P,preventScrollReset:x==null?void 0:x.preventScrollReset})}),[t]),je=t.basename||"/",We=te.useMemo(()=>({router:t,navigator:Ce,static:!1,basename:je}),[t,Ce,je]),S=te.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return te.useEffect(()=>sI(i,t.future),[i,t.future]),te.createElement(te.Fragment,null,te.createElement(Uc.Provider,{value:We},te.createElement(Zv.Provider,{value:o},te.createElement(yI.Provider,{value:U.current},te.createElement(gI.Provider,{value:m},te.createElement(oI,{basename:je,location:o.location,navigationType:o.historyAction,navigator:Ce,future:S},o.initialized||t.future.v7_partialHydration?te.createElement(II,{routes:t.routes,future:t.future,state:o}):e))))),null)}const II=te.memo(SI);function SI(r){let{routes:e,future:t,state:i}=r;return GT(e,void 0,i,t)}const RI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CI=te.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:l,replace:h,state:f,target:m,to:y,preventScrollReset:_,viewTransition:E}=e,R=lI(e,hI),{basename:V}=te.useContext(Rs),$,H=!1;if(typeof y=="string"&&AI.test(y)&&($=y,RI))try{let pe=new URL(window.location.href),Ce=y.startsWith("//")?new URL(pe.protocol+y):new URL(y),je=ga(Ce.pathname,V);Ce.origin===pe.origin&&je!=null?y=je+Ce.search+Ce.hash:H=!0}catch{}let U=WT(y,{relative:o}),ce=PI(y,{replace:h,state:f,target:m,preventScrollReset:_,relative:o,viewTransition:E});function re(pe){i&&i(pe),pe.defaultPrevented||ce(pe)}return te.createElement("a",wl({},R,{href:$||U,onClick:H||l?i:re,ref:t,target:m}))});var oy;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(oy||(oy={}));var ay;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(ay||(ay={}));function PI(r,e){let{target:t,replace:i,state:o,preventScrollReset:l,relative:h,viewTransition:f}=e===void 0?{}:e,m=jc(),y=co(),_=n_(r,{relative:h});return te.useCallback(E=>{if(cI(E,t)){E.preventDefault();let R=i!==void 0?i:io(y)===io(_);m(r,{replace:R,state:o,preventScrollReset:l,relative:h,viewTransition:f})}},[y,m,_,i,o,t,r,l,h,f])}const kI=()=>{};var ly={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},xI=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],f=r[t++],m=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=r[t++],h=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},l_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,f=h?r[o+1]:0,m=o+2<r.length,y=m?r[o+2]:0,_=l>>2,E=(l&3)<<4|f>>4;let R=(f&15)<<2|y>>6,V=y&63;m||(V=64,h||(R=64)),i.push(t[_],t[E],t[R],t[V])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(a_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):xI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const E=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||y==null||E==null)throw new NI;const R=l<<2|f>>4;if(i.push(R),y!==64){const V=f<<4&240|y>>2;if(i.push(V),E!==64){const $=y<<6&192|E;i.push($)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class NI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DI=function(r){const e=a_(r);return l_.encodeByteArray(e,!0)},yc=function(r){return DI(r).replace(/\./g,"")},u_=function(r){try{return l_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=()=>MI().__FIREBASE_DEFAULTS__,LI=()=>{if(typeof process>"u"||typeof ly>"u")return;const r=ly.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},OI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&u_(r[1]);return e&&JSON.parse(e)},zc=()=>{try{return kI()||VI()||LI()||OI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},c_=r=>{var e,t;return(t=(e=zc())==null?void 0:e.emulatorHosts)==null?void 0:t[r]},bI=r=>{const e=c_(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},h_=()=>{var r;return(r=zc())==null?void 0:r.config},d_=r=>{var e;return(e=zc())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function f_(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[yc(JSON.stringify(t)),yc(JSON.stringify(h)),""].join(".")}const hl={};function jI(){const r={prod:[],emulator:[]};for(const e of Object.keys(hl))hl[e]?r.emulator.push(e):r.prod.push(e);return r}function zI(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let uy=!1;function p_(r,e){if(typeof window>"u"||typeof document>"u"||!va(window.location.host)||hl[r]===e||hl[r]||uy)return;hl[r]=e;function t(R){return`__firebase__banner__${R}`}const i="__firebase__banner",l=jI().prod.length>0;function h(){const R=document.getElementById(i);R&&R.remove()}function f(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function m(R,V){R.setAttribute("width","24"),R.setAttribute("id",V),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{uy=!0,h()},R}function _(R,V){R.setAttribute("id",V),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function E(){const R=zI(i),V=t("text"),$=document.getElementById(V)||document.createElement("span"),H=t("learnmore"),U=document.getElementById(H)||document.createElement("a"),ce=t("preprendIcon"),re=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const pe=R.element;f(pe),_(U,H);const Ce=y();m(re,ce),pe.append(re,$,U,Ce),document.body.appendChild(pe)}l?($.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function $I(){var e;const r=(e=zc())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function qI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GI(){const r=xn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function KI(){return!$I()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QI(){try{return typeof indexedDB=="object"}catch{return!1}}function YI(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="FirebaseError";class Ni extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=XI,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nl.prototype.create)}}class Nl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?JI(l,i):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new Ni(o,f,i)}}function JI(r,e){return r.replace(ZI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const ZI=/\{\$([^}]+)}/g;function eS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function so(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=r[o],h=e[o];if(cy(l)&&cy(h)){if(!so(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function cy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function tS(r,e){const t=new nS(r,e);return t.subscribe.bind(t)}class nS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");rS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Od),o.error===void 0&&(o.error=Od),o.complete===void 0&&(o.complete=Od);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rS(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Od(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(r){return r&&r._delegate?r._delegate:r}class oo{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new FI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oS(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&h.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:sS(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sS(r){return r===Qs?void 0:r}function oS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new iS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(tt||(tt={}));const lS={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},uS=tt.INFO,cS={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},hS=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=cS[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nf{constructor(e){this.name=e,this._logLevel=uS,this._logHandler=hS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const dS=(r,e)=>e.some(t=>r instanceof t);let hy,dy;function fS(){return hy||(hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pS(){return dy||(dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m_=new WeakMap,Jd=new WeakMap,g_=new WeakMap,bd=new WeakMap,Df=new WeakMap;function mS(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(fs(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&m_.set(t,r)}).catch(()=>{}),Df.set(e,r),e}function gS(r){if(Jd.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Jd.set(r,e)}let Zd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Jd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||g_.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function yS(r){Zd=r(Zd)}function vS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Fd(this),e,...t);return g_.set(i,e.sort?e.sort():[e]),fs(i)}:pS().includes(r)?function(...e){return r.apply(Fd(this),e),fs(m_.get(this))}:function(...e){return fs(r.apply(Fd(this),e))}}function _S(r){return typeof r=="function"?vS(r):(r instanceof IDBTransaction&&gS(r),dS(r,fS())?new Proxy(r,Zd):r)}function fs(r){if(r instanceof IDBRequest)return mS(r);if(bd.has(r))return bd.get(r);const e=_S(r);return e!==r&&(bd.set(r,e),Df.set(e,r)),e}const Fd=r=>Df.get(r);function wS(r,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),f=fs(h);return i&&h.addEventListener("upgradeneeded",m=>{i(fs(h.result),m.oldVersion,m.newVersion,fs(h.transaction),m)}),t&&h.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const ES=["get","getKey","getAll","getAllKeys","count"],TS=["put","add","delete","clear"],Ud=new Map;function fy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ud.get(e))return Ud.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=TS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||ES.includes(t)))return;const l=async function(h,...f){const m=this.transaction(h,o?"readwrite":"readonly");let y=m.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&m.done]))[0]};return Ud.set(e,l),l}yS(r=>({...r,get:(e,t,i)=>fy(e,t)||r.get(e,t,i),has:(e,t)=>!!fy(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(SS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function SS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ef="@firebase/app",py="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new Nf("@firebase/app"),RS="@firebase/app-compat",AS="@firebase/analytics-compat",CS="@firebase/analytics",PS="@firebase/app-check-compat",kS="@firebase/app-check",xS="@firebase/auth",NS="@firebase/auth-compat",DS="@firebase/database",MS="@firebase/data-connect",VS="@firebase/database-compat",LS="@firebase/functions",OS="@firebase/functions-compat",bS="@firebase/installations",FS="@firebase/installations-compat",US="@firebase/messaging",jS="@firebase/messaging-compat",zS="@firebase/performance",BS="@firebase/performance-compat",$S="@firebase/remote-config",HS="@firebase/remote-config-compat",WS="@firebase/storage",qS="@firebase/storage-compat",GS="@firebase/firestore",KS="@firebase/ai",QS="@firebase/firestore-compat",YS="firebase",XS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="[DEFAULT]",JS={[ef]:"fire-core",[RS]:"fire-core-compat",[CS]:"fire-analytics",[AS]:"fire-analytics-compat",[kS]:"fire-app-check",[PS]:"fire-app-check-compat",[xS]:"fire-auth",[NS]:"fire-auth-compat",[DS]:"fire-rtdb",[MS]:"fire-data-connect",[VS]:"fire-rtdb-compat",[LS]:"fire-fn",[OS]:"fire-fn-compat",[bS]:"fire-iid",[FS]:"fire-iid-compat",[US]:"fire-fcm",[jS]:"fire-fcm-compat",[zS]:"fire-perf",[BS]:"fire-perf-compat",[$S]:"fire-rc",[HS]:"fire-rc-compat",[WS]:"fire-gcs",[qS]:"fire-gcs-compat",[GS]:"fire-fst",[QS]:"fire-fst-compat",[KS]:"fire-vertex","fire-js":"fire-js",[YS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Map,ZS=new Map,nf=new Map;function my(r,e){try{r.container.addComponent(e)}catch(t){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function la(r){const e=r.name;if(nf.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;nf.set(e,r);for(const t of vc.values())my(t,r);for(const t of ZS.values())my(t,r);return!0}function Mf(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Dr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new Nl("app","Firebase",e1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=XS;function y_(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:tf,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw ps.create("bad-app-name",{appName:String(o)});if(t||(t=h_()),!t)throw ps.create("no-options");const l=vc.get(o);if(l){if(so(t,l.options)&&so(i,l.config))return l;throw ps.create("duplicate-app",{appName:o})}const h=new aS(o);for(const m of nf.values())h.addComponent(m);const f=new t1(t,i,h);return vc.set(o,f),f}function v_(r=tf){const e=vc.get(r);if(!e&&r===tf&&h_())return y_();if(!e)throw ps.create("no-app",{appName:r});return e}function ms(r,e,t){let i=JS[r]??r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(h.join(" "));return}la(new oo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="firebase-heartbeat-database",r1=1,El="firebase-heartbeat-store";let jd=null;function __(){return jd||(jd=wS(n1,r1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(El)}catch(t){console.warn(t)}}}}).catch(r=>{throw ps.create("idb-open",{originalErrorMessage:r.message})})),jd}async function i1(r){try{const t=(await __()).transaction(El),i=await t.objectStore(El).get(w_(r));return await t.done,i}catch(e){if(e instanceof Ni)Ci.warn(e.message);else{const t=ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(t.message)}}}async function gy(r,e){try{const i=(await __()).transaction(El,"readwrite");await i.objectStore(El).put(e,w_(r)),await i.done}catch(t){if(t instanceof Ni)Ci.warn(t.message);else{const i=ps.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ci.warn(i.message)}}}function w_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=1024,o1=30;class a1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new u1(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=yy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>o1){const h=c1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ci.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yy(),{heartbeatsToSend:i,unsentEntries:o}=l1(this._heartbeatsCache.heartbeats),l=yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ci.warn(t),""}}}function yy(){return new Date().toISOString().substring(0,10)}function l1(r,e=s1){const t=[];let i=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),vy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),vy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class u1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QI()?YI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await i1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return gy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return gy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function vy(r){return yc(JSON.stringify({version:2,heartbeats:r})).length}function c1(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(r){la(new oo("platform-logger",e=>new IS(e),"PRIVATE")),la(new oo("heartbeat",e=>new a1(e),"PRIVATE")),ms(ef,py,r),ms(ef,py,"esm2020"),ms("fire-js","")}h1("");var d1="firebase",f1="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms(d1,f1,"app");function E_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p1=E_,T_=new Nl("auth","Firebase",E_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new Nf("@firebase/auth");function m1(r,...e){_c.logLevel<=tt.WARN&&_c.warn(`Auth (${_a}): ${r}`,...e)}function ic(r,...e){_c.logLevel<=tt.ERROR&&_c.error(`Auth (${_a}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(r,...e){throw Lf(r,...e)}function Lr(r,...e){return Lf(r,...e)}function Vf(r,e,t){const i={...p1(),[e]:t};return new Nl("auth","Firebase",i).create(e,{appName:r.name})}function to(r){return Vf(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g1(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&si(r,"argument-error"),Vf(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lf(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return T_.create(r,...e)}function Fe(r,e,...t){if(!r)throw Lf(e,...t)}function Ii(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ic(e),new Error(e)}function Pi(r,e){r||Ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function y1(){return _y()==="http:"||_y()==="https:"}function _y(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y1()||WI()||"connection"in navigator)?navigator.onLine:!0}function _1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pi(t>e,"Short delay should be less than long delay!"),this.isMobile=BI()||qI()}get(){return v1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(r,e){Pi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],T1=new Ml(3e4,6e4);function bf(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function wa(r,e,t,i,o={}){return S_(r,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const f=Dl({key:r.config.apiKey,...h}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:m,...l};return HI()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&va(r.emulatorConfig.host)&&(y.credentials="include"),I_.fetch()(await R_(r,r.config.apiHost,t,f),y)})}async function S_(r,e,t){r._canInitEmulator=!1;const i={...w1,...e};try{const o=new S1(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Xu(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[m,y]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xu(r,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw Xu(r,"email-already-in-use",h);if(m==="USER_DISABLED")throw Xu(r,"user-disabled",h);const _=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Vf(r,_,y);si(r,_)}}catch(o){if(o instanceof Ni)throw o;si(r,"network-request-failed",{message:String(o)})}}async function I1(r,e,t,i,o={}){const l=await wa(r,e,t,i,o);return"mfaPendingCredential"in l&&si(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function R_(r,e,t,i){const o=`${e}${t}?${i}`,l=r,h=l.config.emulator?Of(r.config,o):`${r.config.apiScheme}://${o}`;return E1.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}class S1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Lr(this.auth,"network-request-failed")),T1.get())})}}function Xu(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Lr(r,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(r,e){return wa(r,"POST","/v1/accounts:delete",e)}async function wc(r,e){return wa(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function A1(r,e=!1){const t=Vn(r),i=await t.getIdToken(e),o=Ff(i);Fe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:dl(zd(o.auth_time)),issuedAtTime:dl(zd(o.iat)),expirationTime:dl(zd(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function zd(r){return Number(r)*1e3}function Ff(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return ic("JWT malformed, contained fewer than 3 sections"),null;try{const o=u_(t);return o?JSON.parse(o):(ic("Failed to decode base64 JWT payload"),null)}catch(o){return ic("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function wy(r){const e=Ff(r);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ni&&C1(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function C1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dl(this.lastLoginAt),this.creationTime=dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(r){var E;const e=r.auth,t=await r.getIdToken(),i=await Tl(r,wc(e,{idToken:t}));Fe(i==null?void 0:i.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const l=(E=o.providerUserInfo)!=null&&E.length?A_(o.providerUserInfo):[],h=x1(r.providerData,l),f=r.isAnonymous,m=!(r.email&&o.passwordHash)&&!(h!=null&&h.length),y=f?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new sf(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,_)}async function k1(r){const e=Vn(r);await Ec(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function x1(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function A_(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N1(r,e){const t=await S_(r,{},async()=>{const i=Dl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=await R_(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return r.emulatorConfig&&va(r.emulatorConfig.host)&&(m.credentials="include"),I_.fetch()(h,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function D1(r,e){return wa(r,"POST","/v2/accounts:revokeToken",bf(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const t=wy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await N1(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new na;return i&&(Fe(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Fe(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Fe(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new na,this.toJSON())}_performRefresh(){return Ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(r,e){Fe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Mr{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new P1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Tl(this,this.stsTokenManager.getToken(this.auth,e));return Fe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return A1(this,e)}reload(){return k1(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Mr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Ec(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(to(this.auth));const e=await this.getIdToken();return await Tl(this,R1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,h=t.photoURL??void 0,f=t.tenantId??void 0,m=t._redirectEventId??void 0,y=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:E,emailVerified:R,isAnonymous:V,providerData:$,stsTokenManager:H}=t;Fe(E&&H,e,"internal-error");const U=na.fromJSON(this.name,H);Fe(typeof E=="string",e,"internal-error"),ss(i,e.name),ss(o,e.name),Fe(typeof R=="boolean",e,"internal-error"),Fe(typeof V=="boolean",e,"internal-error"),ss(l,e.name),ss(h,e.name),ss(f,e.name),ss(m,e.name),ss(y,e.name),ss(_,e.name);const ce=new Mr({uid:E,auth:e,email:o,emailVerified:R,displayName:i,isAnonymous:V,photoURL:h,phoneNumber:l,tenantId:f,stsTokenManager:U,createdAt:y,lastLoginAt:_});return $&&Array.isArray($)&&(ce.providerData=$.map(re=>({...re}))),m&&(ce._redirectEventId=m),ce}static async _fromIdTokenResponse(e,t,i=!1){const o=new na;o.updateFromServerResponse(t);const l=new Mr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Ec(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Fe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?A_(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new na;f.updateFromIdToken(i);const m=new Mr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new sf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,y),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=new Map;function Si(r){Pi(r instanceof Function,"Expected a class definition");let e=Ey.get(r);return e?(Pi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Ey.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}C_.type="NONE";const Ty=C_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(r,e,t){return`firebase:${r}:${e}:${t}`}class ra{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=sc(this.userKey,o.apiKey,l),this.fullPersistenceKey=sc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await wc(this.auth,{idToken:e}).catch(()=>{});return t?Mr._fromGetAccountInfoResponse(this.auth,t,e):null}return Mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ra(Si(Ty),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Si(Ty);const h=sc(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const _=await y._get(h);if(_){let E;if(typeof _=="string"){const R=await wc(e,{idToken:_}).catch(()=>{});if(!R)break;E=await Mr._fromGetAccountInfoResponse(e,R,_)}else E=Mr._fromJSON(e,_);y!==l&&(f=E),l=y;break}}catch{}const m=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new ra(l,e,i):(l=m[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(h)}catch{}})),new ra(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M_(e))return"Blackberry";if(V_(e))return"Webos";if(k_(e))return"Safari";if((e.includes("chrome/")||x_(e))&&!e.includes("edge/"))return"Chrome";if(D_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function P_(r=xn()){return/firefox\//i.test(r)}function k_(r=xn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function x_(r=xn()){return/crios\//i.test(r)}function N_(r=xn()){return/iemobile/i.test(r)}function D_(r=xn()){return/android/i.test(r)}function M_(r=xn()){return/blackberry/i.test(r)}function V_(r=xn()){return/webos/i.test(r)}function Uf(r=xn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function M1(r=xn()){var e;return Uf(r)&&!!((e=window.navigator)!=null&&e.standalone)}function V1(){return GI()&&document.documentMode===10}function L_(r=xn()){return Uf(r)||D_(r)||V_(r)||M_(r)||/windows phone/i.test(r)||N_(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(r,e=[]){let t;switch(r){case"Browser":t=Iy(xn());break;case"Worker":t=`${Iy(xn())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_a}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,f)=>{try{const m=e(l);h(m)}catch(m){f(m)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O1(r,e={}){return wa(r,"GET","/v2/passwordPolicy",bf(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=6;class F1{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??b1,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sy(this),this.idTokenSubscription=new Sy(this),this.beforeStateQueue=new L1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Si(t)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await ra.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await wc(this,{idToken:e}),i=await Mr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Dr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=i==null?void 0:i._redirectEventId,m=await this.tryRedirectSignIn(e);(!h||h===f)&&(m!=null&&m.user)&&(i=m.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(h){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ec(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(to(this));const t=e?Vn(e):null;return t&&Fe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(to(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(to(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await O1(this),t=new F1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await D1(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Si(e)||this._popupRedirectResolver;Fe(t,this,"argument-error"),this.redirectPersistenceManager=await ra.create(this,[Si(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,o);return()=>{h=!0,m()}}else{const m=e.addObserver(t);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&m1(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Bc(r){return Vn(r)}class Sy{constructor(e){this.auth=e,this.observer=null,this.addObserver=tS(t=>this.observer=t)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function j1(r){jf=r}function z1(r){return jf.loadJS(r)}function B1(){return jf.gapiScript}function $1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(r,e){const t=Mf(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(so(l,e??{}))return o;si(o,"already-initialized")}return t.initialize({options:e})}function W1(r,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Si);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function q1(r,e,t){const i=Bc(r);Fe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=b_(e),{host:h,port:f}=G1(e),m=f===null?"":`:${f}`,y={url:`${l}//${h}${m}/`},_=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Fe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Fe(so(y,i.config.emulator)&&so(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,va(h)?(f_(`${l}//${h}${m}`),p_("Auth",!0)):K1()}function b_(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function G1(r){const e=b_(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Ry(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:Ry(h)}}}function Ry(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function K1(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,t){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(r,e){return I1(r,"POST","/v1/accounts:signInWithIdp",bf(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="http://localhost";class ao extends F_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):si("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...l}=t;if(!i||!o)return null;const h=new ao(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return ia(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ia(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ia(e,t)}buildRequest(){const e={requestUri:Q1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends zf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Vl{constructor(){super("facebook.com")}static credential(e){return ao._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ao._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ti.credential(t,i)}catch{return null}}}Ti.GOOGLE_SIGN_IN_METHOD="google.com";Ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Vl{constructor(){super("github.com")}static credential(e){return ao._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Vl{constructor(){super("twitter.com")}static credential(e,t){return ao._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return cs.credential(t,i)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Mr._fromIdTokenResponse(e,i,o),h=Ay(i);return new ua({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Ay(i);return new ua({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Ay(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends Ni{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Tc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Tc(e,t,i,o)}}function U_(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Tc._fromErrorAndOperation(r,l,e,i):l})}async function Y1(r,e,t=!1){const i=await Tl(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return ua._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(r,e,t=!1){const{auth:i}=r;if(Dr(i.app))return Promise.reject(to(i));const o="reauthenticate";try{const l=await Tl(r,U_(i,o,e,r),t);Fe(l.idToken,i,"internal-error");const h=Ff(l.idToken);Fe(h,i,"internal-error");const{sub:f}=h;return Fe(r.uid===f,i,"user-mismatch"),ua._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&si(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(r,e,t=!1){if(Dr(r.app))return Promise.reject(to(r));const i="signIn",o=await U_(r,i,e),l=await ua._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(l.user),l}function Z1(r,e,t,i){return Vn(r).onIdTokenChanged(e,t,i)}function eR(r,e,t){return Vn(r).beforeAuthStateChanged(e,t)}function tR(r,e,t,i){return Vn(r).onAuthStateChanged(e,t,i)}function j_(r){return Vn(r).signOut()}const Ic="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ic,"1"),this.storage.removeItem(Ic),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=1e3,rR=10;class B_ extends z_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=L_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,m)=>{this.notifyListeners(h,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);V1()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,rR):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},nR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}B_.type="LOCAL";const iR=B_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_ extends z_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$_.type="SESSION";const H_=$_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new $c(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(h).map(async y=>y(t.origin,l)),m=await sR(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$c.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,m)=>{const y=Bf("",20);o.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(E){const R=E;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(R.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function aR(r){ei().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function lR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uR(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function cR(){return W_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="firebaseLocalStorageDb",hR=1,Sc="firebaseLocalStorage",G_="fbase_key";class Ll{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hc(r,e){return r.transaction([Sc],e?"readwrite":"readonly").objectStore(Sc)}function dR(){const r=indexedDB.deleteDatabase(q_);return new Ll(r).toPromise()}function of(){const r=indexedDB.open(q_,hR);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Sc,{keyPath:G_})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Sc)?e(i):(i.close(),await dR(),e(await of()))})})}async function Cy(r,e,t){const i=Hc(r,!0).put({[G_]:e,value:t});return new Ll(i).toPromise()}async function fR(r,e){const t=Hc(r,!1).get(e),i=await new Ll(t).toPromise();return i===void 0?null:i.value}function Py(r,e){const t=Hc(r,!0).delete(e);return new Ll(t).toPromise()}const pR=800,mR=3;class K_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await of(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>mR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return W_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$c._getInstance(cR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await lR(),!this.activeServiceWorker)return;this.sender=new oR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await of();return await Cy(e,Ic,"1"),await Py(e,Ic),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Cy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>fR(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Py(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Hc(o,!1).getAll();return new Ll(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K_.type="LOCAL";const gR=K_;new Ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(r,e){return e?Si(e):(Fe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends F_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ia(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yR(r){return J1(r.auth,new $f(r),r.bypassAuthState)}function vR(r){const{auth:e,user:t}=r;return Fe(t,e,"internal-error"),X1(t,new $f(r),r.bypassAuthState)}async function _R(r){const{auth:e,user:t}=r;return Fe(t,e,"internal-error"),Y1(t,new $f(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yR;case"linkViaPopup":case"linkViaRedirect":return _R;case"reauthViaPopup":case"reauthViaRedirect":return vR;default:si(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=new Ml(2e3,1e4);async function ER(r,e,t){if(Dr(r.app))return Promise.reject(Lr(r,"operation-not-supported-in-this-environment"));const i=Bc(r);g1(r,e,zf);const o=Q_(i,t);return new Zs(i,"signInViaPopup",e,o).executeNotNull()}class Zs extends Y_{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Zs.currentPopupAction&&Zs.currentPopupAction.cancel(),Zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=Bf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wR.get())};e()}}Zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="pendingRedirect",oc=new Map;class IR extends Y_{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=oc.get(this.auth._key());if(!e){try{const i=await SR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}oc.set(this.auth._key(),e)}return this.bypassAuthState||oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SR(r,e){const t=CR(e),i=AR(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function RR(r,e){oc.set(r._key(),e)}function AR(r){return Si(r._redirectPersistence)}function CR(r){return sc(TR,r.config.apiKey,r.name)}async function PR(r,e,t=!1){if(Dr(r.app))return Promise.reject(to(r));const i=Bc(r),o=Q_(i,e),h=await new IR(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=600*1e3;class xR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!X_(e)){const o=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(Lr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kR&&this.cachedEventUids.clear(),this.cachedEventUids.has(ky(e))}saveEventToCache(e){this.cachedEventUids.add(ky(e)),this.lastProcessedEventTime=Date.now()}}function ky(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function X_({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X_(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(r,e={}){return wa(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VR=/^https?/;async function LR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await DR(r);for(const t of e)try{if(OR(t))return}catch{}si(r,"unauthorized-domain")}function OR(r){const e=rf(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!VR.test(t))return!1;if(MR.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new Ml(3e4,6e4);function xy(){const r=ei().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function FR(r){return new Promise((e,t)=>{var o,l,h;function i(){xy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xy(),t(Lr(r,"network-request-failed"))},timeout:bR.get()})}if((l=(o=ei().gapi)==null?void 0:o.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((h=ei().gapi)!=null&&h.load)i();else{const f=$1("iframefcb");return ei()[f]=()=>{gapi.load?i():t(Lr(r,"network-request-failed"))},z1(`${B1()}?onload=${f}`).catch(m=>t(m))}}).catch(e=>{throw ac=null,e})}let ac=null;function UR(r){return ac=ac||FR(r),ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new Ml(5e3,15e3),zR="__/auth/iframe",BR="emulator/auth/iframe",$R={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WR(r){const e=r.config;Fe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Of(e,BR):`https://${r.config.authDomain}/${zR}`,i={apiKey:e.apiKey,appName:r.name,v:_a},o=HR.get(r.config.apiHost);o&&(i.eid=o);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Dl(i).slice(1)}`}async function qR(r){const e=await UR(r),t=ei().gapi;return Fe(t,r,"internal-error"),e.open({where:document.body,url:WR(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$R,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=Lr(r,"network-request-failed"),f=ei().setTimeout(()=>{l(h)},jR.get());function m(){ei().clearTimeout(f),o(i)}i.ping(m).then(m,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KR=500,QR=600,YR="_blank",XR="http://localhost";class Ny{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JR(r,e,t,i=KR,o=QR){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m={...GR,width:i.toString(),height:o.toString(),top:l,left:h},y=xn().toLowerCase();t&&(f=x_(y)?YR:t),P_(y)&&(e=e||XR,m.scrollbars="yes");const _=Object.entries(m).reduce((R,[V,$])=>`${R}${V}=${$},`,"");if(M1(y)&&f!=="_self")return ZR(e||"",f),new Ny(null);const E=window.open(e||"",f,_);Fe(E,r,"popup-blocked");try{E.focus()}catch{}return new Ny(E)}function ZR(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="__/auth/handler",tA="emulator/auth/handler",nA=encodeURIComponent("fac");async function Dy(r,e,t,i,o,l){Fe(r.config.authDomain,r,"auth-domain-config-required"),Fe(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:_a,eventId:o};if(e instanceof zf){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",eS(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))h[_]=E}if(e instanceof Vl){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const m=await r._getAppCheckToken(),y=m?`#${nA}=${encodeURIComponent(m)}`:"";return`${rA(r)}?${Dl(f).slice(1)}${y}`}function rA({config:r}){return r.emulator?Of(r,tA):`https://${r.authDomain}/${eA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="webStorageSupport";class iA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H_,this._completeRedirectFn=PR,this._overrideRedirectResult=RR}async _openPopup(e,t,i,o){var h;Pi((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const l=await Dy(e,t,i,rf(),o);return JR(e,l,Bf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await Dy(e,t,i,rf(),o);return aR(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Pi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await qR(e),i=new xR(e);return t.register("authEvent",o=>(Fe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bd,{type:Bd},o=>{var h;const l=(h=o==null?void 0:o[0])==null?void 0:h[Bd];l!==void 0&&t(!!l),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=LR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return L_()||k_()||Uf()}}const sA=iA;var My="@firebase/auth",Vy="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lA(r){la(new oo("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=i.options;Fe(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O_(r)},y=new U1(i,o,l,m);return W1(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),la(new oo("auth-internal",e=>{const t=Bc(e.getProvider("auth").getImmediate());return(i=>new oA(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ms(My,Vy,aA(r)),ms(My,Vy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=300,cA=d_("authIdTokenMaxAge")||uA;let Ly=null;const hA=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>cA)return;const o=t==null?void 0:t.token;Ly!==o&&(Ly=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function dA(r=v_()){const e=Mf(r,"auth");if(e.isInitialized())return e.getImmediate();const t=H1(r,{popupRedirectResolver:sA,persistence:[gR,iR,H_]}),i=d_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=hA(l.toString());eR(t,h,()=>h(t.currentUser)),Z1(t,f=>h(f))}}const o=c_("auth");return o&&q1(t,`http://${o}`),t}function fA(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}j1({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const l=Lr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",fA().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lA("Browser");var Oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gs,J_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,A){function P(){}P.prototype=A.prototype,S.D=A.prototype,S.prototype=new P,S.prototype.constructor=S,S.C=function(x,L,b){for(var k=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)k[Ge-2]=arguments[Ge];return A.prototype[L].apply(x,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(S,A,P){P||(P=0);var x=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)x[L]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(L=0;16>L;++L)x[L]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=S.g[0],P=S.g[1],L=S.g[2];var b=S.g[3],k=A+(b^P&(L^b))+x[0]+3614090360&4294967295;A=P+(k<<7&4294967295|k>>>25),k=b+(L^A&(P^L))+x[1]+3905402710&4294967295,b=A+(k<<12&4294967295|k>>>20),k=L+(P^b&(A^P))+x[2]+606105819&4294967295,L=b+(k<<17&4294967295|k>>>15),k=P+(A^L&(b^A))+x[3]+3250441966&4294967295,P=L+(k<<22&4294967295|k>>>10),k=A+(b^P&(L^b))+x[4]+4118548399&4294967295,A=P+(k<<7&4294967295|k>>>25),k=b+(L^A&(P^L))+x[5]+1200080426&4294967295,b=A+(k<<12&4294967295|k>>>20),k=L+(P^b&(A^P))+x[6]+2821735955&4294967295,L=b+(k<<17&4294967295|k>>>15),k=P+(A^L&(b^A))+x[7]+4249261313&4294967295,P=L+(k<<22&4294967295|k>>>10),k=A+(b^P&(L^b))+x[8]+1770035416&4294967295,A=P+(k<<7&4294967295|k>>>25),k=b+(L^A&(P^L))+x[9]+2336552879&4294967295,b=A+(k<<12&4294967295|k>>>20),k=L+(P^b&(A^P))+x[10]+4294925233&4294967295,L=b+(k<<17&4294967295|k>>>15),k=P+(A^L&(b^A))+x[11]+2304563134&4294967295,P=L+(k<<22&4294967295|k>>>10),k=A+(b^P&(L^b))+x[12]+1804603682&4294967295,A=P+(k<<7&4294967295|k>>>25),k=b+(L^A&(P^L))+x[13]+4254626195&4294967295,b=A+(k<<12&4294967295|k>>>20),k=L+(P^b&(A^P))+x[14]+2792965006&4294967295,L=b+(k<<17&4294967295|k>>>15),k=P+(A^L&(b^A))+x[15]+1236535329&4294967295,P=L+(k<<22&4294967295|k>>>10),k=A+(L^b&(P^L))+x[1]+4129170786&4294967295,A=P+(k<<5&4294967295|k>>>27),k=b+(P^L&(A^P))+x[6]+3225465664&4294967295,b=A+(k<<9&4294967295|k>>>23),k=L+(A^P&(b^A))+x[11]+643717713&4294967295,L=b+(k<<14&4294967295|k>>>18),k=P+(b^A&(L^b))+x[0]+3921069994&4294967295,P=L+(k<<20&4294967295|k>>>12),k=A+(L^b&(P^L))+x[5]+3593408605&4294967295,A=P+(k<<5&4294967295|k>>>27),k=b+(P^L&(A^P))+x[10]+38016083&4294967295,b=A+(k<<9&4294967295|k>>>23),k=L+(A^P&(b^A))+x[15]+3634488961&4294967295,L=b+(k<<14&4294967295|k>>>18),k=P+(b^A&(L^b))+x[4]+3889429448&4294967295,P=L+(k<<20&4294967295|k>>>12),k=A+(L^b&(P^L))+x[9]+568446438&4294967295,A=P+(k<<5&4294967295|k>>>27),k=b+(P^L&(A^P))+x[14]+3275163606&4294967295,b=A+(k<<9&4294967295|k>>>23),k=L+(A^P&(b^A))+x[3]+4107603335&4294967295,L=b+(k<<14&4294967295|k>>>18),k=P+(b^A&(L^b))+x[8]+1163531501&4294967295,P=L+(k<<20&4294967295|k>>>12),k=A+(L^b&(P^L))+x[13]+2850285829&4294967295,A=P+(k<<5&4294967295|k>>>27),k=b+(P^L&(A^P))+x[2]+4243563512&4294967295,b=A+(k<<9&4294967295|k>>>23),k=L+(A^P&(b^A))+x[7]+1735328473&4294967295,L=b+(k<<14&4294967295|k>>>18),k=P+(b^A&(L^b))+x[12]+2368359562&4294967295,P=L+(k<<20&4294967295|k>>>12),k=A+(P^L^b)+x[5]+4294588738&4294967295,A=P+(k<<4&4294967295|k>>>28),k=b+(A^P^L)+x[8]+2272392833&4294967295,b=A+(k<<11&4294967295|k>>>21),k=L+(b^A^P)+x[11]+1839030562&4294967295,L=b+(k<<16&4294967295|k>>>16),k=P+(L^b^A)+x[14]+4259657740&4294967295,P=L+(k<<23&4294967295|k>>>9),k=A+(P^L^b)+x[1]+2763975236&4294967295,A=P+(k<<4&4294967295|k>>>28),k=b+(A^P^L)+x[4]+1272893353&4294967295,b=A+(k<<11&4294967295|k>>>21),k=L+(b^A^P)+x[7]+4139469664&4294967295,L=b+(k<<16&4294967295|k>>>16),k=P+(L^b^A)+x[10]+3200236656&4294967295,P=L+(k<<23&4294967295|k>>>9),k=A+(P^L^b)+x[13]+681279174&4294967295,A=P+(k<<4&4294967295|k>>>28),k=b+(A^P^L)+x[0]+3936430074&4294967295,b=A+(k<<11&4294967295|k>>>21),k=L+(b^A^P)+x[3]+3572445317&4294967295,L=b+(k<<16&4294967295|k>>>16),k=P+(L^b^A)+x[6]+76029189&4294967295,P=L+(k<<23&4294967295|k>>>9),k=A+(P^L^b)+x[9]+3654602809&4294967295,A=P+(k<<4&4294967295|k>>>28),k=b+(A^P^L)+x[12]+3873151461&4294967295,b=A+(k<<11&4294967295|k>>>21),k=L+(b^A^P)+x[15]+530742520&4294967295,L=b+(k<<16&4294967295|k>>>16),k=P+(L^b^A)+x[2]+3299628645&4294967295,P=L+(k<<23&4294967295|k>>>9),k=A+(L^(P|~b))+x[0]+4096336452&4294967295,A=P+(k<<6&4294967295|k>>>26),k=b+(P^(A|~L))+x[7]+1126891415&4294967295,b=A+(k<<10&4294967295|k>>>22),k=L+(A^(b|~P))+x[14]+2878612391&4294967295,L=b+(k<<15&4294967295|k>>>17),k=P+(b^(L|~A))+x[5]+4237533241&4294967295,P=L+(k<<21&4294967295|k>>>11),k=A+(L^(P|~b))+x[12]+1700485571&4294967295,A=P+(k<<6&4294967295|k>>>26),k=b+(P^(A|~L))+x[3]+2399980690&4294967295,b=A+(k<<10&4294967295|k>>>22),k=L+(A^(b|~P))+x[10]+4293915773&4294967295,L=b+(k<<15&4294967295|k>>>17),k=P+(b^(L|~A))+x[1]+2240044497&4294967295,P=L+(k<<21&4294967295|k>>>11),k=A+(L^(P|~b))+x[8]+1873313359&4294967295,A=P+(k<<6&4294967295|k>>>26),k=b+(P^(A|~L))+x[15]+4264355552&4294967295,b=A+(k<<10&4294967295|k>>>22),k=L+(A^(b|~P))+x[6]+2734768916&4294967295,L=b+(k<<15&4294967295|k>>>17),k=P+(b^(L|~A))+x[13]+1309151649&4294967295,P=L+(k<<21&4294967295|k>>>11),k=A+(L^(P|~b))+x[4]+4149444226&4294967295,A=P+(k<<6&4294967295|k>>>26),k=b+(P^(A|~L))+x[11]+3174756917&4294967295,b=A+(k<<10&4294967295|k>>>22),k=L+(A^(b|~P))+x[2]+718787259&4294967295,L=b+(k<<15&4294967295|k>>>17),k=P+(b^(L|~A))+x[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(L+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+L&4294967295,S.g[3]=S.g[3]+b&4294967295}i.prototype.u=function(S,A){A===void 0&&(A=S.length);for(var P=A-this.blockSize,x=this.B,L=this.h,b=0;b<A;){if(L==0)for(;b<=P;)o(this,S,b),b+=this.blockSize;if(typeof S=="string"){for(;b<A;)if(x[L++]=S.charCodeAt(b++),L==this.blockSize){o(this,x),L=0;break}}else for(;b<A;)if(x[L++]=S[b++],L==this.blockSize){o(this,x),L=0;break}}this.h=L,this.o+=A},i.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;var P=8*this.o;for(A=S.length-8;A<S.length;++A)S[A]=P&255,P/=256;for(this.u(S),S=Array(16),A=P=0;4>A;++A)for(var x=0;32>x;x+=8)S[P++]=this.g[A]>>>x&255;return S};function l(S,A){var P=f;return Object.prototype.hasOwnProperty.call(P,S)?P[S]:P[S]=A(S)}function h(S,A){this.h=A;for(var P=[],x=!0,L=S.length-1;0<=L;L--){var b=S[L]|0;x&&b==A||(P[L]=b,x=!1)}this.g=P}var f={};function m(S){return-128<=S&&128>S?l(S,function(A){return new h([A|0],0>A?-1:0)}):new h([S|0],0>S?-1:0)}function y(S){if(isNaN(S)||!isFinite(S))return E;if(0>S)return U(y(-S));for(var A=[],P=1,x=0;S>=P;x++)A[x]=S/P|0,P*=4294967296;return new h(A,0)}function _(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return U(_(S.substring(1),A));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=y(Math.pow(A,8)),x=E,L=0;L<S.length;L+=8){var b=Math.min(8,S.length-L),k=parseInt(S.substring(L,L+b),A);8>b?(b=y(Math.pow(A,b)),x=x.j(b).add(y(k))):(x=x.j(P),x=x.add(y(k)))}return x}var E=m(0),R=m(1),V=m(16777216);r=h.prototype,r.m=function(){if(H(this))return-U(this).m();for(var S=0,A=1,P=0;P<this.g.length;P++){var x=this.i(P);S+=(0<=x?x:4294967296+x)*A,A*=4294967296}return S},r.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if($(this))return"0";if(H(this))return"-"+U(this).toString(S);for(var A=y(Math.pow(S,6)),P=this,x="";;){var L=Ce(P,A).g;P=ce(P,L.j(A));var b=((0<P.g.length?P.g[0]:P.h)>>>0).toString(S);if(P=L,$(P))return b+x;for(;6>b.length;)b="0"+b;x=b+x}},r.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function $(S){if(S.h!=0)return!1;for(var A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function H(S){return S.h==-1}r.l=function(S){return S=ce(this,S),H(S)?-1:$(S)?0:1};function U(S){for(var A=S.g.length,P=[],x=0;x<A;x++)P[x]=~S.g[x];return new h(P,~S.h).add(R)}r.abs=function(){return H(this)?U(this):this},r.add=function(S){for(var A=Math.max(this.g.length,S.g.length),P=[],x=0,L=0;L<=A;L++){var b=x+(this.i(L)&65535)+(S.i(L)&65535),k=(b>>>16)+(this.i(L)>>>16)+(S.i(L)>>>16);x=k>>>16,b&=65535,k&=65535,P[L]=k<<16|b}return new h(P,P[P.length-1]&-2147483648?-1:0)};function ce(S,A){return S.add(U(A))}r.j=function(S){if($(this)||$(S))return E;if(H(this))return H(S)?U(this).j(U(S)):U(U(this).j(S));if(H(S))return U(this.j(U(S)));if(0>this.l(V)&&0>S.l(V))return y(this.m()*S.m());for(var A=this.g.length+S.g.length,P=[],x=0;x<2*A;x++)P[x]=0;for(x=0;x<this.g.length;x++)for(var L=0;L<S.g.length;L++){var b=this.i(x)>>>16,k=this.i(x)&65535,Ge=S.i(L)>>>16,dt=S.i(L)&65535;P[2*x+2*L]+=k*dt,re(P,2*x+2*L),P[2*x+2*L+1]+=b*dt,re(P,2*x+2*L+1),P[2*x+2*L+1]+=k*Ge,re(P,2*x+2*L+1),P[2*x+2*L+2]+=b*Ge,re(P,2*x+2*L+2)}for(x=0;x<A;x++)P[x]=P[2*x+1]<<16|P[2*x];for(x=A;x<2*A;x++)P[x]=0;return new h(P,0)};function re(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function pe(S,A){this.g=S,this.h=A}function Ce(S,A){if($(A))throw Error("division by zero");if($(S))return new pe(E,E);if(H(S))return A=Ce(U(S),A),new pe(U(A.g),U(A.h));if(H(A))return A=Ce(S,U(A)),new pe(U(A.g),A.h);if(30<S.g.length){if(H(S)||H(A))throw Error("slowDivide_ only works with positive integers.");for(var P=R,x=A;0>=x.l(S);)P=je(P),x=je(x);var L=We(P,1),b=We(x,1);for(x=We(x,2),P=We(P,2);!$(x);){var k=b.add(x);0>=k.l(S)&&(L=L.add(P),b=k),x=We(x,1),P=We(P,1)}return A=ce(S,L.j(A)),new pe(L,A)}for(L=E;0<=S.l(A);){for(P=Math.max(1,Math.floor(S.m()/A.m())),x=Math.ceil(Math.log(P)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),b=y(P),k=b.j(A);H(k)||0<k.l(S);)P-=x,b=y(P),k=b.j(A);$(b)&&(b=R),L=L.add(b),S=ce(S,k)}return new pe(L,S)}r.A=function(S){return Ce(this,S).h},r.and=function(S){for(var A=Math.max(this.g.length,S.g.length),P=[],x=0;x<A;x++)P[x]=this.i(x)&S.i(x);return new h(P,this.h&S.h)},r.or=function(S){for(var A=Math.max(this.g.length,S.g.length),P=[],x=0;x<A;x++)P[x]=this.i(x)|S.i(x);return new h(P,this.h|S.h)},r.xor=function(S){for(var A=Math.max(this.g.length,S.g.length),P=[],x=0;x<A;x++)P[x]=this.i(x)^S.i(x);return new h(P,this.h^S.h)};function je(S){for(var A=S.g.length+1,P=[],x=0;x<A;x++)P[x]=S.i(x)<<1|S.i(x-1)>>>31;return new h(P,S.h)}function We(S,A){var P=A>>5;A%=32;for(var x=S.g.length-P,L=[],b=0;b<x;b++)L[b]=0<A?S.i(b+P)>>>A|S.i(b+P+1)<<32-A:S.i(b+P);return new h(L,S.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,J_=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,gs=h}).apply(typeof Oy<"u"?Oy:typeof self<"u"?self:typeof window<"u"?window:{});var Ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z_,al,ew,lc,af,tw,nw,rw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,v){return u==Array.prototype||u==Object.prototype||(u[p]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ju=="object"&&Ju];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,p){if(p)e:{var v=i;u=u.split(".");for(var I=0;I<u.length-1;I++){var z=u[I];if(!(z in v))break e;v=v[z]}u=u[u.length-1],I=v[u],p=p(I),p!=I&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var v=0,I=!1,z={next:function(){if(!I&&v<u.length){var Q=v++;return{value:p(Q,u[Q]),done:!1}}return I=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return l(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function m(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function y(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function _(u,p,v){return u.call.apply(u.bind,arguments)}function E(u,p,v){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,I),u.apply(p,z)}}return function(){return u.apply(p,arguments)}}function R(u,p,v){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,R.apply(null,arguments)}function V(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function $(u,p){function v(){}v.prototype=p.prototype,u.aa=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(I,z,Q){for(var he=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)he[gt-2]=arguments[gt];return p.prototype[z].apply(I,he)}}function H(u){const p=u.length;if(0<p){const v=Array(p);for(let I=0;I<p;I++)v[I]=u[I];return v}return[]}function U(u,p){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(m(I)){const z=u.length||0,Q=I.length||0;u.length=z+Q;for(let he=0;he<Q;he++)u[z+he]=I[he]}else u.push(I)}}class ce{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function re(u){return/^[\s\xa0]*$/.test(u)}function pe(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function Ce(u){return Ce[" "](u),u}Ce[" "]=function(){};var je=pe().indexOf("Gecko")!=-1&&!(pe().toLowerCase().indexOf("webkit")!=-1&&pe().indexOf("Edge")==-1)&&!(pe().indexOf("Trident")!=-1||pe().indexOf("MSIE")!=-1)&&pe().indexOf("Edge")==-1;function We(u,p,v){for(const I in u)p.call(v,u[I],I,u)}function S(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function A(u){const p={};for(const v in u)p[v]=u[v];return p}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,p){let v,I;for(let z=1;z<arguments.length;z++){I=arguments[z];for(v in I)u[v]=I[v];for(let Q=0;Q<P.length;Q++)v=P[Q],Object.prototype.hasOwnProperty.call(I,v)&&(u[v]=I[v])}}function L(u){var p=1;u=u.split(":");const v=[];for(;0<p&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function b(u){f.setTimeout(()=>{throw u},0)}function k(){var u=Pe;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Ge{constructor(){this.h=this.g=null}add(p,v){const I=dt.get();I.set(p,v),this.h?this.h.next=I:this.g=I,this.h=I}}var dt=new ce(()=>new Ct,u=>u.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ie=!1,Pe=new Ge,D=()=>{const u=f.Promise.resolve(void 0);it=()=>{u.then(T)}};var T=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(v){b(v)}var p=dt;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}ie=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ue=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return u})();function oe(u,p){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(je){e:{try{Ce(p.nodeName);var z=!0;break e}catch{}z=!1}z||(p=null)}}else v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement);this.relatedTarget=p,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:fe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&oe.aa.h.call(this)}}$(oe,J);var fe={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),me=0;function xe(u,p,v,I,z){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!I,this.ha=z,this.key=++me,this.da=this.fa=!1}function qe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,p,v,I,z){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var he=lt(u,p,I,z);return-1<he?(p=u[he],v||(p.fa=!1)):(p=new xe(p,this.src,Q,!!I,z),p.fa=v,u.push(p)),p};function ze(u,p){var v=p.type;if(v in u.g){var I=u.g[v],z=Array.prototype.indexOf.call(I,p,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(I,z,1),Q&&(qe(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function lt(u,p,v,I){for(var z=0;z<u.length;++z){var Q=u[z];if(!Q.da&&Q.listener==p&&Q.capture==!!v&&Q.ha==I)return z}return-1}var $e="closure_lm_"+(1e6*Math.random()|0),Nt={};function Tt(u,p,v,I,z){if(Array.isArray(p)){for(var Q=0;Q<p.length;Q++)Tt(u,p[Q],v,I,z);return null}return v=Qn(v),u&&u[le]?u.K(p,v,y(I)?!!I.capture:!1,z):Qt(u,p,v,!1,I,z)}function Qt(u,p,v,I,z,Q){if(!p)throw Error("Invalid event type");var he=y(z)?!!z.capture:!!z,gt=br(u);if(gt||(u[$e]=gt=new Ye(u)),v=gt.add(p,v,I,he,Q),v.proxy)return v;if(I=vn(),v.proxy=I,I.src=u,I.listener=v,u.addEventListener)ue||(z=he),z===void 0&&(z=!1),u.addEventListener(p.toString(),I,z);else if(u.attachEvent)u.attachEvent(Kn(p.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function vn(){function u(v){return p.call(u.src,u.listener,v)}const p=ai;return u}function ln(u,p,v,I,z){if(Array.isArray(p))for(var Q=0;Q<p.length;Q++)ln(u,p[Q],v,I,z);else I=y(I)?!!I.capture:!!I,v=Qn(v),u&&u[le]?(u=u.i,p=String(p).toString(),p in u.g&&(Q=u.g[p],v=lt(Q,v,I,z),-1<v&&(qe(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete u.g[p],u.h--)))):u&&(u=br(u))&&(p=u.g[p.toString()],u=-1,p&&(u=lt(p,v,I,z)),(v=-1<u?p[u]:null)&&Ot(v))}function Ot(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[le])ze(p.i,u);else{var v=u.type,I=u.proxy;p.removeEventListener?p.removeEventListener(v,I,u.capture):p.detachEvent?p.detachEvent(Kn(v),I):p.addListener&&p.removeListener&&p.removeListener(I),(v=br(p))?(ze(v,u),v.h==0&&(v.src=null,p[$e]=null)):qe(u)}}}function Kn(u){return u in Nt?Nt[u]:Nt[u]="on"+u}function ai(u,p){if(u.da)u=!0;else{p=new oe(p,this);var v=u.listener,I=u.ha||u.src;u.fa&&Ot(u),u=v.call(I,p)}return u}function br(u){return u=u[$e],u instanceof Ye?u:null}var un="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qn(u){return typeof u=="function"?u:(u[un]||(u[un]=function(p){return u.handleEvent(p)}),u[un])}function It(){j.call(this),this.i=new Ye(this),this.M=this,this.F=null}$(It,j),It.prototype[le]=!0,It.prototype.removeEventListener=function(u,p,v,I){ln(this,u,p,v,I)};function St(u,p){var v,I=u.F;if(I)for(v=[];I;I=I.F)v.push(I);if(u=u.M,I=p.type||p,typeof p=="string")p=new J(p,u);else if(p instanceof J)p.target=p.target||u;else{var z=p;p=new J(I,u),x(p,z)}if(z=!0,v)for(var Q=v.length-1;0<=Q;Q--){var he=p.g=v[Q];z=zt(he,I,!0,p)&&z}if(he=p.g=u,z=zt(he,I,!0,p)&&z,z=zt(he,I,!1,p)&&z,v)for(Q=0;Q<v.length;Q++)he=p.g=v[Q],z=zt(he,I,!1,p)&&z}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var v=u.g[p],I=0;I<v.length;I++)qe(v[I]);delete u.g[p],u.h--}}this.F=null},It.prototype.K=function(u,p,v,I){return this.i.add(String(u),p,!1,v,I)},It.prototype.L=function(u,p,v,I){return this.i.add(String(u),p,!0,v,I)};function zt(u,p,v,I){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var z=!0,Q=0;Q<p.length;++Q){var he=p[Q];if(he&&!he.da&&he.capture==v){var gt=he.listener,Yt=he.ha||he.src;he.fa&&ze(u.i,he),z=gt.call(Yt,I)!==!1&&z}}return z&&!I.defaultPrevented}function tn(u,p,v){if(typeof u=="function")v&&(u=R(u,v));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(u,p||0)}function Ln(u){u.g=tn(()=>{u.g=null,u.i&&(u.i=!1,Ln(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class _n extends j{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ln(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vr(u){j.call(this),this.h=u,this.g={}}$(vr,j);var wn=[];function Di(u){We(u.g,function(p,v){this.g.hasOwnProperty(v)&&Ot(p)},u),u.g={}}vr.prototype.N=function(){vr.aa.N.call(this),Di(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mi=f.JSON.stringify,Vi=f.JSON.parse,Cs=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Fr(){}Fr.prototype.h=null;function _r(u){return u.h||(u.h=u.i())}function li(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function On(){J.call(this,"d")}$(On,J);function Li(){J.call(this,"c")}$(Li,J);var Yn={},Ps=null;function Ur(){return Ps=Ps||new It}Yn.La="serverreachability";function jr(u){J.call(this,Yn.La,u)}$(jr,J);function bn(u){const p=Ur();St(p,new jr(p))}Yn.STAT_EVENT="statevent";function ks(u,p){J.call(this,Yn.STAT_EVENT,u),this.stat=p}$(ks,J);function Dt(u){const p=Ur();St(p,new ks(p,u))}Yn.Ma="timingevent";function N(u,p){J.call(this,Yn.Ma,u),this.size=p}$(N,J);function F(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function G(){this.g=!0}G.prototype.xa=function(){this.g=!1};function Z(u,p,v,I,z,Q){u.info(function(){if(u.g)if(Q)for(var he="",gt=Q.split("&"),Yt=0;Yt<gt.length;Yt++){var ot=gt[Yt].split("=");if(1<ot.length){var nn=ot[0];ot=ot[1];var $t=nn.split("_");he=2<=$t.length&&$t[1]=="type"?he+(nn+"="+ot+"&"):he+(nn+"=redacted&")}}else he=null;else he=Q;return"XMLHTTP REQ ("+I+") [attempt "+z+"]: "+p+`
`+v+`
`+he})}function de(u,p,v,I,z,Q,he){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+z+"]: "+p+`
`+v+`
`+Q+" "+he})}function Te(u,p,v,I){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ie(u,v)+(I?" "+I:"")})}function De(u,p){u.info(function(){return"TIMEOUT: "+p})}G.prototype.info=function(){};function Ie(u,p){if(!u.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var I=v[u];if(!(2>I.length)){var z=I[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var he=1;he<z.length;he++)z[he]=""}}}}return Mi(v)}catch{return p}}var Ee={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ye={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ve;function Le(){}$(Le,Fr),Le.prototype.g=function(){return new XMLHttpRequest},Le.prototype.i=function(){return{}},ve=new Le;function Ue(u,p,v,I){this.j=u,this.i=p,this.l=v,this.R=I||1,this.U=new vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var ct={},Ke={};function mt(u,p,v){u.L=1,u.v=ji(Zn(p)),u.m=v,u.P=!0,or(u,null)}function or(u,p){u.F=Date.now(),Xe(u),u.A=Zn(u.v);var v=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Bi(v.i,"t",I),u.C=0,v=u.j.J,u.h=new bt,u.g=Zl(u.j,v?p:null,!u.m),0<u.O&&(u.M=new _n(R(u.Y,u,u.g),u.O)),p=u.U,v=u.g,I=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(wn[0]=z.toString()),z=wn);for(var Q=0;Q<z.length;Q++){var he=Tt(v,z[Q],I||p.handleEvent,!1,p.h||p);if(!he)break;p.g[he.key]=he}p=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),bn(),Z(u.i,u.u,u.A,u.l,u.R,u.m)}Ue.prototype.ca=function(u){u=u.target;const p=this.M;p&&Un(u)==3?p.j():this.Y(u)},Ue.prototype.Y=function(u){try{if(u==this.g)e:{const $t=Un(this.g);var p=this.g.Ba();const ur=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||ka(this.g)))){this.J||$t!=4||p==7||(p==8||0>=ur?bn(3):bn(2)),Jn(this);var v=this.g.Z();this.X=v;t:if(zr(this)){var I=ka(this.g);u="";var z=I.length,Q=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),Tn(this);var he="";break t}this.h.i=new f.TextDecoder}for(p=0;p<z;p++)this.h.h=!0,u+=this.h.i.decode(I[p],{stream:!(Q&&p==z-1)});I.length=0,this.h.g+=u,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=v==200,de(this.i,this.u,this.A,this.l,this.R,$t,v),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,Yt=this.g;if((gt=Yt.g?Yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(gt)){var ot=gt;break t}}ot=null}if(v=ot)Te(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Br(this,v);else{this.o=!1,this.s=3,Dt(12),cn(this),Tn(this);break e}}if(this.P){v=!0;let tr;for(;!this.J&&this.C<he.length;)if(tr=Xn(this,he),tr==Ke){$t==4&&(this.s=4,Dt(14),v=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}else if(tr==ct){this.s=4,Dt(15),Te(this.i,this.l,he,"[Invalid Chunk]"),v=!1;break}else Te(this.i,this.l,tr,null),Br(this,tr);if(zr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||he.length!=0||this.h.h||(this.s=1,Dt(16),v=!1),this.o=this.o&&v,!v)Te(this.i,this.l,he,"[Invalid Chunked Response]"),cn(this),Tn(this);else if(0<he.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Na(nn),nn.M=!0,Dt(11))}}else Te(this.i,this.l,he,null),Br(this,he);$t==4&&cn(this),this.o&&!this.J&&($t==4?Po(this.j,this):(this.o=!1,Xe(this)))}else Io(this.g),v==400&&0<he.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),cn(this),Tn(this)}}}catch{}finally{}};function zr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Xn(u,p){var v=u.C,I=p.indexOf(`
`,v);return I==-1?Ke:(v=Number(p.substring(v,I)),isNaN(v)?ct:(I+=1,I+v>p.length?Ke:(p=p.slice(I,I+v),u.C=I+v,p)))}Ue.prototype.cancel=function(){this.J=!0,cn(this)};function Xe(u){u.S=Date.now()+u.I,Oi(u,u.I)}function Oi(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=F(R(u.ba,u),p)}function Jn(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Ue.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(De(this.i,this.A),this.L!=2&&(bn(),Dt(17)),cn(this),this.s=2,Tn(this)):Oi(this,this.S-u)};function Tn(u){u.j.G==0||u.J||Po(u.j,u)}function cn(u){Jn(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Di(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Br(u,p){try{var v=u.j;if(v.G!=0&&(v.g==u||et(v.h,u))){if(!u.K&&et(v.h,u)&&v.G==3){try{var I=v.Da.g.parse(p)}catch{I=null}if(Array.isArray(I)&&I.length==3){var z=I;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Co(v),Sr(v);else break e;Ao(v),Dt(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=F(R(v.Za,v),6e3));if(1>=$r(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else fi(v,11)}else if((u.K||v.g==u)&&Co(v),!re(p))for(z=v.Da.g.parse(p),p=0;p<z.length;p++){let ot=z[p];if(v.T=ot[0],ot=ot[1],v.G==2)if(ot[0]=="c"){v.K=ot[1],v.ia=ot[2];const nn=ot[3];nn!=null&&(v.la=nn,v.j.info("VER="+v.la));const $t=ot[4];$t!=null&&(v.Aa=$t,v.j.info("SVER="+v.Aa));const ur=ot[5];ur!=null&&typeof ur=="number"&&0<ur&&(I=1.5*ur,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const tr=u.g;if(tr){const Os=tr.g?tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var Q=I.h;Q.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ar(Q,Q.h),Q.h=null))}if(I.D){const xo=tr.g?tr.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(I.ya=xo,vt(I.I,I.D,xo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var he=u;if(I.qa=Jl(I,I.J?I.ia:null,I.W),he.K){xs(I.h,he);var gt=he,Yt=I.L;Yt&&(gt.I=Yt),gt.B&&(Jn(gt),Xe(gt)),I.g=he}else Ls(I);0<v.i.length&&Gr(v)}else ot[0]!="stop"&&ot[0]!="close"||fi(v,7);else v.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?fi(v,7):dn(v):ot[0]!="noop"&&v.l&&v.l.ta(ot),v.v=0)}}bn(4)}catch{}}var Je=class{constructor(u,p){this.g=u,this.map=p}};function ft(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bt(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function $r(u){return u.h?1:u.g?u.g.size:0}function et(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function ar(u,p){u.g?u.g.add(p):u.h=p}function xs(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}ft.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.D);return p}return H(u.i)}function vo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(m(u)){for(var p=[],v=u.length,I=0;I<v;I++)p.push(u[I]);return p}p=[],v=0;for(I in u)p[v++]=u[I];return p}function _o(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(m(u)||typeof u=="string"){var p=[];u=u.length;for(var v=0;v<u;v++)p.push(v);return p}p=[],v=0;for(const I in u)p[v++]=I;return p}}}function bi(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(m(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var v=_o(u),I=vo(u),z=I.length,Q=0;Q<z;Q++)p.call(void 0,I[Q],v&&v[Q],u)}var Ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ih(u,p){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var I=u[v].indexOf("="),z=null;if(0<=I){var Q=u[v].substring(0,I);z=u[v].substring(I+1)}else Q=u[v];p(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ui(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ui){this.h=u.h,Ds(this,u.j),this.o=u.o,this.g=u.g,Fi(this,u.s),this.l=u.l;var p=u.i,v=new Hr;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Ui(this,v),this.m=u.m}else u&&(p=String(u).match(Ns))?(this.h=!1,Ds(this,p[1]||"",!0),this.o=st(p[2]||""),this.g=st(p[3]||"",!0),Fi(this,p[4]),this.l=st(p[5]||"",!0),Ui(this,p[6]||"",!0),this.m=st(p[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}ui.prototype.toString=function(){var u=[],p=this.j;p&&u.push(zi(p,wo,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(zi(p,wo,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(zi(v,v.charAt(0)=="/"?Hl:$l,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",zi(v,Aa)),u.join("")};function Zn(u){return new ui(u)}function Ds(u,p,v){u.j=v?st(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Fi(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Ui(u,p,v){p instanceof Hr?(u.i=p,Wr(u.i,u.h)):(v||(p=zi(p,Wl)),u.i=new Hr(p,u.h))}function vt(u,p,v){u.i.set(p,v)}function ji(u){return vt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function st(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function zi(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,Bl),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Bl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var wo=/[#\/\?@]/g,$l=/[#\?:]/g,Hl=/[#\?]/g,Wl=/[#\?@]/g,Aa=/#/g;function Hr(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function hn(u){u.g||(u.g=new Map,u.h=0,u.i&&ih(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=Hr.prototype,r.add=function(u,p){hn(this),this.i=null,u=lr(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function wr(u,p){hn(u),p=lr(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Er(u,p){return hn(u),p=lr(u,p),u.g.has(p)}r.forEach=function(u,p){hn(this),this.g.forEach(function(v,I){v.forEach(function(z){u.call(p,z,I,this)},this)},this)},r.na=function(){hn(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let I=0;I<p.length;I++){const z=u[I];for(let Q=0;Q<z.length;Q++)v.push(p[I])}return v},r.V=function(u){hn(this);let p=[];if(typeof u=="string")Er(this,u)&&(p=p.concat(this.g.get(lr(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)p=p.concat(u[v])}return p},r.set=function(u,p){return hn(this),this.i=null,u=lr(this,u),Er(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Bi(u,p,v){wr(u,p),0<v.length&&(u.i=null,u.g.set(lr(u,p),H(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var I=p[v];const Q=encodeURIComponent(String(I)),he=this.V(I);for(I=0;I<he.length;I++){var z=Q;he[I]!==""&&(z+="="+encodeURIComponent(String(he[I]))),u.push(z)}}return this.i=u.join("&")};function lr(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Wr(u,p){p&&!u.j&&(hn(u),u.i=null,u.g.forEach(function(v,I){var z=I.toLowerCase();I!=z&&(wr(this,I),Bi(this,z,v))},u)),u.j=p}function sh(u,p){const v=new G;if(f.Image){const I=new Image;I.onload=V(Fn,v,"TestLoadImage: loaded",!0,p,I),I.onerror=V(Fn,v,"TestLoadImage: error",!1,p,I),I.onabort=V(Fn,v,"TestLoadImage: abort",!1,p,I),I.ontimeout=V(Fn,v,"TestLoadImage: timeout",!1,p,I),f.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else p(!1)}function ql(u,p){const v=new G,I=new AbortController,z=setTimeout(()=>{I.abort(),Fn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:I.signal}).then(Q=>{clearTimeout(z),Q.ok?Fn(v,"TestPingServer: ok",!0,p):Fn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),Fn(v,"TestPingServer: error",!1,p)})}function Fn(u,p,v,I,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),I(v)}catch{}}function oh(){this.g=new Cs}function Gl(u,p,v){const I=v||"";try{bi(u,function(z,Q){let he=z;y(z)&&(he=Mi(z)),p.push(I+Q+"="+encodeURIComponent(he))})}catch(z){throw p.push(I+"type="+encodeURIComponent("_badmap")),z}}function ci(u){this.l=u.Ub||null,this.j=u.eb||!1}$(ci,Fr),ci.prototype.g=function(){return new Ms(this.l,this.j)},ci.prototype.i=(function(u){return function(){return u}})({});function Ms(u,p){It.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(Ms,It),r=Ms.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Ir(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Tr(this):Ir(this),this.readyState==3&&Kl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Tr(this))},r.Qa=function(u){this.g&&(this.response=u,Tr(this))},r.ga=function(){this.g&&Tr(this)};function Tr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ir(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function Ir(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function hi(u){let p="";return We(u,function(v,I){p+=I,p+=":",p+=v,p+=`\r
`}),p}function $i(u,p,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=hi(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):vt(u,p,v))}function Pt(u){It.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Pt,It);var ah=/^https?$/i,Ca=["POST","PUT"];r=Pt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ve.g(),this.v=this.o?_r(this.o):_r(ve),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(Q){Vs(this,Q);return}if(u=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var z in I)v.set(z,I[z]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Q of I.keys())v.set(Q,I.get(Q));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ca,p,void 0))||I||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,he]of v)this.g.setRequestHeader(Q,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{To(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){Vs(this,Q)}};function Vs(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Eo(u),er(u)}function Eo(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,St(this,"complete"),St(this,"abort"),er(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),er(this,!0)),Pt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Pa(this):this.bb())},r.bb=function(){Pa(this)};function Pa(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Un(u)!=4||u.Z()!=2)){if(u.u&&Un(u)==4)tn(u.Ea,0,u);else if(St(u,"readystatechange"),Un(u)==4){u.h=!1;try{const he=u.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var I;if(I=he===0){var z=String(u.D).match(Ns)[1]||null;!z&&f.self&&f.self.location&&(z=f.self.location.protocol.slice(0,-1)),I=!ah.test(z?z.toLowerCase():"")}v=I}if(v)St(u,"complete"),St(u,"success");else{u.m=6;try{var Q=2<Un(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",Eo(u)}}finally{er(u)}}}}function er(u,p){if(u.g){To(u);const v=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||St(u,"ready");try{v.onreadystatechange=I}catch{}}}function To(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Un(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Vi(p)}};function ka(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Io(u){const p={};u=(u.g&&2<=Un(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(re(u[I]))continue;var v=L(u[I]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=p[z]||[];p[z]=Q,Q.push(v)}S(p,function(I){return I.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function xa(u){this.Aa=0,this.i=[],this.j=new G,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qr("baseRetryDelayMs",5e3,u),this.cb=qr("retryDelaySeedMs",1e4,u),this.Wa=qr("forwardChannelMaxRetries",2,u),this.wa=qr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ft(u&&u.concurrentRequestLimit),this.Da=new oh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=xa.prototype,r.la=8,r.G=1,r.connect=function(u,p,v,I){Dt(0),this.W=u,this.H=p||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=Jl(this,null,this.W),Gr(this)};function dn(u){if(So(u),u.G==3){var p=u.U++,v=Zn(u.I);if(vt(v,"SID",u.K),vt(v,"RID",p),vt(v,"TYPE","terminate"),di(u,v),p=new Ue(u,u.j,p),p.L=2,p.v=ji(Zn(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.v,v=!0),v||(p.g=Zl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Xe(p)}Xl(u)}function Sr(u){u.g&&(Na(u),u.g.cancel(),u.g=null)}function So(u){Sr(u),u.u&&(f.clearTimeout(u.u),u.u=null),Co(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Gr(u){if(!Bt(u.h)&&!u.s){u.s=!0;var p=u.Ga;it||D(),ie||(it(),ie=!0),Pe.add(p,u),u.B=0}}function lh(u,p){return $r(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=F(R(u.Ga,u,p),Yl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Ue(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=A(Q),x(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(p+=I,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Hi(this,z,p),v=Zn(this.I),vt(v,"RID",u),vt(v,"CVER",22),this.D&&vt(v,"X-HTTP-Session-Id",this.D),di(this,v),Q&&(this.O?p="headers="+encodeURIComponent(String(hi(Q)))+"&"+p:this.m&&$i(v,this.m,Q)),ar(this.h,z),this.Ua&&vt(v,"TYPE","init"),this.P?(vt(v,"$req",p),vt(v,"SID","null"),z.T=!0,mt(z,v,null)):mt(z,v,p),this.G=2}}else this.G==3&&(u?Ro(this,u):this.i.length==0||Bt(this.h)||Ro(this))};function Ro(u,p){var v;p?v=p.l:v=u.U++;const I=Zn(u.I);vt(I,"SID",u.K),vt(I,"RID",v),vt(I,"AID",u.T),di(u,I),u.m&&u.o&&$i(I,u.m,u.o),v=new Ue(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Hi(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ar(u.h,v),mt(v,I,p)}function di(u,p){u.H&&We(u.H,function(v,I){vt(p,I,v)}),u.l&&bi({},function(v,I){vt(p,I,v)})}function Hi(u,p,v){v=Math.min(u.i.length,v);var I=u.l?R(u.l.Na,u.l,u):null;e:{var z=u.i;let Q=-1;for(;;){const he=["count="+v];Q==-1?0<v?(Q=z[0].g,he.push("ofs="+Q)):Q=0:he.push("ofs="+Q);let gt=!0;for(let Yt=0;Yt<v;Yt++){let ot=z[Yt].g;const nn=z[Yt].map;if(ot-=Q,0>ot)Q=Math.max(0,z[Yt].g-100),gt=!1;else try{Gl(nn,he,"req"+ot+"_")}catch{I&&I(nn)}}if(gt){I=he.join("&");break e}}}return u=u.i.splice(0,v),p.D=u,I}function Ls(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;it||D(),ie||(it(),ie=!0),Pe.add(p,u),u.v=0}}function Ao(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=F(R(u.Fa,u),Yl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Ql(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=F(R(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),Sr(this),Ql(this))};function Na(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Ql(u){u.g=new Ue(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Zn(u.qa);vt(p,"RID","rpc"),vt(p,"SID",u.K),vt(p,"AID",u.T),vt(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&vt(p,"TO",u.ja),vt(p,"TYPE","xmlhttp"),di(u,p),u.m&&u.o&&$i(p,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=ji(Zn(p)),v.m=null,v.P=!0,or(v,u)}r.Za=function(){this.C!=null&&(this.C=null,Sr(this),Ao(this),Dt(19))};function Co(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Po(u,p){var v=null;if(u.g==p){Co(u),Na(u),u.g=null;var I=2}else if(et(u.h,p))v=p.D,xs(u.h,p),I=1;else return;if(u.G!=0){if(p.o)if(I==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var z=u.B;I=Ur(),St(I,new N(I,v)),Gr(u)}else Ls(u);else if(z=p.s,z==3||z==0&&0<p.X||!(I==1&&lh(u,p)||I==2&&Ao(u)))switch(v&&0<v.length&&(p=u.h,p.i=p.i.concat(v)),z){case 1:fi(u,5);break;case 4:fi(u,10);break;case 3:fi(u,6);break;default:fi(u,2)}}}function Yl(u,p){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*p}function fi(u,p){if(u.j.info("Error code "+p),p==2){var v=R(u.fb,u),I=u.Xa;const z=!I;I=new ui(I||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ds(I,"https"),ji(I),z?sh(I.toString(),v):ql(I.toString(),v)}else Dt(2);u.G=0,u.l&&u.l.sa(p),Xl(u),So(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Xl(u){if(u.G=0,u.ka=[],u.l){const p=yo(u.h);(p.length!=0||u.i.length!=0)&&(U(u.ka,p),U(u.ka,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.ra()}}function Jl(u,p,v){var I=v instanceof ui?Zn(v):new ui(v);if(I.g!="")p&&(I.g=p+"."+I.g),Fi(I,I.s);else{var z=f.location;I=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;var Q=new ui(null);I&&Ds(Q,I),p&&(Q.g=p),z&&Fi(Q,z),v&&(Q.l=v),I=Q}return v=u.D,p=u.ya,v&&p&&vt(I,v,p),vt(I,"VER",u.la),di(u,I),I}function Zl(u,p,v){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Pt(new ci({eb:v})):new Pt(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Da(){}r=Da.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ko(){}ko.prototype.g=function(u,p){return new Nn(u,p)};function Nn(u,p){It.call(this),this.g=new xa(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!re(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!re(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Kr(this)}$(Nn,It),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){dn(this.g)},Nn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Mi(u),u=v);p.i.push(new Je(p.Ya++,u)),p.G==3&&Gr(p)},Nn.prototype.N=function(){this.g.l=null,delete this.j,dn(this.g),delete this.g,Nn.aa.N.call(this)};function eu(u){On.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}$(eu,On);function tu(){Li.call(this),this.status=1}$(tu,Li);function Kr(u){this.g=u}$(Kr,Da),Kr.prototype.ua=function(){St(this.g,"a")},Kr.prototype.ta=function(u){St(this.g,new eu(u))},Kr.prototype.sa=function(u){St(this.g,new tu)},Kr.prototype.ra=function(){St(this.g,"b")},ko.prototype.createWebChannel=ko.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,rw=function(){return new ko},nw=function(){return Ur()},tw=Yn,af={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,lc=Ee,ye.COMPLETE="complete",ew=ye,li.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",It.prototype.listen=It.prototype.K,al=li,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,Z_=Pt}).apply(typeof Ju<"u"?Ju:typeof self<"u"?self:typeof window<"u"?window:{});const by="@firebase/firestore",Fy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new Nf("@firebase/firestore");function Jo(){return lo.logLevel}function we(r,...e){if(lo.logLevel<=tt.DEBUG){const t=e.map(Hf);lo.debug(`Firestore (${Ea}): ${r}`,...t)}}function ki(r,...e){if(lo.logLevel<=tt.ERROR){const t=e.map(Hf);lo.error(`Firestore (${Ea}): ${r}`,...t)}}function ca(r,...e){if(lo.logLevel<=tt.WARN){const t=e.map(Hf);lo.warn(`Firestore (${Ea}): ${r}`,...t)}}function Hf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,iw(r,i,t)}function iw(r,e,t){let i=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw ki(i),new Error(i)}function pt(r,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,r||iw(e,o,i)}function He(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Ni{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Pn.UNAUTHENTICATED)))}shutdown(){}}class mA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class gA{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pt(this.o===void 0,42304);let i=this.i;const o=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new no;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new no,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},f=m=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new no)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pt(typeof i.accessToken=="string",31837,{l:i}),new sw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string",2055,{h:e}),new Pn(e)}}class yA{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vA{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new yA(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Uy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _A{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pt(this.o===void 0,3512);const i=l=>{l.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,we("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Uy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(pt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Uy(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=wA(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function nt(r,e){return r<e?-1:r>e?1:0}function lf(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const o=r.charAt(i),l=e.charAt(i);if(o!==l)return $d(o)===$d(l)?nt(o,l):$d(o)?1:-1}return nt(r.length,e.length)}const EA=55296,TA=57343;function $d(r){const e=r.charCodeAt(0);return e>=EA&&e<=TA}function ha(r,e,t){return r.length===e.length&&r.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="__name__";class Zr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Oe(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Oe(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Zr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=Zr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return nt(e.length,t.length)}static compareSegments(e,t){const i=Zr.isNumericId(e),o=Zr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Zr.extractNumericId(e).compare(Zr.extractNumericId(t)):lf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gs.fromString(e.substring(4,e.length-2))}}class wt extends Zr{construct(e,t,i){return new wt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new wt(t)}static emptyPath(){return new wt([])}}const IA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends Zr{construct(e,t,i){return new gn(e,t,i)}static isValidIdentifier(e){return IA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jy}static keyField(){return new gn([jy])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new _e(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new _e(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new _e(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(i+=f,o++):(l(),o++)}if(l(),h)throw new _e(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(t)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(wt.fromString(e))}static fromName(e){return new Ne(wt.fromString(e).popFirst(5))}static empty(){return new Ne(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(r,e,t){if(!t)throw new _e(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function SA(r,e,t,i){if(e===!0&&i===!0)throw new _e(Y.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function zy(r){if(!Ne.isDocumentKey(r))throw new _e(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function By(r){if(Ne.isDocumentKey(r))throw new _e(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function aw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Wc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Oe(12329,{type:typeof r})}function fl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new _e(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wc(r);throw new _e(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Ol(r,e){if(!aw(r))throw new _e(Y.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const h=r[i];if(o&&typeof h!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new _e(Y.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=-62135596800,Hy=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Hy);return new Et(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$y)throw new _e(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hy}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ol(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$y;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:Kt("string",Et._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Et(0,0))}static max(){return new Be(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;function RA(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Be.fromTimestamp(i===1e9?new Et(t+1,0):new Et(t,i));return new vs(o,Ne.empty(),e)}function AA(r){return new vs(r.readTime,r.key,Il)}class vs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new vs(Be.min(),Ne.empty(),Il)}static max(){return new vs(Be.max(),Ne.empty(),Il)}}function CA(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ne.comparator(r.documentKey,e.documentKey),t!==0?t:nt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==PA)throw r;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):X.reject(t)}static resolve(e){return new X(((t,i)=>{t(e)}))}static reject(e){return new X(((t,i)=>{i(e)}))}static waitFor(e){return new X(((t,i)=>{let o=0,l=0,h=!1;e.forEach((f=>{++o,f.next((()=>{++l,h&&l===o&&t()}),(m=>i(m)))})),h=!0,l===o&&t()}))}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next((o=>o?X.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new X(((i,o)=>{const l=e.length,h=new Array(l);let f=0;for(let m=0;m<l;m++){const y=m;t(e[y]).next((_=>{h[y]=_,++f,f===l&&i(h)}),(_=>o(_)))}}))}static doWhile(e,t){return new X(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function xA(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ia(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=-1;function Gc(r){return r==null}function Rc(r){return r===0&&1/r==-1/0}function NA(r){return typeof r=="number"&&Number.isInteger(r)&&!Rc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="";function DA(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Wy(e)),e=MA(r.get(t),e);return Wy(e)}function MA(r,e){let t=e;const i=r.length;for(let o=0;o<i;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case lw:t+="";break;default:t+=l}}return t}function Wy(r){return r+lw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ho(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function uw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,t){this.comparator=e,this.root=t||mn.EMPTY}insert(e,t){return new Lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??mn.RED,this.left=o??mn.EMPTY,this.right=l??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new mn(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return mn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new mn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gy(this.data.getIterator())}getIteratorFrom(e){return new Gy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new en(this.comparator);return t.data=e,t}}class Gy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new Vr([])}unionWith(e){let t=new en(gn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Vr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ha(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new cw("Invalid base64 string: "+l):l}})(e);return new yn(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new yn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const VA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(r){if(pt(!!r,39018),typeof r=="string"){let e=0;const t=VA.exec(r);if(pt(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jt(r.seconds),nanos:jt(r.nanos)}}function jt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ws(r){return typeof r=="string"?yn.fromBase64String(r):yn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="server_timestamp",dw="__type__",fw="__previous_value__",pw="__local_write_time__";function Gf(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[dw])==null?void 0:i.stringValue)===hw}function Kc(r){const e=r.mapValue.fields[fw];return Gf(e)?Kc(e):e}function Sl(r){const e=_s(r.mapValue.fields[pw].timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,t,i,o,l,h,f,m,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=_}}const Ac="(default)";class Rl{constructor(e,t){this.projectId=e,this.database=t||Ac}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===Ac}isEqual(e){return e instanceof Rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="__type__",OA="__max__",ec={mapValue:{}},gw="__vector__",Cc="value";function Es(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Gf(r)?4:FA(r)?9007199254740991:bA(r)?10:11:Oe(28295,{value:r})}function oi(r,e){if(r===e)return!0;const t=Es(r);if(t!==Es(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Sl(r).isEqual(Sl(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=_s(o.timestampValue),f=_s(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return ws(o.bytesValue).isEqual(ws(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return jt(o.geoPointValue.latitude)===jt(l.geoPointValue.latitude)&&jt(o.geoPointValue.longitude)===jt(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return jt(o.integerValue)===jt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=jt(o.doubleValue),f=jt(l.doubleValue);return h===f?Rc(h)===Rc(f):isNaN(h)&&isNaN(f)}return!1})(r,e);case 9:return ha(r.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(qy(h)!==qy(f))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(f[m]===void 0||!oi(h[m],f[m])))return!1;return!0})(r,e);default:return Oe(52216,{left:r})}}function Al(r,e){return(r.values||[]).find((t=>oi(t,e)))!==void 0}function da(r,e){if(r===e)return 0;const t=Es(r),i=Es(e);if(t!==i)return nt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return nt(r.booleanValue,e.booleanValue);case 2:return(function(l,h){const f=jt(l.integerValue||l.doubleValue),m=jt(h.integerValue||h.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(r,e);case 3:return Ky(r.timestampValue,e.timestampValue);case 4:return Ky(Sl(r),Sl(e));case 5:return lf(r.stringValue,e.stringValue);case 6:return(function(l,h){const f=ws(l),m=ws(h);return f.compareTo(m)})(r.bytesValue,e.bytesValue);case 7:return(function(l,h){const f=l.split("/"),m=h.split("/");for(let y=0;y<f.length&&y<m.length;y++){const _=nt(f[y],m[y]);if(_!==0)return _}return nt(f.length,m.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,h){const f=nt(jt(l.latitude),jt(h.latitude));return f!==0?f:nt(jt(l.longitude),jt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Qy(r.arrayValue,e.arrayValue);case 10:return(function(l,h){var R,V,$,H;const f=l.fields||{},m=h.fields||{},y=(R=f[Cc])==null?void 0:R.arrayValue,_=(V=m[Cc])==null?void 0:V.arrayValue,E=nt((($=y==null?void 0:y.values)==null?void 0:$.length)||0,((H=_==null?void 0:_.values)==null?void 0:H.length)||0);return E!==0?E:Qy(y,_)})(r.mapValue,e.mapValue);case 11:return(function(l,h){if(l===ec.mapValue&&h===ec.mapValue)return 0;if(l===ec.mapValue)return 1;if(h===ec.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),y=h.fields||{},_=Object.keys(y);m.sort(),_.sort();for(let E=0;E<m.length&&E<_.length;++E){const R=lf(m[E],_[E]);if(R!==0)return R;const V=da(f[m[E]],y[_[E]]);if(V!==0)return V}return nt(m.length,_.length)})(r.mapValue,e.mapValue);default:throw Oe(23264,{he:t})}}function Ky(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return nt(r,e);const t=_s(r),i=_s(e),o=nt(t.seconds,i.seconds);return o!==0?o:nt(t.nanos,i.nanos)}function Qy(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=da(t[o],i[o]);if(l)return l}return nt(t.length,i.length)}function fa(r){return uf(r)}function uf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=_s(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return ws(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Ne.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=uf(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${uf(t.fields[h])}`;return o+"}"})(r.mapValue):Oe(61005,{value:r})}function uc(r){switch(Es(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kc(r);return e?16+uc(e):16;case 5:return 2*r.stringValue.length;case 6:return ws(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+uc(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return ho(i.fields,((l,h)=>{o+=l.length+uc(h)})),o})(r.mapValue);default:throw Oe(13486,{value:r})}}function Yy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function cf(r){return!!r&&"integerValue"in r}function Kf(r){return!!r&&"arrayValue"in r}function Xy(r){return!!r&&"nullValue"in r}function Jy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function cc(r){return!!r&&"mapValue"in r}function bA(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[mw])==null?void 0:i.stringValue)===gw}function pl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ho(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=pl(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pl(r.arrayValue.values[t]);return e}return{...r}}function FA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===OA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!cc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pl(t)}setAll(e){let t=gn.emptyPath(),i={},o=[];e.forEach(((h,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,i,o),i={},o=[],t=f.popLast()}h?i[f.lastSegment()]=pl(h):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());cc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];cc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ho(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new gr(pl(this.value))}}function yw(r){const e=[];return ho(r.fields,((t,i)=>{const o=new gn([t]);if(cc(i)){const l=yw(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new Vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,t,i,o,l,h,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new kn(e,0,Be.min(),Be.min(),Be.min(),gr.empty(),0)}static newFoundDocument(e,t,i,o){return new kn(e,1,t,Be.min(),i,o,0)}static newNoDocument(e,t){return new kn(e,2,t,Be.min(),Be.min(),gr.empty(),0)}static newUnknownDocument(e,t){return new kn(e,3,t,Be.min(),Be.min(),gr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t){this.position=e,this.inclusive=t}}function Zy(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?i=Ne.comparator(Ne.fromName(h.referenceValue),t.key):i=da(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function ev(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!oi(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,t="asc"){this.field=e,this.dir=t}}function UA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{}class Gt extends vw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new zA(e,t,i):t==="array-contains"?new HA(e,i):t==="in"?new WA(e,i):t==="not-in"?new qA(e,i):t==="array-contains-any"?new GA(e,i):new Gt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new BA(e,i):new $A(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(da(t,this.value)):t!==null&&Es(this.value)===Es(t)&&this.matchesComparison(da(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends vw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Or(e,t)}matches(e){return _w(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _w(r){return r.op==="and"}function ww(r){return jA(r)&&_w(r)}function jA(r){for(const e of r.filters)if(e instanceof Or)return!1;return!0}function hf(r){if(r instanceof Gt)return r.field.canonicalString()+r.op.toString()+fa(r.value);if(ww(r))return r.filters.map((e=>hf(e))).join(",");{const e=r.filters.map((t=>hf(t))).join(",");return`${r.op}(${e})`}}function Ew(r,e){return r instanceof Gt?(function(i,o){return o instanceof Gt&&i.op===o.op&&i.field.isEqual(o.field)&&oi(i.value,o.value)})(r,e):r instanceof Or?(function(i,o){return o instanceof Or&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,h,f)=>l&&Ew(h,o.filters[f])),!0):!1})(r,e):void Oe(19439)}function Tw(r){return r instanceof Gt?(function(t){return`${t.field.canonicalString()} ${t.op} ${fa(t.value)}`})(r):r instanceof Or?(function(t){return t.op.toString()+" {"+t.getFilters().map(Tw).join(" ,")+"}"})(r):"Filter"}class zA extends Gt{constructor(e,t,i){super(e,t,i),this.key=Ne.fromName(i.referenceValue)}matches(e){const t=Ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class BA extends Gt{constructor(e,t){super(e,"in",t),this.keys=Iw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class $A extends Gt{constructor(e,t){super(e,"not-in",t),this.keys=Iw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Iw(r,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>Ne.fromName(i.referenceValue)))}class HA extends Gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kf(t)&&Al(t.arrayValue,this.value)}}class WA extends Gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Al(this.value.arrayValue,t)}}class qA extends Gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Al(this.value.arrayValue,t)}}class GA extends Gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Al(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,t=null,i=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.Te=null}}function tv(r,e=null,t=[],i=[],o=null,l=null,h=null){return new KA(r,e,t,i,o,l,h)}function Qf(r){const e=He(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>hf(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Gc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>fa(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>fa(i))).join(",")),e.Te=t}return e.Te}function Yf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!UA(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Ew(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ev(r.startAt,e.startAt)&&ev(r.endAt,e.endAt)}function df(r){return Ne.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t=null,i=[],o=[],l=null,h="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QA(r,e,t,i,o,l,h,f){return new Sa(r,e,t,i,o,l,h,f)}function Xf(r){return new Sa(r)}function nv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Sw(r){return r.collectionGroup!==null}function ml(r){const e=He(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new en(gn.comparator);return h.filters.forEach((m=>{m.getFlattenedFilters().forEach((y=>{y.isInequality()&&(f=f.add(y.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Cl(l,i))})),t.has(gn.keyField().canonicalString())||e.Ie.push(new Cl(gn.keyField(),i))}return e.Ie}function ti(r){const e=He(r);return e.Ee||(e.Ee=YA(e,ml(r))),e.Ee}function YA(r,e){if(r.limitType==="F")return tv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Cl(o.field,l)}));const t=r.endAt?new Pc(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Pc(r.startAt.position,r.startAt.inclusive):null;return tv(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function ff(r,e){const t=r.filters.concat([e]);return new Sa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function pf(r,e,t){return new Sa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Qc(r,e){return Yf(ti(r),ti(e))&&r.limitType===e.limitType}function Rw(r){return`${Qf(ti(r))}|lt:${r.limitType}`}function Zo(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>Tw(o))).join(", ")}]`),Gc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>fa(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>fa(o))).join(",")),`Target(${i})`})(ti(r))}; limitType=${r.limitType})`}function Yc(r,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ne.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,o){for(const l of ml(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(h,f,m){const y=Zy(h,f,m);return h.inclusive?y<=0:y<0})(i.startAt,ml(i),o)||i.endAt&&!(function(h,f,m){const y=Zy(h,f,m);return h.inclusive?y>=0:y>0})(i.endAt,ml(i),o))})(r,e)}function XA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Aw(r){return(e,t)=>{let i=!1;for(const o of ml(r)){const l=JA(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function JA(r,e,t){const i=r.field.isKeyField()?Ne.comparator(e.key,t.key):(function(l,h,f){const m=h.data.field(l),y=f.data.field(l);return m!==null&&y!==null?da(m,y):Oe(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Oe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ho(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return uw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new Lt(Ne.comparator);function xi(){return ZA}const Cw=new Lt(Ne.comparator);function ll(...r){let e=Cw;for(const t of r)e=e.insert(t.key,t);return e}function Pw(r){let e=Cw;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function eo(){return gl()}function kw(){return gl()}function gl(){return new fo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const eC=new Lt(Ne.comparator),tC=new en(Ne.comparator);function rt(...r){let e=tC;for(const t of r)e=e.add(t);return e}const nC=new en(nt);function rC(){return nC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rc(e)?"-0":e}}function xw(r){return{integerValue:""+r}}function iC(r,e){return NA(e)?xw(e):Jf(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this._=void 0}}function sC(r,e,t){return r instanceof Pl?(function(o,l){const h={fields:{[dw]:{stringValue:hw},[pw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Gf(l)&&(l=Kc(l)),l&&(h.fields[fw]=l),{mapValue:h}})(t,e):r instanceof kl?Dw(r,e):r instanceof xl?Mw(r,e):(function(o,l){const h=Nw(o,l),f=rv(h)+rv(o.Ae);return cf(h)&&cf(o.Ae)?xw(f):Jf(o.serializer,f)})(r,e)}function oC(r,e,t){return r instanceof kl?Dw(r,e):r instanceof xl?Mw(r,e):t}function Nw(r,e){return r instanceof kc?(function(i){return cf(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Pl extends Xc{}class kl extends Xc{constructor(e){super(),this.elements=e}}function Dw(r,e){const t=Vw(e);for(const i of r.elements)t.some((o=>oi(o,i)))||t.push(i);return{arrayValue:{values:t}}}class xl extends Xc{constructor(e){super(),this.elements=e}}function Mw(r,e){let t=Vw(e);for(const i of r.elements)t=t.filter((o=>!oi(o,i)));return{arrayValue:{values:t}}}class kc extends Xc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function rv(r){return jt(r.integerValue||r.doubleValue)}function Vw(r){return Kf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,t){this.field=e,this.transform=t}}function lC(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof kl&&o instanceof kl||i instanceof xl&&o instanceof xl?ha(i.elements,o.elements,oi):i instanceof kc&&o instanceof kc?oi(i.Ae,o.Ae):i instanceof Pl&&o instanceof Pl})(r.transform,e.transform)}class uC{constructor(e,t){this.version=e,this.transformResults=t}}class Ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ai}static exists(e){return new Ai(void 0,e)}static updateTime(e){return new Ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Jc{}function Lw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new bw(r.key,Ai.none()):new bl(r.key,r.data,Ai.none());{const t=r.data,i=gr.empty();let o=new en(gn.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new po(r.key,i,new Vr(o.toArray()),Ai.none())}}function cC(r,e,t){r instanceof bl?(function(o,l,h){const f=o.value.clone(),m=sv(o.fieldTransforms,l,h.transformResults);f.setAll(m),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()})(r,e,t):r instanceof po?(function(o,l,h){if(!hc(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=sv(o.fieldTransforms,l,h.transformResults),m=l.data;m.setAll(Ow(o)),m.setAll(f),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function yl(r,e,t,i){return r instanceof bl?(function(l,h,f,m){if(!hc(l.precondition,h))return f;const y=l.value.clone(),_=ov(l.fieldTransforms,m,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(r,e,t,i):r instanceof po?(function(l,h,f,m){if(!hc(l.precondition,h))return f;const y=ov(l.fieldTransforms,m,h),_=h.data;return _.setAll(Ow(l)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(r,e,t,i):(function(l,h,f){return hc(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f})(r,e,t)}function hC(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),l=Nw(i.transform,o||null);l!=null&&(t===null&&(t=gr.empty()),t.set(i.field,l))}return t||null}function iv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ha(i,o,((l,h)=>lC(l,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class bl extends Jc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class po extends Jc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Ow(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function sv(r,e,t){const i=new Map;pt(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,f=e.data.field(l.field);i.set(l.field,oC(h,f,t[o]))}return i}function ov(r,e,t){const i=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);i.set(o.field,sC(l,h,e))}return i}class bw extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dC extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&cC(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=yl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=yl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=kw();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const m=Lw(h,f);m!==null&&i.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(Be.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),rt())}isEqual(e){return this.batchId===e.batchId&&ha(this.mutations,e.mutations,((t,i)=>iv(t,i)))&&ha(this.baseMutations,e.baseMutations,((t,i)=>iv(t,i)))}}class Zf{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){pt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return eC})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new Zf(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,at;function gC(r){switch(r){case Y.OK:return Oe(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Oe(15467,{code:r})}}function Fw(r){if(r===void 0)return ki("GRPC error has no .code"),Y.UNKNOWN;switch(r){case Wt.OK:return Y.OK;case Wt.CANCELLED:return Y.CANCELLED;case Wt.UNKNOWN:return Y.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return Y.INTERNAL;case Wt.UNAVAILABLE:return Y.UNAVAILABLE;case Wt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Wt.NOT_FOUND:return Y.NOT_FOUND;case Wt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Wt.ABORTED:return Y.ABORTED;case Wt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Wt.DATA_LOSS:return Y.DATA_LOSS;default:return Oe(39323,{code:r})}}(at=Wt||(Wt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new gs([4294967295,4294967295],0);function av(r){const e=yC().encode(r),t=new J_;return t.update(e),new Uint8Array(t.digest())}function lv(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new gs([t,i],0),new gs([o,l],0)]}class ep{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ul(`Invalid padding: ${t}`);if(i<0)throw new ul(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ul(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ul(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=gs.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(gs.fromNumber(i)));return o.compare(vC)===1&&(o=new gs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=av(e),[i,o]=lv(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(i,o,l);if(!this.we(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new ep(l,o,t);return i.forEach((f=>h.insert(f))),h}insert(e){if(this.ge===0)return;const t=av(e),[i,o]=lv(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(i,o,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Fl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Zc(Be.min(),o,new Lt(nt),xi(),rt())}}class Fl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Fl(i,t,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class Uw{constructor(e,t){this.targetId=e,this.Ce=t}}class jw{constructor(e,t,i=yn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class uv{constructor(){this.ve=0,this.Fe=cv(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rt(),t=rt(),i=rt();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Oe(38017,{changeType:l})}})),new Fl(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=cv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _C{constructor(e){this.Ge=e,this.ze=new Map,this.je=xi(),this.Je=tc(),this.He=tc(),this.Ye=new Lt(nt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(df(l))if(i===0){const h=new Ne(l.path);this.et(t,h,kn.newNoDocument(h,Be.min()))}else pt(i===1,20013,{expectedCount:i});else{const h=this._t(t);if(h!==i){const f=this.ut(e),m=f?this.ct(f,e,h):1;if(m!==0){this.it(t);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=ws(i).toUint8Array()}catch(m){if(m instanceof cw)return ca("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new ep(h,o,l)}catch(m){return ca(m instanceof ul?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const h=this.Ge.ht(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,h)=>{const f=this.ot(h);if(f){if(l.current&&df(f.target)){const m=new Ne(f.target.path);this.It(m).has(h)||this.Et(h,m)||this.et(h,m,kn.newNoDocument(m,e))}l.Be&&(t.set(h,l.ke()),l.qe())}}));let i=rt();this.He.forEach(((l,h)=>{let f=!0;h.forEachWhile((m=>{const y=this.ot(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,h)=>h.setReadTime(e)));const o=new Zc(e,t,this.Ye,this.je,i);return this.je=xi(),this.Je=tc(),this.He=tc(),this.Ye=new Lt(nt),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new uv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new en(nt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new en(nt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||we("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uv),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function tc(){return new Lt(Ne.comparator)}function cv(){return new Lt(Ne.comparator)}const wC={asc:"ASCENDING",desc:"DESCENDING"},EC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TC={and:"AND",or:"OR"};class IC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mf(r,e){return r.useProto3Json||Gc(e)?e:{value:e}}function xc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function SC(r,e){return xc(r,e.toTimestamp())}function ni(r){return pt(!!r,49232),Be.fromTimestamp((function(t){const i=_s(t);return new Et(i.seconds,i.nanos)})(r))}function tp(r,e){return gf(r,e).canonicalString()}function gf(r,e){const t=(function(o){return new wt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function Bw(r){const e=wt.fromString(r);return pt(Gw(e),10190,{key:e.toString()}),e}function yf(r,e){return tp(r.databaseId,e.path)}function Hd(r,e){const t=Bw(e);if(t.get(1)!==r.databaseId.projectId)throw new _e(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new _e(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ne(Hw(t))}function $w(r,e){return tp(r.databaseId,e)}function RC(r){const e=Bw(r);return e.length===4?wt.emptyPath():Hw(e)}function vf(r){return new wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Hw(r){return pt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function hv(r,e,t){return{name:yf(r,e),fields:t.value.mapValue.fields}}function AC(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Oe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(y,_){return y.useProto3Json?(pt(_===void 0||typeof _=="string",58123),yn.fromBase64String(_||"")):(pt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),yn.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(y){const _=y.code===void 0?Y.UNKNOWN:Fw(y.code);return new _e(_,y.message||"")})(h);t=new jw(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Hd(r,i.document.name),l=ni(i.document.updateTime),h=i.document.createTime?ni(i.document.createTime):Be.min(),f=new gr({mapValue:{fields:i.document.fields}}),m=kn.newFoundDocument(o,l,h,f),y=i.targetIds||[],_=i.removedTargetIds||[];t=new dc(y,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Hd(r,i.document),l=i.readTime?ni(i.readTime):Be.min(),h=kn.newNoDocument(o,l),f=i.removedTargetIds||[];t=new dc([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Hd(r,i.document),l=i.removedTargetIds||[];t=new dc([],l,o,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new mC(o,l),f=i.targetId;t=new Uw(f,h)}}return t}function CC(r,e){let t;if(e instanceof bl)t={update:hv(r,e.key,e.value)};else if(e instanceof bw)t={delete:yf(r,e.key)};else if(e instanceof po)t={update:hv(r,e.key,e.data),updateMask:OC(e.fieldMask)};else{if(!(e instanceof dC))return Oe(16599,{Vt:e.type});t={verify:yf(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,h){const f=h.transform;if(f instanceof Pl)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof kl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof xl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof kc)return{fieldPath:h.field.canonicalString(),increment:f.Ae};throw Oe(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:SC(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Oe(27497)})(r,e.precondition)),t}function PC(r,e){return r&&r.length>0?(pt(e!==void 0,14353),r.map((t=>(function(o,l){let h=o.updateTime?ni(o.updateTime):ni(l);return h.isEqual(Be.min())&&(h=ni(l)),new uC(h,o.transformResults||[])})(t,e)))):[]}function kC(r,e){return{documents:[$w(r,e.path)]}}function xC(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=$w(r,o);const l=(function(y){if(y.length!==0)return qw(Or.create(y,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(y){if(y.length!==0)return y.map((_=>(function(R){return{field:ea(R.field),direction:MC(R.dir)}})(_)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=mf(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function NC(r){let e=RC(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){pt(i===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(E){const R=Ww(E);return R instanceof Or&&ww(R)?R.getFilters():[R]})(t.where));let h=[];t.orderBy&&(h=(function(E){return E.map((R=>(function($){return new Cl(ta($.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(R)))})(t.orderBy));let f=null;t.limit&&(f=(function(E){let R;return R=typeof E=="object"?E.value:E,Gc(R)?null:R})(t.limit));let m=null;t.startAt&&(m=(function(E){const R=!!E.before,V=E.values||[];return new Pc(V,R)})(t.startAt));let y=null;return t.endAt&&(y=(function(E){const R=!E.before,V=E.values||[];return new Pc(V,R)})(t.endAt)),QA(e,o,h,l,f,"F",m,y)}function DC(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Ww(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ta(t.unaryFilter.field);return Gt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ta(t.unaryFilter.field);return Gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ta(t.unaryFilter.field);return Gt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ta(t.unaryFilter.field);return Gt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Gt.create(ta(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Or.create(t.compositeFilter.filters.map((i=>Ww(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(t.compositeFilter.op))})(r):Oe(30097,{filter:r})}function MC(r){return wC[r]}function VC(r){return EC[r]}function LC(r){return TC[r]}function ea(r){return{fieldPath:r.canonicalString()}}function ta(r){return gn.fromServerFormat(r.fieldPath)}function qw(r){return r instanceof Gt?(function(t){if(t.op==="=="){if(Jy(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NAN"}};if(Xy(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Jy(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NOT_NAN"}};if(Xy(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ea(t.field),op:VC(t.op),value:t.value}}})(r):r instanceof Or?(function(t){const i=t.getFilters().map((o=>qw(o)));return i.length===1?i[0]:{compositeFilter:{op:LC(t.op),filters:i}}})(r):Oe(54877,{filter:r})}function OC(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Gw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,t,i,o,l=Be.min(),h=Be.min(),f=yn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.yt=e}}function FC(r){const e=NC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?pf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.Cn=new jC}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(vs.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class jC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new en(wt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new en(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kw=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(Kw,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new pa(0)}static cr(){return new pa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="LruGarbageCollector",zC=1048576;function pv([r,e],[t,i]){const o=nt(r,t);return o===0?nt(e,i):o}class BC{constructor(e){this.Ir=e,this.buffer=new en(pv),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();pv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $C{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(fv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ia(t)?we(fv,"Ignoring IndexedDB error during garbage collection: ",t):await Ta(t)}await this.Vr(3e5)}))}}class HC{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return X.resolve(qc.ce);const i=new BC(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(dv)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dv):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,l,h,f,m,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,f=Date.now(),this.removeTargets(e,i,t)))).next((E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(y=Date.now(),Jo()<=tt.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${E} documents in `+(y-m)+`ms
Total Duration: ${y-_}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function WC(r,e){return new HC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.changes=new fo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&yl(i.mutation,o,Vr.empty(),Et.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,rt()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=rt()){const o=eo();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let h=ll();return l.forEach(((f,m)=>{h=h.insert(f,m.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const i=eo();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,rt())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,f)=>{t.set(h,f)}))}))}computeViews(e,t,i,o){let l=xi();const h=gl(),f=(function(){return gl()})();return t.forEach(((m,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof po)?l=l.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),yl(_.mutation,y,_.mutation.getFieldMask(),Et.now())):h.set(y.key,Vr.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((y,_)=>h.set(y,_))),t.forEach(((y,_)=>f.set(y,new GC(_,h.get(y)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=gl();let o=new Lt(((h,f)=>h-f)),l=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const f of h)f.keys().forEach((m=>{const y=t.get(m);if(y===null)return;let _=i.get(m)||Vr.empty();_=f.applyToLocalView(y,_),i.set(m,_);const E=(o.get(f.batchId)||rt()).add(m);o=o.insert(f.batchId,E)}))})).next((()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),y=m.key,_=m.value,E=kw();_.forEach((R=>{if(!l.has(R)){const V=Lw(t.get(R),i.get(R));V!==null&&E.set(R,V),l=l.add(R)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,E))}return X.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(h){return Ne.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Sw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):X.resolve(eo());let f=Il,m=l;return h.next((y=>X.forEach(y,((_,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(_)?X.resolve():this.remoteDocumentCache.getEntry(e,_).next((R=>{m=m.insert(_,R)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,m,y,rt()))).next((_=>({batchId:f,changes:Pw(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ne(t)).next((i=>{let o=ll();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=ll();return this.indexManager.getCollectionParents(e,l).next((f=>X.forEach(f,(m=>{const y=(function(E,R){return new Sa(R,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((_=>{_.forEach(((E,R)=>{h=h.insert(E,R)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((h=>{l.forEach(((m,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,kn.newInvalidDocument(_)))}));let f=ll();return h.forEach(((m,y)=>{const _=l.get(m);_!==void 0&&yl(_.mutation,y,Vr.empty(),Et.now()),Yc(t,y)&&(f=f.insert(m,y))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return X.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}})(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:FC(o.bundledQuery),readTime:ni(o.readTime)}})(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.overlays=new Lt(Ne.comparator),this.qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=eo();return X.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.St(e,t,l)})),X.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const o=eo(),l=t.length+1,h=new Ne(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const m=f.getNext().value,y=m.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&m.largestBatchId>i&&o.set(m.getKey(),m)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new Lt(((y,_)=>y-_));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=l.get(y.largestBatchId);_===null&&(_=eo(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const f=eo(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((y,_)=>f.set(y,_))),!(f.size()>=o)););return X.resolve(f)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new pC(t,i));let l=this.qr.get(t);l===void 0&&(l=rt(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(){this.Qr=new en(an.$r),this.Ur=new en(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new an(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new an(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new Ne(new wt([])),i=new an(t,e),o=new an(t,e+1),l=[];return this.Ur.forEachInRange([i,o],(h=>{this.Gr(h),l.push(h.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ne(new wt([])),i=new an(t,e),o=new an(t,e+1);let l=rt();return this.Ur.forEachInRange([i,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new an(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class an{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ne.comparator(e.key,t.key)||nt(e.Yr,t.Yr)}static Kr(e,t){return nt(e.Yr,t.Yr)||Ne.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new en(an.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new fC(l,t,i,o);this.mutationQueue.push(h);for(const f of o)this.Zr=this.Zr.add(new an(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return X.resolve(h)}lookupMutationBatch(e,t){return X.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),l=o<0?0:o;return X.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?qf:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new an(t,0),o=new an(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(h=>{const f=this.Xr(h.Yr);l.push(f)})),X.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new en(nt);return t.forEach((o=>{const l=new an(o,0),h=new an(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,h],(f=>{i=i.add(f.Yr)}))})),X.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;Ne.isDocumentKey(l)||(l=l.child(""));const h=new an(new Ne(l),0);let f=new en(nt);return this.Zr.forEachWhile((m=>{const y=m.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(m.Yr)),!0)}),h),X.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){pt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return X.forEach(t.mutations,(o=>{const l=new an(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new an(t,0),o=this.Zr.firstAfterOrEqual(i);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.ri=e,this.docs=(function(){return new Lt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():kn.newInvalidDocument(t))}getEntries(e,t){let i=xi();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():kn.newInvalidDocument(o))})),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=xi();const h=t.path,f=new Ne(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:y,value:{document:_}}=m.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||CA(AA(_),i)<=0||(o.has(_.key)||Yc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return X.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Oe(9500)}ii(e,t){return X.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new eP(this)}getSize(e){return X.resolve(this.size)}}class eP extends qC{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),X.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.persistence=e,this.si=new fo((t=>Qf(t)),Yf),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.oi=0,this._i=new np,this.targetCount=0,this.ai=pa.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),X.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new pa(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Pr(t),X.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.si.forEach(((h,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),X.waitFor(l).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),X.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,t){this.ui={},this.overlays={},this.ci=new qc(0),this.li=!1,this.li=!0,this.hi=new XC,this.referenceDelegate=e(this),this.Pi=new tP(this),this.indexManager=new UC,this.remoteDocumentCache=(function(o){return new ZC(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new bC(t),this.Ii=new QC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new YC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new JC(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){we("MemoryPersistence","Starting transaction:",e);const o=new nP(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return X.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class nP extends kA{constructor(e){super(),this.currentSequenceNumber=e}}class rp{constructor(e){this.persistence=e,this.Ri=new np,this.Vi=null}static mi(e){return new rp(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(i=>{const o=Ne.fromPath(i);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Be.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return X.or([()=>X.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Nc{constructor(e,t){this.persistence=e,this.pi=new fo((i=>DA(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=WC(this,t)}static mi(e,t){return new Nc(e,t)}Ei(){}di(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return X.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?X.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((f=>{f||(i++,l.removeEntry(h,Be.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=uc(e.data.value)),t}br(e,t,i){return X.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return X.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=rt(),o=rt();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new ip(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KI()?8:xA(xn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ys(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.ws(e,t,o,i).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new rP;return this.Ss(e,t,h).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,h,f.size)}))})).next((()=>l.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(Jo()<=tt.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Jo()<=tt.DEBUG&&we("QueryEngine","Query:",Zo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Jo()<=tt.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(t))):X.resolve())}ys(e,t){if(nv(t))return X.resolve(null);let i=ti(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=pf(t,null,"F"),i=ti(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const h=rt(...l);return this.ps.getDocuments(e,h).next((f=>this.indexManager.getMinOffset(e,i).next((m=>{const y=this.Ds(t,f);return this.Cs(t,y,h,m.readTime)?this.ys(e,pf(t,null,"F")):this.vs(e,y,t,m)}))))})))))}ws(e,t,i,o){return nv(t)||o.isEqual(Be.min())?X.resolve(null):this.ps.getDocuments(e,i).next((l=>{const h=this.Ds(t,l);return this.Cs(t,h,i,o)?X.resolve(null):(Jo()<=tt.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Zo(t)),this.vs(e,h,t,RA(o,Il)).next((f=>f)))}))}Ds(e,t){let i=new en(Aw(e));return t.forEach(((o,l)=>{Yc(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return Jo()<=tt.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Zo(t)),this.ps.getDocumentsMatchingQuery(e,t,vs.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="LocalStore",sP=3e8;class oP{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new Lt(nt),this.xs=new fo((l=>Qf(l)),Yf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function aP(r,e,t,i){return new oP(r,e,t,i)}async function Yw(r,e){const t=He(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const h=[],f=[];let m=rt();for(const y of o){h.push(y.batchId);for(const _ of y.mutations)m=m.add(_.key)}for(const y of l){f.push(y.batchId);for(const _ of y.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(i,m).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:f})))}))}))}function lP(r,e){const t=He(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,y,_){const E=y.batch,R=E.keys();let V=X.resolve();return R.forEach(($=>{V=V.next((()=>_.getEntry(m,$))).next((H=>{const U=y.docVersions.get($);pt(U!==null,48541),H.version.compareTo(U)<0&&(E.applyToRemoteDocument(H,y),H.isValidDocument()&&(H.setReadTime(y.commitVersion),_.addEntry(H)))}))})),V.next((()=>f.mutationQueue.removeMutationBatch(m,E)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let m=rt();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(m=m.add(f.batch.mutations[y].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function Xw(r){const e=He(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function uP(r,e){const t=He(r),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((_,E)=>{const R=o.get(E);if(!R)return;f.push(t.Pi.removeMatchingKeys(l,_.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,_.addedDocuments,E))));let V=R.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?V=V.withResumeToken(yn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):_.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(_.resumeToken,i)),o=o.insert(E,V),(function(H,U,ce){return H.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=sP?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(R,V,_)&&f.push(t.Pi.updateTargetData(l,V))}));let m=xi(),y=rt();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),f.push(cP(l,h,e.documentUpdates).next((_=>{m=_.ks,y=_.qs}))),!i.isEqual(Be.min())){const _=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(_)}return X.waitFor(f).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,y))).next((()=>m))})).then((l=>(t.Ms=o,l)))}function cP(r,e,t){let i=rt(),o=rt();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let h=xi();return t.forEach(((f,m)=>{const y=l.get(f);m.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),m.isNoDocument()&&m.version.isEqual(Be.min())?(e.removeEntry(f,m.readTime),h=h.insert(f,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),h=h.insert(f,m)):we(sp,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",m.version)})),{ks:h,qs:o}}))}function hP(r,e){const t=He(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=qf),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function dP(r,e){const t=He(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((l=>l?(o=l,X.resolve(o)):t.Pi.allocateTargetId(i).next((h=>(o=new ds(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function _f(r,e,t){const i=He(r),o=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Ia(h))throw h;we(sp,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function mv(r,e,t){const i=He(r);let o=Be.min(),l=rt();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(m,y,_){const E=He(m),R=E.xs.get(_);return R!==void 0?X.resolve(E.Ms.get(R)):E.Pi.getTargetData(y,_)})(i,h,ti(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,f.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(h,e,t?o:Be.min(),t?l:rt()))).next((f=>(fP(i,XA(e),f),{documents:f,Qs:l})))))}function fP(r,e,t){let i=r.Os.get(e)||Be.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Os.set(e,i)}class gv{constructor(){this.activeTargetIds=rC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pP{constructor(){this.Mo=new gv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new gv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="ConnectivityMonitor";class vv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(yv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(yv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc=null;function wf(){return nc===null?nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():nc++,"0x"+nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="RestConnection",gP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Ac?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,l){const h=wf(),f=this.zo(e,t.toUriEncodedString());we(Wd,`Sending RPC '${e}' ${h}:`,f,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,l);const{host:y}=new URL(f),_=va(y);return this.Jo(e,f,m,i,_).then((E=>(we(Wd,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw ca(Wd,`RPC '${e}' ${h} failed with error: `,E,"url: ",f,"request:",i),E}))}Ho(e,t,i,o,l,h){return this.Go(e,t,i,o,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ea})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const i=gP[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class _P extends yP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const h=wf();return new Promise(((f,m)=>{const y=new Z_;y.setWithCredentials(!0),y.listenOnce(ew.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case lc.NO_ERROR:const E=y.getResponseJson();we(Cn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),f(E);break;case lc.TIMEOUT:we(Cn,`RPC '${e}' ${h} timed out`),m(new _e(Y.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:const R=y.getStatus();if(we(Cn,`RPC '${e}' ${h} failed with status:`,R,"response text:",y.getResponseText()),R>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const $=V==null?void 0:V.error;if($&&$.status&&$.message){const H=(function(ce){const re=ce.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(re)>=0?re:Y.UNKNOWN})($.status);m(new _e(H,$.message))}else m(new _e(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new _e(Y.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{we(Cn,`RPC '${e}' ${h} completed.`)}}));const _=JSON.stringify(o);we(Cn,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",_,i,15)}))}T_(e,t,i){const o=wf(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=rw(),f=nw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const _=l.join("");we(Cn,`Creating RPC '${e}' stream ${o}: ${_}`,m);const E=h.createWebChannel(_,m);this.I_(E);let R=!1,V=!1;const $=new vP({Yo:U=>{V?we(Cn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(R||(we(Cn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),R=!0),we(Cn,`RPC '${e}' stream ${o} sending:`,U),E.send(U))},Zo:()=>E.close()}),H=(U,ce,re)=>{U.listen(ce,(pe=>{try{re(pe)}catch(Ce){setTimeout((()=>{throw Ce}),0)}}))};return H(E,al.EventType.OPEN,(()=>{V||(we(Cn,`RPC '${e}' stream ${o} transport opened.`),$.o_())})),H(E,al.EventType.CLOSE,(()=>{V||(V=!0,we(Cn,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(E))})),H(E,al.EventType.ERROR,(U=>{V||(V=!0,ca(Cn,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),$.a_(new _e(Y.UNAVAILABLE,"The operation could not be completed")))})),H(E,al.EventType.MESSAGE,(U=>{var ce;if(!V){const re=U.data[0];pt(!!re,16349);const pe=re,Ce=(pe==null?void 0:pe.error)||((ce=pe[0])==null?void 0:ce.error);if(Ce){we(Cn,`RPC '${e}' stream ${o} received error:`,Ce);const je=Ce.status;let We=(function(P){const x=Wt[P];if(x!==void 0)return Fw(x)})(je),S=Ce.message;We===void 0&&(We=Y.INTERNAL,S="Unknown error status: "+je+" with message "+Ce.message),V=!0,$.a_(new _e(We,S)),E.close()}else we(Cn,`RPC '${e}' stream ${o} received:`,re),$.u_(re)}})),H(f,tw.STAT_EVENT,(U=>{U.stat===af.PROXY?we(Cn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===af.NOPROXY&&we(Cn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(r){return new IC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&we("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="PersistentStream";class Zw{constructor(e,t,i,o,l,h,f,m){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Jw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(ki(t.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new _e(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(_v,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(we(_v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wP extends Zw{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=AC(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Be.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Be.min():h.readTime?ni(h.readTime):Be.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=vf(this.serializer),t.addTarget=(function(l,h){let f;const m=h.target;if(f=df(m)?{documents:kC(l,m)}:{query:xC(l,m).ft},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=zw(l,h.resumeToken);const y=mf(l,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(Be.min())>0){f.readTime=xc(l,h.snapshotVersion.toTimestamp());const y=mf(l,h.expectedCount);y!==null&&(f.expectedCount=y)}return f})(this.serializer,e);const i=DC(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=vf(this.serializer),t.removeTarget=e,this.q_(t)}}class EP extends Zw{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=PC(e.writeResults,e.commitTime),i=ni(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=vf(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>CC(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{}class IP extends TP{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new _e(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Go(e,gf(t,i),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(Y.UNKNOWN,l.toString())}))}Ho(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Ho(e,gf(t,i),o,h,f,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new _e(Y.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class SP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ki(t),this.aa=!1):we("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="RemoteStore";class RP{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((h=>{i.enqueueAndForget((async()=>{mo(this)&&(we(uo,"Restarting streams for network reachability change."),await(async function(m){const y=He(m);y.Ea.add(4),await Ul(y),y.Ra.set("Unknown"),y.Ea.delete(4),await th(y)})(this))}))})),this.Ra=new SP(i,o)}}async function th(r){if(mo(r))for(const e of r.da)await e(!0)}async function Ul(r){for(const e of r.da)await e(!1)}function eE(r,e){const t=He(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),up(t)?lp(t):Ra(t).O_()&&ap(t,e))}function op(r,e){const t=He(r),i=Ra(t);t.Ia.delete(e),i.O_()&&tE(t,e),t.Ia.size===0&&(i.O_()?i.L_():mo(t)&&t.Ra.set("Unknown"))}function ap(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ra(r).Y_(e)}function tE(r,e){r.Va.Ue(e),Ra(r).Z_(e)}function lp(r){r.Va=new _C({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ra(r).start(),r.Ra.ua()}function up(r){return mo(r)&&!Ra(r).x_()&&r.Ia.size>0}function mo(r){return He(r).Ea.size===0}function nE(r){r.Va=void 0}async function AP(r){r.Ra.set("Online")}async function CP(r){r.Ia.forEach(((e,t)=>{ap(r,e)}))}async function PP(r,e){nE(r),up(r)?(r.Ra.ha(e),lp(r)):r.Ra.set("Unknown")}async function kP(r,e,t){if(r.Ra.set("Online"),e instanceof jw&&e.state===2&&e.cause)try{await(async function(o,l){const h=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.Ia.delete(f),o.Va.removeTarget(f))})(r,e)}catch(i){we(uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Dc(r,i)}else if(e instanceof dc?r.Va.Ze(e):e instanceof Uw?r.Va.st(e):r.Va.tt(e),!t.isEqual(Be.min()))try{const i=await Xw(r.localStore);t.compareTo(i)>=0&&await(function(l,h){const f=l.Va.Tt(h);return f.targetChanges.forEach(((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.Ia.get(y);_&&l.Ia.set(y,_.withResumeToken(m.resumeToken,h))}})),f.targetMismatches.forEach(((m,y)=>{const _=l.Ia.get(m);if(!_)return;l.Ia.set(m,_.withResumeToken(yn.EMPTY_BYTE_STRING,_.snapshotVersion)),tE(l,m);const E=new ds(_.target,m,y,_.sequenceNumber);ap(l,E)})),l.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(i){we(uo,"Failed to raise snapshot:",i),await Dc(r,i)}}async function Dc(r,e,t){if(!Ia(e))throw e;r.Ea.add(1),await Ul(r),r.Ra.set("Offline"),t||(t=()=>Xw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{we(uo,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await th(r)}))}function rE(r,e){return e().catch((t=>Dc(r,t,e)))}async function nh(r){const e=He(r),t=Ts(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qf;for(;xP(e);)try{const o=await hP(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,NP(e,o)}catch(o){await Dc(e,o)}iE(e)&&sE(e)}function xP(r){return mo(r)&&r.Ta.length<10}function NP(r,e){r.Ta.push(e);const t=Ts(r);t.O_()&&t.X_&&t.ea(e.mutations)}function iE(r){return mo(r)&&!Ts(r).x_()&&r.Ta.length>0}function sE(r){Ts(r).start()}async function DP(r){Ts(r).ra()}async function MP(r){const e=Ts(r);for(const t of r.Ta)e.ea(t.mutations)}async function VP(r,e,t){const i=r.Ta.shift(),o=Zf.from(i,e,t);await rE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await nh(r)}async function LP(r,e){e&&Ts(r).X_&&await(async function(i,o){if((function(h){return gC(h)&&h!==Y.ABORTED})(o.code)){const l=i.Ta.shift();Ts(i).B_(),await rE(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await nh(i)}})(r,e),iE(r)&&sE(r)}async function wv(r,e){const t=He(r);t.asyncQueue.verifyOperationInProgress(),we(uo,"RemoteStore received new credentials");const i=mo(t);t.Ea.add(3),await Ul(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await th(t)}async function OP(r,e){const t=He(r);e?(t.Ea.delete(2),await th(t)):e||(t.Ea.add(2),await Ul(t),t.Ra.set("Unknown"))}function Ra(r){return r.ma||(r.ma=(function(t,i,o){const l=He(t);return l.sa(),new wP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:AP.bind(null,r),t_:CP.bind(null,r),r_:PP.bind(null,r),H_:kP.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),up(r)?lp(r):r.Ra.set("Unknown")):(await r.ma.stop(),nE(r))}))),r.ma}function Ts(r){return r.fa||(r.fa=(function(t,i,o){const l=He(t);return l.sa(),new EP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:DP.bind(null,r),r_:LP.bind(null,r),ta:MP.bind(null,r),na:VP.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await nh(r)):(await r.fa.stop(),r.Ta.length>0&&(we(uo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new no,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,f=new cp(e,t,h,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hp(r,e){if(ki("AsyncQueue",`${e}: ${r}`),Ia(r))return new _e(Y.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{static emptySet(e){return new sa(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ne.comparator(t.key,i.key):(t,i)=>Ne.comparator(t.key,i.key),this.keyedMap=ll(),this.sortedSet=new Lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new sa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.ga=new Lt(Ne.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class ma{constructor(e,t,i,o,l,h,f,m,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach((f=>{h.push({type:0,doc:f})})),new ma(e,t,sa.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class FP{constructor(){this.queries=Tv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=He(t),l=o.queries;o.queries=Tv(),l.forEach(((h,f)=>{for(const m of f.Sa)m.onError(i)}))})(this,new _e(Y.ABORTED,"Firestore shutting down"))}}function Tv(){return new fo((r=>Rw(r)),Qc)}async function UP(r,e){const t=He(r);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new bP,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=hp(h,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&dp(t)}async function jP(r,e){const t=He(r),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.Sa.indexOf(e);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function zP(r,e){const t=He(r);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.Sa)f.Fa(o)&&(i=!0);h.wa=o}}i&&dp(t)}function BP(r,e,t){const i=He(r),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function dp(r){r.Ca.forEach((e=>{e.next()}))}var Ef,Iv;(Iv=Ef||(Ef={})).Ma="default",Iv.Cache="cache";class $P{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ma(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ef.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e){this.key=e}}class aE{constructor(e){this.key=e}}class HP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=rt(),this.mutatedKeys=rt(),this.eu=Aw(e),this.tu=new sa(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new Ev,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,E)=>{const R=o.get(_),V=Yc(this.query,E)?E:null,$=!!R&&this.mutatedKeys.has(R.key),H=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let U=!1;R&&V?R.data.isEqual(V.data)?$!==H&&(i.track({type:3,doc:V}),U=!0):this.su(R,V)||(i.track({type:2,doc:V}),U=!0,(m&&this.eu(V,m)>0||y&&this.eu(V,y)<0)&&(f=!0)):!R&&V?(i.track({type:0,doc:V}),U=!0):R&&!V&&(i.track({type:1,doc:R}),U=!0,(m||y)&&(f=!0)),U&&(V?(h=h.add(V),l=H?l.add(_):l.delete(_)):(h=h.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{tu:h,iu:i,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((_,E)=>(function(V,$){const H=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:U})}};return H(V)-H($)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(i),o=o??!1;const f=t&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,y=m!==this.Za;return this.Za=m,h.length!==0||y?{snapshot:new ma(this.query,e.tu,l,h,e.mutatedKeys,m===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ev,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=rt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new aE(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new oE(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=rt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ma.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fp="SyncEngine";class WP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class qP{constructor(e){this.key=e,this.hu=!1}}class GP{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new fo((f=>Rw(f)),Qc),this.Iu=new Map,this.Eu=new Set,this.du=new Lt(Ne.comparator),this.Au=new Map,this.Ru=new np,this.Vu={},this.mu=new Map,this.fu=pa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KP(r,e,t=!0){const i=fE(r);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await lE(i,e,t,!0),o}async function QP(r,e){const t=fE(r);await lE(t,e,!0,!1)}async function lE(r,e,t,i){const o=await dP(r.localStore,ti(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await YP(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&eE(r.remoteStore,o),f}async function YP(r,e,t,i,o){r.pu=(E,R,V)=>(async function(H,U,ce,re){let pe=U.view.ru(ce);pe.Cs&&(pe=await mv(H.localStore,U.query,!1).then((({documents:S})=>U.view.ru(S,pe))));const Ce=re&&re.targetChanges.get(U.targetId),je=re&&re.targetMismatches.get(U.targetId)!=null,We=U.view.applyChanges(pe,H.isPrimaryClient,Ce,je);return Rv(H,U.targetId,We.au),We.snapshot})(r,E,R,V);const l=await mv(r.localStore,e,!0),h=new HP(e,l.Qs),f=h.ru(l.documents),m=Fl.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),y=h.applyChanges(f,r.isPrimaryClient,m);Rv(r,t,y.au);const _=new WP(e,t,h);return r.Tu.set(e,_),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),y.snapshot}async function XP(r,e,t){const i=He(r),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((h=>!Qc(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await _f(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&op(i.remoteStore,o.targetId),Tf(i,o.targetId)})).catch(Ta)):(Tf(i,o.targetId),await _f(i.localStore,o.targetId,!0))}async function JP(r,e){const t=He(r),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),op(t.remoteStore,i.targetId))}async function ZP(r,e,t){const i=ok(r);try{const o=await(function(h,f){const m=He(h),y=Et.now(),_=f.reduce(((V,$)=>V.add($.key)),rt());let E,R;return m.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let $=xi(),H=rt();return m.Ns.getEntries(V,_).next((U=>{$=U,$.forEach(((ce,re)=>{re.isValidDocument()||(H=H.add(ce))}))})).next((()=>m.localDocuments.getOverlayedDocuments(V,$))).next((U=>{E=U;const ce=[];for(const re of f){const pe=hC(re,E.get(re.key).overlayedDocument);pe!=null&&ce.push(new po(re.key,pe,yw(pe.value.mapValue),Ai.exists(!0)))}return m.mutationQueue.addMutationBatch(V,y,ce,f)})).next((U=>{R=U;const ce=U.applyToLocalDocumentSet(E,H);return m.documentOverlayCache.saveOverlays(V,U.batchId,ce)}))})).then((()=>({batchId:R.batchId,changes:Pw(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,f,m){let y=h.Vu[h.currentUser.toKey()];y||(y=new Lt(nt)),y=y.insert(f,m),h.Vu[h.currentUser.toKey()]=y})(i,o.batchId,t),await jl(i,o.changes),await nh(i.remoteStore)}catch(o){const l=hp(o,"Failed to persist write");t.reject(l)}}async function uE(r,e){const t=He(r);try{const i=await uP(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Au.get(l);h&&(pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?pt(h.hu,14607):o.removedDocuments.size>0&&(pt(h.hu,42227),h.hu=!1))})),await jl(t,i,e)}catch(i){await Ta(i)}}function Sv(r,e,t){const i=He(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((l,h)=>{const f=h.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(h,f){const m=He(h);m.onlineState=f;let y=!1;m.queries.forEach(((_,E)=>{for(const R of E.Sa)R.va(f)&&(y=!0)})),y&&dp(m)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function ek(r,e,t){const i=He(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let h=new Lt(Ne.comparator);h=h.insert(l,kn.newNoDocument(l,Be.min()));const f=rt().add(l),m=new Zc(Be.min(),new Map,new Lt(nt),h,f);await uE(i,m),i.du=i.du.remove(l),i.Au.delete(e),pp(i)}else await _f(i.localStore,e,!1).then((()=>Tf(i,e,t))).catch(Ta)}async function tk(r,e){const t=He(r),i=e.batch.batchId;try{const o=await lP(t.localStore,e);hE(t,i,null),cE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await jl(t,o)}catch(o){await Ta(o)}}async function nk(r,e,t){const i=He(r);try{const o=await(function(h,f){const m=He(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return m.mutationQueue.lookupMutationBatch(y,f).next((E=>(pt(E!==null,37113),_=E.keys(),m.mutationQueue.removeMutationBatch(y,E)))).next((()=>m.mutationQueue.performConsistencyCheck(y))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(y,_,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>m.localDocuments.getDocuments(y,_)))}))})(i.localStore,e);hE(i,e,t),cE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await jl(i,o)}catch(o){await Ta(o)}}function cE(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function hE(r,e,t){const i=He(r);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Tf(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||dE(r,i)}))}function dE(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(op(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),pp(r))}function Rv(r,e,t){for(const i of t)i instanceof oE?(r.Ru.addReference(i.key,e),rk(r,i)):i instanceof aE?(we(fp,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||dE(r,i.key)):Oe(19791,{wu:i})}function rk(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Eu.has(i)||(we(fp,"New document in limbo: "+t),r.Eu.add(i),pp(r))}function pp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Ne(wt.fromString(e)),i=r.fu.next();r.Au.set(i,new qP(t)),r.du=r.du.insert(t,i),eE(r.remoteStore,new ds(ti(Xf(t.path)),i,"TargetPurposeLimboResolution",qc.ce))}}async function jl(r,e,t){const i=He(r),o=[],l=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,m)=>{h.push(i.pu(m,e,t).then((y=>{var _;if((y||t)&&i.isPrimaryClient){const E=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(m.targetId))==null?void 0:_.current;i.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(y){o.push(y);const E=ip.As(m.targetId,y);l.push(E)}})))})),await Promise.all(h),i.Pu.H_(o),await(async function(m,y){const _=He(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>X.forEach(y,(R=>X.forEach(R.Es,(V=>_.persistence.referenceDelegate.addReference(E,R.targetId,V))).next((()=>X.forEach(R.ds,(V=>_.persistence.referenceDelegate.removeReference(E,R.targetId,V)))))))))}catch(E){if(!Ia(E))throw E;we(sp,"Failed to update sequence numbers: "+E)}for(const E of y){const R=E.targetId;if(!E.fromCache){const V=_.Ms.get(R),$=V.snapshotVersion,H=V.withLastLimboFreeSnapshotVersion($);_.Ms=_.Ms.insert(R,H)}}})(i.localStore,l))}async function ik(r,e){const t=He(r);if(!t.currentUser.isEqual(e)){we(fp,"User change. New user:",e.toKey());const i=await Yw(t.localStore,e);t.currentUser=e,(function(l,h){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new _e(Y.CANCELLED,h))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await jl(t,i.Ls)}}function sk(r,e){const t=He(r),i=t.Au.get(e);if(i&&i.hu)return rt().add(i.key);{let o=rt();const l=t.Iu.get(e);if(!l)return o;for(const h of l){const f=t.Tu.get(h);o=o.unionWith(f.view.nu)}return o}}function fE(r){const e=He(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=uE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ek.bind(null,e),e.Pu.H_=zP.bind(null,e.eventManager),e.Pu.yu=BP.bind(null,e.eventManager),e}function ok(r){const e=He(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nk.bind(null,e),e}class Mc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return aP(this.persistence,new iP,e.initialUser,this.serializer)}Cu(e){return new Qw(rp.mi,this.serializer)}Du(e){return new pP}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mc.provider={build:()=>new Mc};class ak extends Mc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){pt(this.persistence.referenceDelegate instanceof Nc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new $C(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new Qw((i=>Nc.mi(i,t)),this.serializer)}}class If{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Sv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ik.bind(null,this.syncEngine),await OP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FP})()}createDatastore(e){const t=eh(e.databaseInfo.databaseId),i=(function(l){return new _P(l)})(e.databaseInfo);return(function(l,h,f,m){return new IP(l,h,f,m)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,h,f){return new RP(i,o,l,h,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>Sv(this.syncEngine,t,0)),(function(){return vv.v()?new vv:new mP})())}createSyncEngine(e,t){return(function(o,l,h,f,m,y,_){const E=new GP(o,l,h,f,m,y);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=He(o);we(uo,"RemoteStore shutting down."),l.Ea.add(5),await Ul(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}If.provider={build:()=>new If};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="FirestoreClient";class uk{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Pn.UNAUTHENTICATED,this.clientId=Wf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async h=>{we(Is,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(we(Is,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new no;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=hp(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Gd(r,e){r.asyncQueue.verifyOperationInProgress(),we(Is,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await Yw(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Av(r,e){r.asyncQueue.verifyOperationInProgress();const t=await ck(r);we(Is,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>wv(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>wv(e.remoteStore,o))),r._onlineComponents=e}async function ck(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){we(Is,"Using user provided OfflineComponentProvider");try{await Gd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;ca("Error using user provided cache. Falling back to memory cache: "+t),await Gd(r,new Mc)}}else we(Is,"Using default OfflineComponentProvider"),await Gd(r,new ak(void 0));return r._offlineComponents}async function pE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(we(Is,"Using user provided OnlineComponentProvider"),await Av(r,r._uninitializedComponentsProvider._online)):(we(Is,"Using default OnlineComponentProvider"),await Av(r,new If))),r._onlineComponents}function hk(r){return pE(r).then((e=>e.syncEngine))}async function Cv(r){const e=await pE(r),t=e.eventManager;return t.onListen=KP.bind(null,e.syncEngine),t.onUnlisten=XP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=QP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=JP.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="firestore.googleapis.com",kv=!0;class xv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gE,this.ssl=kv}else this.host=e.host,this.ssl=e.ssl??kv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zC)throw new _e(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mE(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new _e(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new _e(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new _e(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new pA;switch(i.type){case"firstParty":return new vA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Pv.get(t);i&&(we("ComponentProvider","Removing Datastore"),Pv.delete(t),i.terminate())})(this),Promise.resolve()}}function dk(r,e,t,i={}){var y;r=fl(r,rh);const o=va(e),l=r._getSettings(),h={...l,emulatorOptions:r._getEmulatorOptions()},f=`${e}:${t}`;o&&(f_(`https://${f}`),p_("Firestore",!0)),l.host!==gE&&l.host!==f&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:o,emulatorOptions:i};if(!so(m,h)&&(r._setSettings(m),i.mockUserToken)){let _,E;if(typeof i.mockUserToken=="string")_=i.mockUserToken,E=Pn.MOCK_USER;else{_=UI(i.mockUserToken,(y=r._app)==null?void 0:y.options.projectId);const R=i.mockUserToken.sub||i.mockUserToken.user_id;if(!R)throw new _e(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Pn(R)}r._authCredentials=new mA(new sw(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new go(this.firestore,e,this._query)}}class Zt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}toJSON(){return{type:Zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Ol(t,Zt._jsonSchema))return new Zt(e,i||null,new Ne(wt.fromString(t.referencePath)))}}Zt._jsonSchemaVersion="firestore/documentReference/1.0",Zt._jsonSchema={type:Kt("string",Zt._jsonSchemaVersion),referencePath:Kt("string")};class ys extends go{constructor(e,t,i){super(e,t,Xf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new Ne(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function Nv(r,e,...t){if(r=Vn(r),ow("collection","path",e),r instanceof rh){const i=wt.fromString(e,...t);return By(i),new ys(r,null,i)}{if(!(r instanceof Zt||r instanceof ys))throw new _e(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(wt.fromString(e,...t));return By(i),new ys(r.firestore,null,i)}}function fk(r,e,...t){if(r=Vn(r),arguments.length===1&&(e=Wf.newId()),ow("doc","path",e),r instanceof rh){const i=wt.fromString(e,...t);return zy(i),new Zt(r,null,new Ne(i))}{if(!(r instanceof Zt||r instanceof ys))throw new _e(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(wt.fromString(e,...t));return zy(i),new Zt(r.firestore,r instanceof ys?r.converter:null,new Ne(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="AsyncQueue";class Mv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Jw(this,"async_queue_retry"),this._c=()=>{const i=qd();i&&we(Dv,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=qd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=qd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new no;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ia(e))throw e;we(Dv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,ki("INTERNAL UNHANDLED ERROR: ",Vv(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=cp.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Oe(47125,{Pc:Vv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Vv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(r){return(function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1})(r,["next","error","complete"])}class Vc extends rh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Mv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mv(e),this._firestoreClient=void 0,await e}}}function pk(r,e){const t=typeof r=="object"?r:v_(),i=typeof r=="string"?r:Ac,o=Mf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=bI("firestore");l&&dk(o,...l)}return o}function yE(r){if(r._terminated)throw new _e(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||mk(r),r._firestoreClient}function mk(r){var i,o,l;const e=r._freezeSettings(),t=(function(f,m,y,_){return new LA(f,m,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,mE(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(r._databaseId,((i=r._app)==null?void 0:i.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new uk(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yr(yn.fromBase64String(e))}catch(t){throw new _e(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yr(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ol(e,yr._jsonSchema))return yr.fromBase64String(e.bytes)}}yr._jsonSchemaVersion="firestore/bytes/1.0",yr._jsonSchema={type:Kt("string",yr._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(e){if(Ol(e,ri._jsonSchema))return new ri(e.latitude,e.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:Kt("string",ri._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ol(e,ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ii(e.vectorValues);throw new _e(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:Kt("string",ii._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=/^__.*__$/;class yk{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new po(e,this.data,this.fieldMask,t,this.fieldTransforms):new bl(e,this.data,t,this.fieldTransforms)}}function vE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:r})}}class yp{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vE(this.Ac)&&gk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vk{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||eh(e)}Cc(e,t,i,o=!1){return new yp({Ac:e,methodName:t,Dc:i,path:gn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _E(r){const e=r._freezeSettings(),t=eh(r._databaseId);return new vk(r._databaseId,!!e.ignoreUndefinedProperties,t)}function _k(r,e,t,i,o,l={}){const h=r.Cc(l.merge||l.mergeFields?2:0,e,t,o);TE("Data must be an object, but it was:",h,i);const f=wE(i,h);let m,y;if(l.merge)m=new Vr(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const R=Ek(e,E,t);if(!h.contains(R))throw new _e(Y.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Ik(_,R)||_.push(R)}m=new Vr(_),y=h.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,y=h.fieldTransforms;return new yk(new gr(f),m,y)}class vp extends gp{_toFieldTransform(e){return new aC(e.path,new Pl)}isEqual(e){return e instanceof vp}}function wk(r,e,t,i=!1){return _p(t,r.Cc(i?4:3,e))}function _p(r,e){if(EE(r=Vn(r)))return TE("Unsupported field value:",e,r),wE(r,e);if(r instanceof gp)return(function(i,o){if(!vE(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let h=0;for(const f of i){let m=_p(f,o.wc(h));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),h++}return{arrayValue:{values:l}}})(r,e)}return(function(i,o){if((i=Vn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return iC(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Et.fromDate(i);return{timestampValue:xc(o.serializer,l)}}if(i instanceof Et){const l=new Et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:xc(o.serializer,l)}}if(i instanceof ri)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof yr)return{bytesValue:zw(o.serializer,i._byteString)};if(i instanceof Zt){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:tp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof ii)return(function(h,f){return{mapValue:{fields:{[mw]:{stringValue:gw},[Cc]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw f.Sc("VectorValues must only contain numeric values.");return Jf(f.serializer,y)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${Wc(i)}`)})(r,e)}function wE(r,e){const t={};return uw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ho(r,((i,o)=>{const l=_p(o,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function EE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Et||r instanceof ri||r instanceof yr||r instanceof Zt||r instanceof gp||r instanceof ii)}function TE(r,e,t){if(!EE(t)||!aw(t)){const i=Wc(t);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function Ek(r,e,t){if((e=Vn(e))instanceof mp)return e._internalPath;if(typeof e=="string")return IE(r,e);throw Lc("Field path arguments must be of type string or ",r,!1,void 0,t)}const Tk=new RegExp("[~\\*/\\[\\]]");function IE(r,e,t){if(e.search(Tk)>=0)throw Lc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new mp(...e.split("."))._internalPath}catch{throw Lc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Lc(r,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||h)&&(m+=" (found",l&&(m+=` in field ${i}`),h&&(m+=` in document ${o}`),m+=")"),new _e(Y.INVALID_ARGUMENT,f+r+m)}function Ik(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Sk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Sk extends SE{data(){return super.data()}}function wp(r,e){return typeof e=="string"?IE(r,e):e instanceof mp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new _e(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ep{}class RE extends Ep{}function Ak(r,e,...t){let i=[];e instanceof Ep&&i.push(e),i=i.concat(t),(function(l){const h=l.filter((m=>m instanceof Ip)).length,f=l.filter((m=>m instanceof Tp)).length;if(h>1||h>0&&f>0)throw new _e(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)r=o._apply(r);return r}class Tp extends RE{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Tp(e,t,i)}_apply(e){const t=this._parse(e);return AE(e._query,t),new go(e.firestore,e.converter,ff(e._query,t))}_parse(e){const t=_E(e.firestore);return(function(l,h,f,m,y,_,E){let R;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new _e(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){bv(E,_);const $=[];for(const H of E)$.push(Ov(m,l,H));R={arrayValue:{values:$}}}else R=Ov(m,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||bv(E,_),R=wk(f,h,E,_==="in"||_==="not-in");return Gt.create(y,_,R)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ip extends Ep{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ip(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Or.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let h=o;const f=l.getFlattenedFilters();for(const m of f)AE(h,m),h=ff(h,m)})(e._query,t),new go(e.firestore,e.converter,ff(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sp extends RE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Sp(e,t)}_apply(e){const t=(function(o,l,h){if(o.startAt!==null)throw new _e(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new _e(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cl(l,h)})(e._query,this._field,this._direction);return new go(e.firestore,e.converter,(function(o,l){const h=o.explicitOrderBy.concat([l]);return new Sa(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Ck(r,e="asc"){const t=e,i=wp("orderBy",r);return Sp._create(i,t)}function Ov(r,e,t){if(typeof(t=Vn(t))=="string"){if(t==="")throw new _e(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sw(e)&&t.indexOf("/")!==-1)throw new _e(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(wt.fromString(t));if(!Ne.isDocumentKey(i))throw new _e(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Yy(r,new Ne(i))}if(t instanceof Zt)return Yy(r,t._key);throw new _e(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wc(t)}.`)}function bv(r,e){if(!Array.isArray(r)||r.length===0)throw new _e(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AE(r,e){const t=(function(o,l){for(const h of o)for(const f of h.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new _e(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Pk{convertValue(e,t="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ho(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){var i,o,l;const t=(l=(o=(i=e.fields)==null?void 0:i[Cc].arrayValue)==null?void 0:o.values)==null?void 0:l.map((h=>jt(h.doubleValue)));return new ii(t)}convertGeoPoint(e){return new ri(jt(e.latitude),jt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Kc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Sl(e));default:return null}}convertTimestamp(e){const t=_s(e);return new Et(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=wt.fromString(e);pt(Gw(i),9688,{name:e});const o=new Rl(i.get(1),i.get(3)),l=new Ne(i.popFirst(5));return o.isEqual(t)||ki(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(r,e,t){let i;return i=r?r.toFirestore(e):e,i}class cl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ro extends SE{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(wp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ro._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ro._jsonSchemaVersion="firestore/documentSnapshot/1.0",ro._jsonSchema={type:Kt("string",ro._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class fc extends ro{data(e={}){return super.data(e)}}class oa{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new cl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new fc(this._firestore,this._userDataWriter,i.key,i,new cl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((f=>{const m=new fc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new cl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new fc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new cl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),_=h.indexOf(f.doc.key)),{type:xk(f.type),doc:m,oldIndex:y,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:r})}}oa._jsonSchemaVersion="firestore/querySnapshot/1.0",oa._jsonSchema={type:Kt("string",oa._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class CE extends Pk{constructor(e){super(),this.firestore=e}convertBytes(e){return new yr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,t)}}function Nk(r,e){const t=fl(r.firestore,Vc),i=fk(r),o=kk(r.converter,e);return Mk(t,[_k(_E(r.firestore),"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,Ai.exists(!1))]).then((()=>i))}function Dk(r,...e){var m,y,_;r=Vn(r);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Lv(e[i])||(t=e[i++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Lv(e[i])){const E=e[i];e[i]=(m=E.next)==null?void 0:m.bind(E),e[i+1]=(y=E.error)==null?void 0:y.bind(E),e[i+2]=(_=E.complete)==null?void 0:_.bind(E)}let l,h,f;if(r instanceof Zt)h=fl(r.firestore,Vc),f=Xf(r._key.path),l={next:E=>{e[i]&&e[i](Vk(h,r,E))},error:e[i+1],complete:e[i+2]};else{const E=fl(r,go);h=fl(E.firestore,Vc),f=E._query;const R=new CE(h);l={next:V=>{e[i]&&e[i](new oa(h,R,E,V))},error:e[i+1],complete:e[i+2]},Rk(r._query)}return(function(R,V,$,H){const U=new lk(H),ce=new $P(V,U,$);return R.asyncQueue.enqueueAndForget((async()=>UP(await Cv(R),ce))),()=>{U.Nu(),R.asyncQueue.enqueueAndForget((async()=>jP(await Cv(R),ce)))}})(yE(h),f,o,l)}function Mk(r,e){return(function(i,o){const l=new no;return i.asyncQueue.enqueueAndForget((async()=>ZP(await hk(i),o,l))),l.promise})(yE(r),e)}function Vk(r,e,t){const i=t.docs.get(e._key),o=new CE(r);return new ro(r,o,e._key,i,new cl(t.hasPendingWrites,t.fromCache),e.converter)}function Lk(){return new vp("serverTimestamp")}(function(e,t=!0){(function(o){Ea=o})(_a),la(new oo("firestore",((i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),f=new Vc(new gA(i.getProvider("auth-internal")),new _A(h,i.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new _e(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(y.options.projectId,_)})(h,o),h);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),ms(by,Fy,e),ms(by,Fy,"esm2020")})();const Sf={apiKey:"AIzaSyBuCWmfyeRl0h6FEoS9_vlam5Hf0Zw3fW0",authDomain:"aditya-singhal-website.firebaseapp.com",projectId:"aditya-singhal-website",storageBucket:"aditya-singhal-website.appspot.com",messagingSenderId:"476753482582",appId:"1:476753482582:web:9b25b2d3cd6ff3ba66bcf7",measurementId:"G-CSRQLVW2TG"};if(!Sf.apiKey||!Sf.projectId)throw new Error("Missing required Firebase configuration");const PE=y_(Sf),Oc=dA(PE),Fv=pk(PE),Ok=({message:r="Loading..."})=>q.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",flexDirection:"column",gap:"1rem"},children:[q.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite"}}),q.jsx("p",{children:r}),q.jsx("style",{children:`
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `})]}),bk={user:null,loading:!0},kE=te.createContext(bk),Fk=({children:r})=>{const[e,t]=te.useState(null),[i,o]=te.useState(!0);return te.useEffect(()=>tR(Oc,h=>{t(h),o(!1)}),[]),i?q.jsx(Ok,{message:"Authenticating..."}):q.jsx(kE.Provider,{value:{user:e,loading:i},children:r})},Uk="/assets/react-CHdo91hT.svg",jk="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='31.88'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20257'%3e%3cdefs%3e%3clinearGradient%20id='IconifyId1813088fe1fbc01fb466'%20x1='-.828%25'%20x2='57.636%25'%20y1='7.652%25'%20y2='78.411%25'%3e%3cstop%20offset='0%25'%20stop-color='%2341D1FF'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23BD34FE'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='IconifyId1813088fe1fbc01fb467'%20x1='43.376%25'%20x2='50.316%25'%20y1='2.242%25'%20y2='89.03%25'%3e%3cstop%20offset='0%25'%20stop-color='%23FFEA83'%3e%3c/stop%3e%3cstop%20offset='8.333%25'%20stop-color='%23FFDD35'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23FFA800'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20fill='url(%23IconifyId1813088fe1fbc01fb466)'%20d='M255.153%2037.938L134.897%20252.976c-2.483%204.44-8.862%204.466-11.382.048L.875%2037.958c-2.746-4.814%201.371-10.646%206.827-9.67l120.385%2021.517a6.537%206.537%200%200%200%202.322-.004l117.867-21.483c5.438-.991%209.574%204.796%206.877%209.62Z'%3e%3c/path%3e%3cpath%20fill='url(%23IconifyId1813088fe1fbc01fb467)'%20d='M185.432.063L96.44%2017.501a3.268%203.268%200%200%200-2.634%203.014l-5.474%2092.456a3.268%203.268%200%200%200%203.997%203.378l24.777-5.718c2.318-.535%204.413%201.507%203.936%203.838l-7.361%2036.047c-.495%202.426%201.782%204.5%204.151%203.78l15.304-4.649c2.372-.72%204.652%201.36%204.15%203.788l-11.698%2056.621c-.732%203.542%203.979%205.473%205.943%202.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505%204.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z'%3e%3c/path%3e%3c/svg%3e";function zk(){const[r,e]=te.useState(0),t=jc(),i=async()=>{try{await j_(Oc),t("/")}catch(o){console.error("Error signing out:",o)}};return q.jsxs("div",{id:"private-app",children:[q.jsx("div",{style:{position:"absolute",top:"20px",right:"20px"},children:q.jsx("button",{onClick:i,children:"Logout"})}),q.jsxs("div",{children:[q.jsx("a",{href:"https://vitejs.dev",target:"_blank",children:q.jsx("img",{src:jk,className:"logo",alt:"Vite logo"})}),q.jsx("a",{href:"https://react.dev",target:"_blank",children:q.jsx("img",{src:Uk,className:"logo react",alt:"React logo"})})]}),q.jsx("h1",{children:"Vite + React"}),q.jsxs("div",{className:"card",children:[q.jsxs("button",{onClick:()=>e(o=>o+1),children:["count is ",r]}),q.jsxs("p",{children:["Edit ",q.jsx("code",{children:"src/PrivateApp.tsx"})," and save to test HMR"]})]}),q.jsx("p",{className:"read-the-docs",children:"Click on the Vite and React logos to learn more"})]})}const xE="/assets/404-DIjrbEzU.gif";class os extends te.Component{constructor(){super(...arguments);Ku(this,"state",{hasError:!1});Ku(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})});Ku(this,"handleGoHome",()=>{window.location.href="/"})}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,i){console.error("Uncaught error:",t,i)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:q.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",padding:"2rem"},children:[q.jsx("h2",{style:{fontSize:"max(2vw, 16px)",marginBottom:"1rem"},children:this.state.error?"Something went wrong":"Sorry, that was not a real page."}),this.state.error&&q.jsx("p",{style:{color:"#666",marginBottom:"1rem"},children:"We encountered an unexpected error. Please try again."}),q.jsx("img",{src:xE,alt:"Error",style:{maxWidth:"75%",height:"auto",width:"100%",marginBottom:"2rem"}}),q.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[this.state.error&&q.jsx("button",{onClick:this.handleRetry,style:{padding:"0.5rem 1rem",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Try Again"}),q.jsx("button",{onClick:this.handleGoHome,style:{padding:"0.5rem 1rem",backgroundColor:"#2ecc71",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Go Home"})]})]}):this.props.children}}const Bk=()=>{const r=()=>{window.location.href="/"};return q.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",padding:"2rem",width:"90%",maxWidth:"600px"},children:[q.jsx("h2",{style:{fontSize:"max(2vw, 16px)",marginBottom:"1rem",color:"#333"},children:"Sorry, that was not a real page."}),q.jsx("img",{src:xE,alt:"Sorry 404!",style:{maxWidth:"100%",height:"auto",marginBottom:"2rem",borderRadius:"8px"}}),q.jsx("button",{onClick:r,style:{padding:"12px 24px",backgroundColor:"#2ecc71",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"500",transition:"background-color 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#27ae60",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2ecc71",children:"Go Home"})]})};var zl={};(function r(e,t,i,o){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),h=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;var D=new OffscreenCanvas(1,1),T=D.getContext("2d");T.fillRect(0,0,1,1);var j=D.transferToImageBitmap();try{T.createPattern(j,"no-repeat")}catch{return!1}return!0})();function m(){}function y(D){var T=t.exports.Promise,j=T!==void 0?T:e.Promise;return typeof j=="function"?new j(D):(D(m,m),null)}var _=(function(D,T){return{transform:function(j){if(D)return j;if(T.has(j))return T.get(j);var J=new OffscreenCanvas(j.width,j.height),ue=J.getContext("2d");return ue.drawImage(j,0,0),T.set(j,J),J},clear:function(){T.clear()}}})(f,new Map),E=(function(){var D=Math.floor(16.666666666666668),T,j,J={},ue=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(oe){var fe=Math.random();return J[fe]=requestAnimationFrame(function le(me){ue===me||ue+D-1<me?(ue=me,delete J[fe],oe()):J[fe]=requestAnimationFrame(le)}),fe},j=function(oe){J[oe]&&cancelAnimationFrame(J[oe])}):(T=function(oe){return setTimeout(oe,D)},j=function(oe){return clearTimeout(oe)}),{frame:T,cancel:j}})(),R=(function(){var D,T,j={};function J(ue){function oe(fe,le){ue.postMessage({options:fe||{},callback:le})}ue.init=function(le){var me=le.transferControlToOffscreen();ue.postMessage({canvas:me},[me])},ue.fire=function(le,me,xe){if(T)return oe(le,null),T;var qe=Math.random().toString(36).slice(2);return T=y(function(Ye){function ze(lt){lt.data.callback===qe&&(delete j[qe],ue.removeEventListener("message",ze),T=null,_.clear(),xe(),Ye())}ue.addEventListener("message",ze),oe(le,qe),j[qe]=ze.bind(null,{data:{callback:qe}})}),T},ue.reset=function(){ue.postMessage({reset:!0});for(var le in j)j[le](),delete j[le]}}return function(){if(D)return D;if(!i&&l){var ue=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{D=new Worker(URL.createObjectURL(new Blob([ue])))}catch(oe){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",oe),null}J(D)}return D}})(),V={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function $(D,T){return T?T(D):D}function H(D){return D!=null}function U(D,T,j){return $(D&&H(D[T])?D[T]:V[T],j)}function ce(D){return D<0?0:Math.floor(D)}function re(D,T){return Math.floor(Math.random()*(T-D))+D}function pe(D){return parseInt(D,16)}function Ce(D){return D.map(je)}function je(D){var T=String(D).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:pe(T.substring(0,2)),g:pe(T.substring(2,4)),b:pe(T.substring(4,6))}}function We(D){var T=U(D,"origin",Object);return T.x=U(T,"x",Number),T.y=U(T,"y",Number),T}function S(D){D.width=document.documentElement.clientWidth,D.height=document.documentElement.clientHeight}function A(D){var T=D.getBoundingClientRect();D.width=T.width,D.height=T.height}function P(D){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=D,T}function x(D,T,j,J,ue,oe,fe,le,me){D.save(),D.translate(T,j),D.rotate(oe),D.scale(J,ue),D.arc(0,0,1,fe,le,me),D.restore()}function L(D){var T=D.angle*(Math.PI/180),j=D.spread*(Math.PI/180);return{x:D.x,y:D.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:D.startVelocity*.5+Math.random()*D.startVelocity,angle2D:-T+(.5*j-Math.random()*j),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:D.color,shape:D.shape,tick:0,totalTicks:D.ticks,decay:D.decay,drift:D.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:D.gravity*3,ovalScalar:.6,scalar:D.scalar,flat:D.flat}}function b(D,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var j=T.tick++/T.totalTicks,J=T.x+T.random*T.tiltCos,ue=T.y+T.random*T.tiltSin,oe=T.wobbleX+T.random*T.tiltCos,fe=T.wobbleY+T.random*T.tiltSin;if(D.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-j)+")",D.beginPath(),h&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))D.fill(it(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(oe-J)*.1,Math.abs(fe-ue)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var le=Math.PI/10*T.wobble,me=Math.abs(oe-J)*.1,xe=Math.abs(fe-ue)*.1,qe=T.shape.bitmap.width*T.scalar,Ye=T.shape.bitmap.height*T.scalar,ze=new DOMMatrix([Math.cos(le)*me,Math.sin(le)*me,-Math.sin(le)*xe,Math.cos(le)*xe,T.x,T.y]);ze.multiplySelf(new DOMMatrix(T.shape.matrix));var lt=D.createPattern(_.transform(T.shape.bitmap),"no-repeat");lt.setTransform(ze),D.globalAlpha=1-j,D.fillStyle=lt,D.fillRect(T.x-qe/2,T.y-Ye/2,qe,Ye),D.globalAlpha=1}else if(T.shape==="circle")D.ellipse?D.ellipse(T.x,T.y,Math.abs(oe-J)*T.ovalScalar,Math.abs(fe-ue)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):x(D,T.x,T.y,Math.abs(oe-J)*T.ovalScalar,Math.abs(fe-ue)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var $e=Math.PI/2*3,Nt=4*T.scalar,Tt=8*T.scalar,Qt=T.x,vn=T.y,ln=5,Ot=Math.PI/ln;ln--;)Qt=T.x+Math.cos($e)*Tt,vn=T.y+Math.sin($e)*Tt,D.lineTo(Qt,vn),$e+=Ot,Qt=T.x+Math.cos($e)*Nt,vn=T.y+Math.sin($e)*Nt,D.lineTo(Qt,vn),$e+=Ot;else D.moveTo(Math.floor(T.x),Math.floor(T.y)),D.lineTo(Math.floor(T.wobbleX),Math.floor(ue)),D.lineTo(Math.floor(oe),Math.floor(fe)),D.lineTo(Math.floor(J),Math.floor(T.wobbleY));return D.closePath(),D.fill(),T.tick<T.totalTicks}function k(D,T,j,J,ue){var oe=T.slice(),fe=D.getContext("2d"),le,me,xe=y(function(qe){function Ye(){le=me=null,fe.clearRect(0,0,J.width,J.height),_.clear(),ue(),qe()}function ze(){i&&!(J.width===o.width&&J.height===o.height)&&(J.width=D.width=o.width,J.height=D.height=o.height),!J.width&&!J.height&&(j(D),J.width=D.width,J.height=D.height),fe.clearRect(0,0,J.width,J.height),oe=oe.filter(function(lt){return b(fe,lt)}),oe.length?le=E.frame(ze):Ye()}le=E.frame(ze),me=Ye});return{addFettis:function(qe){return oe=oe.concat(qe),xe},canvas:D,promise:xe,reset:function(){le&&E.cancel(le),me&&me()}}}function Ge(D,T){var j=!D,J=!!U(T||{},"resize"),ue=!1,oe=U(T,"disableForReducedMotion",Boolean),fe=l&&!!U(T||{},"useWorker"),le=fe?R():null,me=j?S:A,xe=D&&le?!!D.__confetti_initialized:!1,qe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ye;function ze($e,Nt,Tt){for(var Qt=U($e,"particleCount",ce),vn=U($e,"angle",Number),ln=U($e,"spread",Number),Ot=U($e,"startVelocity",Number),Kn=U($e,"decay",Number),ai=U($e,"gravity",Number),br=U($e,"drift",Number),un=U($e,"colors",Ce),Qn=U($e,"ticks",Number),It=U($e,"shapes"),St=U($e,"scalar"),zt=!!U($e,"flat"),tn=We($e),Ln=Qt,_n=[],vr=D.width*tn.x,wn=D.height*tn.y;Ln--;)_n.push(L({x:vr,y:wn,angle:vn,spread:ln,startVelocity:Ot,color:un[Ln%un.length],shape:It[re(0,It.length)],ticks:Qn,decay:Kn,gravity:ai,drift:br,scalar:St,flat:zt}));return Ye?Ye.addFettis(_n):(Ye=k(D,_n,me,Nt,Tt),Ye.promise)}function lt($e){var Nt=oe||U($e,"disableForReducedMotion",Boolean),Tt=U($e,"zIndex",Number);if(Nt&&qe)return y(function(Ot){Ot()});j&&Ye?D=Ye.canvas:j&&!D&&(D=P(Tt),document.body.appendChild(D)),J&&!xe&&me(D);var Qt={width:D.width,height:D.height};le&&!xe&&le.init(D),xe=!0,le&&(D.__confetti_initialized=!0);function vn(){if(le){var Ot={getBoundingClientRect:function(){if(!j)return D.getBoundingClientRect()}};me(Ot),le.postMessage({resize:{width:Ot.width,height:Ot.height}});return}Qt.width=Qt.height=null}function ln(){Ye=null,J&&(ue=!1,e.removeEventListener("resize",vn)),j&&D&&(document.body.contains(D)&&document.body.removeChild(D),D=null,xe=!1)}return J&&!ue&&(ue=!0,e.addEventListener("resize",vn,!1)),le?le.fire($e,Qt,ln):ze($e,Qt,ln)}return lt.reset=function(){le&&le.reset(),Ye&&Ye.reset()},lt}var dt;function Ct(){return dt||(dt=Ge(null,{useWorker:!0,resize:!0})),dt}function it(D,T,j,J,ue,oe,fe){var le=new Path2D(D),me=new Path2D;me.addPath(le,new DOMMatrix(T));var xe=new Path2D;return xe.addPath(me,new DOMMatrix([Math.cos(fe)*ue,Math.sin(fe)*ue,-Math.sin(fe)*oe,Math.cos(fe)*oe,j,J])),xe}function ie(D){if(!h)throw new Error("path confetti are not supported in this browser");var T,j;typeof D=="string"?T=D:(T=D.path,j=D.matrix);var J=new Path2D(T),ue=document.createElement("canvas"),oe=ue.getContext("2d");if(!j){for(var fe=1e3,le=fe,me=fe,xe=0,qe=0,Ye,ze,lt=0;lt<fe;lt+=2)for(var $e=0;$e<fe;$e+=2)oe.isPointInPath(J,lt,$e,"nonzero")&&(le=Math.min(le,lt),me=Math.min(me,$e),xe=Math.max(xe,lt),qe=Math.max(qe,$e));Ye=xe-le,ze=qe-me;var Nt=10,Tt=Math.min(Nt/Ye,Nt/ze);j=[Tt,0,0,Tt,-Math.round(Ye/2+le)*Tt,-Math.round(ze/2+me)*Tt]}return{type:"path",path:T,matrix:j}}function Pe(D){var T,j=1,J="#000000",ue='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof D=="string"?T=D:(T=D.text,j="scalar"in D?D.scalar:j,ue="fontFamily"in D?D.fontFamily:ue,J="color"in D?D.color:J);var oe=10*j,fe=""+oe+"px "+ue,le=new OffscreenCanvas(oe,oe),me=le.getContext("2d");me.font=fe;var xe=me.measureText(T),qe=Math.ceil(xe.actualBoundingBoxRight+xe.actualBoundingBoxLeft),Ye=Math.ceil(xe.actualBoundingBoxAscent+xe.actualBoundingBoxDescent),ze=2,lt=xe.actualBoundingBoxLeft+ze,$e=xe.actualBoundingBoxAscent+ze;qe+=ze+ze,Ye+=ze+ze,le=new OffscreenCanvas(qe,Ye),me=le.getContext("2d"),me.font=fe,me.fillStyle=J,me.fillText(T,lt,$e);var Nt=1/j;return{type:"bitmap",bitmap:le.transferToImageBitmap(),matrix:[Nt,0,0,Nt,-qe*Nt/2,-Ye*Nt/2]}}t.exports=function(){return Ct().apply(this,arguments)},t.exports.reset=function(){Ct().reset()},t.exports.create=Ge,t.exports.shapeFromPath=ie,t.exports.shapeFromText=Pe})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),zl,!1);const Kd=zl.exports;zl.exports.create;const $k=()=>{const[r,e]=te.useState([]),[t,i]=te.useState(""),[o,l]=te.useState(null),[h,f]=te.useState(null);te.useEffect(()=>{const E=Nv(Fv,"love-ingy-messages"),R=Ak(E,Ck("timestamp","desc"));return Dk(R,$=>{const H=$.docs.map(U=>{const ce=U.data();return{id:U.id,message:ce.message,timestamp:ce.timestamp?ce.timestamp.toDate().toISOString():new Date().toISOString()}});e(H)},$=>{console.error("Error fetching messages:",$),f("Failed to load messages. Please refresh the page."),$.code==="permission-denied"&&f("Access denied. You do not have permission to view these messages.")})},[]);const m=async()=>{if(t.trim()!=="")try{const E=Nv(Fv,"love-ingy-messages");let R={message:t,timestamp:Lk()};try{const V=JSON.parse(t);V&&typeof V=="object"&&(R={message:V.text,timestamp:new Et(V.timestamp/1e3,V.timestamp%1e3)})}catch{}await Nk(E,R),i("")}catch(E){console.error("Error adding message:",E),E&&typeof E=="object"&&"code"in E&&E.code==="permission-denied"&&alert("Access denied. You do not have permission to add messages.")}},y=E=>{E.key==="Enter"&&m()},_=()=>{const E=Kd.shapeFromText({text:"💖",scalar:2});Kd({shapes:[E],scalar:1.5,spread:180,particleCount:30,origin:{y:.1},startVelocity:35,gravity:.8,drift:0,ticks:200}),setTimeout(()=>{Kd({shapes:[E],scalar:1.2,spread:120,particleCount:20,origin:{y:.2,x:.8},startVelocity:25,gravity:.6,ticks:150})},200)};return q.jsxs(q.Fragment,{children:[q.jsx("div",{className:"love-ingy-body"}),q.jsx("button",{className:"heart-button",onClick:_,title:"💖",children:"💖"}),q.jsxs("div",{className:"container",children:[h&&q.jsx("div",{style:{color:"red",marginBottom:"20px"},children:h}),q.jsx("div",{children:r.map(({id:E,message:R,timestamp:V},$)=>q.jsxs("div",{className:"love-message-container",onMouseEnter:()=>l($),onMouseLeave:()=>l(null),children:[q.jsx("p",{className:"love-message",children:R}),o===$&&q.jsx("div",{className:"tooltip",children:new Date(V).toLocaleString()})]},E))}),q.jsxs("div",{className:"add-message-container",children:[q.jsx("input",{className:"love-ingy-input",type:"text",placeholder:"Add a new love message",value:t,onChange:E=>i(E.target.value),onKeyPress:y}),q.jsx("button",{className:"love-ingy-button",onClick:m,children:"Add Love Message"})]})]})]})},Hk=()=>{const r=[{date:"Sept 24",title:"Foundations & Tool Integration",topics:["Model interaction & prompting","Tool integrations","Managed solutions demo"]},{date:"Oct 1",title:"External Systems & Memory",topics:["Identity & credential management","Local embedding models","Memory systems"]},{date:"Oct 8",title:"Multi-Agents & Deployment",topics:["Multi-agent architectures","Hosting solutions","Production considerations"]},{date:"Oct 15",title:"Project Showcase",topics:["Student presentations","Advanced patterns","Next steps"]}];return q.jsxs("div",{className:"workshop-container",children:[q.jsx("div",{className:"hero-section",children:q.jsxs("div",{className:"hero-content",children:[q.jsx("h1",{className:"workshop-title",children:q.jsx("span",{className:"gradient-text",children:"NYU Agentic AI Workshop"})}),q.jsx("p",{className:"workshop-subtitle",children:"Build cutting-edge AI agents that go beyond out-of-the-box solutions"}),q.jsxs("div",{className:"workshop-details",children:[q.jsxs("div",{className:"detail-item",children:[q.jsx("span",{className:"icon",children:"📅"}),q.jsx("span",{children:"Every Tuesday, Sept 24 - Oct 15"})]}),q.jsxs("div",{className:"detail-item",children:[q.jsx("span",{className:"icon",children:"🕐"}),q.jsx("span",{children:"5:30 PM ET"})]}),q.jsxs("div",{className:"detail-item",children:[q.jsx("span",{className:"icon",children:"🎯"}),q.jsx("span",{children:"Project-driven learning"})]})]})]})}),q.jsxs("div",{className:"content-section",children:[q.jsxs("div",{className:"objectives-section",children:[q.jsx("h2",{children:"What You'll Learn"}),q.jsxs("div",{className:"objectives-grid",children:[q.jsxs("div",{className:"objective-card",children:[q.jsx("div",{className:"objective-icon",children:"🤖"}),q.jsx("h3",{children:"Cutting-edge Agentic AI"}),q.jsx("p",{children:"Master the latest techniques in autonomous AI systems"})]}),q.jsxs("div",{className:"objective-card",children:[q.jsx("div",{className:"objective-icon",children:"🔗"}),q.jsx("h3",{children:"Protocols & Integration"}),q.jsx("p",{children:"Learn MCP and other modern AI protocols"})]}),q.jsxs("div",{className:"objective-card",children:[q.jsx("div",{className:"objective-icon",children:"⚡"}),q.jsx("h3",{children:"Personal Automation"}),q.jsx("p",{children:"Build agents for your specific use cases"})]}),q.jsxs("div",{className:"objective-card",children:[q.jsx("div",{className:"objective-icon",children:"🛠️"}),q.jsx("h3",{children:"Custom Solutions"}),q.jsx("p",{children:"Create what no existing tool can provide"})]})]})]}),q.jsxs("div",{className:"sessions-section",children:[q.jsx("h2",{children:"Workshop Sessions"}),q.jsx("div",{className:"sessions-timeline",children:r.map((e,t)=>q.jsxs("div",{className:"session-card",children:[q.jsx("div",{className:"session-date",children:e.date}),q.jsxs("div",{className:"session-content",children:[q.jsx("h3",{children:e.title}),q.jsx("ul",{children:e.topics.map((i,o)=>q.jsx("li",{children:i},o))})]})]},t))})]}),q.jsxs("div",{className:"tech-stack-section",children:[q.jsx("h2",{children:"Tech Stack"}),q.jsxs("div",{className:"tech-grid",children:[q.jsx("div",{className:"tech-item",children:"🐍 Python Notebooks"}),q.jsx("div",{className:"tech-item",children:"🦜 LangChain"}),q.jsx("div",{className:"tech-item",children:"⚡ FastAgent"}),q.jsx("div",{className:"tech-item",children:"🔧 Pydantic AI"}),q.jsx("div",{className:"tech-item",children:"🤗 HuggingFace"}),q.jsx("div",{className:"tech-item",children:"🐳 Docker"})]})]}),q.jsxs("div",{className:"format-section",children:[q.jsx("h2",{children:"Workshop Format"}),q.jsxs("div",{className:"format-grid",children:[q.jsxs("div",{className:"format-card",children:[q.jsx("h3",{children:"📚 Classroom Style"}),q.jsx("p",{children:"Interactive learning with hands-on coding"})]}),q.jsxs("div",{className:"format-card",children:[q.jsx("h3",{children:"🎬 Recorded Sessions"}),q.jsx("p",{children:"1 hour recorded + 30 mins off-camera practice"})]}),q.jsxs("div",{className:"format-card",children:[q.jsx("h3",{children:"📝 Homework & Projects"}),q.jsx("p",{children:"Build your own agent throughout the series"})]})]})]}),q.jsx("div",{className:"cta-section",children:q.jsxs("div",{className:"cta-content",children:[q.jsx("h2",{children:"Ready to Build the Future?"}),q.jsx("p",{children:"Join us for this intensive workshop series and create AI agents that solve real problems."}),q.jsx(CI,{to:"/agentic-ai-workshop/intake-form",className:"cta-button",children:"Fill Out Intake Form"}),q.jsxs("div",{className:"cta-note",children:[q.jsx("strong",{children:"Commitment Required:"})," Attend all sessions to get the most out of this workshop series."]})]})})]})]})},Uv=()=>(te.useEffect(()=>{window.location.href="https://docs.google.com/forms/d/e/1FAIpQLSdEf_CwwL0LCzbEc85b_FuPosDsZTTru0ntOFU7Mn48pevHVw/viewform?usp=sharing&ouid=108983163737349704776"},[]),q.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontFamily:"system-ui"},children:q.jsxs("div",{style:{textAlign:"center"},children:[q.jsx("h2",{children:"Redirecting to Intake Form..."}),q.jsxs("p",{children:["If you're not redirected automatically, ",q.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSdEf_CwwL0LCzbEc85b_FuPosDsZTTru0ntOFU7Mn48pevHVw/viewform?usp=sharing&ouid=108983163737349704776",style:{color:"#4ecdc4"},children:"click here"})]})]})}));function Wk(){return q.jsx("div",{style:{width:"100%",height:"100vh"},children:q.jsx("iframe",{src:"/static/index.html",title:"Aditya Singhal",style:{width:"100%",height:"100%",border:"none"}})})}const qk=()=>te.useContext(kE),Gk=({children:r})=>{const{user:e}=qk(),t=co();return e?r:q.jsx(o_,{to:"/login",state:{from:t},replace:!0})},Kk=["adityaarunsinghal@gmail.com","johannefriedman@gmail.com","johanne.friedman@gmail.com"],Qk=()=>{var h,f;const[r,e]=te.useState(!1),t=jc(),o=((f=(h=co().state)==null?void 0:h.from)==null?void 0:f.pathname)||"/",l=async()=>{e(!0);const m=new Ti;try{const _=(await ER(Oc,m)).user.email;if(_&&!Kk.includes(_)){await j_(Oc),alert("Access denied. Only Adi and Ingy can log in.");return}t(o)}catch(y){console.error(y)}finally{e(!1)}};return q.jsxs("div",{className:"login-page",children:[q.jsx("h1",{children:"Hi babydoll ;)"}),q.jsx("button",{onClick:l,disabled:r,children:r?"Logging in...":"Log in with Google"})]})},Yk=fI([{path:"/",element:q.jsx(os,{children:q.jsx(Wk,{})})},{path:"/login",element:q.jsx(os,{children:q.jsx(Qk,{})})},{path:"/private",element:q.jsx(os,{children:q.jsx(zk,{})})},{path:"/404",element:q.jsx(os,{children:q.jsx(Bk,{})})},{path:"/lovesingy",element:q.jsx(os,{children:q.jsx(Gk,{children:q.jsx($k,{})})})},{path:"/agentic-ai-workshop",element:q.jsx(os,{children:q.jsx(Hk,{})})},{path:"/agentic-ai-workshop/intake-form",element:q.jsx(os,{children:q.jsx(Uv,{})})},{path:"/intake-form",element:q.jsx(os,{children:q.jsx(Uv,{})})},{path:"/*",element:q.jsx(o_,{to:"/404",replace:!0})}]);q0.createRoot(document.getElementById("root")).render(q.jsx(zv.StrictMode,{children:q.jsx(Fk,{children:q.jsx(TI,{router:Yk})})}))});export default Xk();
