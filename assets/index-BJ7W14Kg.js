var N1=Object.defineProperty;var b1=(n,e,t)=>e in n?N1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var D1=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var _c=(n,e,t)=>b1(n,typeof e!="symbol"?e+"":e,t);var ob=D1((cb,cu)=>{function o0(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function vh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gf={exports:{}},yl={},yf={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function M1(){if(Uy)return at;Uy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.iterator;function A(T){return T===null||typeof T!="object"?null:(T=S&&T[S]||T["@@iterator"],typeof T=="function"?T:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,$={};function j(T,L,H){this.props=T,this.context=L,this.refs=$,this.updater=H||O}j.prototype.isReactComponent={},j.prototype.setState=function(T,L){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,L,"setState")},j.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function pe(){}pe.prototype=j.prototype;function ie(T,L,H){this.props=T,this.context=L,this.refs=$,this.updater=H||O}var me=ie.prototype=new pe;me.constructor=ie,U(me,j.prototype),me.isPureReactComponent=!0;var ge=Array.isArray,Pe=Object.prototype.hasOwnProperty,Ne={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function _(T,L,H){var ae,X={},te=null,oe=null;if(L!=null)for(ae in L.ref!==void 0&&(oe=L.ref),L.key!==void 0&&(te=""+L.key),L)Pe.call(L,ae)&&!C.hasOwnProperty(ae)&&(X[ae]=L[ae]);var ne=arguments.length-2;if(ne===1)X.children=H;else if(1<ne){for(var de=Array(ne),Te=0;Te<ne;Te++)de[Te]=arguments[Te+2];X.children=de}if(T&&T.defaultProps)for(ae in ne=T.defaultProps,ne)X[ae]===void 0&&(X[ae]=ne[ae]);return{$$typeof:n,type:T,key:te,ref:oe,props:X,_owner:Ne.current}}function E(T,L){return{$$typeof:n,type:T.type,key:L,ref:T.ref,props:T.props,_owner:T._owner}}function x(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function N(T){var L={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(H){return L[H]})}var b=/\/+/g;function P(T,L){return typeof T=="object"&&T!==null&&T.key!=null?N(""+T.key):L.toString(36)}function Le(T,L,H,ae,X){var te=typeof T;(te==="undefined"||te==="boolean")&&(T=null);var oe=!1;if(T===null)oe=!0;else switch(te){case"string":case"number":oe=!0;break;case"object":switch(T.$$typeof){case n:case e:oe=!0}}if(oe)return oe=T,X=X(oe),T=ae===""?"."+P(oe,0):ae,ge(X)?(H="",T!=null&&(H=T.replace(b,"$&/")+"/"),Le(X,L,H,"",function(Te){return Te})):X!=null&&(x(X)&&(X=E(X,H+(!X.key||oe&&oe.key===X.key?"":(""+X.key).replace(b,"$&/")+"/")+T)),L.push(X)),1;if(oe=0,ae=ae===""?".":ae+":",ge(T))for(var ne=0;ne<T.length;ne++){te=T[ne];var de=ae+P(te,ne);oe+=Le(te,L,H,de,X)}else if(de=A(T),typeof de=="function")for(T=de.call(T),ne=0;!(te=T.next()).done;)te=te.value,de=ae+P(te,ne++),oe+=Le(te,L,H,de,X);else if(te==="object")throw L=String(T),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return oe}function Ke(T,L,H){if(T==null)return T;var ae=[],X=0;return Le(T,ae,"","",function(te){return L.call(H,te,X++)}),ae}function ve(T){if(T._status===-1){var L=T._result;L=L(),L.then(function(H){(T._status===0||T._status===-1)&&(T._status=1,T._result=H)},function(H){(T._status===0||T._status===-1)&&(T._status=2,T._result=H)}),T._status===-1&&(T._status=0,T._result=L)}if(T._status===1)return T._result.default;throw T._result}var he={current:null},J={transition:null},ee={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:J,ReactCurrentOwner:Ne};function M(){throw Error("act(...) is not supported in production builds of React.")}return at.Children={map:Ke,forEach:function(T,L,H){Ke(T,function(){L.apply(this,arguments)},H)},count:function(T){var L=0;return Ke(T,function(){L++}),L},toArray:function(T){return Ke(T,function(L){return L})||[]},only:function(T){if(!x(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},at.Component=j,at.Fragment=t,at.Profiler=o,at.PureComponent=ie,at.StrictMode=i,at.Suspense=p,at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,at.act=M,at.cloneElement=function(T,L,H){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var ae=U({},T.props),X=T.key,te=T.ref,oe=T._owner;if(L!=null){if(L.ref!==void 0&&(te=L.ref,oe=Ne.current),L.key!==void 0&&(X=""+L.key),T.type&&T.type.defaultProps)var ne=T.type.defaultProps;for(de in L)Pe.call(L,de)&&!C.hasOwnProperty(de)&&(ae[de]=L[de]===void 0&&ne!==void 0?ne[de]:L[de])}var de=arguments.length-2;if(de===1)ae.children=H;else if(1<de){ne=Array(de);for(var Te=0;Te<de;Te++)ne[Te]=arguments[Te+2];ae.children=ne}return{$$typeof:n,type:T.type,key:X,ref:te,props:ae,_owner:oe}},at.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:l,_context:T},T.Consumer=T},at.createElement=_,at.createFactory=function(T){var L=_.bind(null,T);return L.type=T,L},at.createRef=function(){return{current:null}},at.forwardRef=function(T){return{$$typeof:f,render:T}},at.isValidElement=x,at.lazy=function(T){return{$$typeof:w,_payload:{_status:-1,_result:T},_init:ve}},at.memo=function(T,L){return{$$typeof:g,type:T,compare:L===void 0?null:L}},at.startTransition=function(T){var L=J.transition;J.transition={};try{T()}finally{J.transition=L}},at.unstable_act=M,at.useCallback=function(T,L){return he.current.useCallback(T,L)},at.useContext=function(T){return he.current.useContext(T)},at.useDebugValue=function(){},at.useDeferredValue=function(T){return he.current.useDeferredValue(T)},at.useEffect=function(T,L){return he.current.useEffect(T,L)},at.useId=function(){return he.current.useId()},at.useImperativeHandle=function(T,L,H){return he.current.useImperativeHandle(T,L,H)},at.useInsertionEffect=function(T,L){return he.current.useInsertionEffect(T,L)},at.useLayoutEffect=function(T,L){return he.current.useLayoutEffect(T,L)},at.useMemo=function(T,L){return he.current.useMemo(T,L)},at.useReducer=function(T,L,H){return he.current.useReducer(T,L,H)},at.useRef=function(T){return he.current.useRef(T)},at.useState=function(T){return he.current.useState(T)},at.useSyncExternalStore=function(T,L,H){return he.current.useSyncExternalStore(T,L,H)},at.useTransition=function(){return he.current.useTransition()},at.version="18.3.1",at}var zy;function wp(){return zy||(zy=1,yf.exports=M1()),yf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function O1(){if(By)return yl;By=1;var n=wp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,g){var w,S={},A=null,O=null;g!==void 0&&(A=""+g),p.key!==void 0&&(A=""+p.key),p.ref!==void 0&&(O=p.ref);for(w in p)i.call(p,w)&&!l.hasOwnProperty(w)&&(S[w]=p[w]);if(f&&f.defaultProps)for(w in p=f.defaultProps,p)S[w]===void 0&&(S[w]=p[w]);return{$$typeof:e,type:f,key:A,ref:O,props:S,_owner:o.current}}return yl.Fragment=t,yl.jsx=c,yl.jsxs=c,yl}var $y;function L1(){return $y||($y=1,gf.exports=O1()),gf.exports}var R=L1(),W=wp();const a0=vh(W),V1=o0({__proto__:null,default:a0},[W]);var wc={},vf={exports:{}},Xn={},_f={exports:{}},wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function F1(){return Wy||(Wy=1,(function(n){function e(J,ee){var M=J.length;J.push(ee);e:for(;0<M;){var T=M-1>>>1,L=J[T];if(0<o(L,ee))J[T]=ee,J[M]=L,M=T;else break e}}function t(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var ee=J[0],M=J.pop();if(M!==ee){J[0]=M;e:for(var T=0,L=J.length,H=L>>>1;T<H;){var ae=2*(T+1)-1,X=J[ae],te=ae+1,oe=J[te];if(0>o(X,M))te<L&&0>o(oe,X)?(J[T]=oe,J[te]=M,T=te):(J[T]=X,J[ae]=M,T=ae);else if(te<L&&0>o(oe,M))J[T]=oe,J[te]=M,T=te;else break e}}return ee}function o(J,ee){var M=J.sortIndex-ee.sortIndex;return M!==0?M:J.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],g=[],w=1,S=null,A=3,O=!1,U=!1,$=!1,j=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function me(J){for(var ee=t(g);ee!==null;){if(ee.callback===null)i(g);else if(ee.startTime<=J)i(g),ee.sortIndex=ee.expirationTime,e(p,ee);else break;ee=t(g)}}function ge(J){if($=!1,me(J),!U)if(t(p)!==null)U=!0,ve(Pe);else{var ee=t(g);ee!==null&&he(ge,ee.startTime-J)}}function Pe(J,ee){U=!1,$&&($=!1,pe(_),_=-1),O=!0;var M=A;try{for(me(ee),S=t(p);S!==null&&(!(S.expirationTime>ee)||J&&!N());){var T=S.callback;if(typeof T=="function"){S.callback=null,A=S.priorityLevel;var L=T(S.expirationTime<=ee);ee=n.unstable_now(),typeof L=="function"?S.callback=L:S===t(p)&&i(p),me(ee)}else i(p);S=t(p)}if(S!==null)var H=!0;else{var ae=t(g);ae!==null&&he(ge,ae.startTime-ee),H=!1}return H}finally{S=null,A=M,O=!1}}var Ne=!1,C=null,_=-1,E=5,x=-1;function N(){return!(n.unstable_now()-x<E)}function b(){if(C!==null){var J=n.unstable_now();x=J;var ee=!0;try{ee=C(!0,J)}finally{ee?P():(Ne=!1,C=null)}}else Ne=!1}var P;if(typeof ie=="function")P=function(){ie(b)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,Ke=Le.port2;Le.port1.onmessage=b,P=function(){Ke.postMessage(null)}}else P=function(){j(b,0)};function ve(J){C=J,Ne||(Ne=!0,P())}function he(J,ee){_=j(function(){J(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_continueExecution=function(){U||O||(U=!0,ve(Pe))},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(J){switch(A){case 1:case 2:case 3:var ee=3;break;default:ee=A}var M=A;A=ee;try{return J()}finally{A=M}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(J,ee){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var M=A;A=J;try{return ee()}finally{A=M}},n.unstable_scheduleCallback=function(J,ee,M){var T=n.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?T+M:T):M=T,J){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=M+L,J={id:w++,callback:ee,priorityLevel:J,startTime:M,expirationTime:L,sortIndex:-1},M>T?(J.sortIndex=M,e(g,J),t(p)===null&&J===t(g)&&($?(pe(_),_=-1):$=!0,he(ge,M-T))):(J.sortIndex=L,e(p,J),U||O||(U=!0,ve(Pe))),J},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(J){var ee=A;return function(){var M=A;A=ee;try{return J.apply(this,arguments)}finally{A=M}}}})(wf)),wf}var Hy;function j1(){return Hy||(Hy=1,_f.exports=F1()),_f.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function U1(){if(qy)return Xn;qy=1;var n=wp(),e=j1();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},S={};function A(r){return p.call(S,r)?!0:p.call(w,r)?!1:g.test(r)?S[r]=!0:(w[r]=!0,!1)}function O(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function U(r,s,a,h){if(s===null||typeof s>"u"||O(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function $(r,s,a,h,d,y,I){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=I}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new $(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];j[s]=new $(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new $(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new $(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new $(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new $(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new $(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new $(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new $(r,5,!1,r.toLowerCase(),null,!1,!1)});var pe=/[\-:]([a-z])/g;function ie(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(pe,ie);j[s]=new $(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(pe,ie);j[s]=new $(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(pe,ie);j[s]=new $(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new $(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new $(r,1,!1,r.toLowerCase(),null,!0,!0)});function me(r,s,a,h){var d=j.hasOwnProperty(s)?j[s]:null;(d!==null?d.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(U(s,a,d,h)&&(a=null),h||d===null?A(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,h=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var ge=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pe=Symbol.for("react.element"),Ne=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),N=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),Ke=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),J=Symbol.iterator;function ee(r){return r===null||typeof r!="object"?null:(r=J&&r[J]||r["@@iterator"],typeof r=="function"?r:null)}var M=Object.assign,T;function L(r){if(T===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);T=s&&s[1]||""}return`
`+T+r}var H=!1;function ae(r,s){if(!r||H)return"";H=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Y){var h=Y}Reflect.construct(r,[],s)}else{try{s.call()}catch(Y){h=Y}r.call(s.prototype)}else{try{throw Error()}catch(Y){h=Y}r()}}catch(Y){if(Y&&h&&typeof Y.stack=="string"){for(var d=Y.stack.split(`
`),y=h.stack.split(`
`),I=d.length-1,D=y.length-1;1<=I&&0<=D&&d[I]!==y[D];)D--;for(;1<=I&&0<=D;I--,D--)if(d[I]!==y[D]){if(I!==1||D!==1)do if(I--,D--,0>D||d[I]!==y[D]){var F=`
`+d[I].replace(" at new "," at ");return r.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",r.displayName)),F}while(1<=I&&0<=D);break}}}finally{H=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?L(r):""}function X(r){switch(r.tag){case 5:return L(r.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return r=ae(r.type,!1),r;case 11:return r=ae(r.type.render,!1),r;case 1:return r=ae(r.type,!0),r;default:return""}}function te(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case Ne:return"Portal";case E:return"Profiler";case _:return"StrictMode";case P:return"Suspense";case Le:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case x:return(r._context.displayName||"Context")+".Provider";case b:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ke:return s=r.displayName||null,s!==null?s:te(r.type)||"Memo";case ve:s=r._payload,r=r._init;try{return te(r(s))}catch{}}return null}function oe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(s);case 8:return s===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ne(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function de(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Te(r){var s=de(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,y=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(I){h=""+I,y.call(this,I)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function _e(r){r._valueTracker||(r._valueTracker=Te(r))}function Ie(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=de(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function Be(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ae(r,s){var a=s.checked;return M({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function $e(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=ne(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Fe(r,s){s=s.checked,s!=null&&me(r,"checked",s,!1)}function ht(r,s){Fe(r,s);var a=ne(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?rt(r,s.type,a):s.hasOwnProperty("defaultValue")&&rt(r,s.type,ne(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Ye(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function rt(r,s,a){(s!=="number"||Be(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var it=Array.isArray;function en(r,s,a,h){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&h&&(r[a].defaultSelected=!0)}else{for(a=""+ne(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,h&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function tn(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return M({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function xn(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(it(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:ne(a)}}function yt(r,s){var a=ne(s.value),h=ne(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function Vt(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function tt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function st(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?tt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var St,qt=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,d)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(St=St||document.createElement("div"),St.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=St.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function _n(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var zt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kt=["Webkit","ms","Moz","O"];Object.keys(zt).forEach(function(r){Kt.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),zt[s]=zt[r]})});function Gt(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||zt.hasOwnProperty(r)&&zt[r]?(""+s).trim():s+"px"}function Rr(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,d=Gt(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,d):r[a]=d}}var Ui=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zi(r,s){if(s){if(Ui[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Vs(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hr=null;function Ar(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var gi=null,kn=null,$n=null;function Bi(r){if(r=nl(r)){if(typeof gi!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Mu(s),gi(r.stateNode,r.type,s))}}function nr(r){kn?$n?$n.push(r):$n=[r]:kn=r}function Fs(){if(kn){var r=kn,s=$n;if($n=kn=null,Bi(r),s)for(r=0;r<s.length;r++)Bi(s[r])}}function qr(r,s){return r(s)}function Kr(){}var Wn=!1;function js(r,s,a){if(Wn)return r(s,a);Wn=!0;try{return qr(r,s,a)}finally{Wn=!1,(kn!==null||$n!==null)&&(Kr(),Fs())}}function Bt(r,s){var a=r.stateNode;if(a===null)return null;var h=Mu(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var V=!1;if(f)try{var B={};Object.defineProperty(B,"passive",{get:function(){V=!0}}),window.addEventListener("test",B,B),window.removeEventListener("test",B,B)}catch{V=!1}function Q(r,s,a,h,d,y,I,D,F){var Y=Array.prototype.slice.call(arguments,3);try{s.apply(a,Y)}catch(ce){this.onError(ce)}}var le=!1,Ee=null,De=!1,We=null,Me={onError:function(r){le=!0,Ee=r}};function be(r,s,a,h,d,y,I,D,F){le=!1,Ee=null,Q.apply(Me,arguments)}function Ce(r,s,a,h,d,y,I,D,F){if(be.apply(this,arguments),le){if(le){var Y=Ee;le=!1,Ee=null}else throw Error(t(198));De||(De=!0,We=Y)}}function xe(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Ge(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Ze(r){if(xe(r)!==r)throw Error(t(188))}function Qt(r){var s=r.alternate;if(!s){if(s=xe(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var d=a.return;if(d===null)break;var y=d.alternate;if(y===null){if(h=d.return,h!==null){a=h;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===a)return Ze(d),r;if(y===h)return Ze(d),s;y=y.sibling}throw Error(t(188))}if(a.return!==h.return)a=d,h=y;else{for(var I=!1,D=d.child;D;){if(D===a){I=!0,a=d,h=y;break}if(D===h){I=!0,h=d,a=y;break}D=D.sibling}if(!I){for(D=y.child;D;){if(D===a){I=!0,a=y,h=d;break}if(D===h){I=!0,h=y,a=d;break}D=D.sibling}if(!I)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function Tt(r){return r=Qt(r),r!==null?ot(r):null}function ot(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=ot(r);if(s!==null)return s;r=r.sibling}return null}var Ct=e.unstable_scheduleCallback,dr=e.unstable_cancelCallback,Gr=e.unstable_shouldYield,rr=e.unstable_requestPaint,lt=e.unstable_now,$i=e.unstable_getCurrentPriorityLevel,ir=e.unstable_ImmediatePriority,Pn=e.unstable_UserBlockingPriority,wn=e.unstable_NormalPriority,Qr=e.unstable_LowPriority,ut=e.unstable_IdlePriority,Rt=null,nn=null;function Yr(r){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Rt,r,void 0,(r.current.flags&128)===128)}catch{}}var dt=Math.clz32?Math.clz32:Ao,fr=Math.log,Us=Math.LN2;function Ao(r){return r>>>=0,r===0?32:31-(fr(r)/Us|0)|0}var Co=64,xo=4194304;function Wi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function zs(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,d=r.suspendedLanes,y=r.pingedLanes,I=a&268435455;if(I!==0){var D=I&~d;D!==0?h=Wi(D):(y&=I,y!==0&&(h=Wi(y)))}else I=a&~d,I!==0?h=Wi(I):y!==0&&(h=Wi(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&d)===0&&(d=h&-h,y=s&-s,d>=y||d===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-dt(s),d=1<<a,h|=r[a],s&=~d;return h}function Hh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yi(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,d=r.expirationTimes,y=r.pendingLanes;0<y;){var I=31-dt(y),D=1<<I,F=d[I];F===-1?((D&a)===0||(D&h)!==0)&&(d[I]=Hh(D,s)):F<=s&&(r.expiredLanes|=D),y&=~D}}function sr(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Bs(){var r=Co;return Co<<=1,(Co&4194240)===0&&(Co=64),r}function Hi(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function qi(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-dt(s),r[s]=a}function Pt(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-dt(a),y=1<<d;s[d]=0,h[d]=-1,r[d]=-1,a&=~y}}function Ki(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-dt(a),d=1<<h;d&s|r[h]&s&&(r[h]|=s),a&=~d}}var gt=0;function Gi(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var fu,ko,pu,mu,gu,za=!1,Jr=[],En=null,Cr=null,xr=null,Qi=new Map,pr=new Map,Xr=[],qh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yu(r,s){switch(r){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":Qi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":pr.delete(s.pointerId)}}function Hn(r,s,a,h,d,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:y,targetContainers:[d]},s!==null&&(s=nl(s),s!==null&&ko(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function Kh(r,s,a,h,d){switch(s){case"focusin":return En=Hn(En,r,s,a,h,d),!0;case"dragenter":return Cr=Hn(Cr,r,s,a,h,d),!0;case"mouseover":return xr=Hn(xr,r,s,a,h,d),!0;case"pointerover":var y=d.pointerId;return Qi.set(y,Hn(Qi.get(y)||null,r,s,a,h,d)),!0;case"gotpointercapture":return y=d.pointerId,pr.set(y,Hn(pr.get(y)||null,r,s,a,h,d)),!0}return!1}function vu(r){var s=Ks(r.target);if(s!==null){var a=xe(s);if(a!==null){if(s=a.tag,s===13){if(s=Ge(a),s!==null){r.blockedOn=s,gu(r.priority,function(){pu(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function vi(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Po(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Hr=h,a.target.dispatchEvent(h),Hr=null}else return s=nl(a),s!==null&&ko(s),r.blockedOn=a,!1;s.shift()}return!0}function $s(r,s,a){vi(r)&&a.delete(s)}function _u(){za=!1,En!==null&&vi(En)&&(En=null),Cr!==null&&vi(Cr)&&(Cr=null),xr!==null&&vi(xr)&&(xr=null),Qi.forEach($s),pr.forEach($s)}function kr(r,s){r.blockedOn===s&&(r.blockedOn=null,za||(za=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_u)))}function Pr(r){function s(d){return kr(d,r)}if(0<Jr.length){kr(Jr[0],r);for(var a=1;a<Jr.length;a++){var h=Jr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(En!==null&&kr(En,r),Cr!==null&&kr(Cr,r),xr!==null&&kr(xr,r),Qi.forEach(s),pr.forEach(s),a=0;a<Xr.length;a++)h=Xr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<Xr.length&&(a=Xr[0],a.blockedOn===null);)vu(a),a.blockedOn===null&&Xr.shift()}var _i=ge.ReactCurrentBatchConfig,Yi=!0;function Ft(r,s,a,h){var d=gt,y=_i.transition;_i.transition=null;try{gt=1,Ba(r,s,a,h)}finally{gt=d,_i.transition=y}}function Gh(r,s,a,h){var d=gt,y=_i.transition;_i.transition=null;try{gt=4,Ba(r,s,a,h)}finally{gt=d,_i.transition=y}}function Ba(r,s,a,h){if(Yi){var d=Po(r,s,a,h);if(d===null)sd(r,s,h,Ws,a),yu(r,h);else if(Kh(d,r,s,a,h))h.stopPropagation();else if(yu(r,h),s&4&&-1<qh.indexOf(r)){for(;d!==null;){var y=nl(d);if(y!==null&&fu(y),y=Po(r,s,a,h),y===null&&sd(r,s,h,Ws,a),y===d)break;d=y}d!==null&&h.stopPropagation()}else sd(r,s,h,null,a)}}var Ws=null;function Po(r,s,a,h){if(Ws=null,r=Ar(h),r=Ks(r),r!==null)if(s=xe(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Ge(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ws=r,null}function $a(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($i()){case ir:return 1;case Pn:return 4;case wn:case Qr:return 16;case ut:return 536870912;default:return 16}default:return 16}}var or=null,No=null,qn=null;function Wa(){if(qn)return qn;var r,s=No,a=s.length,h,d="value"in or?or.value:or.textContent,y=d.length;for(r=0;r<a&&s[r]===d[r];r++);var I=a-r;for(h=1;h<=I&&s[a-h]===d[y-h];h++);return qn=d.slice(r,1<h?1-h:void 0)}function bo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Zr(){return!0}function Ha(){return!1}function Tn(r){function s(a,h,d,y,I){this._reactName=a,this._targetInst=d,this.type=h,this.nativeEvent=y,this.target=I,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(a=r[D],this[D]=a?a(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Zr:Ha,this.isPropagationStopped=Ha,this}return M(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),s}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Do=Tn(Nr),ei=M({},Nr,{view:0,detail:0}),Qh=Tn(ei),Mo,wi,Ji,Hs=M({},ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ti,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ji&&(Ji&&r.type==="mousemove"?(Mo=r.screenX-Ji.screenX,wi=r.screenY-Ji.screenY):wi=Mo=0,Ji=r),Mo)},movementY:function(r){return"movementY"in r?r.movementY:wi}}),Oo=Tn(Hs),qa=M({},Hs,{dataTransfer:0}),wu=Tn(qa),Lo=M({},ei,{relatedTarget:0}),Vo=Tn(Lo),Eu=M({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ei=Tn(Eu),Tu=M({},Nr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Iu=Tn(Tu),Su=M({},Nr,{data:0}),Ka=Tn(Su),Fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Ru[r])?!!s[r]:!1}function ti(){return Au}var u=M({},ei,{key:function(r){if(r.key){var s=Fo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=bo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?jn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ti,charCode:function(r){return r.type==="keypress"?bo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?bo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Tn(u),v=M({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k=Tn(v),q=M({},ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ti}),Z=Tn(q),we=M({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),xt=Tn(we),cn=M({},Hs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),vt=Tn(cn),pn=[9,13,27,32],rn=f&&"CompositionEvent"in window,mr=null;f&&"documentMode"in document&&(mr=document.documentMode);var ar=f&&"TextEvent"in window&&!mr,qs=f&&(!rn||mr&&8<mr&&11>=mr),jo=" ",Mm=!1;function Om(r,s){switch(r){case"keyup":return pn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Uo=!1;function xT(r,s){switch(r){case"compositionend":return Lm(s);case"keypress":return s.which!==32?null:(Mm=!0,jo);case"textInput":return r=s.data,r===jo&&Mm?null:r;default:return null}}function kT(r,s){if(Uo)return r==="compositionend"||!rn&&Om(r,s)?(r=Wa(),qn=No=or=null,Uo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return qs&&s.locale!=="ko"?null:s.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!PT[r.type]:s==="textarea"}function Fm(r,s,a,h){nr(h),s=Nu(s,"onChange"),0<s.length&&(a=new Do("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var Ga=null,Qa=null;function NT(r){ng(r,0)}function Cu(r){var s=Ho(r);if(Ie(s))return r}function bT(r,s){if(r==="change")return s}var jm=!1;if(f){var Yh;if(f){var Jh="oninput"in document;if(!Jh){var Um=document.createElement("div");Um.setAttribute("oninput","return;"),Jh=typeof Um.oninput=="function"}Yh=Jh}else Yh=!1;jm=Yh&&(!document.documentMode||9<document.documentMode)}function zm(){Ga&&(Ga.detachEvent("onpropertychange",Bm),Qa=Ga=null)}function Bm(r){if(r.propertyName==="value"&&Cu(Qa)){var s=[];Fm(s,Qa,r,Ar(r)),js(NT,s)}}function DT(r,s,a){r==="focusin"?(zm(),Ga=s,Qa=a,Ga.attachEvent("onpropertychange",Bm)):r==="focusout"&&zm()}function MT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Cu(Qa)}function OT(r,s){if(r==="click")return Cu(s)}function LT(r,s){if(r==="input"||r==="change")return Cu(s)}function VT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var br=typeof Object.is=="function"?Object.is:VT;function Ya(r,s){if(br(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var d=a[h];if(!p.call(s,d)||!br(r[d],s[d]))return!1}return!0}function $m(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Wm(r,s){var a=$m(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$m(a)}}function Hm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Hm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function qm(){for(var r=window,s=Be();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Be(r.document)}return s}function Xh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function FT(r){var s=qm(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Hm(a.ownerDocument.documentElement,a)){if(h!==null&&Xh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,y=Math.min(h.start,d);h=h.end===void 0?y:Math.min(h.end,d),!r.extend&&y>h&&(d=h,h=y,y=d),d=Wm(a,y);var I=Wm(a,h);d&&I&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==I.node||r.focusOffset!==I.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(I.node,I.offset)):(s.setEnd(I.node,I.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var jT=f&&"documentMode"in document&&11>=document.documentMode,zo=null,Zh=null,Ja=null,ed=!1;function Km(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ed||zo==null||zo!==Be(h)||(h=zo,"selectionStart"in h&&Xh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ja&&Ya(Ja,h)||(Ja=h,h=Nu(Zh,"onSelect"),0<h.length&&(s=new Do("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=zo)))}function xu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Bo={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionend:xu("Transition","TransitionEnd")},td={},Gm={};f&&(Gm=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function ku(r){if(td[r])return td[r];if(!Bo[r])return r;var s=Bo[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Gm)return td[r]=s[a];return r}var Qm=ku("animationend"),Ym=ku("animationiteration"),Jm=ku("animationstart"),Xm=ku("transitionend"),Zm=new Map,eg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xi(r,s){Zm.set(r,s),l(s,[r])}for(var nd=0;nd<eg.length;nd++){var rd=eg[nd],UT=rd.toLowerCase(),zT=rd[0].toUpperCase()+rd.slice(1);Xi(UT,"on"+zT)}Xi(Qm,"onAnimationEnd"),Xi(Ym,"onAnimationIteration"),Xi(Jm,"onAnimationStart"),Xi("dblclick","onDoubleClick"),Xi("focusin","onFocus"),Xi("focusout","onBlur"),Xi(Xm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xa));function tg(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Ce(h,s,void 0,r),r.currentTarget=null}function ng(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],d=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var I=h.length-1;0<=I;I--){var D=h[I],F=D.instance,Y=D.currentTarget;if(D=D.listener,F!==y&&d.isPropagationStopped())break e;tg(d,D,Y),y=F}else for(I=0;I<h.length;I++){if(D=h[I],F=D.instance,Y=D.currentTarget,D=D.listener,F!==y&&d.isPropagationStopped())break e;tg(d,D,Y),y=F}}}if(De)throw r=We,De=!1,We=null,r}function Ot(r,s){var a=s[hd];a===void 0&&(a=s[hd]=new Set);var h=r+"__bubble";a.has(h)||(rg(s,r,2,!1),a.add(h))}function id(r,s,a){var h=0;s&&(h|=4),rg(a,r,h,s)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Za(r){if(!r[Pu]){r[Pu]=!0,i.forEach(function(a){a!=="selectionchange"&&(BT.has(a)||id(a,!1,r),id(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Pu]||(s[Pu]=!0,id("selectionchange",!1,s))}}function rg(r,s,a,h){switch($a(s)){case 1:var d=Ft;break;case 4:d=Gh;break;default:d=Ba}a=d.bind(null,s,a,r),d=void 0,!V||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),h?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function sd(r,s,a,h,d){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var D=h.stateNode.containerInfo;if(D===d||D.nodeType===8&&D.parentNode===d)break;if(I===4)for(I=h.return;I!==null;){var F=I.tag;if((F===3||F===4)&&(F=I.stateNode.containerInfo,F===d||F.nodeType===8&&F.parentNode===d))return;I=I.return}for(;D!==null;){if(I=Ks(D),I===null)return;if(F=I.tag,F===5||F===6){h=y=I;continue e}D=D.parentNode}}h=h.return}js(function(){var Y=y,ce=Ar(a),fe=[];e:{var ue=Zm.get(r);if(ue!==void 0){var Re=Do,Ve=r;switch(r){case"keypress":if(bo(a)===0)break e;case"keydown":case"keyup":Re=m;break;case"focusin":Ve="focus",Re=Vo;break;case"focusout":Ve="blur",Re=Vo;break;case"beforeblur":case"afterblur":Re=Vo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=Z;break;case Qm:case Ym:case Jm:Re=Ei;break;case Xm:Re=xt;break;case"scroll":Re=Qh;break;case"wheel":Re=vt;break;case"copy":case"cut":case"paste":Re=Iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=k}var je=(s&4)!==0,Jt=!je&&r==="scroll",K=je?ue!==null?ue+"Capture":null:ue;je=[];for(var z=Y,G;z!==null;){G=z;var ye=G.stateNode;if(G.tag===5&&ye!==null&&(G=ye,K!==null&&(ye=Bt(z,K),ye!=null&&je.push(el(z,ye,G)))),Jt)break;z=z.return}0<je.length&&(ue=new Re(ue,Ve,null,a,ce),fe.push({event:ue,listeners:je}))}}if((s&7)===0){e:{if(ue=r==="mouseover"||r==="pointerover",Re=r==="mouseout"||r==="pointerout",ue&&a!==Hr&&(Ve=a.relatedTarget||a.fromElement)&&(Ks(Ve)||Ve[Ti]))break e;if((Re||ue)&&(ue=ce.window===ce?ce:(ue=ce.ownerDocument)?ue.defaultView||ue.parentWindow:window,Re?(Ve=a.relatedTarget||a.toElement,Re=Y,Ve=Ve?Ks(Ve):null,Ve!==null&&(Jt=xe(Ve),Ve!==Jt||Ve.tag!==5&&Ve.tag!==6)&&(Ve=null)):(Re=null,Ve=Y),Re!==Ve)){if(je=Oo,ye="onMouseLeave",K="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(je=k,ye="onPointerLeave",K="onPointerEnter",z="pointer"),Jt=Re==null?ue:Ho(Re),G=Ve==null?ue:Ho(Ve),ue=new je(ye,z+"leave",Re,a,ce),ue.target=Jt,ue.relatedTarget=G,ye=null,Ks(ce)===Y&&(je=new je(K,z+"enter",Ve,a,ce),je.target=G,je.relatedTarget=Jt,ye=je),Jt=ye,Re&&Ve)t:{for(je=Re,K=Ve,z=0,G=je;G;G=$o(G))z++;for(G=0,ye=K;ye;ye=$o(ye))G++;for(;0<z-G;)je=$o(je),z--;for(;0<G-z;)K=$o(K),G--;for(;z--;){if(je===K||K!==null&&je===K.alternate)break t;je=$o(je),K=$o(K)}je=null}else je=null;Re!==null&&ig(fe,ue,Re,je,!1),Ve!==null&&Jt!==null&&ig(fe,Jt,Ve,je,!0)}}e:{if(ue=Y?Ho(Y):window,Re=ue.nodeName&&ue.nodeName.toLowerCase(),Re==="select"||Re==="input"&&ue.type==="file")var Ue=bT;else if(Vm(ue))if(jm)Ue=LT;else{Ue=MT;var He=DT}else(Re=ue.nodeName)&&Re.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Ue=OT);if(Ue&&(Ue=Ue(r,Y))){Fm(fe,Ue,a,ce);break e}He&&He(r,ue,Y),r==="focusout"&&(He=ue._wrapperState)&&He.controlled&&ue.type==="number"&&rt(ue,"number",ue.value)}switch(He=Y?Ho(Y):window,r){case"focusin":(Vm(He)||He.contentEditable==="true")&&(zo=He,Zh=Y,Ja=null);break;case"focusout":Ja=Zh=zo=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,Km(fe,a,ce);break;case"selectionchange":if(jT)break;case"keydown":case"keyup":Km(fe,a,ce)}var qe;if(rn)e:{switch(r){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Uo?Om(r,a)&&(Je="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Je="onCompositionStart");Je&&(qs&&a.locale!=="ko"&&(Uo||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Uo&&(qe=Wa()):(or=ce,No="value"in or?or.value:or.textContent,Uo=!0)),He=Nu(Y,Je),0<He.length&&(Je=new Ka(Je,r,null,a,ce),fe.push({event:Je,listeners:He}),qe?Je.data=qe:(qe=Lm(a),qe!==null&&(Je.data=qe)))),(qe=ar?xT(r,a):kT(r,a))&&(Y=Nu(Y,"onBeforeInput"),0<Y.length&&(ce=new Ka("onBeforeInput","beforeinput",null,a,ce),fe.push({event:ce,listeners:Y}),ce.data=qe))}ng(fe,s)})}function el(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Nu(r,s){for(var a=s+"Capture",h=[];r!==null;){var d=r,y=d.stateNode;d.tag===5&&y!==null&&(d=y,y=Bt(r,a),y!=null&&h.unshift(el(r,y,d)),y=Bt(r,s),y!=null&&h.push(el(r,y,d))),r=r.return}return h}function $o(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function ig(r,s,a,h,d){for(var y=s._reactName,I=[];a!==null&&a!==h;){var D=a,F=D.alternate,Y=D.stateNode;if(F!==null&&F===h)break;D.tag===5&&Y!==null&&(D=Y,d?(F=Bt(a,y),F!=null&&I.unshift(el(a,F,D))):d||(F=Bt(a,y),F!=null&&I.push(el(a,F,D)))),a=a.return}I.length!==0&&r.push({event:s,listeners:I})}var $T=/\r\n?/g,WT=/\u0000|\uFFFD/g;function sg(r){return(typeof r=="string"?r:""+r).replace($T,`
`).replace(WT,"")}function bu(r,s,a){if(s=sg(s),sg(r)!==s&&a)throw Error(t(425))}function Du(){}var od=null,ad=null;function ld(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ud=typeof setTimeout=="function"?setTimeout:void 0,HT=typeof clearTimeout=="function"?clearTimeout:void 0,og=typeof Promise=="function"?Promise:void 0,qT=typeof queueMicrotask=="function"?queueMicrotask:typeof og<"u"?function(r){return og.resolve(null).then(r).catch(KT)}:ud;function KT(r){setTimeout(function(){throw r})}function cd(r,s){var a=s,h=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(h===0){r.removeChild(d),Pr(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=d}while(a);Pr(s)}function Zi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function ag(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Wo=Math.random().toString(36).slice(2),ni="__reactFiber$"+Wo,tl="__reactProps$"+Wo,Ti="__reactContainer$"+Wo,hd="__reactEvents$"+Wo,GT="__reactListeners$"+Wo,QT="__reactHandles$"+Wo;function Ks(r){var s=r[ni];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Ti]||a[ni]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=ag(r);r!==null;){if(a=r[ni])return a;r=ag(r)}return s}r=a,a=r.parentNode}return null}function nl(r){return r=r[ni]||r[Ti],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ho(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Mu(r){return r[tl]||null}var dd=[],qo=-1;function es(r){return{current:r}}function Lt(r){0>qo||(r.current=dd[qo],dd[qo]=null,qo--)}function bt(r,s){qo++,dd[qo]=r.current,r.current=s}var ts={},Nn=es(ts),Kn=es(!1),Gs=ts;function Ko(r,s){var a=r.type.contextTypes;if(!a)return ts;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var d={},y;for(y in a)d[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function Gn(r){return r=r.childContextTypes,r!=null}function Ou(){Lt(Kn),Lt(Nn)}function lg(r,s,a){if(Nn.current!==ts)throw Error(t(168));bt(Nn,s),bt(Kn,a)}function ug(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var d in h)if(!(d in s))throw Error(t(108,oe(r)||"Unknown",d));return M({},a,h)}function Lu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ts,Gs=Nn.current,bt(Nn,r),bt(Kn,Kn.current),!0}function cg(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=ug(r,s,Gs),h.__reactInternalMemoizedMergedChildContext=r,Lt(Kn),Lt(Nn),bt(Nn,r)):Lt(Kn),bt(Kn,a)}var Ii=null,Vu=!1,fd=!1;function hg(r){Ii===null?Ii=[r]:Ii.push(r)}function YT(r){Vu=!0,hg(r)}function ns(){if(!fd&&Ii!==null){fd=!0;var r=0,s=gt;try{var a=Ii;for(gt=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Ii=null,Vu=!1}catch(d){throw Ii!==null&&(Ii=Ii.slice(r+1)),Ct(ir,ns),d}finally{gt=s,fd=!1}}return null}var Go=[],Qo=0,Fu=null,ju=0,gr=[],yr=0,Qs=null,Si=1,Ri="";function Ys(r,s){Go[Qo++]=ju,Go[Qo++]=Fu,Fu=r,ju=s}function dg(r,s,a){gr[yr++]=Si,gr[yr++]=Ri,gr[yr++]=Qs,Qs=r;var h=Si;r=Ri;var d=32-dt(h)-1;h&=~(1<<d),a+=1;var y=32-dt(s)+d;if(30<y){var I=d-d%5;y=(h&(1<<I)-1).toString(32),h>>=I,d-=I,Si=1<<32-dt(s)+d|a<<d|h,Ri=y+r}else Si=1<<y|a<<d|h,Ri=r}function pd(r){r.return!==null&&(Ys(r,1),dg(r,1,0))}function md(r){for(;r===Fu;)Fu=Go[--Qo],Go[Qo]=null,ju=Go[--Qo],Go[Qo]=null;for(;r===Qs;)Qs=gr[--yr],gr[yr]=null,Ri=gr[--yr],gr[yr]=null,Si=gr[--yr],gr[yr]=null}var lr=null,ur=null,jt=!1,Dr=null;function fg(r,s){var a=Er(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function pg(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,lr=r,ur=Zi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,lr=r,ur=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Qs!==null?{id:Si,overflow:Ri}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Er(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,lr=r,ur=null,!0):!1;default:return!1}}function gd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function yd(r){if(jt){var s=ur;if(s){var a=s;if(!pg(r,s)){if(gd(r))throw Error(t(418));s=Zi(a.nextSibling);var h=lr;s&&pg(r,s)?fg(h,a):(r.flags=r.flags&-4097|2,jt=!1,lr=r)}}else{if(gd(r))throw Error(t(418));r.flags=r.flags&-4097|2,jt=!1,lr=r}}}function mg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;lr=r}function Uu(r){if(r!==lr)return!1;if(!jt)return mg(r),jt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!ld(r.type,r.memoizedProps)),s&&(s=ur)){if(gd(r))throw gg(),Error(t(418));for(;s;)fg(r,s),s=Zi(s.nextSibling)}if(mg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){ur=Zi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}ur=null}}else ur=lr?Zi(r.stateNode.nextSibling):null;return!0}function gg(){for(var r=ur;r;)r=Zi(r.nextSibling)}function Yo(){ur=lr=null,jt=!1}function vd(r){Dr===null?Dr=[r]:Dr.push(r)}var JT=ge.ReactCurrentBatchConfig;function rl(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var d=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(I){var D=d.refs;I===null?delete D[y]:D[y]=I},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function zu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function yg(r){var s=r._init;return s(r._payload)}function vg(r){function s(K,z){if(r){var G=K.deletions;G===null?(K.deletions=[z],K.flags|=16):G.push(z)}}function a(K,z){if(!r)return null;for(;z!==null;)s(K,z),z=z.sibling;return null}function h(K,z){for(K=new Map;z!==null;)z.key!==null?K.set(z.key,z):K.set(z.index,z),z=z.sibling;return K}function d(K,z){return K=cs(K,z),K.index=0,K.sibling=null,K}function y(K,z,G){return K.index=G,r?(G=K.alternate,G!==null?(G=G.index,G<z?(K.flags|=2,z):G):(K.flags|=2,z)):(K.flags|=1048576,z)}function I(K){return r&&K.alternate===null&&(K.flags|=2),K}function D(K,z,G,ye){return z===null||z.tag!==6?(z=cf(G,K.mode,ye),z.return=K,z):(z=d(z,G),z.return=K,z)}function F(K,z,G,ye){var Ue=G.type;return Ue===C?ce(K,z,G.props.children,ye,G.key):z!==null&&(z.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===ve&&yg(Ue)===z.type)?(ye=d(z,G.props),ye.ref=rl(K,z,G),ye.return=K,ye):(ye=hc(G.type,G.key,G.props,null,K.mode,ye),ye.ref=rl(K,z,G),ye.return=K,ye)}function Y(K,z,G,ye){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=hf(G,K.mode,ye),z.return=K,z):(z=d(z,G.children||[]),z.return=K,z)}function ce(K,z,G,ye,Ue){return z===null||z.tag!==7?(z=io(G,K.mode,ye,Ue),z.return=K,z):(z=d(z,G),z.return=K,z)}function fe(K,z,G){if(typeof z=="string"&&z!==""||typeof z=="number")return z=cf(""+z,K.mode,G),z.return=K,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Pe:return G=hc(z.type,z.key,z.props,null,K.mode,G),G.ref=rl(K,null,z),G.return=K,G;case Ne:return z=hf(z,K.mode,G),z.return=K,z;case ve:var ye=z._init;return fe(K,ye(z._payload),G)}if(it(z)||ee(z))return z=io(z,K.mode,G,null),z.return=K,z;zu(K,z)}return null}function ue(K,z,G,ye){var Ue=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Ue!==null?null:D(K,z,""+G,ye);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Pe:return G.key===Ue?F(K,z,G,ye):null;case Ne:return G.key===Ue?Y(K,z,G,ye):null;case ve:return Ue=G._init,ue(K,z,Ue(G._payload),ye)}if(it(G)||ee(G))return Ue!==null?null:ce(K,z,G,ye,null);zu(K,G)}return null}function Re(K,z,G,ye,Ue){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return K=K.get(G)||null,D(z,K,""+ye,Ue);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case Pe:return K=K.get(ye.key===null?G:ye.key)||null,F(z,K,ye,Ue);case Ne:return K=K.get(ye.key===null?G:ye.key)||null,Y(z,K,ye,Ue);case ve:var He=ye._init;return Re(K,z,G,He(ye._payload),Ue)}if(it(ye)||ee(ye))return K=K.get(G)||null,ce(z,K,ye,Ue,null);zu(z,ye)}return null}function Ve(K,z,G,ye){for(var Ue=null,He=null,qe=z,Je=z=0,yn=null;qe!==null&&Je<G.length;Je++){qe.index>Je?(yn=qe,qe=null):yn=qe.sibling;var It=ue(K,qe,G[Je],ye);if(It===null){qe===null&&(qe=yn);break}r&&qe&&It.alternate===null&&s(K,qe),z=y(It,z,Je),He===null?Ue=It:He.sibling=It,He=It,qe=yn}if(Je===G.length)return a(K,qe),jt&&Ys(K,Je),Ue;if(qe===null){for(;Je<G.length;Je++)qe=fe(K,G[Je],ye),qe!==null&&(z=y(qe,z,Je),He===null?Ue=qe:He.sibling=qe,He=qe);return jt&&Ys(K,Je),Ue}for(qe=h(K,qe);Je<G.length;Je++)yn=Re(qe,K,Je,G[Je],ye),yn!==null&&(r&&yn.alternate!==null&&qe.delete(yn.key===null?Je:yn.key),z=y(yn,z,Je),He===null?Ue=yn:He.sibling=yn,He=yn);return r&&qe.forEach(function(hs){return s(K,hs)}),jt&&Ys(K,Je),Ue}function je(K,z,G,ye){var Ue=ee(G);if(typeof Ue!="function")throw Error(t(150));if(G=Ue.call(G),G==null)throw Error(t(151));for(var He=Ue=null,qe=z,Je=z=0,yn=null,It=G.next();qe!==null&&!It.done;Je++,It=G.next()){qe.index>Je?(yn=qe,qe=null):yn=qe.sibling;var hs=ue(K,qe,It.value,ye);if(hs===null){qe===null&&(qe=yn);break}r&&qe&&hs.alternate===null&&s(K,qe),z=y(hs,z,Je),He===null?Ue=hs:He.sibling=hs,He=hs,qe=yn}if(It.done)return a(K,qe),jt&&Ys(K,Je),Ue;if(qe===null){for(;!It.done;Je++,It=G.next())It=fe(K,It.value,ye),It!==null&&(z=y(It,z,Je),He===null?Ue=It:He.sibling=It,He=It);return jt&&Ys(K,Je),Ue}for(qe=h(K,qe);!It.done;Je++,It=G.next())It=Re(qe,K,Je,It.value,ye),It!==null&&(r&&It.alternate!==null&&qe.delete(It.key===null?Je:It.key),z=y(It,z,Je),He===null?Ue=It:He.sibling=It,He=It);return r&&qe.forEach(function(P1){return s(K,P1)}),jt&&Ys(K,Je),Ue}function Jt(K,z,G,ye){if(typeof G=="object"&&G!==null&&G.type===C&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case Pe:e:{for(var Ue=G.key,He=z;He!==null;){if(He.key===Ue){if(Ue=G.type,Ue===C){if(He.tag===7){a(K,He.sibling),z=d(He,G.props.children),z.return=K,K=z;break e}}else if(He.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===ve&&yg(Ue)===He.type){a(K,He.sibling),z=d(He,G.props),z.ref=rl(K,He,G),z.return=K,K=z;break e}a(K,He);break}else s(K,He);He=He.sibling}G.type===C?(z=io(G.props.children,K.mode,ye,G.key),z.return=K,K=z):(ye=hc(G.type,G.key,G.props,null,K.mode,ye),ye.ref=rl(K,z,G),ye.return=K,K=ye)}return I(K);case Ne:e:{for(He=G.key;z!==null;){if(z.key===He)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){a(K,z.sibling),z=d(z,G.children||[]),z.return=K,K=z;break e}else{a(K,z);break}else s(K,z);z=z.sibling}z=hf(G,K.mode,ye),z.return=K,K=z}return I(K);case ve:return He=G._init,Jt(K,z,He(G._payload),ye)}if(it(G))return Ve(K,z,G,ye);if(ee(G))return je(K,z,G,ye);zu(K,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,z!==null&&z.tag===6?(a(K,z.sibling),z=d(z,G),z.return=K,K=z):(a(K,z),z=cf(G,K.mode,ye),z.return=K,K=z),I(K)):a(K,z)}return Jt}var Jo=vg(!0),_g=vg(!1),Bu=es(null),$u=null,Xo=null,_d=null;function wd(){_d=Xo=$u=null}function Ed(r){var s=Bu.current;Lt(Bu),r._currentValue=s}function Td(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function Zo(r,s){$u=r,_d=Xo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Qn=!0),r.firstContext=null)}function vr(r){var s=r._currentValue;if(_d!==r)if(r={context:r,memoizedValue:s,next:null},Xo===null){if($u===null)throw Error(t(308));Xo=r,$u.dependencies={lanes:0,firstContext:r}}else Xo=Xo.next=r;return s}var Js=null;function Id(r){Js===null?Js=[r]:Js.push(r)}function wg(r,s,a,h){var d=s.interleaved;return d===null?(a.next=a,Id(s)):(a.next=d.next,d.next=a),s.interleaved=a,Ai(r,h)}function Ai(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var rs=!1;function Sd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Eg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ci(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function is(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(wt&2)!==0){var d=h.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),h.pending=s,Ai(r,a)}return d=h.interleaved,d===null?(s.next=s,Id(h)):(s.next=d.next,d.next=s),h.interleaved=s,Ai(r,a)}function Wu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Ki(r,a)}}function Tg(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var d=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var I={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?d=y=I:y=y.next=I,a=a.next}while(a!==null);y===null?d=y=s:y=y.next=s}else d=y=s;a={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Hu(r,s,a,h){var d=r.updateQueue;rs=!1;var y=d.firstBaseUpdate,I=d.lastBaseUpdate,D=d.shared.pending;if(D!==null){d.shared.pending=null;var F=D,Y=F.next;F.next=null,I===null?y=Y:I.next=Y,I=F;var ce=r.alternate;ce!==null&&(ce=ce.updateQueue,D=ce.lastBaseUpdate,D!==I&&(D===null?ce.firstBaseUpdate=Y:D.next=Y,ce.lastBaseUpdate=F))}if(y!==null){var fe=d.baseState;I=0,ce=Y=F=null,D=y;do{var ue=D.lane,Re=D.eventTime;if((h&ue)===ue){ce!==null&&(ce=ce.next={eventTime:Re,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var Ve=r,je=D;switch(ue=s,Re=a,je.tag){case 1:if(Ve=je.payload,typeof Ve=="function"){fe=Ve.call(Re,fe,ue);break e}fe=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=je.payload,ue=typeof Ve=="function"?Ve.call(Re,fe,ue):Ve,ue==null)break e;fe=M({},fe,ue);break e;case 2:rs=!0}}D.callback!==null&&D.lane!==0&&(r.flags|=64,ue=d.effects,ue===null?d.effects=[D]:ue.push(D))}else Re={eventTime:Re,lane:ue,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ce===null?(Y=ce=Re,F=fe):ce=ce.next=Re,I|=ue;if(D=D.next,D===null){if(D=d.shared.pending,D===null)break;ue=D,D=ue.next,ue.next=null,d.lastBaseUpdate=ue,d.shared.pending=null}}while(!0);if(ce===null&&(F=fe),d.baseState=F,d.firstBaseUpdate=Y,d.lastBaseUpdate=ce,s=d.shared.interleaved,s!==null){d=s;do I|=d.lane,d=d.next;while(d!==s)}else y===null&&(d.shared.lanes=0);eo|=I,r.lanes=I,r.memoizedState=fe}}function Ig(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],d=h.callback;if(d!==null){if(h.callback=null,h=a,typeof d!="function")throw Error(t(191,d));d.call(h)}}}var il={},ri=es(il),sl=es(il),ol=es(il);function Xs(r){if(r===il)throw Error(t(174));return r}function Rd(r,s){switch(bt(ol,s),bt(sl,r),bt(ri,il),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:st(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=st(s,r)}Lt(ri),bt(ri,s)}function ea(){Lt(ri),Lt(sl),Lt(ol)}function Sg(r){Xs(ol.current);var s=Xs(ri.current),a=st(s,r.type);s!==a&&(bt(sl,r),bt(ri,a))}function Ad(r){sl.current===r&&(Lt(ri),Lt(sl))}var $t=es(0);function qu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Cd=[];function xd(){for(var r=0;r<Cd.length;r++)Cd[r]._workInProgressVersionPrimary=null;Cd.length=0}var Ku=ge.ReactCurrentDispatcher,kd=ge.ReactCurrentBatchConfig,Zs=0,Wt=null,hn=null,mn=null,Gu=!1,al=!1,ll=0,XT=0;function bn(){throw Error(t(321))}function Pd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!br(r[a],s[a]))return!1;return!0}function Nd(r,s,a,h,d,y){if(Zs=y,Wt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ku.current=r===null||r.memoizedState===null?n1:r1,r=a(h,d),al){y=0;do{if(al=!1,ll=0,25<=y)throw Error(t(301));y+=1,mn=hn=null,s.updateQueue=null,Ku.current=i1,r=a(h,d)}while(al)}if(Ku.current=Ju,s=hn!==null&&hn.next!==null,Zs=0,mn=hn=Wt=null,Gu=!1,s)throw Error(t(300));return r}function bd(){var r=ll!==0;return ll=0,r}function ii(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Wt.memoizedState=mn=r:mn=mn.next=r,mn}function _r(){if(hn===null){var r=Wt.alternate;r=r!==null?r.memoizedState:null}else r=hn.next;var s=mn===null?Wt.memoizedState:mn.next;if(s!==null)mn=s,hn=r;else{if(r===null)throw Error(t(310));hn=r,r={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},mn===null?Wt.memoizedState=mn=r:mn=mn.next=r}return mn}function ul(r,s){return typeof s=="function"?s(r):s}function Dd(r){var s=_r(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=hn,d=h.baseQueue,y=a.pending;if(y!==null){if(d!==null){var I=d.next;d.next=y.next,y.next=I}h.baseQueue=d=y,a.pending=null}if(d!==null){y=d.next,h=h.baseState;var D=I=null,F=null,Y=y;do{var ce=Y.lane;if((Zs&ce)===ce)F!==null&&(F=F.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),h=Y.hasEagerState?Y.eagerState:r(h,Y.action);else{var fe={lane:ce,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};F===null?(D=F=fe,I=h):F=F.next=fe,Wt.lanes|=ce,eo|=ce}Y=Y.next}while(Y!==null&&Y!==y);F===null?I=h:F.next=D,br(h,s.memoizedState)||(Qn=!0),s.memoizedState=h,s.baseState=I,s.baseQueue=F,a.lastRenderedState=h}if(r=a.interleaved,r!==null){d=r;do y=d.lane,Wt.lanes|=y,eo|=y,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Md(r){var s=_r(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,d=a.pending,y=s.memoizedState;if(d!==null){a.pending=null;var I=d=d.next;do y=r(y,I.action),I=I.next;while(I!==d);br(y,s.memoizedState)||(Qn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,h]}function Rg(){}function Ag(r,s){var a=Wt,h=_r(),d=s(),y=!br(h.memoizedState,d);if(y&&(h.memoizedState=d,Qn=!0),h=h.queue,Od(kg.bind(null,a,h,r),[r]),h.getSnapshot!==s||y||mn!==null&&mn.memoizedState.tag&1){if(a.flags|=2048,cl(9,xg.bind(null,a,h,d,s),void 0,null),gn===null)throw Error(t(349));(Zs&30)!==0||Cg(a,s,d)}return d}function Cg(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Wt.updateQueue,s===null?(s={lastEffect:null,stores:null},Wt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function xg(r,s,a,h){s.value=a,s.getSnapshot=h,Pg(s)&&Ng(r)}function kg(r,s,a){return a(function(){Pg(s)&&Ng(r)})}function Pg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!br(r,a)}catch{return!0}}function Ng(r){var s=Ai(r,1);s!==null&&Vr(s,r,1,-1)}function bg(r){var s=ii();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:r},s.queue=r,r=r.dispatch=t1.bind(null,Wt,r),[s.memoizedState,r]}function cl(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=Wt.updateQueue,s===null?(s={lastEffect:null,stores:null},Wt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function Dg(){return _r().memoizedState}function Qu(r,s,a,h){var d=ii();Wt.flags|=r,d.memoizedState=cl(1|s,a,void 0,h===void 0?null:h)}function Yu(r,s,a,h){var d=_r();h=h===void 0?null:h;var y=void 0;if(hn!==null){var I=hn.memoizedState;if(y=I.destroy,h!==null&&Pd(h,I.deps)){d.memoizedState=cl(s,a,y,h);return}}Wt.flags|=r,d.memoizedState=cl(1|s,a,y,h)}function Mg(r,s){return Qu(8390656,8,r,s)}function Od(r,s){return Yu(2048,8,r,s)}function Og(r,s){return Yu(4,2,r,s)}function Lg(r,s){return Yu(4,4,r,s)}function Vg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Fg(r,s,a){return a=a!=null?a.concat([r]):null,Yu(4,4,Vg.bind(null,s,r),a)}function Ld(){}function jg(r,s){var a=_r();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Pd(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function Ug(r,s){var a=_r();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Pd(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function zg(r,s,a){return(Zs&21)===0?(r.baseState&&(r.baseState=!1,Qn=!0),r.memoizedState=a):(br(a,s)||(a=Bs(),Wt.lanes|=a,eo|=a,r.baseState=!0),s)}function ZT(r,s){var a=gt;gt=a!==0&&4>a?a:4,r(!0);var h=kd.transition;kd.transition={};try{r(!1),s()}finally{gt=a,kd.transition=h}}function Bg(){return _r().memoizedState}function e1(r,s,a){var h=ls(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},$g(r))Wg(s,a);else if(a=wg(r,s,a,h),a!==null){var d=zn();Vr(a,r,h,d),Hg(a,s,h)}}function t1(r,s,a){var h=ls(r),d={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if($g(r))Wg(s,d);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var I=s.lastRenderedState,D=y(I,a);if(d.hasEagerState=!0,d.eagerState=D,br(D,I)){var F=s.interleaved;F===null?(d.next=d,Id(s)):(d.next=F.next,F.next=d),s.interleaved=d;return}}catch{}finally{}a=wg(r,s,d,h),a!==null&&(d=zn(),Vr(a,r,h,d),Hg(a,s,h))}}function $g(r){var s=r.alternate;return r===Wt||s!==null&&s===Wt}function Wg(r,s){al=Gu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Hg(r,s,a){if((a&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Ki(r,a)}}var Ju={readContext:vr,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},n1={readContext:vr,useCallback:function(r,s){return ii().memoizedState=[r,s===void 0?null:s],r},useContext:vr,useEffect:Mg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Qu(4194308,4,Vg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Qu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Qu(4,2,r,s)},useMemo:function(r,s){var a=ii();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=ii();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=e1.bind(null,Wt,r),[h.memoizedState,r]},useRef:function(r){var s=ii();return r={current:r},s.memoizedState=r},useState:bg,useDebugValue:Ld,useDeferredValue:function(r){return ii().memoizedState=r},useTransition:function(){var r=bg(!1),s=r[0];return r=ZT.bind(null,r[1]),ii().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=Wt,d=ii();if(jt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),gn===null)throw Error(t(349));(Zs&30)!==0||Cg(h,s,a)}d.memoizedState=a;var y={value:a,getSnapshot:s};return d.queue=y,Mg(kg.bind(null,h,y,r),[r]),h.flags|=2048,cl(9,xg.bind(null,h,y,a,s),void 0,null),a},useId:function(){var r=ii(),s=gn.identifierPrefix;if(jt){var a=Ri,h=Si;a=(h&~(1<<32-dt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=ll++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=XT++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},r1={readContext:vr,useCallback:jg,useContext:vr,useEffect:Od,useImperativeHandle:Fg,useInsertionEffect:Og,useLayoutEffect:Lg,useMemo:Ug,useReducer:Dd,useRef:Dg,useState:function(){return Dd(ul)},useDebugValue:Ld,useDeferredValue:function(r){var s=_r();return zg(s,hn.memoizedState,r)},useTransition:function(){var r=Dd(ul)[0],s=_r().memoizedState;return[r,s]},useMutableSource:Rg,useSyncExternalStore:Ag,useId:Bg,unstable_isNewReconciler:!1},i1={readContext:vr,useCallback:jg,useContext:vr,useEffect:Od,useImperativeHandle:Fg,useInsertionEffect:Og,useLayoutEffect:Lg,useMemo:Ug,useReducer:Md,useRef:Dg,useState:function(){return Md(ul)},useDebugValue:Ld,useDeferredValue:function(r){var s=_r();return hn===null?s.memoizedState=r:zg(s,hn.memoizedState,r)},useTransition:function(){var r=Md(ul)[0],s=_r().memoizedState;return[r,s]},useMutableSource:Rg,useSyncExternalStore:Ag,useId:Bg,unstable_isNewReconciler:!1};function Mr(r,s){if(r&&r.defaultProps){s=M({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Vd(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:M({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Xu={isMounted:function(r){return(r=r._reactInternals)?xe(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=zn(),d=ls(r),y=Ci(h,d);y.payload=s,a!=null&&(y.callback=a),s=is(r,y,d),s!==null&&(Vr(s,r,d,h),Wu(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=zn(),d=ls(r),y=Ci(h,d);y.tag=1,y.payload=s,a!=null&&(y.callback=a),s=is(r,y,d),s!==null&&(Vr(s,r,d,h),Wu(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=zn(),h=ls(r),d=Ci(a,h);d.tag=2,s!=null&&(d.callback=s),s=is(r,d,h),s!==null&&(Vr(s,r,h,a),Wu(s,r,h))}};function qg(r,s,a,h,d,y,I){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,I):s.prototype&&s.prototype.isPureReactComponent?!Ya(a,h)||!Ya(d,y):!0}function Kg(r,s,a){var h=!1,d=ts,y=s.contextType;return typeof y=="object"&&y!==null?y=vr(y):(d=Gn(s)?Gs:Nn.current,h=s.contextTypes,y=(h=h!=null)?Ko(r,d):ts),s=new s(a,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Xu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=y),s}function Gg(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Xu.enqueueReplaceState(s,s.state,null)}function Fd(r,s,a,h){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},Sd(r);var y=s.contextType;typeof y=="object"&&y!==null?d.context=vr(y):(y=Gn(s)?Gs:Nn.current,d.context=Ko(r,y)),d.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Vd(r,s,y,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Xu.enqueueReplaceState(d,d.state,null),Hu(r,a,d,h),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function ta(r,s){try{var a="",h=s;do a+=X(h),h=h.return;while(h);var d=a}catch(y){d=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:d,digest:null}}function jd(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Ud(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var s1=typeof WeakMap=="function"?WeakMap:Map;function Qg(r,s,a){a=Ci(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){sc||(sc=!0,tf=h),Ud(r,s)},a}function Yg(r,s,a){a=Ci(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=s.value;a.payload=function(){return h(d)},a.callback=function(){Ud(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){Ud(r,s),typeof h!="function"&&(os===null?os=new Set([this]):os.add(this));var I=s.stack;this.componentDidCatch(s.value,{componentStack:I!==null?I:""})}),a}function Jg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new s1;var d=new Set;h.set(s,d)}else d=h.get(s),d===void 0&&(d=new Set,h.set(s,d));d.has(a)||(d.add(a),r=_1.bind(null,r,s,a),s.then(r,r))}function Xg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Zg(r,s,a,h,d){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Ci(-1,1),s.tag=2,is(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=d,r)}var o1=ge.ReactCurrentOwner,Qn=!1;function Un(r,s,a,h){s.child=r===null?_g(s,null,a,h):Jo(s,r.child,a,h)}function ey(r,s,a,h,d){a=a.render;var y=s.ref;return Zo(s,d),h=Nd(r,s,a,h,y,d),a=bd(),r!==null&&!Qn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,xi(r,s,d)):(jt&&a&&pd(s),s.flags|=1,Un(r,s,h,d),s.child)}function ty(r,s,a,h,d){if(r===null){var y=a.type;return typeof y=="function"&&!uf(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=y,ny(r,s,y,h,d)):(r=hc(a.type,null,h,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&d)===0){var I=y.memoizedProps;if(a=a.compare,a=a!==null?a:Ya,a(I,h)&&r.ref===s.ref)return xi(r,s,d)}return s.flags|=1,r=cs(y,h),r.ref=s.ref,r.return=s,s.child=r}function ny(r,s,a,h,d){if(r!==null){var y=r.memoizedProps;if(Ya(y,h)&&r.ref===s.ref)if(Qn=!1,s.pendingProps=h=y,(r.lanes&d)!==0)(r.flags&131072)!==0&&(Qn=!0);else return s.lanes=r.lanes,xi(r,s,d)}return zd(r,s,a,h,d)}function ry(r,s,a){var h=s.pendingProps,d=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(ra,cr),cr|=a;else{if((a&1073741824)===0)return r=y!==null?y.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,bt(ra,cr),cr|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:a,bt(ra,cr),cr|=h}else y!==null?(h=y.baseLanes|a,s.memoizedState=null):h=a,bt(ra,cr),cr|=h;return Un(r,s,d,a),s.child}function iy(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function zd(r,s,a,h,d){var y=Gn(a)?Gs:Nn.current;return y=Ko(s,y),Zo(s,d),a=Nd(r,s,a,h,y,d),h=bd(),r!==null&&!Qn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,xi(r,s,d)):(jt&&h&&pd(s),s.flags|=1,Un(r,s,a,d),s.child)}function sy(r,s,a,h,d){if(Gn(a)){var y=!0;Lu(s)}else y=!1;if(Zo(s,d),s.stateNode===null)ec(r,s),Kg(s,a,h),Fd(s,a,h,d),h=!0;else if(r===null){var I=s.stateNode,D=s.memoizedProps;I.props=D;var F=I.context,Y=a.contextType;typeof Y=="object"&&Y!==null?Y=vr(Y):(Y=Gn(a)?Gs:Nn.current,Y=Ko(s,Y));var ce=a.getDerivedStateFromProps,fe=typeof ce=="function"||typeof I.getSnapshotBeforeUpdate=="function";fe||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(D!==h||F!==Y)&&Gg(s,I,h,Y),rs=!1;var ue=s.memoizedState;I.state=ue,Hu(s,h,I,d),F=s.memoizedState,D!==h||ue!==F||Kn.current||rs?(typeof ce=="function"&&(Vd(s,a,ce,h),F=s.memoizedState),(D=rs||qg(s,a,D,h,ue,F,Y))?(fe||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(s.flags|=4194308)):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=F),I.props=h,I.state=F,I.context=Y,h=D):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{I=s.stateNode,Eg(r,s),D=s.memoizedProps,Y=s.type===s.elementType?D:Mr(s.type,D),I.props=Y,fe=s.pendingProps,ue=I.context,F=a.contextType,typeof F=="object"&&F!==null?F=vr(F):(F=Gn(a)?Gs:Nn.current,F=Ko(s,F));var Re=a.getDerivedStateFromProps;(ce=typeof Re=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(D!==fe||ue!==F)&&Gg(s,I,h,F),rs=!1,ue=s.memoizedState,I.state=ue,Hu(s,h,I,d);var Ve=s.memoizedState;D!==fe||ue!==Ve||Kn.current||rs?(typeof Re=="function"&&(Vd(s,a,Re,h),Ve=s.memoizedState),(Y=rs||qg(s,a,Y,h,ue,Ve,F)||!1)?(ce||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(h,Ve,F),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(h,Ve,F)),typeof I.componentDidUpdate=="function"&&(s.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof I.componentDidUpdate!="function"||D===r.memoizedProps&&ue===r.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&ue===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Ve),I.props=h,I.state=Ve,I.context=F,h=Y):(typeof I.componentDidUpdate!="function"||D===r.memoizedProps&&ue===r.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&ue===r.memoizedState||(s.flags|=1024),h=!1)}return Bd(r,s,a,h,y,d)}function Bd(r,s,a,h,d,y){iy(r,s);var I=(s.flags&128)!==0;if(!h&&!I)return d&&cg(s,a,!1),xi(r,s,y);h=s.stateNode,o1.current=s;var D=I&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&I?(s.child=Jo(s,r.child,null,y),s.child=Jo(s,null,D,y)):Un(r,s,D,y),s.memoizedState=h.state,d&&cg(s,a,!0),s.child}function oy(r){var s=r.stateNode;s.pendingContext?lg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&lg(r,s.context,!1),Rd(r,s.containerInfo)}function ay(r,s,a,h,d){return Yo(),vd(d),s.flags|=256,Un(r,s,a,h),s.child}var $d={dehydrated:null,treeContext:null,retryLane:0};function Wd(r){return{baseLanes:r,cachePool:null,transitions:null}}function ly(r,s,a){var h=s.pendingProps,d=$t.current,y=!1,I=(s.flags&128)!==0,D;if((D=I)||(D=r!==null&&r.memoizedState===null?!1:(d&2)!==0),D?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),bt($t,d&1),r===null)return yd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(I=h.children,r=h.fallback,y?(h=s.mode,y=s.child,I={mode:"hidden",children:I},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=I):y=dc(I,h,0,null),r=io(r,h,a,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Wd(a),s.memoizedState=$d,r):Hd(s,I));if(d=r.memoizedState,d!==null&&(D=d.dehydrated,D!==null))return a1(r,s,I,h,D,d,a);if(y){y=h.fallback,I=s.mode,d=r.child,D=d.sibling;var F={mode:"hidden",children:h.children};return(I&1)===0&&s.child!==d?(h=s.child,h.childLanes=0,h.pendingProps=F,s.deletions=null):(h=cs(d,F),h.subtreeFlags=d.subtreeFlags&14680064),D!==null?y=cs(D,y):(y=io(y,I,a,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,I=r.child.memoizedState,I=I===null?Wd(a):{baseLanes:I.baseLanes|a,cachePool:null,transitions:I.transitions},y.memoizedState=I,y.childLanes=r.childLanes&~a,s.memoizedState=$d,h}return y=r.child,r=y.sibling,h=cs(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function Hd(r,s){return s=dc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Zu(r,s,a,h){return h!==null&&vd(h),Jo(s,r.child,null,a),r=Hd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function a1(r,s,a,h,d,y,I){if(a)return s.flags&256?(s.flags&=-257,h=jd(Error(t(422))),Zu(r,s,I,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,d=s.mode,h=dc({mode:"visible",children:h.children},d,0,null),y=io(y,d,I,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&Jo(s,r.child,null,I),s.child.memoizedState=Wd(I),s.memoizedState=$d,y);if((s.mode&1)===0)return Zu(r,s,I,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var D=h.dgst;return h=D,y=Error(t(419)),h=jd(y,h,void 0),Zu(r,s,I,h)}if(D=(I&r.childLanes)!==0,Qn||D){if(h=gn,h!==null){switch(I&-I){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(h.suspendedLanes|I))!==0?0:d,d!==0&&d!==y.retryLane&&(y.retryLane=d,Ai(r,d),Vr(h,r,d,-1))}return lf(),h=jd(Error(t(421))),Zu(r,s,I,h)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=w1.bind(null,r),d._reactRetry=s,null):(r=y.treeContext,ur=Zi(d.nextSibling),lr=s,jt=!0,Dr=null,r!==null&&(gr[yr++]=Si,gr[yr++]=Ri,gr[yr++]=Qs,Si=r.id,Ri=r.overflow,Qs=s),s=Hd(s,h.children),s.flags|=4096,s)}function uy(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Td(r.return,s,a)}function qd(r,s,a,h,d){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:d}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=a,y.tailMode=d)}function cy(r,s,a){var h=s.pendingProps,d=h.revealOrder,y=h.tail;if(Un(r,s,h.children,a),h=$t.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&uy(r,a,s);else if(r.tag===19)uy(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(bt($t,h),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&qu(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),qd(s,!1,d,a,y);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&qu(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}qd(s,!0,a,null,y);break;case"together":qd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ec(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function xi(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),eo|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=cs(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=cs(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function l1(r,s,a){switch(s.tag){case 3:oy(s),Yo();break;case 5:Sg(s);break;case 1:Gn(s.type)&&Lu(s);break;case 4:Rd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,d=s.memoizedProps.value;bt(Bu,h._currentValue),h._currentValue=d;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(bt($t,$t.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?ly(r,s,a):(bt($t,$t.current&1),r=xi(r,s,a),r!==null?r.sibling:null);bt($t,$t.current&1);break;case 19:if(h=(a&s.childLanes)!==0,(r.flags&128)!==0){if(h)return cy(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),bt($t,$t.current),h)break;return null;case 22:case 23:return s.lanes=0,ry(r,s,a)}return xi(r,s,a)}var hy,Kd,dy,fy;hy=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Kd=function(){},dy=function(r,s,a,h){var d=r.memoizedProps;if(d!==h){r=s.stateNode,Xs(ri.current);var y=null;switch(a){case"input":d=Ae(r,d),h=Ae(r,h),y=[];break;case"select":d=M({},d,{value:void 0}),h=M({},h,{value:void 0}),y=[];break;case"textarea":d=tn(r,d),h=tn(r,h),y=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Du)}zi(a,h);var I;a=null;for(Y in d)if(!h.hasOwnProperty(Y)&&d.hasOwnProperty(Y)&&d[Y]!=null)if(Y==="style"){var D=d[Y];for(I in D)D.hasOwnProperty(I)&&(a||(a={}),a[I]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(o.hasOwnProperty(Y)?y||(y=[]):(y=y||[]).push(Y,null));for(Y in h){var F=h[Y];if(D=d!=null?d[Y]:void 0,h.hasOwnProperty(Y)&&F!==D&&(F!=null||D!=null))if(Y==="style")if(D){for(I in D)!D.hasOwnProperty(I)||F&&F.hasOwnProperty(I)||(a||(a={}),a[I]="");for(I in F)F.hasOwnProperty(I)&&D[I]!==F[I]&&(a||(a={}),a[I]=F[I])}else a||(y||(y=[]),y.push(Y,a)),a=F;else Y==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,D=D?D.__html:void 0,F!=null&&D!==F&&(y=y||[]).push(Y,F)):Y==="children"?typeof F!="string"&&typeof F!="number"||(y=y||[]).push(Y,""+F):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(o.hasOwnProperty(Y)?(F!=null&&Y==="onScroll"&&Ot("scroll",r),y||D===F||(y=[])):(y=y||[]).push(Y,F))}a&&(y=y||[]).push("style",a);var Y=y;(s.updateQueue=Y)&&(s.flags|=4)}},fy=function(r,s,a,h){a!==h&&(s.flags|=4)};function hl(r,s){if(!jt)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Dn(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function u1(r,s,a){var h=s.pendingProps;switch(md(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(s),null;case 1:return Gn(s.type)&&Ou(),Dn(s),null;case 3:return h=s.stateNode,ea(),Lt(Kn),Lt(Nn),xd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Uu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Dr!==null&&(sf(Dr),Dr=null))),Kd(r,s),Dn(s),null;case 5:Ad(s);var d=Xs(ol.current);if(a=s.type,r!==null&&s.stateNode!=null)dy(r,s,a,h,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Dn(s),null}if(r=Xs(ri.current),Uu(s)){h=s.stateNode,a=s.type;var y=s.memoizedProps;switch(h[ni]=s,h[tl]=y,r=(s.mode&1)!==0,a){case"dialog":Ot("cancel",h),Ot("close",h);break;case"iframe":case"object":case"embed":Ot("load",h);break;case"video":case"audio":for(d=0;d<Xa.length;d++)Ot(Xa[d],h);break;case"source":Ot("error",h);break;case"img":case"image":case"link":Ot("error",h),Ot("load",h);break;case"details":Ot("toggle",h);break;case"input":$e(h,y),Ot("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Ot("invalid",h);break;case"textarea":xn(h,y),Ot("invalid",h)}zi(a,y),d=null;for(var I in y)if(y.hasOwnProperty(I)){var D=y[I];I==="children"?typeof D=="string"?h.textContent!==D&&(y.suppressHydrationWarning!==!0&&bu(h.textContent,D,r),d=["children",D]):typeof D=="number"&&h.textContent!==""+D&&(y.suppressHydrationWarning!==!0&&bu(h.textContent,D,r),d=["children",""+D]):o.hasOwnProperty(I)&&D!=null&&I==="onScroll"&&Ot("scroll",h)}switch(a){case"input":_e(h),Ye(h,y,!0);break;case"textarea":_e(h),Vt(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Du)}h=d,s.updateQueue=h,h!==null&&(s.flags|=4)}else{I=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=tt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=I.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=I.createElement(a,{is:h.is}):(r=I.createElement(a),a==="select"&&(I=r,h.multiple?I.multiple=!0:h.size&&(I.size=h.size))):r=I.createElementNS(r,a),r[ni]=s,r[tl]=h,hy(r,s,!1,!1),s.stateNode=r;e:{switch(I=Vs(a,h),a){case"dialog":Ot("cancel",r),Ot("close",r),d=h;break;case"iframe":case"object":case"embed":Ot("load",r),d=h;break;case"video":case"audio":for(d=0;d<Xa.length;d++)Ot(Xa[d],r);d=h;break;case"source":Ot("error",r),d=h;break;case"img":case"image":case"link":Ot("error",r),Ot("load",r),d=h;break;case"details":Ot("toggle",r),d=h;break;case"input":$e(r,h),d=Ae(r,h),Ot("invalid",r);break;case"option":d=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},d=M({},h,{value:void 0}),Ot("invalid",r);break;case"textarea":xn(r,h),d=tn(r,h),Ot("invalid",r);break;default:d=h}zi(a,d),D=d;for(y in D)if(D.hasOwnProperty(y)){var F=D[y];y==="style"?Rr(r,F):y==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&qt(r,F)):y==="children"?typeof F=="string"?(a!=="textarea"||F!=="")&&_n(r,F):typeof F=="number"&&_n(r,""+F):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?F!=null&&y==="onScroll"&&Ot("scroll",r):F!=null&&me(r,y,F,I))}switch(a){case"input":_e(r),Ye(r,h,!1);break;case"textarea":_e(r),Vt(r);break;case"option":h.value!=null&&r.setAttribute("value",""+ne(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?en(r,!!h.multiple,y,!1):h.defaultValue!=null&&en(r,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=Du)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Dn(s),null;case 6:if(r&&s.stateNode!=null)fy(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=Xs(ol.current),Xs(ri.current),Uu(s)){if(h=s.stateNode,a=s.memoizedProps,h[ni]=s,(y=h.nodeValue!==a)&&(r=lr,r!==null))switch(r.tag){case 3:bu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&bu(h.nodeValue,a,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[ni]=s,s.stateNode=h}return Dn(s),null;case 13:if(Lt($t),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(jt&&ur!==null&&(s.mode&1)!==0&&(s.flags&128)===0)gg(),Yo(),s.flags|=98560,y=!1;else if(y=Uu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[ni]=s}else Yo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Dn(s),y=!1}else Dr!==null&&(sf(Dr),Dr=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||($t.current&1)!==0?dn===0&&(dn=3):lf())),s.updateQueue!==null&&(s.flags|=4),Dn(s),null);case 4:return ea(),Kd(r,s),r===null&&Za(s.stateNode.containerInfo),Dn(s),null;case 10:return Ed(s.type._context),Dn(s),null;case 17:return Gn(s.type)&&Ou(),Dn(s),null;case 19:if(Lt($t),y=s.memoizedState,y===null)return Dn(s),null;if(h=(s.flags&128)!==0,I=y.rendering,I===null)if(h)hl(y,!1);else{if(dn!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(I=qu(r),I!==null){for(s.flags|=128,hl(y,!1),h=I.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)y=a,r=h,y.flags&=14680066,I=y.alternate,I===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=I.childLanes,y.lanes=I.lanes,y.child=I.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=I.memoizedProps,y.memoizedState=I.memoizedState,y.updateQueue=I.updateQueue,y.type=I.type,r=I.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return bt($t,$t.current&1|2),s.child}r=r.sibling}y.tail!==null&&lt()>ia&&(s.flags|=128,h=!0,hl(y,!1),s.lanes=4194304)}else{if(!h)if(r=qu(I),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),hl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!I.alternate&&!jt)return Dn(s),null}else 2*lt()-y.renderingStartTime>ia&&a!==1073741824&&(s.flags|=128,h=!0,hl(y,!1),s.lanes=4194304);y.isBackwards?(I.sibling=s.child,s.child=I):(a=y.last,a!==null?a.sibling=I:s.child=I,y.last=I)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=lt(),s.sibling=null,a=$t.current,bt($t,h?a&1|2:a&1),s):(Dn(s),null);case 22:case 23:return af(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(cr&1073741824)!==0&&(Dn(s),s.subtreeFlags&6&&(s.flags|=8192)):Dn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function c1(r,s){switch(md(s),s.tag){case 1:return Gn(s.type)&&Ou(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ea(),Lt(Kn),Lt(Nn),xd(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Ad(s),null;case 13:if(Lt($t),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Yo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Lt($t),null;case 4:return ea(),null;case 10:return Ed(s.type._context),null;case 22:case 23:return af(),null;case 24:return null;default:return null}}var tc=!1,Mn=!1,h1=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function na(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){Yt(r,s,h)}else a.current=null}function Gd(r,s,a){try{a()}catch(h){Yt(r,s,h)}}var py=!1;function d1(r,s){if(od=Yi,r=qm(),Xh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var d=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var I=0,D=-1,F=-1,Y=0,ce=0,fe=r,ue=null;t:for(;;){for(var Re;fe!==a||d!==0&&fe.nodeType!==3||(D=I+d),fe!==y||h!==0&&fe.nodeType!==3||(F=I+h),fe.nodeType===3&&(I+=fe.nodeValue.length),(Re=fe.firstChild)!==null;)ue=fe,fe=Re;for(;;){if(fe===r)break t;if(ue===a&&++Y===d&&(D=I),ue===y&&++ce===h&&(F=I),(Re=fe.nextSibling)!==null)break;fe=ue,ue=fe.parentNode}fe=Re}a=D===-1||F===-1?null:{start:D,end:F}}else a=null}a=a||{start:0,end:0}}else a=null;for(ad={focusedElem:r,selectionRange:a},Yi=!1,Oe=s;Oe!==null;)if(s=Oe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Oe=r;else for(;Oe!==null;){s=Oe;try{var Ve=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ve!==null){var je=Ve.memoizedProps,Jt=Ve.memoizedState,K=s.stateNode,z=K.getSnapshotBeforeUpdate(s.elementType===s.type?je:Mr(s.type,je),Jt);K.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var G=s.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ye){Yt(s,s.return,ye)}if(r=s.sibling,r!==null){r.return=s.return,Oe=r;break}Oe=s.return}return Ve=py,py=!1,Ve}function dl(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&r)===r){var y=d.destroy;d.destroy=void 0,y!==void 0&&Gd(s,a,y)}d=d.next}while(d!==h)}}function nc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Qd(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function my(r){var s=r.alternate;s!==null&&(r.alternate=null,my(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[ni],delete s[tl],delete s[hd],delete s[GT],delete s[QT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function gy(r){return r.tag===5||r.tag===3||r.tag===4}function yy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||gy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Yd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Du));else if(h!==4&&(r=r.child,r!==null))for(Yd(r,s,a),r=r.sibling;r!==null;)Yd(r,s,a),r=r.sibling}function Jd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Jd(r,s,a),r=r.sibling;r!==null;)Jd(r,s,a),r=r.sibling}var In=null,Or=!1;function ss(r,s,a){for(a=a.child;a!==null;)vy(r,s,a),a=a.sibling}function vy(r,s,a){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Rt,a)}catch{}switch(a.tag){case 5:Mn||na(a,s);case 6:var h=In,d=Or;In=null,ss(r,s,a),In=h,Or=d,In!==null&&(Or?(r=In,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):In.removeChild(a.stateNode));break;case 18:In!==null&&(Or?(r=In,a=a.stateNode,r.nodeType===8?cd(r.parentNode,a):r.nodeType===1&&cd(r,a),Pr(r)):cd(In,a.stateNode));break;case 4:h=In,d=Or,In=a.stateNode.containerInfo,Or=!0,ss(r,s,a),In=h,Or=d;break;case 0:case 11:case 14:case 15:if(!Mn&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var y=d,I=y.destroy;y=y.tag,I!==void 0&&((y&2)!==0||(y&4)!==0)&&Gd(a,s,I),d=d.next}while(d!==h)}ss(r,s,a);break;case 1:if(!Mn&&(na(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(D){Yt(a,s,D)}ss(r,s,a);break;case 21:ss(r,s,a);break;case 22:a.mode&1?(Mn=(h=Mn)||a.memoizedState!==null,ss(r,s,a),Mn=h):ss(r,s,a);break;default:ss(r,s,a)}}function _y(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new h1),s.forEach(function(h){var d=E1.bind(null,r,h);a.has(h)||(a.add(h),h.then(d,d))})}}function Lr(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var d=a[h];try{var y=r,I=s,D=I;e:for(;D!==null;){switch(D.tag){case 5:In=D.stateNode,Or=!1;break e;case 3:In=D.stateNode.containerInfo,Or=!0;break e;case 4:In=D.stateNode.containerInfo,Or=!0;break e}D=D.return}if(In===null)throw Error(t(160));vy(y,I,d),In=null,Or=!1;var F=d.alternate;F!==null&&(F.return=null),d.return=null}catch(Y){Yt(d,s,Y)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)wy(s,r),s=s.sibling}function wy(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Lr(s,r),si(r),h&4){try{dl(3,r,r.return),nc(3,r)}catch(je){Yt(r,r.return,je)}try{dl(5,r,r.return)}catch(je){Yt(r,r.return,je)}}break;case 1:Lr(s,r),si(r),h&512&&a!==null&&na(a,a.return);break;case 5:if(Lr(s,r),si(r),h&512&&a!==null&&na(a,a.return),r.flags&32){var d=r.stateNode;try{_n(d,"")}catch(je){Yt(r,r.return,je)}}if(h&4&&(d=r.stateNode,d!=null)){var y=r.memoizedProps,I=a!==null?a.memoizedProps:y,D=r.type,F=r.updateQueue;if(r.updateQueue=null,F!==null)try{D==="input"&&y.type==="radio"&&y.name!=null&&Fe(d,y),Vs(D,I);var Y=Vs(D,y);for(I=0;I<F.length;I+=2){var ce=F[I],fe=F[I+1];ce==="style"?Rr(d,fe):ce==="dangerouslySetInnerHTML"?qt(d,fe):ce==="children"?_n(d,fe):me(d,ce,fe,Y)}switch(D){case"input":ht(d,y);break;case"textarea":yt(d,y);break;case"select":var ue=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!y.multiple;var Re=y.value;Re!=null?en(d,!!y.multiple,Re,!1):ue!==!!y.multiple&&(y.defaultValue!=null?en(d,!!y.multiple,y.defaultValue,!0):en(d,!!y.multiple,y.multiple?[]:"",!1))}d[tl]=y}catch(je){Yt(r,r.return,je)}}break;case 6:if(Lr(s,r),si(r),h&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,y=r.memoizedProps;try{d.nodeValue=y}catch(je){Yt(r,r.return,je)}}break;case 3:if(Lr(s,r),si(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Pr(s.containerInfo)}catch(je){Yt(r,r.return,je)}break;case 4:Lr(s,r),si(r);break;case 13:Lr(s,r),si(r),d=r.child,d.flags&8192&&(y=d.memoizedState!==null,d.stateNode.isHidden=y,!y||d.alternate!==null&&d.alternate.memoizedState!==null||(ef=lt())),h&4&&_y(r);break;case 22:if(ce=a!==null&&a.memoizedState!==null,r.mode&1?(Mn=(Y=Mn)||ce,Lr(s,r),Mn=Y):Lr(s,r),si(r),h&8192){if(Y=r.memoizedState!==null,(r.stateNode.isHidden=Y)&&!ce&&(r.mode&1)!==0)for(Oe=r,ce=r.child;ce!==null;){for(fe=Oe=ce;Oe!==null;){switch(ue=Oe,Re=ue.child,ue.tag){case 0:case 11:case 14:case 15:dl(4,ue,ue.return);break;case 1:na(ue,ue.return);var Ve=ue.stateNode;if(typeof Ve.componentWillUnmount=="function"){h=ue,a=ue.return;try{s=h,Ve.props=s.memoizedProps,Ve.state=s.memoizedState,Ve.componentWillUnmount()}catch(je){Yt(h,a,je)}}break;case 5:na(ue,ue.return);break;case 22:if(ue.memoizedState!==null){Iy(fe);continue}}Re!==null?(Re.return=ue,Oe=Re):Iy(fe)}ce=ce.sibling}e:for(ce=null,fe=r;;){if(fe.tag===5){if(ce===null){ce=fe;try{d=fe.stateNode,Y?(y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(D=fe.stateNode,F=fe.memoizedProps.style,I=F!=null&&F.hasOwnProperty("display")?F.display:null,D.style.display=Gt("display",I))}catch(je){Yt(r,r.return,je)}}}else if(fe.tag===6){if(ce===null)try{fe.stateNode.nodeValue=Y?"":fe.memoizedProps}catch(je){Yt(r,r.return,je)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===r)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===r)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===r)break e;ce===fe&&(ce=null),fe=fe.return}ce===fe&&(ce=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:Lr(s,r),si(r),h&4&&_y(r);break;case 21:break;default:Lr(s,r),si(r)}}function si(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(gy(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(_n(d,""),h.flags&=-33);var y=yy(r);Jd(r,y,d);break;case 3:case 4:var I=h.stateNode.containerInfo,D=yy(r);Yd(r,D,I);break;default:throw Error(t(161))}}catch(F){Yt(r,r.return,F)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function f1(r,s,a){Oe=r,Ey(r)}function Ey(r,s,a){for(var h=(r.mode&1)!==0;Oe!==null;){var d=Oe,y=d.child;if(d.tag===22&&h){var I=d.memoizedState!==null||tc;if(!I){var D=d.alternate,F=D!==null&&D.memoizedState!==null||Mn;D=tc;var Y=Mn;if(tc=I,(Mn=F)&&!Y)for(Oe=d;Oe!==null;)I=Oe,F=I.child,I.tag===22&&I.memoizedState!==null?Sy(d):F!==null?(F.return=I,Oe=F):Sy(d);for(;y!==null;)Oe=y,Ey(y),y=y.sibling;Oe=d,tc=D,Mn=Y}Ty(r)}else(d.subtreeFlags&8772)!==0&&y!==null?(y.return=d,Oe=y):Ty(r)}}function Ty(r){for(;Oe!==null;){var s=Oe;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Mn||nc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Mn)if(a===null)h.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Mr(s.type,a.memoizedProps);h.componentDidUpdate(d,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Ig(s,y,h);break;case 3:var I=s.updateQueue;if(I!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Ig(s,I,a)}break;case 5:var D=s.stateNode;if(a===null&&s.flags&4){a=D;var F=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&a.focus();break;case"img":F.src&&(a.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Y=s.alternate;if(Y!==null){var ce=Y.memoizedState;if(ce!==null){var fe=ce.dehydrated;fe!==null&&Pr(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mn||s.flags&512&&Qd(s)}catch(ue){Yt(s,s.return,ue)}}if(s===r){Oe=null;break}if(a=s.sibling,a!==null){a.return=s.return,Oe=a;break}Oe=s.return}}function Iy(r){for(;Oe!==null;){var s=Oe;if(s===r){Oe=null;break}var a=s.sibling;if(a!==null){a.return=s.return,Oe=a;break}Oe=s.return}}function Sy(r){for(;Oe!==null;){var s=Oe;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{nc(4,s)}catch(F){Yt(s,a,F)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var d=s.return;try{h.componentDidMount()}catch(F){Yt(s,d,F)}}var y=s.return;try{Qd(s)}catch(F){Yt(s,y,F)}break;case 5:var I=s.return;try{Qd(s)}catch(F){Yt(s,I,F)}}}catch(F){Yt(s,s.return,F)}if(s===r){Oe=null;break}var D=s.sibling;if(D!==null){D.return=s.return,Oe=D;break}Oe=s.return}}var p1=Math.ceil,rc=ge.ReactCurrentDispatcher,Xd=ge.ReactCurrentOwner,wr=ge.ReactCurrentBatchConfig,wt=0,gn=null,sn=null,Sn=0,cr=0,ra=es(0),dn=0,fl=null,eo=0,ic=0,Zd=0,pl=null,Yn=null,ef=0,ia=1/0,ki=null,sc=!1,tf=null,os=null,oc=!1,as=null,ac=0,ml=0,nf=null,lc=-1,uc=0;function zn(){return(wt&6)!==0?lt():lc!==-1?lc:lc=lt()}function ls(r){return(r.mode&1)===0?1:(wt&2)!==0&&Sn!==0?Sn&-Sn:JT.transition!==null?(uc===0&&(uc=Bs()),uc):(r=gt,r!==0||(r=window.event,r=r===void 0?16:$a(r.type)),r)}function Vr(r,s,a,h){if(50<ml)throw ml=0,nf=null,Error(t(185));qi(r,a,h),((wt&2)===0||r!==gn)&&(r===gn&&((wt&2)===0&&(ic|=a),dn===4&&us(r,Sn)),Jn(r,h),a===1&&wt===0&&(s.mode&1)===0&&(ia=lt()+500,Vu&&ns()))}function Jn(r,s){var a=r.callbackNode;yi(r,s);var h=zs(r,r===gn?Sn:0);if(h===0)a!==null&&dr(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&dr(a),s===1)r.tag===0?YT(Ay.bind(null,r)):hg(Ay.bind(null,r)),qT(function(){(wt&6)===0&&ns()}),a=null;else{switch(Gi(h)){case 1:a=ir;break;case 4:a=Pn;break;case 16:a=wn;break;case 536870912:a=ut;break;default:a=wn}a=My(a,Ry.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Ry(r,s){if(lc=-1,uc=0,(wt&6)!==0)throw Error(t(327));var a=r.callbackNode;if(sa()&&r.callbackNode!==a)return null;var h=zs(r,r===gn?Sn:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=cc(r,h);else{s=h;var d=wt;wt|=2;var y=xy();(gn!==r||Sn!==s)&&(ki=null,ia=lt()+500,no(r,s));do try{y1();break}catch(D){Cy(r,D)}while(!0);wd(),rc.current=y,wt=d,sn!==null?s=0:(gn=null,Sn=0,s=dn)}if(s!==0){if(s===2&&(d=sr(r),d!==0&&(h=d,s=rf(r,d))),s===1)throw a=fl,no(r,0),us(r,h),Jn(r,lt()),a;if(s===6)us(r,h);else{if(d=r.current.alternate,(h&30)===0&&!m1(d)&&(s=cc(r,h),s===2&&(y=sr(r),y!==0&&(h=y,s=rf(r,y))),s===1))throw a=fl,no(r,0),us(r,h),Jn(r,lt()),a;switch(r.finishedWork=d,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:ro(r,Yn,ki);break;case 3:if(us(r,h),(h&130023424)===h&&(s=ef+500-lt(),10<s)){if(zs(r,0)!==0)break;if(d=r.suspendedLanes,(d&h)!==h){zn(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=ud(ro.bind(null,r,Yn,ki),s);break}ro(r,Yn,ki);break;case 4:if(us(r,h),(h&4194240)===h)break;for(s=r.eventTimes,d=-1;0<h;){var I=31-dt(h);y=1<<I,I=s[I],I>d&&(d=I),h&=~y}if(h=d,h=lt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*p1(h/1960))-h,10<h){r.timeoutHandle=ud(ro.bind(null,r,Yn,ki),h);break}ro(r,Yn,ki);break;case 5:ro(r,Yn,ki);break;default:throw Error(t(329))}}}return Jn(r,lt()),r.callbackNode===a?Ry.bind(null,r):null}function rf(r,s){var a=pl;return r.current.memoizedState.isDehydrated&&(no(r,s).flags|=256),r=cc(r,s),r!==2&&(s=Yn,Yn=a,s!==null&&sf(s)),r}function sf(r){Yn===null?Yn=r:Yn.push.apply(Yn,r)}function m1(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var d=a[h],y=d.getSnapshot;d=d.value;try{if(!br(y(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function us(r,s){for(s&=~Zd,s&=~ic,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-dt(s),h=1<<a;r[a]=-1,s&=~h}}function Ay(r){if((wt&6)!==0)throw Error(t(327));sa();var s=zs(r,0);if((s&1)===0)return Jn(r,lt()),null;var a=cc(r,s);if(r.tag!==0&&a===2){var h=sr(r);h!==0&&(s=h,a=rf(r,h))}if(a===1)throw a=fl,no(r,0),us(r,s),Jn(r,lt()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ro(r,Yn,ki),Jn(r,lt()),null}function of(r,s){var a=wt;wt|=1;try{return r(s)}finally{wt=a,wt===0&&(ia=lt()+500,Vu&&ns())}}function to(r){as!==null&&as.tag===0&&(wt&6)===0&&sa();var s=wt;wt|=1;var a=wr.transition,h=gt;try{if(wr.transition=null,gt=1,r)return r()}finally{gt=h,wr.transition=a,wt=s,(wt&6)===0&&ns()}}function af(){cr=ra.current,Lt(ra)}function no(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,HT(a)),sn!==null)for(a=sn.return;a!==null;){var h=a;switch(md(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ou();break;case 3:ea(),Lt(Kn),Lt(Nn),xd();break;case 5:Ad(h);break;case 4:ea();break;case 13:Lt($t);break;case 19:Lt($t);break;case 10:Ed(h.type._context);break;case 22:case 23:af()}a=a.return}if(gn=r,sn=r=cs(r.current,null),Sn=cr=s,dn=0,fl=null,Zd=ic=eo=0,Yn=pl=null,Js!==null){for(s=0;s<Js.length;s++)if(a=Js[s],h=a.interleaved,h!==null){a.interleaved=null;var d=h.next,y=a.pending;if(y!==null){var I=y.next;y.next=d,h.next=I}a.pending=h}Js=null}return r}function Cy(r,s){do{var a=sn;try{if(wd(),Ku.current=Ju,Gu){for(var h=Wt.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}Gu=!1}if(Zs=0,mn=hn=Wt=null,al=!1,ll=0,Xd.current=null,a===null||a.return===null){dn=1,fl=s,sn=null;break}e:{var y=r,I=a.return,D=a,F=s;if(s=Sn,D.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var Y=F,ce=D,fe=ce.tag;if((ce.mode&1)===0&&(fe===0||fe===11||fe===15)){var ue=ce.alternate;ue?(ce.updateQueue=ue.updateQueue,ce.memoizedState=ue.memoizedState,ce.lanes=ue.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var Re=Xg(I);if(Re!==null){Re.flags&=-257,Zg(Re,I,D,y,s),Re.mode&1&&Jg(y,Y,s),s=Re,F=Y;var Ve=s.updateQueue;if(Ve===null){var je=new Set;je.add(F),s.updateQueue=je}else Ve.add(F);break e}else{if((s&1)===0){Jg(y,Y,s),lf();break e}F=Error(t(426))}}else if(jt&&D.mode&1){var Jt=Xg(I);if(Jt!==null){(Jt.flags&65536)===0&&(Jt.flags|=256),Zg(Jt,I,D,y,s),vd(ta(F,D));break e}}y=F=ta(F,D),dn!==4&&(dn=2),pl===null?pl=[y]:pl.push(y),y=I;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var K=Qg(y,F,s);Tg(y,K);break e;case 1:D=F;var z=y.type,G=y.stateNode;if((y.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(os===null||!os.has(G)))){y.flags|=65536,s&=-s,y.lanes|=s;var ye=Yg(y,D,s);Tg(y,ye);break e}}y=y.return}while(y!==null)}Py(a)}catch(Ue){s=Ue,sn===a&&a!==null&&(sn=a=a.return);continue}break}while(!0)}function xy(){var r=rc.current;return rc.current=Ju,r===null?Ju:r}function lf(){(dn===0||dn===3||dn===2)&&(dn=4),gn===null||(eo&268435455)===0&&(ic&268435455)===0||us(gn,Sn)}function cc(r,s){var a=wt;wt|=2;var h=xy();(gn!==r||Sn!==s)&&(ki=null,no(r,s));do try{g1();break}catch(d){Cy(r,d)}while(!0);if(wd(),wt=a,rc.current=h,sn!==null)throw Error(t(261));return gn=null,Sn=0,dn}function g1(){for(;sn!==null;)ky(sn)}function y1(){for(;sn!==null&&!Gr();)ky(sn)}function ky(r){var s=Dy(r.alternate,r,cr);r.memoizedProps=r.pendingProps,s===null?Py(r):sn=s,Xd.current=null}function Py(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=u1(a,s,cr),a!==null){sn=a;return}}else{if(a=c1(a,s),a!==null){a.flags&=32767,sn=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{dn=6,sn=null;return}}if(s=s.sibling,s!==null){sn=s;return}sn=s=r}while(s!==null);dn===0&&(dn=5)}function ro(r,s,a){var h=gt,d=wr.transition;try{wr.transition=null,gt=1,v1(r,s,a,h)}finally{wr.transition=d,gt=h}return null}function v1(r,s,a,h){do sa();while(as!==null);if((wt&6)!==0)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if(Pt(r,y),r===gn&&(sn=gn=null,Sn=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||oc||(oc=!0,My(wn,function(){return sa(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=wr.transition,wr.transition=null;var I=gt;gt=1;var D=wt;wt|=4,Xd.current=null,d1(r,a),wy(a,r),FT(ad),Yi=!!od,ad=od=null,r.current=a,f1(a),rr(),wt=D,gt=I,wr.transition=y}else r.current=a;if(oc&&(oc=!1,as=r,ac=d),y=r.pendingLanes,y===0&&(os=null),Yr(a.stateNode),Jn(r,lt()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],h(d.value,{componentStack:d.stack,digest:d.digest});if(sc)throw sc=!1,r=tf,tf=null,r;return(ac&1)!==0&&r.tag!==0&&sa(),y=r.pendingLanes,(y&1)!==0?r===nf?ml++:(ml=0,nf=r):ml=0,ns(),null}function sa(){if(as!==null){var r=Gi(ac),s=wr.transition,a=gt;try{if(wr.transition=null,gt=16>r?16:r,as===null)var h=!1;else{if(r=as,as=null,ac=0,(wt&6)!==0)throw Error(t(331));var d=wt;for(wt|=4,Oe=r.current;Oe!==null;){var y=Oe,I=y.child;if((Oe.flags&16)!==0){var D=y.deletions;if(D!==null){for(var F=0;F<D.length;F++){var Y=D[F];for(Oe=Y;Oe!==null;){var ce=Oe;switch(ce.tag){case 0:case 11:case 15:dl(8,ce,y)}var fe=ce.child;if(fe!==null)fe.return=ce,Oe=fe;else for(;Oe!==null;){ce=Oe;var ue=ce.sibling,Re=ce.return;if(my(ce),ce===Y){Oe=null;break}if(ue!==null){ue.return=Re,Oe=ue;break}Oe=Re}}}var Ve=y.alternate;if(Ve!==null){var je=Ve.child;if(je!==null){Ve.child=null;do{var Jt=je.sibling;je.sibling=null,je=Jt}while(je!==null)}}Oe=y}}if((y.subtreeFlags&2064)!==0&&I!==null)I.return=y,Oe=I;else e:for(;Oe!==null;){if(y=Oe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:dl(9,y,y.return)}var K=y.sibling;if(K!==null){K.return=y.return,Oe=K;break e}Oe=y.return}}var z=r.current;for(Oe=z;Oe!==null;){I=Oe;var G=I.child;if((I.subtreeFlags&2064)!==0&&G!==null)G.return=I,Oe=G;else e:for(I=z;Oe!==null;){if(D=Oe,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:nc(9,D)}}catch(Ue){Yt(D,D.return,Ue)}if(D===I){Oe=null;break e}var ye=D.sibling;if(ye!==null){ye.return=D.return,Oe=ye;break e}Oe=D.return}}if(wt=d,ns(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Rt,r)}catch{}h=!0}return h}finally{gt=a,wr.transition=s}}return!1}function Ny(r,s,a){s=ta(a,s),s=Qg(r,s,1),r=is(r,s,1),s=zn(),r!==null&&(qi(r,1,s),Jn(r,s))}function Yt(r,s,a){if(r.tag===3)Ny(r,r,a);else for(;s!==null;){if(s.tag===3){Ny(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(os===null||!os.has(h))){r=ta(a,r),r=Yg(s,r,1),s=is(s,r,1),r=zn(),s!==null&&(qi(s,1,r),Jn(s,r));break}}s=s.return}}function _1(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=zn(),r.pingedLanes|=r.suspendedLanes&a,gn===r&&(Sn&a)===a&&(dn===4||dn===3&&(Sn&130023424)===Sn&&500>lt()-ef?no(r,0):Zd|=a),Jn(r,s)}function by(r,s){s===0&&((r.mode&1)===0?s=1:(s=xo,xo<<=1,(xo&130023424)===0&&(xo=4194304)));var a=zn();r=Ai(r,s),r!==null&&(qi(r,s,a),Jn(r,a))}function w1(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),by(r,a)}function E1(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),by(r,a)}var Dy;Dy=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Kn.current)Qn=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Qn=!1,l1(r,s,a);Qn=(r.flags&131072)!==0}else Qn=!1,jt&&(s.flags&1048576)!==0&&dg(s,ju,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;ec(r,s),r=s.pendingProps;var d=Ko(s,Nn.current);Zo(s,a),d=Nd(null,s,h,r,d,a);var y=bd();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Gn(h)?(y=!0,Lu(s)):y=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Sd(s),d.updater=Xu,s.stateNode=d,d._reactInternals=s,Fd(s,h,r,a),s=Bd(null,s,h,!0,y,a)):(s.tag=0,jt&&y&&pd(s),Un(null,s,d,a),s=s.child),s;case 16:h=s.elementType;e:{switch(ec(r,s),r=s.pendingProps,d=h._init,h=d(h._payload),s.type=h,d=s.tag=I1(h),r=Mr(h,r),d){case 0:s=zd(null,s,h,r,a);break e;case 1:s=sy(null,s,h,r,a);break e;case 11:s=ey(null,s,h,r,a);break e;case 14:s=ty(null,s,h,Mr(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Mr(h,d),zd(r,s,h,d,a);case 1:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Mr(h,d),sy(r,s,h,d,a);case 3:e:{if(oy(s),r===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,d=y.element,Eg(r,s),Hu(s,h,null,a);var I=s.memoizedState;if(h=I.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){d=ta(Error(t(423)),s),s=ay(r,s,h,a,d);break e}else if(h!==d){d=ta(Error(t(424)),s),s=ay(r,s,h,a,d);break e}else for(ur=Zi(s.stateNode.containerInfo.firstChild),lr=s,jt=!0,Dr=null,a=_g(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Yo(),h===d){s=xi(r,s,a);break e}Un(r,s,h,a)}s=s.child}return s;case 5:return Sg(s),r===null&&yd(s),h=s.type,d=s.pendingProps,y=r!==null?r.memoizedProps:null,I=d.children,ld(h,d)?I=null:y!==null&&ld(h,y)&&(s.flags|=32),iy(r,s),Un(r,s,I,a),s.child;case 6:return r===null&&yd(s),null;case 13:return ly(r,s,a);case 4:return Rd(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Jo(s,null,h,a):Un(r,s,h,a),s.child;case 11:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Mr(h,d),ey(r,s,h,d,a);case 7:return Un(r,s,s.pendingProps,a),s.child;case 8:return Un(r,s,s.pendingProps.children,a),s.child;case 12:return Un(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,d=s.pendingProps,y=s.memoizedProps,I=d.value,bt(Bu,h._currentValue),h._currentValue=I,y!==null)if(br(y.value,I)){if(y.children===d.children&&!Kn.current){s=xi(r,s,a);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var D=y.dependencies;if(D!==null){I=y.child;for(var F=D.firstContext;F!==null;){if(F.context===h){if(y.tag===1){F=Ci(-1,a&-a),F.tag=2;var Y=y.updateQueue;if(Y!==null){Y=Y.shared;var ce=Y.pending;ce===null?F.next=F:(F.next=ce.next,ce.next=F),Y.pending=F}}y.lanes|=a,F=y.alternate,F!==null&&(F.lanes|=a),Td(y.return,a,s),D.lanes|=a;break}F=F.next}}else if(y.tag===10)I=y.type===s.type?null:y.child;else if(y.tag===18){if(I=y.return,I===null)throw Error(t(341));I.lanes|=a,D=I.alternate,D!==null&&(D.lanes|=a),Td(I,a,s),I=y.sibling}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===s){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}Un(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,h=s.pendingProps.children,Zo(s,a),d=vr(d),h=h(d),s.flags|=1,Un(r,s,h,a),s.child;case 14:return h=s.type,d=Mr(h,s.pendingProps),d=Mr(h.type,d),ty(r,s,h,d,a);case 15:return ny(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Mr(h,d),ec(r,s),s.tag=1,Gn(h)?(r=!0,Lu(s)):r=!1,Zo(s,a),Kg(s,h,d),Fd(s,h,d,a),Bd(null,s,h,!0,r,a);case 19:return cy(r,s,a);case 22:return ry(r,s,a)}throw Error(t(156,s.tag))};function My(r,s){return Ct(r,s)}function T1(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(r,s,a,h){return new T1(r,s,a,h)}function uf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function I1(r){if(typeof r=="function")return uf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===b)return 11;if(r===Ke)return 14}return 2}function cs(r,s){var a=r.alternate;return a===null?(a=Er(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function hc(r,s,a,h,d,y){var I=2;if(h=r,typeof r=="function")uf(r)&&(I=1);else if(typeof r=="string")I=5;else e:switch(r){case C:return io(a.children,d,y,s);case _:I=8,d|=8;break;case E:return r=Er(12,a,s,d|2),r.elementType=E,r.lanes=y,r;case P:return r=Er(13,a,s,d),r.elementType=P,r.lanes=y,r;case Le:return r=Er(19,a,s,d),r.elementType=Le,r.lanes=y,r;case he:return dc(a,d,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:I=10;break e;case N:I=9;break e;case b:I=11;break e;case Ke:I=14;break e;case ve:I=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Er(I,a,s,d),s.elementType=r,s.type=h,s.lanes=y,s}function io(r,s,a,h){return r=Er(7,r,h,s),r.lanes=a,r}function dc(r,s,a,h){return r=Er(22,r,h,s),r.elementType=he,r.lanes=a,r.stateNode={isHidden:!1},r}function cf(r,s,a){return r=Er(6,r,null,s),r.lanes=a,r}function hf(r,s,a){return s=Er(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function S1(r,s,a,h,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hi(0),this.expirationTimes=Hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function df(r,s,a,h,d,y,I,D,F){return r=new S1(r,s,a,D,F),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Er(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sd(y),r}function R1(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ne,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function Oy(r){if(!r)return ts;r=r._reactInternals;e:{if(xe(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Gn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Gn(a))return ug(r,a,s)}return s}function Ly(r,s,a,h,d,y,I,D,F){return r=df(a,h,!0,r,d,y,I,D,F),r.context=Oy(null),a=r.current,h=zn(),d=ls(a),y=Ci(h,d),y.callback=s??null,is(a,y,d),r.current.lanes=d,qi(r,d,h),Jn(r,h),r}function fc(r,s,a,h){var d=s.current,y=zn(),I=ls(d);return a=Oy(a),s.context===null?s.context=a:s.pendingContext=a,s=Ci(y,I),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=is(d,s,I),r!==null&&(Vr(r,d,I,y),Wu(r,d,I)),I}function pc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Vy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function ff(r,s){Vy(r,s),(r=r.alternate)&&Vy(r,s)}function A1(){return null}var Fy=typeof reportError=="function"?reportError:function(r){console.error(r)};function pf(r){this._internalRoot=r}mc.prototype.render=pf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));fc(r,s,null,null)},mc.prototype.unmount=pf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;to(function(){fc(null,r,null,null)}),s[Ti]=null}};function mc(r){this._internalRoot=r}mc.prototype.unstable_scheduleHydration=function(r){if(r){var s=mu();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Xr.length&&s!==0&&s<Xr[a].priority;a++);Xr.splice(a,0,r),a===0&&vu(r)}};function mf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function gc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function jy(){}function C1(r,s,a,h,d){if(d){if(typeof h=="function"){var y=h;h=function(){var Y=pc(I);y.call(Y)}}var I=Ly(s,h,r,0,null,!1,!1,"",jy);return r._reactRootContainer=I,r[Ti]=I.current,Za(r.nodeType===8?r.parentNode:r),to(),I}for(;d=r.lastChild;)r.removeChild(d);if(typeof h=="function"){var D=h;h=function(){var Y=pc(F);D.call(Y)}}var F=df(r,0,!1,null,null,!1,!1,"",jy);return r._reactRootContainer=F,r[Ti]=F.current,Za(r.nodeType===8?r.parentNode:r),to(function(){fc(s,F,a,h)}),F}function yc(r,s,a,h,d){var y=a._reactRootContainer;if(y){var I=y;if(typeof d=="function"){var D=d;d=function(){var F=pc(I);D.call(F)}}fc(s,I,r,d)}else I=C1(a,s,r,d,h);return pc(I)}fu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Wi(s.pendingLanes);a!==0&&(Ki(s,a|1),Jn(s,lt()),(wt&6)===0&&(ia=lt()+500,ns()))}break;case 13:to(function(){var h=Ai(r,1);if(h!==null){var d=zn();Vr(h,r,1,d)}}),ff(r,1)}},ko=function(r){if(r.tag===13){var s=Ai(r,134217728);if(s!==null){var a=zn();Vr(s,r,134217728,a)}ff(r,134217728)}},pu=function(r){if(r.tag===13){var s=ls(r),a=Ai(r,s);if(a!==null){var h=zn();Vr(a,r,s,h)}ff(r,s)}},mu=function(){return gt},gu=function(r,s){var a=gt;try{return gt=r,s()}finally{gt=a}},gi=function(r,s,a){switch(s){case"input":if(ht(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var d=Mu(h);if(!d)throw Error(t(90));Ie(h),ht(h,d)}}}break;case"textarea":yt(r,a);break;case"select":s=a.value,s!=null&&en(r,!!a.multiple,s,!1)}},qr=of,Kr=to;var x1={usingClientEntryPoint:!1,Events:[nl,Ho,Mu,nr,Fs,of]},gl={findFiberByHostInstance:Ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k1={bundleType:gl.bundleType,version:gl.version,rendererPackageName:gl.rendererPackageName,rendererConfig:gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ge.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Tt(r),r===null?null:r.stateNode},findFiberByHostInstance:gl.findFiberByHostInstance||A1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{Rt=vc.inject(k1),nn=vc}catch{}}return Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x1,Xn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mf(s))throw Error(t(200));return R1(r,s,null,a)},Xn.createRoot=function(r,s){if(!mf(r))throw Error(t(299));var a=!1,h="",d=Fy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=df(r,1,!1,null,null,a,!1,h,d),r[Ti]=s.current,Za(r.nodeType===8?r.parentNode:r),new pf(s)},Xn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Tt(s),r=r===null?null:r.stateNode,r},Xn.flushSync=function(r){return to(r)},Xn.hydrate=function(r,s,a){if(!gc(s))throw Error(t(200));return yc(null,r,s,!0,a)},Xn.hydrateRoot=function(r,s,a){if(!mf(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,d=!1,y="",I=Fy;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(I=a.onRecoverableError)),s=Ly(s,null,r,1,a??null,d,!1,y,I),r[Ti]=s.current,Za(r),h)for(r=0;r<h.length;r++)a=h[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new mc(s)},Xn.render=function(r,s,a){if(!gc(s))throw Error(t(200));return yc(null,r,s,!1,a)},Xn.unmountComponentAtNode=function(r){if(!gc(r))throw Error(t(40));return r._reactRootContainer?(to(function(){yc(null,null,r,!1,function(){r._reactRootContainer=null,r[Ti]=null})}),!0):!1},Xn.unstable_batchedUpdates=of,Xn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!gc(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return yc(r,s,a,!1,h)},Xn.version="18.3.1-next-f1338f8080-20240426",Xn}var Ky;function l0(){if(Ky)return vf.exports;Ky=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vf.exports=U1(),vf.exports}var Gy;function z1(){if(Gy)return wc;Gy=1;var n=l0();return wc.createRoot=n.createRoot,wc.hydrateRoot=n.hydrateRoot,wc}var B1=z1();const $1=vh(B1);var Ep=l0();const W1=vh(Ep),H1=o0({__proto__:null,default:W1},[Ep]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ut(){return Ut=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ut.apply(this,arguments)}var an;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(an||(an={}));const Qy="popstate";function q1(n){n===void 0&&(n={});function e(i,o){let{pathname:l,search:c,hash:f}=i.location;return Vl("",{pathname:l,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:po(o)}return G1(e,t,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function va(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function K1(){return Math.random().toString(36).substr(2,8)}function Yy(n,e){return{usr:n.state,key:n.key,idx:e}}function Vl(n,e,t,i){return t===void 0&&(t=null),Ut({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ms(e):e,{state:t,key:e&&e.key||i||K1()})}function po(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ms(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function G1(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,f=an.Pop,p=null,g=w();g==null&&(g=0,c.replaceState(Ut({},c.state,{idx:g}),""));function w(){return(c.state||{idx:null}).idx}function S(){f=an.Pop;let j=w(),pe=j==null?null:j-g;g=j,p&&p({action:f,location:$.location,delta:pe})}function A(j,pe){f=an.Push;let ie=Vl($.location,j,pe);g=w()+1;let me=Yy(ie,g),ge=$.createHref(ie);try{c.pushState(me,"",ge)}catch(Pe){if(Pe instanceof DOMException&&Pe.name==="DataCloneError")throw Pe;o.location.assign(ge)}l&&p&&p({action:f,location:$.location,delta:1})}function O(j,pe){f=an.Replace;let ie=Vl($.location,j,pe);g=w();let me=Yy(ie,g),ge=$.createHref(ie);c.replaceState(me,"",ge),l&&p&&p({action:f,location:$.location,delta:0})}function U(j){let pe=o.location.origin!=="null"?o.location.origin:o.location.href,ie=typeof j=="string"?j:po(j);return ie=ie.replace(/ $/,"%20"),ct(pe,"No window.location.(origin|href) available to create URL for href: "+ie),new URL(ie,pe)}let $={get action(){return f},get location(){return n(o,c)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Qy,S),p=j,()=>{o.removeEventListener(Qy,S),p=null}},createHref(j){return e(o,j)},createURL:U,encodeLocation(j){let pe=U(j);return{pathname:pe.pathname,search:pe.search,hash:pe.hash}},push:A,replace:O,go(j){return c.go(j)}};return $}var kt;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(kt||(kt={}));const Q1=new Set(["lazy","caseSensitive","path","id","index","children"]);function Y1(n){return n.index===!0}function Wc(n,e,t,i){return t===void 0&&(t=[]),i===void 0&&(i={}),n.map((o,l)=>{let c=[...t,String(l)],f=typeof o.id=="string"?o.id:c.join("-");if(ct(o.index!==!0||!o.children,"Cannot specify children on an index route"),ct(!i[f],'Found a route id collision on id "'+f+`".  Route id's must be globally unique within Data Router usages`),Y1(o)){let p=Ut({},o,e(o),{id:f});return i[f]=p,p}else{let p=Ut({},o,e(o),{id:f,children:void 0});return i[f]=p,o.children&&(p.children=Wc(o.children,e,c,i)),p}})}function oo(n,e,t){return t===void 0&&(t="/"),Pc(n,e,t,!1)}function Pc(n,e,t,i){let o=typeof e=="string"?Ms(e):e,l=Na(o.pathname||"/",t);if(l==null)return null;let c=u0(n);X1(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let g=uI(l);f=aI(c[p],g,i)}return f}function J1(n,e){let{route:t,pathname:i,params:o}=n;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function u0(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(l,c,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(ct(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let g=Di([i,p.relativePath]),w=t.concat(p);l.children&&l.children.length>0&&(ct(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),u0(l.children,e,w,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:sI(g,l.index),routesMeta:w})};return n.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,c);else for(let p of c0(l.path))o(l,c,p)}),e}function c0(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=c0(i.join("/")),f=[];return f.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...c),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function X1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:oI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const Z1=/^:[\w-]+$/,eI=3,tI=2,nI=1,rI=10,iI=-2,Jy=n=>n==="*";function sI(n,e){let t=n.split("/"),i=t.length;return t.some(Jy)&&(i+=iI),e&&(i+=tI),t.filter(o=>!Jy(o)).reduce((o,l)=>o+(Z1.test(l)?eI:l===""?nI:rI),i)}function oI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function aI(n,e,t){t===void 0&&(t=!1);let{routesMeta:i}=n,o={},l="/",c=[];for(let f=0;f<i.length;++f){let p=i[f],g=f===i.length-1,w=l==="/"?e:e.slice(l.length)||"/",S=Xy({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},w),A=p.route;if(!S&&g&&t&&!i[i.length-1].route.index&&(S=Xy({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!S)return null;Object.assign(o,S.params),c.push({params:o,pathname:Di([l,S.pathname]),pathnameBase:dI(Di([l,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(l=Di([l,S.pathnameBase]))}return c}function Xy(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=lI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((g,w,S)=>{let{paramName:A,isOptional:O}=w;if(A==="*"){let $=f[S]||"";c=l.slice(0,l.length-$.length).replace(/(.)\/+$/,"$1")}const U=f[S];return O&&!U?g[A]=void 0:g[A]=(U||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function lI(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),va(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function uI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return va(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Na(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function cI(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Ms(n):n;return{pathname:t?t.startsWith("/")?t:hI(t,e):e,search:fI(i),hash:pI(o)}}function hI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ef(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function h0(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _h(n,e){let t=h0(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function wh(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=Ms(n):(o=Ut({},n),ct(!o.pathname||!o.pathname.includes("?"),Ef("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Ef("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Ef("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,f;if(c==null)f=t;else{let S=e.length-1;if(!i&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}f=S>=0?e[S]:"/"}let p=cI(o,f),g=c&&c!=="/"&&c.endsWith("/"),w=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||w)&&(p.pathname+="/"),p}const Di=n=>n.join("/").replace(/\/\/+/g,"/"),dI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),fI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,pI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class Hc{constructor(e,t,i,o){o===void 0&&(o=!1),this.status=e,this.statusText=t||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function Fl(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const d0=["post","put","patch","delete"],mI=new Set(d0),gI=["get",...d0],yI=new Set(gI),vI=new Set([301,302,303,307,308]),_I=new Set([307,308]),Tf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Tp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EI=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),f0="remix-router-transitions";function TI(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!t;ct(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(n.mapRouteProperties)o=n.mapRouteProperties;else if(n.detectErrorBoundary){let V=n.detectErrorBoundary;o=B=>({hasErrorBoundary:V(B)})}else o=EI;let l={},c=Wc(n.routes,o,void 0,l),f,p=n.basename||"/",g=n.dataStrategy||AI,w=n.patchRoutesOnNavigation,S=Ut({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),A=null,O=new Set,U=null,$=null,j=null,pe=n.hydrationData!=null,ie=oo(c,n.history.location,p),me=!1,ge=null;if(ie==null&&!w){let V=Zn(404,{pathname:n.history.location.pathname}),{matches:B,route:Q}=uv(c);ie=B,ge={[Q.id]:V}}ie&&!n.hydrationData&&Kr(ie,c,n.history.location.pathname).active&&(ie=null);let Pe;if(ie)if(ie.some(V=>V.route.lazy))Pe=!1;else if(!ie.some(V=>V.route.loader))Pe=!0;else if(S.v7_partialHydration){let V=n.hydrationData?n.hydrationData.loaderData:null,B=n.hydrationData?n.hydrationData.errors:null;if(B){let Q=ie.findIndex(le=>B[le.route.id]!==void 0);Pe=ie.slice(0,Q+1).every(le=>!Bf(le.route,V,B))}else Pe=ie.every(Q=>!Bf(Q.route,V,B))}else Pe=n.hydrationData!=null;else if(Pe=!1,ie=[],S.v7_partialHydration){let V=Kr(null,c,n.history.location.pathname);V.active&&V.matches&&(me=!0,ie=V.matches)}let Ne,C={historyAction:n.history.action,location:n.history.location,matches:ie,initialized:Pe,navigation:Tf,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||ge,fetchers:new Map,blockers:new Map},_=an.Pop,E=!1,x,N=!1,b=new Map,P=null,Le=!1,Ke=!1,ve=[],he=new Set,J=new Map,ee=0,M=-1,T=new Map,L=new Set,H=new Map,ae=new Map,X=new Set,te=new Map,oe=new Map,ne;function de(){if(A=n.history.listen(V=>{let{action:B,location:Q,delta:le}=V;if(ne){ne(),ne=void 0;return}va(oe.size===0||le!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ee=gi({currentLocation:C.location,nextLocation:Q,historyAction:B});if(Ee&&le!=null){let De=new Promise(We=>{ne=We});n.history.go(le*-1),Ar(Ee,{state:"blocked",location:Q,proceed(){Ar(Ee,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),De.then(()=>n.history.go(le))},reset(){let We=new Map(C.blockers);We.set(Ee,vl),Ie({blockers:We})}});return}return Fe(B,Q)}),t){UI(e,b);let V=()=>zI(e,b);e.addEventListener("pagehide",V),P=()=>e.removeEventListener("pagehide",V)}return C.initialized||Fe(an.Pop,C.location,{initialHydration:!0}),Ne}function Te(){A&&A(),P&&P(),O.clear(),x&&x.abort(),C.fetchers.forEach((V,B)=>zt(B)),C.blockers.forEach((V,B)=>Hr(B))}function _e(V){return O.add(V),()=>O.delete(V)}function Ie(V,B){B===void 0&&(B={}),C=Ut({},C,V);let Q=[],le=[];S.v7_fetcherPersist&&C.fetchers.forEach((Ee,De)=>{Ee.state==="idle"&&(X.has(De)?le.push(De):Q.push(De))}),X.forEach(Ee=>{!C.fetchers.has(Ee)&&!J.has(Ee)&&le.push(Ee)}),[...O].forEach(Ee=>Ee(C,{deletedFetchers:le,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),S.v7_fetcherPersist?(Q.forEach(Ee=>C.fetchers.delete(Ee)),le.forEach(Ee=>zt(Ee))):le.forEach(Ee=>X.delete(Ee))}function Be(V,B,Q){var le,Ee;let{flushSync:De}=Q===void 0?{}:Q,We=C.actionData!=null&&C.navigation.formMethod!=null&&Fr(C.navigation.formMethod)&&C.navigation.state==="loading"&&((le=V.state)==null?void 0:le._isRedirect)!==!0,Me;B.actionData?Object.keys(B.actionData).length>0?Me=B.actionData:Me=null:We?Me=C.actionData:Me=null;let be=B.loaderData?av(C.loaderData,B.loaderData,B.matches||[],B.errors):C.loaderData,Ce=C.blockers;Ce.size>0&&(Ce=new Map(Ce),Ce.forEach((Ze,Qt)=>Ce.set(Qt,vl)));let xe=E===!0||C.navigation.formMethod!=null&&Fr(C.navigation.formMethod)&&((Ee=V.state)==null?void 0:Ee._isRedirect)!==!0;f&&(c=f,f=void 0),Le||_===an.Pop||(_===an.Push?n.history.push(V,V.state):_===an.Replace&&n.history.replace(V,V.state));let Ge;if(_===an.Pop){let Ze=b.get(C.location.pathname);Ze&&Ze.has(V.pathname)?Ge={currentLocation:C.location,nextLocation:V}:b.has(V.pathname)&&(Ge={currentLocation:V,nextLocation:C.location})}else if(N){let Ze=b.get(C.location.pathname);Ze?Ze.add(V.pathname):(Ze=new Set([V.pathname]),b.set(C.location.pathname,Ze)),Ge={currentLocation:C.location,nextLocation:V}}Ie(Ut({},B,{actionData:Me,loaderData:be,historyAction:_,location:V,initialized:!0,navigation:Tf,revalidation:"idle",restoreScrollPosition:qr(V,B.matches||C.matches),preventScrollReset:xe,blockers:Ce}),{viewTransitionOpts:Ge,flushSync:De===!0}),_=an.Pop,E=!1,N=!1,Le=!1,Ke=!1,ve=[]}async function Ae(V,B){if(typeof V=="number"){n.history.go(V);return}let Q=zf(C.location,C.matches,p,S.v7_prependBasename,V,S.v7_relativeSplatPath,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:le,submission:Ee,error:De}=Zy(S.v7_normalizeFormMethod,!1,Q,B),We=C.location,Me=Vl(C.location,le,B&&B.state);Me=Ut({},Me,n.history.encodeLocation(Me));let be=B&&B.replace!=null?B.replace:void 0,Ce=an.Push;be===!0?Ce=an.Replace:be===!1||Ee!=null&&Fr(Ee.formMethod)&&Ee.formAction===C.location.pathname+C.location.search&&(Ce=an.Replace);let xe=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,Ge=(B&&B.flushSync)===!0,Ze=gi({currentLocation:We,nextLocation:Me,historyAction:Ce});if(Ze){Ar(Ze,{state:"blocked",location:Me,proceed(){Ar(Ze,{state:"proceeding",proceed:void 0,reset:void 0,location:Me}),Ae(V,B)},reset(){let Qt=new Map(C.blockers);Qt.set(Ze,vl),Ie({blockers:Qt})}});return}return await Fe(Ce,Me,{submission:Ee,pendingError:De,preventScrollReset:xe,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:Ge})}function $e(){if(st(),Ie({revalidation:"loading"}),C.navigation.state!=="submitting"){if(C.navigation.state==="idle"){Fe(C.historyAction,C.location,{startUninterruptedRevalidation:!0});return}Fe(_||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:N===!0})}}async function Fe(V,B,Q){x&&x.abort(),x=null,_=V,Le=(Q&&Q.startUninterruptedRevalidation)===!0,Fs(C.location,C.matches),E=(Q&&Q.preventScrollReset)===!0,N=(Q&&Q.enableViewTransition)===!0;let le=f||c,Ee=Q&&Q.overrideNavigation,De=Q!=null&&Q.initialHydration&&C.matches&&C.matches.length>0&&!me?C.matches:oo(le,B,p),We=(Q&&Q.flushSync)===!0;if(De&&C.initialized&&!Ke&&bI(C.location,B)&&!(Q&&Q.submission&&Fr(Q.submission.formMethod))){Be(B,{matches:De},{flushSync:We});return}let Me=Kr(De,le,B.pathname);if(Me.active&&Me.matches&&(De=Me.matches),!De){let{error:Tt,notFoundMatches:ot,route:Ct}=kn(B.pathname);Be(B,{matches:ot,loaderData:{},errors:{[Ct.id]:Tt}},{flushSync:We});return}x=new AbortController;let be=oa(n.history,B,x.signal,Q&&Q.submission),Ce;if(Q&&Q.pendingError)Ce=[ao(De).route.id,{type:kt.error,error:Q.pendingError}];else if(Q&&Q.submission&&Fr(Q.submission.formMethod)){let Tt=await ht(be,B,Q.submission,De,Me.active,{replace:Q.replace,flushSync:We});if(Tt.shortCircuited)return;if(Tt.pendingActionResult){let[ot,Ct]=Tt.pendingActionResult;if(hr(Ct)&&Fl(Ct.error)&&Ct.error.status===404){x=null,Be(B,{matches:Tt.matches,loaderData:{},errors:{[ot]:Ct.error}});return}}De=Tt.matches||De,Ce=Tt.pendingActionResult,Ee=If(B,Q.submission),We=!1,Me.active=!1,be=oa(n.history,be.url,be.signal)}let{shortCircuited:xe,matches:Ge,loaderData:Ze,errors:Qt}=await Ye(be,B,De,Me.active,Ee,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,We,Ce);xe||(x=null,Be(B,Ut({matches:Ge||De},lv(Ce),{loaderData:Ze,errors:Qt})))}async function ht(V,B,Q,le,Ee,De){De===void 0&&(De={}),st();let We=FI(B,Q);if(Ie({navigation:We},{flushSync:De.flushSync===!0}),Ee){let Ce=await Wn(le,B.pathname,V.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){let xe=ao(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,pendingActionResult:[xe,{type:kt.error,error:Ce.error}]}}else if(Ce.matches)le=Ce.matches;else{let{notFoundMatches:xe,error:Ge,route:Ze}=kn(B.pathname);return{matches:xe,pendingActionResult:[Ze.id,{type:kt.error,error:Ge}]}}}let Me,be=Tl(le,B);if(!be.route.action&&!be.route.lazy)Me={type:kt.error,error:Zn(405,{method:V.method,pathname:B.pathname,routeId:be.route.id})};else if(Me=(await Vt("action",C,V,[be],le,null))[be.route.id],V.signal.aborted)return{shortCircuited:!0};if(lo(Me)){let Ce;return De&&De.replace!=null?Ce=De.replace:Ce=iv(Me.response.headers.get("Location"),new URL(V.url),p)===C.location.pathname+C.location.search,await yt(V,Me,!0,{submission:Q,replace:Ce}),{shortCircuited:!0}}if(ys(Me))throw Zn(400,{type:"defer-action"});if(hr(Me)){let Ce=ao(le,be.route.id);return(De&&De.replace)!==!0&&(_=an.Push),{matches:le,pendingActionResult:[Ce.route.id,Me]}}return{matches:le,pendingActionResult:[be.route.id,Me]}}async function Ye(V,B,Q,le,Ee,De,We,Me,be,Ce,xe){let Ge=Ee||If(B,De),Ze=De||We||hv(Ge),Qt=!Le&&(!S.v7_partialHydration||!be);if(le){if(Qt){let Rt=rt(xe);Ie(Ut({navigation:Ge},Rt!==void 0?{actionData:Rt}:{}),{flushSync:Ce})}let ut=await Wn(Q,B.pathname,V.signal);if(ut.type==="aborted")return{shortCircuited:!0};if(ut.type==="error"){let Rt=ao(ut.partialMatches).route.id;return{matches:ut.partialMatches,loaderData:{},errors:{[Rt]:ut.error}}}else if(ut.matches)Q=ut.matches;else{let{error:Rt,notFoundMatches:nn,route:Yr}=kn(B.pathname);return{matches:nn,loaderData:{},errors:{[Yr.id]:Rt}}}}let Tt=f||c,[ot,Ct]=tv(n.history,C,Q,Ze,B,S.v7_partialHydration&&be===!0,S.v7_skipActionErrorRevalidation,Ke,ve,he,X,H,L,Tt,p,xe);if($n(ut=>!(Q&&Q.some(Rt=>Rt.route.id===ut))||ot&&ot.some(Rt=>Rt.route.id===ut)),M=++ee,ot.length===0&&Ct.length===0){let ut=Ui();return Be(B,Ut({matches:Q,loaderData:{},errors:xe&&hr(xe[1])?{[xe[0]]:xe[1].error}:null},lv(xe),ut?{fetchers:new Map(C.fetchers)}:{}),{flushSync:Ce}),{shortCircuited:!0}}if(Qt){let ut={};if(!le){ut.navigation=Ge;let Rt=rt(xe);Rt!==void 0&&(ut.actionData=Rt)}Ct.length>0&&(ut.fetchers=it(Ct)),Ie(ut,{flushSync:Ce})}Ct.forEach(ut=>{Gt(ut.key),ut.controller&&J.set(ut.key,ut.controller)});let dr=()=>Ct.forEach(ut=>Gt(ut.key));x&&x.signal.addEventListener("abort",dr);let{loaderResults:Gr,fetcherResults:rr}=await tt(C,Q,ot,Ct,V);if(V.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",dr),Ct.forEach(ut=>J.delete(ut.key));let lt=Ec(Gr);if(lt)return await yt(V,lt.result,!0,{replace:Me}),{shortCircuited:!0};if(lt=Ec(rr),lt)return L.add(lt.key),await yt(V,lt.result,!0,{replace:Me}),{shortCircuited:!0};let{loaderData:$i,errors:ir}=ov(C,Q,Gr,xe,Ct,rr,te);te.forEach((ut,Rt)=>{ut.subscribe(nn=>{(nn||ut.done)&&te.delete(Rt)})}),S.v7_partialHydration&&be&&C.errors&&(ir=Ut({},C.errors,ir));let Pn=Ui(),wn=zi(M),Qr=Pn||wn||Ct.length>0;return Ut({matches:Q,loaderData:$i,errors:ir},Qr?{fetchers:new Map(C.fetchers)}:{})}function rt(V){if(V&&!hr(V[1]))return{[V[0]]:V[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function it(V){return V.forEach(B=>{let Q=C.fetchers.get(B.key),le=_l(void 0,Q?Q.data:void 0);C.fetchers.set(B.key,le)}),new Map(C.fetchers)}function en(V,B,Q,le){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Gt(V);let Ee=(le&&le.flushSync)===!0,De=f||c,We=zf(C.location,C.matches,p,S.v7_prependBasename,Q,S.v7_relativeSplatPath,B,le==null?void 0:le.relative),Me=oo(De,We,p),be=Kr(Me,De,We);if(be.active&&be.matches&&(Me=be.matches),!Me){qt(V,B,Zn(404,{pathname:We}),{flushSync:Ee});return}let{path:Ce,submission:xe,error:Ge}=Zy(S.v7_normalizeFormMethod,!0,We,le);if(Ge){qt(V,B,Ge,{flushSync:Ee});return}let Ze=Tl(Me,Ce),Qt=(le&&le.preventScrollReset)===!0;if(xe&&Fr(xe.formMethod)){tn(V,B,Ce,Ze,Me,be.active,Ee,Qt,xe);return}H.set(V,{routeId:B,path:Ce}),xn(V,B,Ce,Ze,Me,be.active,Ee,Qt,xe)}async function tn(V,B,Q,le,Ee,De,We,Me,be){st(),H.delete(V);function Ce(dt){if(!dt.route.action&&!dt.route.lazy){let fr=Zn(405,{method:be.formMethod,pathname:Q,routeId:B});return qt(V,B,fr,{flushSync:We}),!0}return!1}if(!De&&Ce(le))return;let xe=C.fetchers.get(V);St(V,jI(be,xe),{flushSync:We});let Ge=new AbortController,Ze=oa(n.history,Q,Ge.signal,be);if(De){let dt=await Wn(Ee,new URL(Ze.url).pathname,Ze.signal,V);if(dt.type==="aborted")return;if(dt.type==="error"){qt(V,B,dt.error,{flushSync:We});return}else if(dt.matches){if(Ee=dt.matches,le=Tl(Ee,Q),Ce(le))return}else{qt(V,B,Zn(404,{pathname:Q}),{flushSync:We});return}}J.set(V,Ge);let Qt=ee,ot=(await Vt("action",C,Ze,[le],Ee,V))[le.route.id];if(Ze.signal.aborted){J.get(V)===Ge&&J.delete(V);return}if(S.v7_fetcherPersist&&X.has(V)){if(lo(ot)||hr(ot)){St(V,fs(void 0));return}}else{if(lo(ot))if(J.delete(V),M>Qt){St(V,fs(void 0));return}else return L.add(V),St(V,_l(be)),yt(Ze,ot,!1,{fetcherSubmission:be,preventScrollReset:Me});if(hr(ot)){qt(V,B,ot.error);return}}if(ys(ot))throw Zn(400,{type:"defer-action"});let Ct=C.navigation.location||C.location,dr=oa(n.history,Ct,Ge.signal),Gr=f||c,rr=C.navigation.state!=="idle"?oo(Gr,C.navigation.location,p):C.matches;ct(rr,"Didn't find any matches after fetcher action");let lt=++ee;T.set(V,lt);let $i=_l(be,ot.data);C.fetchers.set(V,$i);let[ir,Pn]=tv(n.history,C,rr,be,Ct,!1,S.v7_skipActionErrorRevalidation,Ke,ve,he,X,H,L,Gr,p,[le.route.id,ot]);Pn.filter(dt=>dt.key!==V).forEach(dt=>{let fr=dt.key,Us=C.fetchers.get(fr),Ao=_l(void 0,Us?Us.data:void 0);C.fetchers.set(fr,Ao),Gt(fr),dt.controller&&J.set(fr,dt.controller)}),Ie({fetchers:new Map(C.fetchers)});let wn=()=>Pn.forEach(dt=>Gt(dt.key));Ge.signal.addEventListener("abort",wn);let{loaderResults:Qr,fetcherResults:ut}=await tt(C,rr,ir,Pn,dr);if(Ge.signal.aborted)return;Ge.signal.removeEventListener("abort",wn),T.delete(V),J.delete(V),Pn.forEach(dt=>J.delete(dt.key));let Rt=Ec(Qr);if(Rt)return yt(dr,Rt.result,!1,{preventScrollReset:Me});if(Rt=Ec(ut),Rt)return L.add(Rt.key),yt(dr,Rt.result,!1,{preventScrollReset:Me});let{loaderData:nn,errors:Yr}=ov(C,rr,Qr,void 0,Pn,ut,te);if(C.fetchers.has(V)){let dt=fs(ot.data);C.fetchers.set(V,dt)}zi(lt),C.navigation.state==="loading"&&lt>M?(ct(_,"Expected pending action"),x&&x.abort(),Be(C.navigation.location,{matches:rr,loaderData:nn,errors:Yr,fetchers:new Map(C.fetchers)})):(Ie({errors:Yr,loaderData:av(C.loaderData,nn,rr,Yr),fetchers:new Map(C.fetchers)}),Ke=!1)}async function xn(V,B,Q,le,Ee,De,We,Me,be){let Ce=C.fetchers.get(V);St(V,_l(be,Ce?Ce.data:void 0),{flushSync:We});let xe=new AbortController,Ge=oa(n.history,Q,xe.signal);if(De){let ot=await Wn(Ee,new URL(Ge.url).pathname,Ge.signal,V);if(ot.type==="aborted")return;if(ot.type==="error"){qt(V,B,ot.error,{flushSync:We});return}else if(ot.matches)Ee=ot.matches,le=Tl(Ee,Q);else{qt(V,B,Zn(404,{pathname:Q}),{flushSync:We});return}}J.set(V,xe);let Ze=ee,Tt=(await Vt("loader",C,Ge,[le],Ee,V))[le.route.id];if(ys(Tt)&&(Tt=await Ip(Tt,Ge.signal,!0)||Tt),J.get(V)===xe&&J.delete(V),!Ge.signal.aborted){if(X.has(V)){St(V,fs(void 0));return}if(lo(Tt))if(M>Ze){St(V,fs(void 0));return}else{L.add(V),await yt(Ge,Tt,!1,{preventScrollReset:Me});return}if(hr(Tt)){qt(V,B,Tt.error);return}ct(!ys(Tt),"Unhandled fetcher deferred data"),St(V,fs(Tt.data))}}async function yt(V,B,Q,le){let{submission:Ee,fetcherSubmission:De,preventScrollReset:We,replace:Me}=le===void 0?{}:le;B.response.headers.has("X-Remix-Revalidate")&&(Ke=!0);let be=B.response.headers.get("Location");ct(be,"Expected a Location header on the redirect Response"),be=iv(be,new URL(V.url),p);let Ce=Vl(C.location,be,{_isRedirect:!0});if(t){let ot=!1;if(B.response.headers.has("X-Remix-Reload-Document"))ot=!0;else if(Tp.test(be)){const Ct=n.history.createURL(be);ot=Ct.origin!==e.location.origin||Na(Ct.pathname,p)==null}if(ot){Me?e.location.replace(be):e.location.assign(be);return}}x=null;let xe=Me===!0||B.response.headers.has("X-Remix-Replace")?an.Replace:an.Push,{formMethod:Ge,formAction:Ze,formEncType:Qt}=C.navigation;!Ee&&!De&&Ge&&Ze&&Qt&&(Ee=hv(C.navigation));let Tt=Ee||De;if(_I.has(B.response.status)&&Tt&&Fr(Tt.formMethod))await Fe(xe,Ce,{submission:Ut({},Tt,{formAction:be}),preventScrollReset:We||E,enableViewTransition:Q?N:void 0});else{let ot=If(Ce,Ee);await Fe(xe,Ce,{overrideNavigation:ot,fetcherSubmission:De,preventScrollReset:We||E,enableViewTransition:Q?N:void 0})}}async function Vt(V,B,Q,le,Ee,De){let We,Me={};try{We=await CI(g,V,B,Q,le,Ee,De,l,o)}catch(be){return le.forEach(Ce=>{Me[Ce.route.id]={type:kt.error,error:be}}),Me}for(let[be,Ce]of Object.entries(We))if(DI(Ce)){let xe=Ce.result;Me[be]={type:kt.redirect,response:PI(xe,Q,be,Ee,p,S.v7_relativeSplatPath)}}else Me[be]=await kI(Ce);return Me}async function tt(V,B,Q,le,Ee){let De=V.matches,We=Vt("loader",V,Ee,Q,B,null),Me=Promise.all(le.map(async xe=>{if(xe.matches&&xe.match&&xe.controller){let Ze=(await Vt("loader",V,oa(n.history,xe.path,xe.controller.signal),[xe.match],xe.matches,xe.key))[xe.match.route.id];return{[xe.key]:Ze}}else return Promise.resolve({[xe.key]:{type:kt.error,error:Zn(404,{pathname:xe.path})}})})),be=await We,Ce=(await Me).reduce((xe,Ge)=>Object.assign(xe,Ge),{});return await Promise.all([LI(B,be,Ee.signal,De,V.loaderData),VI(B,Ce,le)]),{loaderResults:be,fetcherResults:Ce}}function st(){Ke=!0,ve.push(...$n()),H.forEach((V,B)=>{J.has(B)&&he.add(B),Gt(B)})}function St(V,B,Q){Q===void 0&&(Q={}),C.fetchers.set(V,B),Ie({fetchers:new Map(C.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function qt(V,B,Q,le){le===void 0&&(le={});let Ee=ao(C.matches,B);zt(V),Ie({errors:{[Ee.route.id]:Q},fetchers:new Map(C.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function _n(V){return ae.set(V,(ae.get(V)||0)+1),X.has(V)&&X.delete(V),C.fetchers.get(V)||wI}function zt(V){let B=C.fetchers.get(V);J.has(V)&&!(B&&B.state==="loading"&&T.has(V))&&Gt(V),H.delete(V),T.delete(V),L.delete(V),S.v7_fetcherPersist&&X.delete(V),he.delete(V),C.fetchers.delete(V)}function Kt(V){let B=(ae.get(V)||0)-1;B<=0?(ae.delete(V),X.add(V),S.v7_fetcherPersist||zt(V)):ae.set(V,B),Ie({fetchers:new Map(C.fetchers)})}function Gt(V){let B=J.get(V);B&&(B.abort(),J.delete(V))}function Rr(V){for(let B of V){let Q=_n(B),le=fs(Q.data);C.fetchers.set(B,le)}}function Ui(){let V=[],B=!1;for(let Q of L){let le=C.fetchers.get(Q);ct(le,"Expected fetcher: "+Q),le.state==="loading"&&(L.delete(Q),V.push(Q),B=!0)}return Rr(V),B}function zi(V){let B=[];for(let[Q,le]of T)if(le<V){let Ee=C.fetchers.get(Q);ct(Ee,"Expected fetcher: "+Q),Ee.state==="loading"&&(Gt(Q),T.delete(Q),B.push(Q))}return Rr(B),B.length>0}function Vs(V,B){let Q=C.blockers.get(V)||vl;return oe.get(V)!==B&&oe.set(V,B),Q}function Hr(V){C.blockers.delete(V),oe.delete(V)}function Ar(V,B){let Q=C.blockers.get(V)||vl;ct(Q.state==="unblocked"&&B.state==="blocked"||Q.state==="blocked"&&B.state==="blocked"||Q.state==="blocked"&&B.state==="proceeding"||Q.state==="blocked"&&B.state==="unblocked"||Q.state==="proceeding"&&B.state==="unblocked","Invalid blocker state transition: "+Q.state+" -> "+B.state);let le=new Map(C.blockers);le.set(V,B),Ie({blockers:le})}function gi(V){let{currentLocation:B,nextLocation:Q,historyAction:le}=V;if(oe.size===0)return;oe.size>1&&va(!1,"A router only supports one blocker at a time");let Ee=Array.from(oe.entries()),[De,We]=Ee[Ee.length-1],Me=C.blockers.get(De);if(!(Me&&Me.state==="proceeding")&&We({currentLocation:B,nextLocation:Q,historyAction:le}))return De}function kn(V){let B=Zn(404,{pathname:V}),Q=f||c,{matches:le,route:Ee}=uv(Q);return $n(),{notFoundMatches:le,route:Ee,error:B}}function $n(V){let B=[];return te.forEach((Q,le)=>{(!V||V(le))&&(Q.cancel(),B.push(le),te.delete(le))}),B}function Bi(V,B,Q){if(U=V,j=B,$=Q||null,!pe&&C.navigation===Tf){pe=!0;let le=qr(C.location,C.matches);le!=null&&Ie({restoreScrollPosition:le})}return()=>{U=null,j=null,$=null}}function nr(V,B){return $&&$(V,B.map(le=>J1(le,C.loaderData)))||V.key}function Fs(V,B){if(U&&j){let Q=nr(V,B);U[Q]=j()}}function qr(V,B){if(U){let Q=nr(V,B),le=U[Q];if(typeof le=="number")return le}return null}function Kr(V,B,Q){if(w)if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:Pc(B,Q,p,!0)}}else return{active:!0,matches:Pc(B,Q,p,!0)||[]};return{active:!1,matches:null}}async function Wn(V,B,Q,le){if(!w)return{type:"success",matches:V};let Ee=V;for(;;){let De=f==null,We=f||c,Me=l;try{await w({signal:Q,path:B,matches:Ee,fetcherKey:le,patch:(xe,Ge)=>{Q.aborted||rv(xe,Ge,We,Me,o)}})}catch(xe){return{type:"error",error:xe,partialMatches:Ee}}finally{De&&!Q.aborted&&(c=[...c])}if(Q.aborted)return{type:"aborted"};let be=oo(We,B,p);if(be)return{type:"success",matches:be};let Ce=Pc(We,B,p,!0);if(!Ce||Ee.length===Ce.length&&Ee.every((xe,Ge)=>xe.route.id===Ce[Ge].route.id))return{type:"success",matches:null};Ee=Ce}}function js(V){l={},f=Wc(V,o,void 0,l)}function Bt(V,B){let Q=f==null;rv(V,B,f||c,l,o),Q&&(c=[...c],Ie({}))}return Ne={get basename(){return p},get future(){return S},get state(){return C},get routes(){return c},get window(){return e},initialize:de,subscribe:_e,enableScrollRestoration:Bi,navigate:Ae,fetch:en,revalidate:$e,createHref:V=>n.history.createHref(V),encodeLocation:V=>n.history.encodeLocation(V),getFetcher:_n,deleteFetcher:Kt,dispose:Te,getBlocker:Vs,deleteBlocker:Hr,patchRoutes:Bt,_internalFetchControllers:J,_internalActiveDeferreds:te,_internalSetRoutes:js},Ne}function II(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function zf(n,e,t,i,o,l,c,f){let p,g;if(c){p=[];for(let S of e)if(p.push(S),S.route.id===c){g=S;break}}else p=e,g=e[e.length-1];let w=wh(o||".",_h(p,l),Na(n.pathname,t)||n.pathname,f==="path");if(o==null&&(w.search=n.search,w.hash=n.hash),(o==null||o===""||o===".")&&g){let S=Sp(w.search);if(g.route.index&&!S)w.search=w.search?w.search.replace(/^\?/,"?index&"):"?index";else if(!g.route.index&&S){let A=new URLSearchParams(w.search),O=A.getAll("index");A.delete("index"),O.filter($=>$).forEach($=>A.append("index",$));let U=A.toString();w.search=U?"?"+U:""}}return i&&t!=="/"&&(w.pathname=w.pathname==="/"?t:Di([t,w.pathname])),po(w)}function Zy(n,e,t,i){if(!i||!II(i))return{path:t};if(i.formMethod&&!OI(i.formMethod))return{path:t,error:Zn(405,{method:i.formMethod})};let o=()=>({path:t,error:Zn(400,{type:"invalid-body"})}),l=i.formMethod||"get",c=n?l.toUpperCase():l.toLowerCase(),f=g0(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Fr(c))return o();let A=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((O,U)=>{let[$,j]=U;return""+O+$+"="+j+`
`},""):String(i.body);return{path:t,submission:{formMethod:c,formAction:f,formEncType:i.formEncType,formData:void 0,json:void 0,text:A}}}else if(i.formEncType==="application/json"){if(!Fr(c))return o();try{let A=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:c,formAction:f,formEncType:i.formEncType,formData:void 0,json:A,text:void 0}}}catch{return o()}}}ct(typeof FormData=="function","FormData is not available in this environment");let p,g;if(i.formData)p=$f(i.formData),g=i.formData;else if(i.body instanceof FormData)p=$f(i.body),g=i.body;else if(i.body instanceof URLSearchParams)p=i.body,g=sv(p);else if(i.body==null)p=new URLSearchParams,g=new FormData;else try{p=new URLSearchParams(i.body),g=sv(p)}catch{return o()}let w={formMethod:c,formAction:f,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Fr(w.formMethod))return{path:t,submission:w};let S=Ms(t);return e&&S.search&&Sp(S.search)&&p.append("index",""),S.search="?"+p,{path:po(S),submission:w}}function ev(n,e,t){t===void 0&&(t=!1);let i=n.findIndex(o=>o.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function tv(n,e,t,i,o,l,c,f,p,g,w,S,A,O,U,$){let j=$?hr($[1])?$[1].error:$[1].data:void 0,pe=n.createURL(e.location),ie=n.createURL(o),me=t;l&&e.errors?me=ev(t,Object.keys(e.errors)[0],!0):$&&hr($[1])&&(me=ev(t,$[0]));let ge=$?$[1].statusCode:void 0,Pe=c&&ge&&ge>=400,Ne=me.filter((_,E)=>{let{route:x}=_;if(x.lazy)return!0;if(x.loader==null)return!1;if(l)return Bf(x,e.loaderData,e.errors);if(SI(e.loaderData,e.matches[E],_)||p.some(P=>P===_.route.id))return!0;let N=e.matches[E],b=_;return nv(_,Ut({currentUrl:pe,currentParams:N.params,nextUrl:ie,nextParams:b.params},i,{actionResult:j,actionStatus:ge,defaultShouldRevalidate:Pe?!1:f||pe.pathname+pe.search===ie.pathname+ie.search||pe.search!==ie.search||p0(N,b)}))}),C=[];return S.forEach((_,E)=>{if(l||!t.some(Le=>Le.route.id===_.routeId)||w.has(E))return;let x=oo(O,_.path,U);if(!x){C.push({key:E,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(E),b=Tl(x,_.path),P=!1;A.has(E)?P=!1:g.has(E)?(g.delete(E),P=!0):N&&N.state!=="idle"&&N.data===void 0?P=f:P=nv(b,Ut({currentUrl:pe,currentParams:e.matches[e.matches.length-1].params,nextUrl:ie,nextParams:t[t.length-1].params},i,{actionResult:j,actionStatus:ge,defaultShouldRevalidate:Pe?!1:f})),P&&C.push({key:E,routeId:_.routeId,path:_.path,matches:x,match:b,controller:new AbortController})}),[Ne,C]}function Bf(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,o=t!=null&&t[n.id]!==void 0;return!i&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!o}function SI(n,e,t){let i=!e||t.route.id!==e.route.id,o=n[t.route.id]===void 0;return i||o}function p0(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function nv(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function rv(n,e,t,i,o){var l;let c;if(n){let g=i[n];ct(g,"No route found to patch children into: routeId = "+n),g.children||(g.children=[]),c=g.children}else c=t;let f=e.filter(g=>!c.some(w=>m0(g,w))),p=Wc(f,o,[n||"_","patch",String(((l=c)==null?void 0:l.length)||"0")],i);c.push(...p)}function m0(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var o;return(o=e.children)==null?void 0:o.some(l=>m0(t,l))}):!1}async function RI(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let o=t[n.id];ct(o,"No route found in manifest");let l={};for(let c in i){let p=o[c]!==void 0&&c!=="hasErrorBoundary";va(!p,'Route "'+o.id+'" has a static property "'+c+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+c+'" will be ignored.')),!p&&!Q1.has(c)&&(l[c]=i[c])}Object.assign(o,l),Object.assign(o,Ut({},e(o),{lazy:void 0}))}async function AI(n){let{matches:e}=n,t=e.filter(o=>o.shouldLoad);return(await Promise.all(t.map(o=>o.resolve()))).reduce((o,l,c)=>Object.assign(o,{[t[c].route.id]:l}),{})}async function CI(n,e,t,i,o,l,c,f,p,g){let w=l.map(O=>O.route.lazy?RI(O.route,p,f):void 0),S=l.map((O,U)=>{let $=w[U],j=o.some(ie=>ie.route.id===O.route.id);return Ut({},O,{shouldLoad:j,resolve:async ie=>(ie&&i.method==="GET"&&(O.route.lazy||O.route.loader)&&(j=!0),j?xI(e,i,O,$,ie,g):Promise.resolve({type:kt.data,result:void 0}))})}),A=await n({matches:S,request:i,params:l[0].params,fetcherKey:c,context:g});try{await Promise.all(w)}catch{}return A}async function xI(n,e,t,i,o,l){let c,f,p=g=>{let w,S=new Promise((U,$)=>w=$);f=()=>w(),e.signal.addEventListener("abort",f);let A=U=>typeof g!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):g({request:e,params:t.params,context:l},...U!==void 0?[U]:[]),O=(async()=>{try{return{type:"data",result:await(o?o($=>A($)):A())}}catch(U){return{type:"error",result:U}}})();return Promise.race([O,S])};try{let g=t.route[n];if(i)if(g){let w,[S]=await Promise.all([p(g).catch(A=>{w=A}),i]);if(w!==void 0)throw w;c=S}else if(await i,g=t.route[n],g)c=await p(g);else if(n==="action"){let w=new URL(e.url),S=w.pathname+w.search;throw Zn(405,{method:e.method,pathname:S,routeId:t.route.id})}else return{type:kt.data,result:void 0};else if(g)c=await p(g);else{let w=new URL(e.url),S=w.pathname+w.search;throw Zn(404,{pathname:S})}ct(c.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(g){return{type:kt.error,result:g}}finally{f&&e.signal.removeEventListener("abort",f)}return c}async function kI(n){let{result:e,type:t}=n;if(y0(e)){let S;try{let A=e.headers.get("Content-Type");A&&/\bapplication\/json\b/.test(A)?e.body==null?S=null:S=await e.json():S=await e.text()}catch(A){return{type:kt.error,error:A}}return t===kt.error?{type:kt.error,error:new Hc(e.status,e.statusText,S),statusCode:e.status,headers:e.headers}:{type:kt.data,data:S,statusCode:e.status,headers:e.headers}}if(t===kt.error){if(cv(e)){var i,o;if(e.data instanceof Error){var l,c;return{type:kt.error,error:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:kt.error,error:new Hc(((i=e.init)==null?void 0:i.status)||500,void 0,e.data),statusCode:Fl(e)?e.status:void 0,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:kt.error,error:e,statusCode:Fl(e)?e.status:void 0}}if(MI(e)){var f,p;return{type:kt.deferred,deferredData:e,statusCode:(f=e.init)==null?void 0:f.status,headers:((p=e.init)==null?void 0:p.headers)&&new Headers(e.init.headers)}}if(cv(e)){var g,w;return{type:kt.data,data:e.data,statusCode:(g=e.init)==null?void 0:g.status,headers:(w=e.init)!=null&&w.headers?new Headers(e.init.headers):void 0}}return{type:kt.data,data:e}}function PI(n,e,t,i,o,l){let c=n.headers.get("Location");if(ct(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!Tp.test(c)){let f=i.slice(0,i.findIndex(p=>p.route.id===t)+1);c=zf(new URL(e.url),f,o,!0,c,l),n.headers.set("Location",c)}return n}function iv(n,e,t){if(Tp.test(n)){let i=n,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=Na(o.pathname,t)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return n}function oa(n,e,t,i){let o=n.createURL(g0(e)).toString(),l={signal:t};if(i&&Fr(i.formMethod)){let{formMethod:c,formEncType:f}=i;l.method=c.toUpperCase(),f==="application/json"?(l.headers=new Headers({"Content-Type":f}),l.body=JSON.stringify(i.json)):f==="text/plain"?l.body=i.text:f==="application/x-www-form-urlencoded"&&i.formData?l.body=$f(i.formData):l.body=i.formData}return new Request(o,l)}function $f(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function sv(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function NI(n,e,t,i,o){let l={},c=null,f,p=!1,g={},w=t&&hr(t[1])?t[1].error:void 0;return n.forEach(S=>{if(!(S.route.id in e))return;let A=S.route.id,O=e[A];if(ct(!lo(O),"Cannot handle redirect results in processLoaderData"),hr(O)){let U=O.error;w!==void 0&&(U=w,w=void 0),c=c||{};{let $=ao(n,A);c[$.route.id]==null&&(c[$.route.id]=U)}l[A]=void 0,p||(p=!0,f=Fl(O.error)?O.error.status:500),O.headers&&(g[A]=O.headers)}else ys(O)?(i.set(A,O.deferredData),l[A]=O.deferredData.data,O.statusCode!=null&&O.statusCode!==200&&!p&&(f=O.statusCode),O.headers&&(g[A]=O.headers)):(l[A]=O.data,O.statusCode&&O.statusCode!==200&&!p&&(f=O.statusCode),O.headers&&(g[A]=O.headers))}),w!==void 0&&t&&(c={[t[0]]:w},l[t[0]]=void 0),{loaderData:l,errors:c,statusCode:f||200,loaderHeaders:g}}function ov(n,e,t,i,o,l,c){let{loaderData:f,errors:p}=NI(e,t,i,c);return o.forEach(g=>{let{key:w,match:S,controller:A}=g,O=l[w];if(ct(O,"Did not find corresponding fetcher result"),!(A&&A.signal.aborted))if(hr(O)){let U=ao(n.matches,S==null?void 0:S.route.id);p&&p[U.route.id]||(p=Ut({},p,{[U.route.id]:O.error})),n.fetchers.delete(w)}else if(lo(O))ct(!1,"Unhandled fetcher revalidation redirect");else if(ys(O))ct(!1,"Unhandled fetcher deferred data");else{let U=fs(O.data);n.fetchers.set(w,U)}}),{loaderData:f,errors:p}}function av(n,e,t,i){let o=Ut({},e);for(let l of t){let c=l.route.id;if(e.hasOwnProperty(c)?e[c]!==void 0&&(o[c]=e[c]):n[c]!==void 0&&l.route.loader&&(o[c]=n[c]),i&&i.hasOwnProperty(c))break}return o}function lv(n){return n?hr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ao(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function uv(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Zn(n,e){let{pathname:t,routeId:i,method:o,type:l,message:c}=e===void 0?{}:e,f="Unknown Server Error",p="Unknown @remix-run/router error";return n===400?(f="Bad Request",o&&t&&i?p="You made a "+o+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":l==="defer-action"?p="defer() is not supported in actions":l==="invalid-body"&&(p="Unable to encode submission body")):n===403?(f="Forbidden",p='Route "'+i+'" does not match URL "'+t+'"'):n===404?(f="Not Found",p='No route matches URL "'+t+'"'):n===405&&(f="Method Not Allowed",o&&t&&i?p="You made a "+o.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":o&&(p='Invalid request method "'+o.toUpperCase()+'"')),new Hc(n||500,f,new Error(p),!0)}function Ec(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,o]=e[t];if(lo(o))return{key:i,result:o}}}function g0(n){let e=typeof n=="string"?Ms(n):n;return po(Ut({},e,{hash:""}))}function bI(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function DI(n){return y0(n.result)&&vI.has(n.result.status)}function ys(n){return n.type===kt.deferred}function hr(n){return n.type===kt.error}function lo(n){return(n&&n.type)===kt.redirect}function cv(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function MI(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function y0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function OI(n){return yI.has(n.toLowerCase())}function Fr(n){return mI.has(n.toLowerCase())}async function LI(n,e,t,i,o){let l=Object.entries(e);for(let c=0;c<l.length;c++){let[f,p]=l[c],g=n.find(A=>(A==null?void 0:A.route.id)===f);if(!g)continue;let w=i.find(A=>A.route.id===g.route.id),S=w!=null&&!p0(w,g)&&(o&&o[g.route.id])!==void 0;ys(p)&&S&&await Ip(p,t,!1).then(A=>{A&&(e[f]=A)})}}async function VI(n,e,t){for(let i=0;i<t.length;i++){let{key:o,routeId:l,controller:c}=t[i],f=e[o];n.find(g=>(g==null?void 0:g.route.id)===l)&&ys(f)&&(ct(c,"Expected an AbortController for revalidating fetcher deferred result"),await Ip(f,c.signal,!0).then(g=>{g&&(e[o]=g)}))}}async function Ip(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:kt.data,data:n.deferredData.unwrappedData}}catch(o){return{type:kt.error,error:o}}return{type:kt.data,data:n.deferredData.data}}}function Sp(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Tl(n,e){let t=typeof e=="string"?Ms(e).search:e.search;if(n[n.length-1].route.index&&Sp(t||""))return n[n.length-1];let i=h0(n);return i[i.length-1]}function hv(n){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:l,json:c}=n;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function If(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function FI(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function _l(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function jI(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function fs(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function UI(n,e){try{let t=n.sessionStorage.getItem(f0);if(t){let i=JSON.parse(t);for(let[o,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function zI(n,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{n.sessionStorage.setItem(f0,JSON.stringify(t))}catch(i){va(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qc(){return qc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},qc.apply(this,arguments)}const Eh=W.createContext(null),v0=W.createContext(null),Os=W.createContext(null),Rp=W.createContext(null),Ls=W.createContext({outlet:null,matches:[],isDataRoute:!1}),_0=W.createContext(null);function BI(n,e){let{relative:t}=e===void 0?{}:e;ba()||ct(!1);let{basename:i,navigator:o}=W.useContext(Os),{hash:l,pathname:c,search:f}=E0(n,{relative:t}),p=c;return i!=="/"&&(p=c==="/"?i:Di([i,c])),o.createHref({pathname:p,search:f,hash:l})}function ba(){return W.useContext(Rp)!=null}function wo(){return ba()||ct(!1),W.useContext(Rp).location}function w0(n){W.useContext(Os).static||W.useLayoutEffect(n)}function Th(){let{isDataRoute:n}=W.useContext(Ls);return n?eS():$I()}function $I(){ba()||ct(!1);let n=W.useContext(Eh),{basename:e,future:t,navigator:i}=W.useContext(Os),{matches:o}=W.useContext(Ls),{pathname:l}=wo(),c=JSON.stringify(_h(o,t.v7_relativeSplatPath)),f=W.useRef(!1);return w0(()=>{f.current=!0}),W.useCallback(function(g,w){if(w===void 0&&(w={}),!f.current)return;if(typeof g=="number"){i.go(g);return}let S=wh(g,JSON.parse(c),l,w.relative==="path");n==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:Di([e,S.pathname])),(w.replace?i.replace:i.push)(S,w.state,w)},[e,i,c,l,n])}function E0(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=W.useContext(Os),{matches:o}=W.useContext(Ls),{pathname:l}=wo(),c=JSON.stringify(_h(o,i.v7_relativeSplatPath));return W.useMemo(()=>wh(n,JSON.parse(c),l,t==="path"),[n,c,l,t])}function WI(n,e,t,i){ba()||ct(!1);let{navigator:o}=W.useContext(Os),{matches:l}=W.useContext(Ls),c=l[l.length-1],f=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let g=wo(),w;w=g;let S=w.pathname||"/",A=S;if(p!=="/"){let $=p.replace(/^\//,"").split("/");A="/"+S.replace(/^\//,"").split("/").slice($.length).join("/")}let O=oo(n,{pathname:A});return QI(O&&O.map($=>Object.assign({},$,{params:Object.assign({},f,$.params),pathname:Di([p,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?p:Di([p,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),l,t,i)}function HI(){let n=ZI(),e=Fl(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:o},t):null,null)}const qI=W.createElement(HI,null);class KI extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?W.createElement(Ls.Provider,{value:this.props.routeContext},W.createElement(_0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GI(n){let{routeContext:e,match:t,children:i}=n,o=W.useContext(Eh);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),W.createElement(Ls.Provider,{value:e},i)}function QI(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var l;if(!t)return null;if(t.errors)n=t.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,f=(o=t)==null?void 0:o.errors;if(f!=null){let w=c.findIndex(S=>S.route.id&&(f==null?void 0:f[S.route.id])!==void 0);w>=0||ct(!1),c=c.slice(0,Math.min(c.length,w+1))}let p=!1,g=-1;if(t&&i&&i.v7_partialHydration)for(let w=0;w<c.length;w++){let S=c[w];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=w),S.route.id){let{loaderData:A,errors:O}=t,U=S.route.loader&&A[S.route.id]===void 0&&(!O||O[S.route.id]===void 0);if(S.route.lazy||U){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((w,S,A)=>{let O,U=!1,$=null,j=null;t&&(O=f&&S.route.id?f[S.route.id]:void 0,$=S.route.errorElement||qI,p&&(g<0&&A===0?(tS("route-fallback"),U=!0,j=null):g===A&&(U=!0,j=S.route.hydrateFallbackElement||null)));let pe=e.concat(c.slice(0,A+1)),ie=()=>{let me;return O?me=$:U?me=j:S.route.Component?me=W.createElement(S.route.Component,null):S.route.element?me=S.route.element:me=w,W.createElement(GI,{match:S,routeContext:{outlet:w,matches:pe,isDataRoute:t!=null},children:me})};return t&&(S.route.ErrorBoundary||S.route.errorElement||A===0)?W.createElement(KI,{location:t.location,revalidation:t.revalidation,component:$,error:O,children:ie(),routeContext:{outlet:null,matches:pe,isDataRoute:!0}}):ie()},null)}var T0=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(T0||{}),I0=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(I0||{});function YI(n){let e=W.useContext(Eh);return e||ct(!1),e}function JI(n){let e=W.useContext(v0);return e||ct(!1),e}function XI(n){let e=W.useContext(Ls);return e||ct(!1),e}function S0(n){let e=XI(),t=e.matches[e.matches.length-1];return t.route.id||ct(!1),t.route.id}function ZI(){var n;let e=W.useContext(_0),t=JI(I0.UseRouteError),i=S0();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function eS(){let{router:n}=YI(T0.UseNavigateStable),e=S0(),t=W.useRef(!1);return w0(()=>{t.current=!0}),W.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,qc({fromRouteId:e},l)))},[n,e])}const dv={};function tS(n,e,t){dv[n]||(dv[n]=!0)}function nS(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function R0(n){let{to:e,replace:t,state:i,relative:o}=n;ba()||ct(!1);let{future:l,static:c}=W.useContext(Os),{matches:f}=W.useContext(Ls),{pathname:p}=wo(),g=Th(),w=wh(e,_h(f,l.v7_relativeSplatPath),p,o==="path"),S=JSON.stringify(w);return W.useEffect(()=>g(JSON.parse(S),{replace:t,state:i,relative:o}),[g,S,o,t,i]),null}function rS(n){let{basename:e="/",children:t=null,location:i,navigationType:o=an.Pop,navigator:l,static:c=!1,future:f}=n;ba()&&ct(!1);let p=e.replace(/^\/*/,"/"),g=W.useMemo(()=>({basename:p,navigator:l,static:c,future:qc({v7_relativeSplatPath:!1},f)}),[p,f,l,c]);typeof i=="string"&&(i=Ms(i));let{pathname:w="/",search:S="",hash:A="",state:O=null,key:U="default"}=i,$=W.useMemo(()=>{let j=Na(w,p);return j==null?null:{location:{pathname:j,search:S,hash:A,state:O,key:U},navigationType:o}},[p,w,S,A,O,U,o]);return $==null?null:W.createElement(Os.Provider,{value:g},W.createElement(Rp.Provider,{children:t,value:$}))}new Promise(()=>{});function iS(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:W.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:W.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:W.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jl.apply(this,arguments)}function sS(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function oS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function aS(n,e){return n.button===0&&(!e||e==="_self")&&!oS(n)}const lS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uS="6";try{window.__reactRouterVersion=uS}catch{}function cS(n,e){return TI({basename:void 0,future:jl({},void 0,{v7_prependBasename:!0}),history:q1({window:void 0}),hydrationData:hS(),routes:n,mapRouteProperties:iS,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function hS(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=jl({},e,{errors:dS(e.errors)})),e}function dS(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new Hc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let l=new Error(o.message);l.stack="",t[i]=l}}else t[i]=o;return t}const fS=W.createContext({isTransitioning:!1}),pS=W.createContext(new Map),mS="startTransition",fv=V1[mS],gS="flushSync",pv=H1[gS];function yS(n){fv?fv(n):n()}function wl(n){pv?pv(n):n()}let vS=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function _S(n){let{fallbackElement:e,router:t,future:i}=n,[o,l]=W.useState(t.state),[c,f]=W.useState(),[p,g]=W.useState({isTransitioning:!1}),[w,S]=W.useState(),[A,O]=W.useState(),[U,$]=W.useState(),j=W.useRef(new Map),{v7_startTransition:pe}=i||{},ie=W.useCallback(_=>{pe?yS(_):_()},[pe]),me=W.useCallback((_,E)=>{let{deletedFetchers:x,flushSync:N,viewTransitionOpts:b}=E;_.fetchers.forEach((Le,Ke)=>{Le.data!==void 0&&j.current.set(Ke,Le.data)}),x.forEach(Le=>j.current.delete(Le));let P=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!b||P){N?wl(()=>l(_)):ie(()=>l(_));return}if(N){wl(()=>{A&&(w&&w.resolve(),A.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:b.currentLocation,nextLocation:b.nextLocation})});let Le=t.window.document.startViewTransition(()=>{wl(()=>l(_))});Le.finished.finally(()=>{wl(()=>{S(void 0),O(void 0),f(void 0),g({isTransitioning:!1})})}),wl(()=>O(Le));return}A?(w&&w.resolve(),A.skipTransition(),$({state:_,currentLocation:b.currentLocation,nextLocation:b.nextLocation})):(f(_),g({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}))},[t.window,A,w,j,ie]);W.useLayoutEffect(()=>t.subscribe(me),[t,me]),W.useEffect(()=>{p.isTransitioning&&!p.flushSync&&S(new vS)},[p]),W.useEffect(()=>{if(w&&c&&t.window){let _=c,E=w.promise,x=t.window.document.startViewTransition(async()=>{ie(()=>l(_)),await E});x.finished.finally(()=>{S(void 0),O(void 0),f(void 0),g({isTransitioning:!1})}),O(x)}},[ie,c,w,t.window]),W.useEffect(()=>{w&&c&&o.location.key===c.location.key&&w.resolve()},[w,A,o.location,c]),W.useEffect(()=>{!p.isTransitioning&&U&&(f(U.state),g({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}),$(void 0))},[p.isTransitioning,U]),W.useEffect(()=>{},[]);let ge=W.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:_=>t.navigate(_),push:(_,E,x)=>t.navigate(_,{state:E,preventScrollReset:x==null?void 0:x.preventScrollReset}),replace:(_,E,x)=>t.navigate(_,{replace:!0,state:E,preventScrollReset:x==null?void 0:x.preventScrollReset})}),[t]),Pe=t.basename||"/",Ne=W.useMemo(()=>({router:t,navigator:ge,static:!1,basename:Pe}),[t,ge,Pe]),C=W.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return W.useEffect(()=>nS(i,t.future),[i,t.future]),W.createElement(W.Fragment,null,W.createElement(Eh.Provider,{value:Ne},W.createElement(v0.Provider,{value:o},W.createElement(pS.Provider,{value:j.current},W.createElement(fS.Provider,{value:p},W.createElement(rS,{basename:Pe,location:o.location,navigationType:o.historyAction,navigator:ge,future:C},o.initialized||t.future.v7_partialHydration?W.createElement(wS,{routes:t.routes,future:t.future,state:o}):e))))),null)}const wS=W.memo(ES);function ES(n){let{routes:e,future:t,state:i}=n;return WI(e,void 0,i,t)}const TS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xl=W.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:l,replace:c,state:f,target:p,to:g,preventScrollReset:w,viewTransition:S}=e,A=sS(e,lS),{basename:O}=W.useContext(Os),U,$=!1;if(typeof g=="string"&&IS.test(g)&&(U=g,TS))try{let me=new URL(window.location.href),ge=g.startsWith("//")?new URL(me.protocol+g):new URL(g),Pe=Na(ge.pathname,O);ge.origin===me.origin&&Pe!=null?g=Pe+ge.search+ge.hash:$=!0}catch{}let j=BI(g,{relative:o}),pe=SS(g,{replace:c,state:f,target:p,preventScrollReset:w,relative:o,viewTransition:S});function ie(me){i&&i(me),me.defaultPrevented||pe(me)}return W.createElement("a",jl({},A,{href:U||j,onClick:$||l?i:ie,ref:t,target:p}))});var mv;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(mv||(mv={}));var gv;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(gv||(gv={}));function SS(n,e){let{target:t,replace:i,state:o,preventScrollReset:l,relative:c,viewTransition:f}=e===void 0?{}:e,p=Th(),g=wo(),w=E0(n,{relative:c});return W.useCallback(S=>{if(aS(S,t)){S.preventDefault();let A=i!==void 0?i:po(g)===po(w);p(n,{replace:A,state:o,preventScrollReset:l,relative:c,viewTransition:f})}},[g,p,w,i,o,t,n,l,c,f])}const RS=()=>{};var yv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},AS=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},C0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,f=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,w=l>>2,S=(l&3)<<4|f>>4;let A=(f&15)<<2|g>>6,O=g&63;p||(O=64,c||(A=64)),i.push(t[w],t[S],t[A],t[O])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(A0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):AS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const S=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||g==null||S==null)throw new CS;const A=l<<2|f>>4;if(i.push(A),g!==64){const O=f<<4&240|g>>2;if(i.push(O),S!==64){const U=g<<6&192|S;i.push(U)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class CS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xS=function(n){const e=A0(n);return C0.encodeByteArray(e,!0)},Kc=function(n){return xS(n).replace(/\./g,"")},x0=function(n){try{return C0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=()=>kS().__FIREBASE_DEFAULTS__,NS=()=>{if(typeof process>"u"||typeof yv>"u")return;const n=yv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},bS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&x0(n[1]);return e&&JSON.parse(e)},Ih=()=>{try{return RS()||PS()||NS()||bS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},k0=n=>{var e,t;return(t=(e=Ih())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},DS=n=>{const e=k0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},P0=()=>{var n;return(n=Ih())==null?void 0:n.config},N0=n=>{var e;return(e=Ih())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function b0(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Kc(JSON.stringify(t)),Kc(JSON.stringify(c)),""].join(".")}const kl={};function LS(){const n={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?n.emulator.push(e):n.prod.push(e);return n}function VS(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let vv=!1;function D0(n,e){if(typeof window>"u"||typeof document>"u"||!Da(window.location.host)||kl[n]===e||kl[n]||vv)return;kl[n]=e;function t(A){return`__firebase__banner__${A}`}const i="__firebase__banner",l=LS().prod.length>0;function c(){const A=document.getElementById(i);A&&A.remove()}function f(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,O){A.setAttribute("width","24"),A.setAttribute("id",O),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{vv=!0,c()},A}function w(A,O){A.setAttribute("id",O),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function S(){const A=VS(i),O=t("text"),U=document.getElementById(O)||document.createElement("span"),$=t("learnmore"),j=document.getElementById($)||document.createElement("a"),pe=t("preprendIcon"),ie=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const me=A.element;f(me),w(j,$);const ge=g();p(ie,pe),me.append(ie,U,j,ge),document.body.appendChild(me)}l?(U.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fn())}function jS(){var e;const n=(e=Ih())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function US(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function BS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $S(){const n=Fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function WS(){return!jS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HS(){try{return typeof indexedDB=="object"}catch{return!1}}function qS(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="FirebaseError";class ji extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=KS,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?GS(l,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new ji(o,f,i)}}function GS(n,e){return n.replace(QS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const QS=/\{\$([^}]+)}/g;function YS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function mo(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(_v(l)&&_v(c)){if(!mo(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function _v(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function JS(n,e){const t=new XS(n,e);return t.subscribe.bind(t)}class XS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");ZS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Sf),o.error===void 0&&(o.error=Sf),o.complete===void 0&&(o.complete=Sf);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Sf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(n){return n&&n._delegate?n._delegate:n}class go{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new MS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nR(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:tR(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tR(n){return n===so?void 0:n}function nR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new eR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ft||(ft={}));const iR={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},sR=ft.INFO,oR={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},aR=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=oR[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ap{constructor(e){this.name=e,this._logLevel=sR,this._logHandler=aR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const lR=(n,e)=>e.some(t=>n instanceof t);let wv,Ev;function uR(){return wv||(wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cR(){return Ev||(Ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M0=new WeakMap,Wf=new WeakMap,O0=new WeakMap,Rf=new WeakMap,Cp=new WeakMap;function hR(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Es(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&M0.set(t,n)}).catch(()=>{}),Cp.set(e,n),e}function dR(n){if(Wf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Wf.set(n,e)}let Hf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Wf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||O0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Es(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function fR(n){Hf=n(Hf)}function pR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Af(this),e,...t);return O0.set(i,e.sort?e.sort():[e]),Es(i)}:cR().includes(n)?function(...e){return n.apply(Af(this),e),Es(M0.get(this))}:function(...e){return Es(n.apply(Af(this),e))}}function mR(n){return typeof n=="function"?pR(n):(n instanceof IDBTransaction&&dR(n),lR(n,uR())?new Proxy(n,Hf):n)}function Es(n){if(n instanceof IDBRequest)return hR(n);if(Rf.has(n))return Rf.get(n);const e=mR(n);return e!==n&&(Rf.set(n,e),Cp.set(e,n)),e}const Af=n=>Cp.get(n);function gR(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),f=Es(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Es(c.result),p.oldVersion,p.newVersion,Es(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const yR=["get","getKey","getAll","getAllKeys","count"],vR=["put","add","delete","clear"],Cf=new Map;function Tv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Cf.get(e))return Cf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=vR.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||yR.includes(t)))return;const l=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),o&&p.done]))[0]};return Cf.set(e,l),l}fR(n=>({...n,get:(e,t,i)=>Tv(e,t)||n.get(e,t,i),has:(e,t)=>!!Tv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wR(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function wR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qf="@firebase/app",Iv="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new Ap("@firebase/app"),ER="@firebase/app-compat",TR="@firebase/analytics-compat",IR="@firebase/analytics",SR="@firebase/app-check-compat",RR="@firebase/app-check",AR="@firebase/auth",CR="@firebase/auth-compat",xR="@firebase/database",kR="@firebase/data-connect",PR="@firebase/database-compat",NR="@firebase/functions",bR="@firebase/functions-compat",DR="@firebase/installations",MR="@firebase/installations-compat",OR="@firebase/messaging",LR="@firebase/messaging-compat",VR="@firebase/performance",FR="@firebase/performance-compat",jR="@firebase/remote-config",UR="@firebase/remote-config-compat",zR="@firebase/storage",BR="@firebase/storage-compat",$R="@firebase/firestore",WR="@firebase/ai",HR="@firebase/firestore-compat",qR="firebase",KR="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="[DEFAULT]",GR={[qf]:"fire-core",[ER]:"fire-core-compat",[IR]:"fire-analytics",[TR]:"fire-analytics-compat",[RR]:"fire-app-check",[SR]:"fire-app-check-compat",[AR]:"fire-auth",[CR]:"fire-auth-compat",[xR]:"fire-rtdb",[kR]:"fire-data-connect",[PR]:"fire-rtdb-compat",[NR]:"fire-fn",[bR]:"fire-fn-compat",[DR]:"fire-iid",[MR]:"fire-iid-compat",[OR]:"fire-fcm",[LR]:"fire-fcm-compat",[VR]:"fire-perf",[FR]:"fire-perf-compat",[jR]:"fire-rc",[UR]:"fire-rc-compat",[zR]:"fire-gcs",[BR]:"fire-gcs-compat",[$R]:"fire-fst",[HR]:"fire-fst-compat",[WR]:"fire-vertex","fire-js":"fire-js",[qR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Map,QR=new Map,Gf=new Map;function Sv(n,e){try{n.container.addComponent(e)}catch(t){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _a(n){const e=n.name;if(Gf.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;Gf.set(e,n);for(const t of Gc.values())Sv(t,n);for(const t of QR.values())Sv(t,n);return!0}function xp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function jr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new eu("app","Firebase",YR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=KR;function L0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Kf,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Ts.create("bad-app-name",{appName:String(o)});if(t||(t=P0()),!t)throw Ts.create("no-options");const l=Gc.get(o);if(l){if(mo(t,l.options)&&mo(i,l.config))return l;throw Ts.create("duplicate-app",{appName:o})}const c=new rR(o);for(const p of Gf.values())c.addComponent(p);const f=new JR(t,i,c);return Gc.set(o,f),f}function V0(n=Kf){const e=Gc.get(n);if(!e&&n===Kf&&P0())return L0();if(!e)throw Ts.create("no-app",{appName:n});return e}function Is(n,e,t){let i=GR[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(c.join(" "));return}_a(new go(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="firebase-heartbeat-database",ZR=1,Ul="firebase-heartbeat-store";let xf=null;function F0(){return xf||(xf=gR(XR,ZR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ul)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ts.create("idb-open",{originalErrorMessage:n.message})})),xf}async function eA(n){try{const t=(await F0()).transaction(Ul),i=await t.objectStore(Ul).get(j0(n));return await t.done,i}catch(e){if(e instanceof ji)Oi.warn(e.message);else{const t=Ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(t.message)}}}async function Rv(n,e){try{const i=(await F0()).transaction(Ul,"readwrite");await i.objectStore(Ul).put(e,j0(n)),await i.done}catch(t){if(t instanceof ji)Oi.warn(t.message);else{const i=Ts.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Oi.warn(i.message)}}}function j0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=1024,nA=30;class rA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new sA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Av();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>nA){const c=oA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Oi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Av(),{heartbeatsToSend:i,unsentEntries:o}=iA(this._heartbeatsCache.heartbeats),l=Kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Oi.warn(t),""}}}function Av(){return new Date().toISOString().substring(0,10)}function iA(n,e=tA){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Cv(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Cv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class sA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HS()?qS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await eA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Cv(n){return Kc(JSON.stringify({version:2,heartbeats:n})).length}function oA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(n){_a(new go("platform-logger",e=>new _R(e),"PRIVATE")),_a(new go("heartbeat",e=>new rA(e),"PRIVATE")),Is(qf,Iv,n),Is(qf,Iv,"esm2020"),Is("fire-js","")}aA("");var lA="firebase",uA="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is(lA,uA,"app");function U0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cA=U0,z0=new eu("auth","Firebase",U0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new Ap("@firebase/auth");function hA(n,...e){Qc.logLevel<=ft.WARN&&Qc.warn(`Auth (${Ma}): ${n}`,...e)}function Nc(n,...e){Qc.logLevel<=ft.ERROR&&Qc.error(`Auth (${Ma}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(n,...e){throw Pp(n,...e)}function $r(n,...e){return Pp(n,...e)}function kp(n,e,t){const i={...cA(),[e]:t};return new eu("auth","Firebase",i).create(e,{appName:n.name})}function ho(n){return kp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dA(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&pi(n,"argument-error"),kp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return z0.create(n,...e)}function Xe(n,e,...t){if(!n)throw Pp(e,...t)}function Ni(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Nc(e),new Error(e)}function Li(n,e){n||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function fA(){return xv()==="http:"||xv()==="https:"}function xv(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fA()||zS()||"connection"in navigator)?navigator.onLine:!0}function mA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Li(t>e,"Short delay should be less than long delay!"),this.isMobile=FS()||BS()}get(){return pA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n,e){Li(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vA=new nu(3e4,6e4);function bp(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Oa(n,e,t,i,o={}){return $0(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=tu({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:p,...l};return US()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Da(n.emulatorConfig.host)&&(g.credentials="include"),B0.fetch()(await W0(n,n.config.apiHost,t,f),g)})}async function $0(n,e,t){n._canInitEmulator=!1;const i={...gA,...e};try{const o=new wA(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Tc(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Tc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Tc(n,"user-disabled",c);const w=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw kp(n,w,g);pi(n,w)}}catch(o){if(o instanceof ji)throw o;pi(n,"network-request-failed",{message:String(o)})}}async function _A(n,e,t,i,o={}){const l=await Oa(n,e,t,i,o);return"mfaPendingCredential"in l&&pi(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function W0(n,e,t,i){const o=`${e}${t}?${i}`,l=n,c=l.config.emulator?Np(n.config,o):`${n.config.apiScheme}://${o}`;return yA.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class wA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i($r(this.auth,"network-request-failed")),vA.get())})}}function Tc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=$r(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(n,e){return Oa(n,"POST","/v1/accounts:delete",e)}async function Yc(n,e){return Oa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TA(n,e=!1){const t=Bn(n),i=await t.getIdToken(e),o=Dp(i);Xe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:Pl(kf(o.auth_time)),issuedAtTime:Pl(kf(o.iat)),expirationTime:Pl(kf(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function kf(n){return Number(n)*1e3}function Dp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const o=x0(t);return o?JSON.parse(o):(Nc("Failed to decode base64 JWT payload"),null)}catch(o){return Nc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function kv(n){const e=Dp(n);return Xe(e,"internal-error"),Xe(typeof e.exp<"u","internal-error"),Xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ji&&IA(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function IA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(n){var S;const e=n.auth,t=await n.getIdToken(),i=await zl(n,Yc(e,{idToken:t}));Xe(i==null?void 0:i.users.length,e,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=(S=o.providerUserInfo)!=null&&S.length?H0(o.providerUserInfo):[],c=AA(n.providerData,l),f=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),g=f?p:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Yf(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,w)}async function RA(n){const e=Bn(n);await Jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AA(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function H0(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(n,e){const t=await $0(n,{},async()=>{const i=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await W0(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return n.emulatorConfig&&Da(n.emulatorConfig.host)&&(p.credentials="include"),B0.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function xA(n,e){return Oa(n,"POST","/v2/accounts:revokeToken",bp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xe(e.idToken,"internal-error"),Xe(typeof e.idToken<"u","internal-error"),Xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Xe(e.length!==0,"internal-error");const t=kv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await CA(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new da;return i&&(Xe(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Xe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Xe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new da,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(n,e){Xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ur{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new SA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Yf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await zl(this,this.stsTokenManager.getToken(this.auth,e));return Xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return TA(this,e)}reload(){return RA(this)}_assign(e){this!==e&&(Xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ur({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Jc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jr(this.auth.app))return Promise.reject(ho(this.auth));const e=await this.getIdToken();return await zl(this,EA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:S,emailVerified:A,isAnonymous:O,providerData:U,stsTokenManager:$}=t;Xe(S&&$,e,"internal-error");const j=da.fromJSON(this.name,$);Xe(typeof S=="string",e,"internal-error"),ds(i,e.name),ds(o,e.name),Xe(typeof A=="boolean",e,"internal-error"),Xe(typeof O=="boolean",e,"internal-error"),ds(l,e.name),ds(c,e.name),ds(f,e.name),ds(p,e.name),ds(g,e.name),ds(w,e.name);const pe=new Ur({uid:S,auth:e,email:o,emailVerified:A,displayName:i,isAnonymous:O,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:j,createdAt:g,lastLoginAt:w});return U&&Array.isArray(U)&&(pe.providerData=U.map(ie=>({...ie}))),p&&(pe._redirectEventId=p),pe}static async _fromIdTokenResponse(e,t,i=!1){const o=new da;o.updateFromServerResponse(t);const l=new Ur({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Jc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Xe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?H0(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new da;f.updateFromIdToken(i);const p=new Ur({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Yf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;function bi(n){Li(n instanceof Function,"Expected a class definition");let e=Pv.get(n);return e?(Li(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Pv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}q0.type="NONE";const Nv=q0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(n,e,t){return`firebase:${n}:${e}:${t}`}class fa{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=bc(this.userKey,o.apiKey,l),this.fullPersistenceKey=bc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Yc(this.auth,{idToken:e}).catch(()=>{});return t?Ur._fromGetAccountInfoResponse(this.auth,t,e):null}return Ur._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new fa(bi(Nv),e,i);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||bi(Nv);const c=bc(i,e.config.apiKey,e.name);let f=null;for(const g of t)try{const w=await g._get(c);if(w){let S;if(typeof w=="string"){const A=await Yc(e,{idToken:w}).catch(()=>{});if(!A)break;S=await Ur._fromGetAccountInfoResponse(e,A,w)}else S=Ur._fromJSON(e,w);g!==l&&(f=S),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new fa(l,e,i):(l=p[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new fa(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Y0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(K0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(X0(e))return"Blackberry";if(Z0(e))return"Webos";if(G0(e))return"Safari";if((e.includes("chrome/")||Q0(e))&&!e.includes("edge/"))return"Chrome";if(J0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function K0(n=Fn()){return/firefox\//i.test(n)}function G0(n=Fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q0(n=Fn()){return/crios\//i.test(n)}function Y0(n=Fn()){return/iemobile/i.test(n)}function J0(n=Fn()){return/android/i.test(n)}function X0(n=Fn()){return/blackberry/i.test(n)}function Z0(n=Fn()){return/webos/i.test(n)}function Mp(n=Fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function kA(n=Fn()){var e;return Mp(n)&&!!((e=window.navigator)!=null&&e.standalone)}function PA(){return $S()&&document.documentMode===10}function ew(n=Fn()){return Mp(n)||J0(n)||Z0(n)||X0(n)||/windows phone/i.test(n)||Y0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(n,e=[]){let t;switch(n){case"Browser":t=bv(Fn());break;case"Worker":t=`${bv(Fn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ma}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const p=e(l);c(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(n,e={}){return Oa(n,"GET","/v2/passwordPolicy",bp(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=6;class MA{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??DA,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dv(this),this.idTokenSubscription=new Dv(this),this.beforeStateQueue=new NA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=bi(t)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await fa.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Yc(this,{idToken:e}),i=await Ur._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(jr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=i==null?void 0:i._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&(p!=null&&p.user)&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Jc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jr(this.app))return Promise.reject(ho(this));const t=e?Bn(e):null;return t&&Xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jr(this.app)?Promise.reject(ho(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jr(this.app)?Promise.reject(ho(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bA(this),t=new MA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await xA(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&bi(e)||this._popupRedirectResolver;Xe(t,this,"argument-error"),this.redirectPersistenceManager=await fa.create(this,[bi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xe(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&hA(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Sh(n){return Bn(n)}class Dv{constructor(e){this.auth=e,this.observer=null,this.addObserver=JS(t=>this.observer=t)}get next(){return Xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LA(n){Op=n}function VA(n){return Op.loadJS(n)}function FA(){return Op.gapiScript}function jA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(n,e){const t=xp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(mo(l,e??{}))return o;pi(o,"already-initialized")}return t.initialize({options:e})}function zA(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(bi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function BA(n,e,t){const i=Sh(n);Xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=nw(e),{host:c,port:f}=$A(e),p=f===null?"":`:${f}`,g={url:`${l}//${c}${p}/`},w=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Xe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Xe(mo(g,i.config.emulator)&&mo(w,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=w,i.settings.appVerificationDisabledForTesting=!0,Da(c)?(b0(`${l}//${c}${p}`),D0("Auth",!0)):WA()}function nw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function $A(n){const e=nw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Mv(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Mv(c)}}}function Mv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function WA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,t){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(n,e){return _A(n,"POST","/v1/accounts:signInWithIdp",bp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="http://localhost";class yo extends rw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...l}=t;if(!i||!o)return null;const c=new yo(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return pa(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,pa(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,pa(e,t)}buildRequest(){const e={requestUri:HA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends Lp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends ru{constructor(){super("facebook.com")}static credential(e){return yo._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return yo._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Pi.credential(t,i)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends ru{constructor(){super("github.com")}static credential(e){return yo._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends ru{constructor(){super("twitter.com")}static credential(e,t){return yo._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return gs.credential(t,i)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Ur._fromIdTokenResponse(e,i,o),c=Ov(i);return new wa({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Ov(i);return new wa({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Ov(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends ji{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Xc(e,t,i,o)}}function iw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(n,l,e,i):l})}async function qA(n,e,t=!1){const i=await zl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return wa._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KA(n,e,t=!1){const{auth:i}=n;if(jr(i.app))return Promise.reject(ho(i));const o="reauthenticate";try{const l=await zl(n,iw(i,o,e,n),t);Xe(l.idToken,i,"internal-error");const c=Dp(l.idToken);Xe(c,i,"internal-error");const{sub:f}=c;return Xe(n.uid===f,i,"user-mismatch"),wa._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&pi(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GA(n,e,t=!1){if(jr(n.app))return Promise.reject(ho(n));const i="signIn",o=await iw(n,i,e),l=await wa._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}function QA(n,e,t,i){return Bn(n).onIdTokenChanged(e,t,i)}function YA(n,e,t){return Bn(n).beforeAuthStateChanged(e,t)}function JA(n,e,t,i){return Bn(n).onAuthStateChanged(e,t,i)}function sw(n){return Bn(n).signOut()}const Zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=1e3,ZA=10;class aw extends ow{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ew(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);PA()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ZA):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},XA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}aw.type="LOCAL";const eC=aw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends ow{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lw.type="SESSION";const uw=lw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Rh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(c).map(async g=>g(t.origin,l)),p=await tC(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((f,p)=>{const g=Vp("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(S){const A=S;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(A.data.response);break;default:clearTimeout(w),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function rC(n){li().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function iC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function oC(){return cw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="firebaseLocalStorageDb",aC=1,eh="firebaseLocalStorage",dw="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ah(n,e){return n.transaction([eh],e?"readwrite":"readonly").objectStore(eh)}function lC(){const n=indexedDB.deleteDatabase(hw);return new iu(n).toPromise()}function Jf(){const n=indexedDB.open(hw,aC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(eh,{keyPath:dw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(eh)?e(i):(i.close(),await lC(),e(await Jf()))})})}async function Lv(n,e,t){const i=Ah(n,!0).put({[dw]:e,value:t});return new iu(i).toPromise()}async function uC(n,e){const t=Ah(n,!1).get(e),i=await new iu(t).toPromise();return i===void 0?null:i.value}function Vv(n,e){const t=Ah(n,!0).delete(e);return new iu(t).toPromise()}const cC=800,hC=3;class fw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>hC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(oC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await iC(),!this.activeServiceWorker)return;this.sender=new nC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jf();return await Lv(e,Zc,"1"),await Vv(e,Zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Lv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>uC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Vv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Ah(o,!1).getAll();return new iu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fw.type="LOCAL";const dC=fw;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(n,e){return e?bi(e):(Xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp extends rw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return pa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return pa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fC(n){return GA(n.auth,new Fp(n),n.bypassAuthState)}function pC(n){const{auth:e,user:t}=n;return Xe(t,e,"internal-error"),KA(t,new Fp(n),n.bypassAuthState)}async function mC(n){const{auth:e,user:t}=n;return Xe(t,e,"internal-error"),qA(t,new Fp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fC;case"linkViaPopup":case"linkViaRedirect":return mC;case"reauthViaPopup":case"reauthViaRedirect":return pC;default:pi(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new nu(2e3,1e4);async function yC(n,e,t){if(jr(n.app))return Promise.reject($r(n,"operation-not-supported-in-this-environment"));const i=Sh(n);dA(n,e,Lp);const o=pw(i,t);return new uo(i,"signInViaPopup",e,o).executeNotNull()}class uo extends mw{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Xe(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=Vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gC.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="pendingRedirect",Dc=new Map;class _C extends mw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Dc.get(this.auth._key());if(!e){try{const i=await wC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Dc.set(this.auth._key(),e)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wC(n,e){const t=IC(e),i=TC(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function EC(n,e){Dc.set(n._key(),e)}function TC(n){return bi(n._redirectPersistence)}function IC(n){return bc(vC,n.config.apiKey,n.name)}async function SC(n,e,t=!1){if(jr(n.app))return Promise.reject(ho(n));const i=Sh(n),o=pw(i,e),c=await new _C(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=600*1e3;class AC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!gw(e)){const o=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError($r(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fv(e))}saveEventToCache(e){this.cachedEventUids.add(Fv(e)),this.lastProcessedEventTime=Date.now()}}function Fv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function gw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(n,e={}){return Oa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PC=/^https?/;async function NC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await xC(n);for(const t of e)try{if(bC(t))return}catch{}pi(n,"unauthorized-domain")}function bC(n){const e=Qf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!PC.test(t))return!1;if(kC.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=new nu(3e4,6e4);function jv(){const n=li().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function MC(n){return new Promise((e,t)=>{var o,l,c;function i(){jv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jv(),t($r(n,"network-request-failed"))},timeout:DC.get()})}if((l=(o=li().gapi)==null?void 0:o.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=li().gapi)!=null&&c.load)i();else{const f=jA("iframefcb");return li()[f]=()=>{gapi.load?i():t($r(n,"network-request-failed"))},VA(`${FA()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Mc=null,e})}let Mc=null;function OC(n){return Mc=Mc||MC(n),Mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new nu(5e3,15e3),VC="__/auth/iframe",FC="emulator/auth/iframe",jC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zC(n){const e=n.config;Xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Np(e,FC):`https://${n.config.authDomain}/${VC}`,i={apiKey:e.apiKey,appName:n.name,v:Ma},o=UC.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${tu(i).slice(1)}`}async function BC(n){const e=await OC(n),t=li().gapi;return Xe(t,n,"internal-error"),e.open({where:document.body,url:zC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jC,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=$r(n,"network-request-failed"),f=li().setTimeout(()=>{l(c)},LC.get());function p(){li().clearTimeout(f),o(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WC=500,HC=600,qC="_blank",KC="http://localhost";class Uv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GC(n,e,t,i=WC,o=HC){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p={...$C,width:i.toString(),height:o.toString(),top:l,left:c},g=Fn().toLowerCase();t&&(f=Q0(g)?qC:t),K0(g)&&(e=e||KC,p.scrollbars="yes");const w=Object.entries(p).reduce((A,[O,U])=>`${A}${O}=${U},`,"");if(kA(g)&&f!=="_self")return QC(e||"",f),new Uv(null);const S=window.open(e||"",f,w);Xe(S,n,"popup-blocked");try{S.focus()}catch{}return new Uv(S)}function QC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="__/auth/handler",JC="emulator/auth/handler",XC=encodeURIComponent("fac");async function zv(n,e,t,i,o,l){Xe(n.config.authDomain,n,"auth-domain-config-required"),Xe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ma,eventId:o};if(e instanceof Lp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",YS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,S]of Object.entries({}))c[w]=S}if(e instanceof ru){const w=e.getScopes().filter(S=>S!=="");w.length>0&&(c.scopes=w.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const p=await n._getAppCheckToken(),g=p?`#${XC}=${encodeURIComponent(p)}`:"";return`${ZC(n)}?${tu(f).slice(1)}${g}`}function ZC({config:n}){return n.emulator?Np(n,JC):`https://${n.authDomain}/${YC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="webStorageSupport";class ex{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uw,this._completeRedirectFn=SC,this._overrideRedirectResult=EC}async _openPopup(e,t,i,o){var c;Li((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await zv(e,t,i,Qf(),o);return GC(e,l,Vp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await zv(e,t,i,Qf(),o);return rC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Li(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await BC(e),i=new AC(e);return t.register("authEvent",o=>(Xe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pf,{type:Pf},o=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c[Pf];l!==void 0&&t(!!l),pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=NC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ew()||G0()||Mp()}}const tx=ex;var Bv="@firebase/auth",$v="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ix(n){_a(new go("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Xe(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tw(n)},g=new OA(i,o,l,p);return zA(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),_a(new go("auth-internal",e=>{const t=Sh(e.getProvider("auth").getImmediate());return(i=>new nx(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Is(Bv,$v,rx(n)),Is(Bv,$v,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=300,ox=N0("authIdTokenMaxAge")||sx;let Wv=null;const ax=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>ox)return;const o=t==null?void 0:t.token;Wv!==o&&(Wv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function lx(n=V0()){const e=xp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=UA(n,{popupRedirectResolver:tx,persistence:[dC,eC,uw]}),i=N0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=ax(l.toString());YA(t,c,()=>c(t.currentUser)),QA(t,f=>c(f))}}const o=k0("auth");return o&&BA(t,`http://${o}`),t}function ux(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}LA({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=$r("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",ux().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ix("Browser");var Hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ss,yw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function E(){}E.prototype=_.prototype,C.D=_.prototype,C.prototype=new E,C.prototype.constructor=C,C.C=function(x,N,b){for(var P=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)P[Le-2]=arguments[Le];return _.prototype[N].apply(x,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,_,E){E||(E=0);var x=Array(16);if(typeof _=="string")for(var N=0;16>N;++N)x[N]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(N=0;16>N;++N)x[N]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=C.g[0],E=C.g[1],N=C.g[2];var b=C.g[3],P=_+(b^E&(N^b))+x[0]+3614090360&4294967295;_=E+(P<<7&4294967295|P>>>25),P=b+(N^_&(E^N))+x[1]+3905402710&4294967295,b=_+(P<<12&4294967295|P>>>20),P=N+(E^b&(_^E))+x[2]+606105819&4294967295,N=b+(P<<17&4294967295|P>>>15),P=E+(_^N&(b^_))+x[3]+3250441966&4294967295,E=N+(P<<22&4294967295|P>>>10),P=_+(b^E&(N^b))+x[4]+4118548399&4294967295,_=E+(P<<7&4294967295|P>>>25),P=b+(N^_&(E^N))+x[5]+1200080426&4294967295,b=_+(P<<12&4294967295|P>>>20),P=N+(E^b&(_^E))+x[6]+2821735955&4294967295,N=b+(P<<17&4294967295|P>>>15),P=E+(_^N&(b^_))+x[7]+4249261313&4294967295,E=N+(P<<22&4294967295|P>>>10),P=_+(b^E&(N^b))+x[8]+1770035416&4294967295,_=E+(P<<7&4294967295|P>>>25),P=b+(N^_&(E^N))+x[9]+2336552879&4294967295,b=_+(P<<12&4294967295|P>>>20),P=N+(E^b&(_^E))+x[10]+4294925233&4294967295,N=b+(P<<17&4294967295|P>>>15),P=E+(_^N&(b^_))+x[11]+2304563134&4294967295,E=N+(P<<22&4294967295|P>>>10),P=_+(b^E&(N^b))+x[12]+1804603682&4294967295,_=E+(P<<7&4294967295|P>>>25),P=b+(N^_&(E^N))+x[13]+4254626195&4294967295,b=_+(P<<12&4294967295|P>>>20),P=N+(E^b&(_^E))+x[14]+2792965006&4294967295,N=b+(P<<17&4294967295|P>>>15),P=E+(_^N&(b^_))+x[15]+1236535329&4294967295,E=N+(P<<22&4294967295|P>>>10),P=_+(N^b&(E^N))+x[1]+4129170786&4294967295,_=E+(P<<5&4294967295|P>>>27),P=b+(E^N&(_^E))+x[6]+3225465664&4294967295,b=_+(P<<9&4294967295|P>>>23),P=N+(_^E&(b^_))+x[11]+643717713&4294967295,N=b+(P<<14&4294967295|P>>>18),P=E+(b^_&(N^b))+x[0]+3921069994&4294967295,E=N+(P<<20&4294967295|P>>>12),P=_+(N^b&(E^N))+x[5]+3593408605&4294967295,_=E+(P<<5&4294967295|P>>>27),P=b+(E^N&(_^E))+x[10]+38016083&4294967295,b=_+(P<<9&4294967295|P>>>23),P=N+(_^E&(b^_))+x[15]+3634488961&4294967295,N=b+(P<<14&4294967295|P>>>18),P=E+(b^_&(N^b))+x[4]+3889429448&4294967295,E=N+(P<<20&4294967295|P>>>12),P=_+(N^b&(E^N))+x[9]+568446438&4294967295,_=E+(P<<5&4294967295|P>>>27),P=b+(E^N&(_^E))+x[14]+3275163606&4294967295,b=_+(P<<9&4294967295|P>>>23),P=N+(_^E&(b^_))+x[3]+4107603335&4294967295,N=b+(P<<14&4294967295|P>>>18),P=E+(b^_&(N^b))+x[8]+1163531501&4294967295,E=N+(P<<20&4294967295|P>>>12),P=_+(N^b&(E^N))+x[13]+2850285829&4294967295,_=E+(P<<5&4294967295|P>>>27),P=b+(E^N&(_^E))+x[2]+4243563512&4294967295,b=_+(P<<9&4294967295|P>>>23),P=N+(_^E&(b^_))+x[7]+1735328473&4294967295,N=b+(P<<14&4294967295|P>>>18),P=E+(b^_&(N^b))+x[12]+2368359562&4294967295,E=N+(P<<20&4294967295|P>>>12),P=_+(E^N^b)+x[5]+4294588738&4294967295,_=E+(P<<4&4294967295|P>>>28),P=b+(_^E^N)+x[8]+2272392833&4294967295,b=_+(P<<11&4294967295|P>>>21),P=N+(b^_^E)+x[11]+1839030562&4294967295,N=b+(P<<16&4294967295|P>>>16),P=E+(N^b^_)+x[14]+4259657740&4294967295,E=N+(P<<23&4294967295|P>>>9),P=_+(E^N^b)+x[1]+2763975236&4294967295,_=E+(P<<4&4294967295|P>>>28),P=b+(_^E^N)+x[4]+1272893353&4294967295,b=_+(P<<11&4294967295|P>>>21),P=N+(b^_^E)+x[7]+4139469664&4294967295,N=b+(P<<16&4294967295|P>>>16),P=E+(N^b^_)+x[10]+3200236656&4294967295,E=N+(P<<23&4294967295|P>>>9),P=_+(E^N^b)+x[13]+681279174&4294967295,_=E+(P<<4&4294967295|P>>>28),P=b+(_^E^N)+x[0]+3936430074&4294967295,b=_+(P<<11&4294967295|P>>>21),P=N+(b^_^E)+x[3]+3572445317&4294967295,N=b+(P<<16&4294967295|P>>>16),P=E+(N^b^_)+x[6]+76029189&4294967295,E=N+(P<<23&4294967295|P>>>9),P=_+(E^N^b)+x[9]+3654602809&4294967295,_=E+(P<<4&4294967295|P>>>28),P=b+(_^E^N)+x[12]+3873151461&4294967295,b=_+(P<<11&4294967295|P>>>21),P=N+(b^_^E)+x[15]+530742520&4294967295,N=b+(P<<16&4294967295|P>>>16),P=E+(N^b^_)+x[2]+3299628645&4294967295,E=N+(P<<23&4294967295|P>>>9),P=_+(N^(E|~b))+x[0]+4096336452&4294967295,_=E+(P<<6&4294967295|P>>>26),P=b+(E^(_|~N))+x[7]+1126891415&4294967295,b=_+(P<<10&4294967295|P>>>22),P=N+(_^(b|~E))+x[14]+2878612391&4294967295,N=b+(P<<15&4294967295|P>>>17),P=E+(b^(N|~_))+x[5]+4237533241&4294967295,E=N+(P<<21&4294967295|P>>>11),P=_+(N^(E|~b))+x[12]+1700485571&4294967295,_=E+(P<<6&4294967295|P>>>26),P=b+(E^(_|~N))+x[3]+2399980690&4294967295,b=_+(P<<10&4294967295|P>>>22),P=N+(_^(b|~E))+x[10]+4293915773&4294967295,N=b+(P<<15&4294967295|P>>>17),P=E+(b^(N|~_))+x[1]+2240044497&4294967295,E=N+(P<<21&4294967295|P>>>11),P=_+(N^(E|~b))+x[8]+1873313359&4294967295,_=E+(P<<6&4294967295|P>>>26),P=b+(E^(_|~N))+x[15]+4264355552&4294967295,b=_+(P<<10&4294967295|P>>>22),P=N+(_^(b|~E))+x[6]+2734768916&4294967295,N=b+(P<<15&4294967295|P>>>17),P=E+(b^(N|~_))+x[13]+1309151649&4294967295,E=N+(P<<21&4294967295|P>>>11),P=_+(N^(E|~b))+x[4]+4149444226&4294967295,_=E+(P<<6&4294967295|P>>>26),P=b+(E^(_|~N))+x[11]+3174756917&4294967295,b=_+(P<<10&4294967295|P>>>22),P=N+(_^(b|~E))+x[2]+718787259&4294967295,N=b+(P<<15&4294967295|P>>>17),P=E+(b^(N|~_))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+b&4294967295}i.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var E=_-this.blockSize,x=this.B,N=this.h,b=0;b<_;){if(N==0)for(;b<=E;)o(this,C,b),b+=this.blockSize;if(typeof C=="string"){for(;b<_;)if(x[N++]=C.charCodeAt(b++),N==this.blockSize){o(this,x),N=0;break}}else for(;b<_;)if(x[N++]=C[b++],N==this.blockSize){o(this,x),N=0;break}}this.h=N,this.o+=_},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var E=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=E&255,E/=256;for(this.u(C),C=Array(16),_=E=0;4>_;++_)for(var x=0;32>x;x+=8)C[E++]=this.g[_]>>>x&255;return C};function l(C,_){var E=f;return Object.prototype.hasOwnProperty.call(E,C)?E[C]:E[C]=_(C)}function c(C,_){this.h=_;for(var E=[],x=!0,N=C.length-1;0<=N;N--){var b=C[N]|0;x&&b==_||(E[N]=b,x=!1)}this.g=E}var f={};function p(C){return-128<=C&&128>C?l(C,function(_){return new c([_|0],0>_?-1:0)}):new c([C|0],0>C?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return S;if(0>C)return j(g(-C));for(var _=[],E=1,x=0;C>=E;x++)_[x]=C/E|0,E*=4294967296;return new c(_,0)}function w(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return j(w(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=g(Math.pow(_,8)),x=S,N=0;N<C.length;N+=8){var b=Math.min(8,C.length-N),P=parseInt(C.substring(N,N+b),_);8>b?(b=g(Math.pow(_,b)),x=x.j(b).add(g(P))):(x=x.j(E),x=x.add(g(P)))}return x}var S=p(0),A=p(1),O=p(16777216);n=c.prototype,n.m=function(){if($(this))return-j(this).m();for(var C=0,_=1,E=0;E<this.g.length;E++){var x=this.i(E);C+=(0<=x?x:4294967296+x)*_,_*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(U(this))return"0";if($(this))return"-"+j(this).toString(C);for(var _=g(Math.pow(C,6)),E=this,x="";;){var N=ge(E,_).g;E=pe(E,N.j(_));var b=((0<E.g.length?E.g[0]:E.h)>>>0).toString(C);if(E=N,U(E))return b+x;for(;6>b.length;)b="0"+b;x=b+x}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function U(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function $(C){return C.h==-1}n.l=function(C){return C=pe(this,C),$(C)?-1:U(C)?0:1};function j(C){for(var _=C.g.length,E=[],x=0;x<_;x++)E[x]=~C.g[x];return new c(E,~C.h).add(A)}n.abs=function(){return $(this)?j(this):this},n.add=function(C){for(var _=Math.max(this.g.length,C.g.length),E=[],x=0,N=0;N<=_;N++){var b=x+(this.i(N)&65535)+(C.i(N)&65535),P=(b>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);x=P>>>16,b&=65535,P&=65535,E[N]=P<<16|b}return new c(E,E[E.length-1]&-2147483648?-1:0)};function pe(C,_){return C.add(j(_))}n.j=function(C){if(U(this)||U(C))return S;if($(this))return $(C)?j(this).j(j(C)):j(j(this).j(C));if($(C))return j(this.j(j(C)));if(0>this.l(O)&&0>C.l(O))return g(this.m()*C.m());for(var _=this.g.length+C.g.length,E=[],x=0;x<2*_;x++)E[x]=0;for(x=0;x<this.g.length;x++)for(var N=0;N<C.g.length;N++){var b=this.i(x)>>>16,P=this.i(x)&65535,Le=C.i(N)>>>16,Ke=C.i(N)&65535;E[2*x+2*N]+=P*Ke,ie(E,2*x+2*N),E[2*x+2*N+1]+=b*Ke,ie(E,2*x+2*N+1),E[2*x+2*N+1]+=P*Le,ie(E,2*x+2*N+1),E[2*x+2*N+2]+=b*Le,ie(E,2*x+2*N+2)}for(x=0;x<_;x++)E[x]=E[2*x+1]<<16|E[2*x];for(x=_;x<2*_;x++)E[x]=0;return new c(E,0)};function ie(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function me(C,_){this.g=C,this.h=_}function ge(C,_){if(U(_))throw Error("division by zero");if(U(C))return new me(S,S);if($(C))return _=ge(j(C),_),new me(j(_.g),j(_.h));if($(_))return _=ge(C,j(_)),new me(j(_.g),_.h);if(30<C.g.length){if($(C)||$(_))throw Error("slowDivide_ only works with positive integers.");for(var E=A,x=_;0>=x.l(C);)E=Pe(E),x=Pe(x);var N=Ne(E,1),b=Ne(x,1);for(x=Ne(x,2),E=Ne(E,2);!U(x);){var P=b.add(x);0>=P.l(C)&&(N=N.add(E),b=P),x=Ne(x,1),E=Ne(E,1)}return _=pe(C,N.j(_)),new me(N,_)}for(N=S;0<=C.l(_);){for(E=Math.max(1,Math.floor(C.m()/_.m())),x=Math.ceil(Math.log(E)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),b=g(E),P=b.j(_);$(P)||0<P.l(C);)E-=x,b=g(E),P=b.j(_);U(b)&&(b=A),N=N.add(b),C=pe(C,P)}return new me(N,C)}n.A=function(C){return ge(this,C).h},n.and=function(C){for(var _=Math.max(this.g.length,C.g.length),E=[],x=0;x<_;x++)E[x]=this.i(x)&C.i(x);return new c(E,this.h&C.h)},n.or=function(C){for(var _=Math.max(this.g.length,C.g.length),E=[],x=0;x<_;x++)E[x]=this.i(x)|C.i(x);return new c(E,this.h|C.h)},n.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),E=[],x=0;x<_;x++)E[x]=this.i(x)^C.i(x);return new c(E,this.h^C.h)};function Pe(C){for(var _=C.g.length+1,E=[],x=0;x<_;x++)E[x]=C.i(x)<<1|C.i(x-1)>>>31;return new c(E,C.h)}function Ne(C,_){var E=_>>5;_%=32;for(var x=C.g.length-E,N=[],b=0;b<x;b++)N[b]=0<_?C.i(b+E)>>>_|C.i(b+E+1)<<32-_:C.i(b+E);return new c(N,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,yw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=w,Ss=c}).apply(typeof Hv<"u"?Hv:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vw,Il,_w,Oc,Xf,ww,Ew,Tw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var k=0;k<u.length-1;k++){var q=u[k];if(!(q in v))break e;v=v[q]}u=u[u.length-1],k=v[u],m=m(k),m!=k&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,k=!1,q={next:function(){if(!k&&v<u.length){var Z=v++;return{value:m(Z,u[Z]),done:!1}}return k=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,v){return u.call.apply(u.bind,arguments)}function S(u,m,v){if(!u)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,k),u.apply(m,q)}}return function(){return u.apply(m,arguments)}}function A(u,m,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:S,A.apply(null,arguments)}function O(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var k=v.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function U(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(k,q,Z){for(var we=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)we[xt-2]=arguments[xt];return m.prototype[q].apply(k,we)}}function $(u){const m=u.length;if(0<m){const v=Array(m);for(let k=0;k<m;k++)v[k]=u[k];return v}return[]}function j(u,m){for(let v=1;v<arguments.length;v++){const k=arguments[v];if(p(k)){const q=u.length||0,Z=k.length||0;u.length=q+Z;for(let we=0;we<Z;we++)u[q+we]=k[we]}else u.push(k)}}class pe{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ie(u){return/^[\s\xa0]*$/.test(u)}function me(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ge(u){return ge[" "](u),u}ge[" "]=function(){};var Pe=me().indexOf("Gecko")!=-1&&!(me().toLowerCase().indexOf("webkit")!=-1&&me().indexOf("Edge")==-1)&&!(me().indexOf("Trident")!=-1||me().indexOf("MSIE")!=-1)&&me().indexOf("Edge")==-1;function Ne(u,m,v){for(const k in u)m.call(v,u[k],k,u)}function C(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function _(u){const m={};for(const v in u)m[v]=u[v];return m}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let v,k;for(let q=1;q<arguments.length;q++){k=arguments[q];for(v in k)u[v]=k[v];for(let Z=0;Z<E.length;Z++)v=E[Z],Object.prototype.hasOwnProperty.call(k,v)&&(u[v]=k[v])}}function N(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function b(u){f.setTimeout(()=>{throw u},0)}function P(){var u=ee;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Le{constructor(){this.h=this.g=null}add(m,v){const k=Ke.get();k.set(m,v),this.h?this.h.next=k:this.g=k,this.h=k}}var Ke=new pe(()=>new ve,u=>u.reset());class ve{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let he,J=!1,ee=new Le,M=()=>{const u=f.Promise.resolve(void 0);he=()=>{u.then(T)}};var T=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(v){b(v)}var m=Ke;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}J=!1};function L(){this.s=this.s,this.C=this.C}L.prototype.s=!1,L.prototype.ma=function(){this.s||(this.s=!0,this.N())},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var ae=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u})();function X(u,m){if(H.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Pe){e:{try{ge(m.nodeName);var q=!0;break e}catch{}q=!1}q||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:te[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&X.aa.h.call(this)}}U(X,H);var te={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),ne=0;function de(u,m,v,k,q){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!k,this.ha=q,this.key=++ne,this.da=this.fa=!1}function Te(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function _e(u){this.src=u,this.g={},this.h=0}_e.prototype.add=function(u,m,v,k,q){var Z=u.toString();u=this.g[Z],u||(u=this.g[Z]=[],this.h++);var we=Be(u,m,k,q);return-1<we?(m=u[we],v||(m.fa=!1)):(m=new de(m,this.src,Z,!!k,q),m.fa=v,u.push(m)),m};function Ie(u,m){var v=m.type;if(v in u.g){var k=u.g[v],q=Array.prototype.indexOf.call(k,m,void 0),Z;(Z=0<=q)&&Array.prototype.splice.call(k,q,1),Z&&(Te(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Be(u,m,v,k){for(var q=0;q<u.length;++q){var Z=u[q];if(!Z.da&&Z.listener==m&&Z.capture==!!v&&Z.ha==k)return q}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),$e={};function Fe(u,m,v,k,q){if(Array.isArray(m)){for(var Z=0;Z<m.length;Z++)Fe(u,m[Z],v,k,q);return null}return v=Vt(v),u&&u[oe]?u.K(m,v,g(k)?!!k.capture:!1,q):ht(u,m,v,!1,k,q)}function ht(u,m,v,k,q,Z){if(!m)throw Error("Invalid event type");var we=g(q)?!!q.capture:!!q,xt=xn(u);if(xt||(u[Ae]=xt=new _e(u)),v=xt.add(m,v,k,we,Z),v.proxy)return v;if(k=Ye(),v.proxy=k,k.src=u,k.listener=v,u.addEventListener)ae||(q=we),q===void 0&&(q=!1),u.addEventListener(m.toString(),k,q);else if(u.attachEvent)u.attachEvent(en(m.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ye(){function u(v){return m.call(u.src,u.listener,v)}const m=tn;return u}function rt(u,m,v,k,q){if(Array.isArray(m))for(var Z=0;Z<m.length;Z++)rt(u,m[Z],v,k,q);else k=g(k)?!!k.capture:!!k,v=Vt(v),u&&u[oe]?(u=u.i,m=String(m).toString(),m in u.g&&(Z=u.g[m],v=Be(Z,v,k,q),-1<v&&(Te(Z[v]),Array.prototype.splice.call(Z,v,1),Z.length==0&&(delete u.g[m],u.h--)))):u&&(u=xn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Be(m,v,k,q)),(v=-1<u?m[u]:null)&&it(v))}function it(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[oe])Ie(m.i,u);else{var v=u.type,k=u.proxy;m.removeEventListener?m.removeEventListener(v,k,u.capture):m.detachEvent?m.detachEvent(en(v),k):m.addListener&&m.removeListener&&m.removeListener(k),(v=xn(m))?(Ie(v,u),v.h==0&&(v.src=null,m[Ae]=null)):Te(u)}}}function en(u){return u in $e?$e[u]:$e[u]="on"+u}function tn(u,m){if(u.da)u=!0;else{m=new X(m,this);var v=u.listener,k=u.ha||u.src;u.fa&&it(u),u=v.call(k,m)}return u}function xn(u){return u=u[Ae],u instanceof _e?u:null}var yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vt(u){return typeof u=="function"?u:(u[yt]||(u[yt]=function(m){return u.handleEvent(m)}),u[yt])}function tt(){L.call(this),this.i=new _e(this),this.M=this,this.F=null}U(tt,L),tt.prototype[oe]=!0,tt.prototype.removeEventListener=function(u,m,v,k){rt(this,u,m,v,k)};function st(u,m){var v,k=u.F;if(k)for(v=[];k;k=k.F)v.push(k);if(u=u.M,k=m.type||m,typeof m=="string")m=new H(m,u);else if(m instanceof H)m.target=m.target||u;else{var q=m;m=new H(k,u),x(m,q)}if(q=!0,v)for(var Z=v.length-1;0<=Z;Z--){var we=m.g=v[Z];q=St(we,k,!0,m)&&q}if(we=m.g=u,q=St(we,k,!0,m)&&q,q=St(we,k,!1,m)&&q,v)for(Z=0;Z<v.length;Z++)we=m.g=v[Z],q=St(we,k,!1,m)&&q}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],k=0;k<v.length;k++)Te(v[k]);delete u.g[m],u.h--}}this.F=null},tt.prototype.K=function(u,m,v,k){return this.i.add(String(u),m,!1,v,k)},tt.prototype.L=function(u,m,v,k){return this.i.add(String(u),m,!0,v,k)};function St(u,m,v,k){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var q=!0,Z=0;Z<m.length;++Z){var we=m[Z];if(we&&!we.da&&we.capture==v){var xt=we.listener,cn=we.ha||we.src;we.fa&&Ie(u.i,we),q=xt.call(cn,k)!==!1&&q}}return q&&!k.defaultPrevented}function qt(u,m,v){if(typeof u=="function")v&&(u=A(u,v));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function _n(u){u.g=qt(()=>{u.g=null,u.i&&(u.i=!1,_n(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class zt extends L{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_n(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kt(u){L.call(this),this.h=u,this.g={}}U(Kt,L);var Gt=[];function Rr(u){Ne(u.g,function(m,v){this.g.hasOwnProperty(v)&&it(m)},u),u.g={}}Kt.prototype.N=function(){Kt.aa.N.call(this),Rr(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ui=f.JSON.stringify,zi=f.JSON.parse,Vs=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Hr(){}Hr.prototype.h=null;function Ar(u){return u.h||(u.h=u.i())}function gi(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $n(){H.call(this,"d")}U($n,H);function Bi(){H.call(this,"c")}U(Bi,H);var nr={},Fs=null;function qr(){return Fs=Fs||new tt}nr.La="serverreachability";function Kr(u){H.call(this,nr.La,u)}U(Kr,H);function Wn(u){const m=qr();st(m,new Kr(m))}nr.STAT_EVENT="statevent";function js(u,m){H.call(this,nr.STAT_EVENT,u),this.stat=m}U(js,H);function Bt(u){const m=qr();st(m,new js(m,u))}nr.Ma="timingevent";function V(u,m){H.call(this,nr.Ma,u),this.size=m}U(V,H);function B(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Q(){this.g=!0}Q.prototype.xa=function(){this.g=!1};function le(u,m,v,k,q,Z){u.info(function(){if(u.g)if(Z)for(var we="",xt=Z.split("&"),cn=0;cn<xt.length;cn++){var vt=xt[cn].split("=");if(1<vt.length){var pn=vt[0];vt=vt[1];var rn=pn.split("_");we=2<=rn.length&&rn[1]=="type"?we+(pn+"="+vt+"&"):we+(pn+"=redacted&")}}else we=null;else we=Z;return"XMLHTTP REQ ("+k+") [attempt "+q+"]: "+m+`
`+v+`
`+we})}function Ee(u,m,v,k,q,Z,we){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+q+"]: "+m+`
`+v+`
`+Z+" "+we})}function De(u,m,v,k){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Me(u,v)+(k?" "+k:"")})}function We(u,m){u.info(function(){return"TIMEOUT: "+m})}Q.prototype.info=function(){};function Me(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var k=v[u];if(!(2>k.length)){var q=k[1];if(Array.isArray(q)&&!(1>q.length)){var Z=q[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var we=1;we<q.length;we++)q[we]=""}}}}return Ui(v)}catch{return m}}var be={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xe;function Ge(){}U(Ge,Hr),Ge.prototype.g=function(){return new XMLHttpRequest},Ge.prototype.i=function(){return{}},xe=new Ge;function Ze(u,m,v,k){this.j=u,this.i=m,this.l=v,this.R=k||1,this.U=new Kt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qt}function Qt(){this.i=null,this.g="",this.h=!1}var Tt={},ot={};function Ct(u,m,v){u.L=1,u.v=Ki(sr(m)),u.m=v,u.P=!0,dr(u,null)}function dr(u,m){u.F=Date.now(),lt(u),u.A=sr(u.v);var v=u.A,k=u.R;Array.isArray(k)||(k=[String(k)]),Qi(v.i,"t",k),u.C=0,v=u.j.J,u.h=new Qt,u.g=Su(u.j,v?m:null,!u.m),0<u.O&&(u.M=new zt(A(u.Y,u,u.g),u.O)),m=u.U,v=u.g,k=u.ca;var q="readystatechange";Array.isArray(q)||(q&&(Gt[0]=q.toString()),q=Gt);for(var Z=0;Z<q.length;Z++){var we=Fe(v,q[Z],k||m.handleEvent,!1,m.h||m);if(!we)break;m.g[we.key]=we}m=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Wn(),le(u.i,u.u,u.A,u.l,u.R,u.m)}Ze.prototype.ca=function(u){u=u.target;const m=this.M;m&&qn(u)==3?m.j():this.Y(u)},Ze.prototype.Y=function(u){try{if(u==this.g)e:{const rn=qn(this.g);var m=this.g.Ba();const mr=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||Wa(this.g)))){this.J||rn!=4||m==7||(m==8||0>=mr?Wn(3):Wn(2)),ir(this);var v=this.g.Z();this.X=v;t:if(Gr(this)){var k=Wa(this.g);u="";var q=k.length,Z=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),Pn(this);var we="";break t}this.h.i=new f.TextDecoder}for(m=0;m<q;m++)this.h.h=!0,u+=this.h.i.decode(k[m],{stream:!(Z&&m==q-1)});k.length=0,this.h.g+=u,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=v==200,Ee(this.i,this.u,this.A,this.l,this.R,rn,v),this.o){if(this.T&&!this.K){t:{if(this.g){var xt,cn=this.g;if((xt=cn.g?cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(xt)){var vt=xt;break t}}vt=null}if(v=vt)De(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qr(this,v);else{this.o=!1,this.s=3,Bt(12),wn(this),Pn(this);break e}}if(this.P){v=!0;let ar;for(;!this.J&&this.C<we.length;)if(ar=rr(this,we),ar==ot){rn==4&&(this.s=4,Bt(14),v=!1),De(this.i,this.l,null,"[Incomplete Response]");break}else if(ar==Tt){this.s=4,Bt(15),De(this.i,this.l,we,"[Invalid Chunk]"),v=!1;break}else De(this.i,this.l,ar,null),Qr(this,ar);if(Gr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||we.length!=0||this.h.h||(this.s=1,Bt(16),v=!1),this.o=this.o&&v,!v)De(this.i,this.l,we,"[Invalid Chunked Response]"),wn(this),Pn(this);else if(0<we.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),qa(pn),pn.M=!0,Bt(11))}}else De(this.i,this.l,we,null),Qr(this,we);rn==4&&wn(this),this.o&&!this.J&&(rn==4?Vo(this.j,this):(this.o=!1,lt(this)))}else bo(this.g),v==400&&0<we.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),wn(this),Pn(this)}}}catch{}finally{}};function Gr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function rr(u,m){var v=u.C,k=m.indexOf(`
`,v);return k==-1?ot:(v=Number(m.substring(v,k)),isNaN(v)?Tt:(k+=1,k+v>m.length?ot:(m=m.slice(k,k+v),u.C=k+v,m)))}Ze.prototype.cancel=function(){this.J=!0,wn(this)};function lt(u){u.S=Date.now()+u.I,$i(u,u.I)}function $i(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=B(A(u.ba,u),m)}function ir(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Ze.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(We(this.i,this.A),this.L!=2&&(Wn(),Bt(17)),wn(this),this.s=2,Pn(this)):$i(this,this.S-u)};function Pn(u){u.j.G==0||u.J||Vo(u.j,u)}function wn(u){ir(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Rr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Qr(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||dt(v.h,u))){if(!u.K&&dt(v.h,u)&&v.G==3){try{var k=v.Da.g.parse(m)}catch{k=null}if(Array.isArray(k)&&k.length==3){var q=k;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Lo(v),Nr(v);else break e;Oo(v),Bt(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=B(A(v.Za,v),6e3));if(1>=Yr(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ei(v,11)}else if((u.K||v.g==u)&&Lo(v),!ie(m))for(q=v.Da.g.parse(m),m=0;m<q.length;m++){let vt=q[m];if(v.T=vt[0],vt=vt[1],v.G==2)if(vt[0]=="c"){v.K=vt[1],v.ia=vt[2];const pn=vt[3];pn!=null&&(v.la=pn,v.j.info("VER="+v.la));const rn=vt[4];rn!=null&&(v.Aa=rn,v.j.info("SVER="+v.Aa));const mr=vt[5];mr!=null&&typeof mr=="number"&&0<mr&&(k=1.5*mr,v.L=k,v.j.info("backChannelRequestTimeoutMs_="+k)),k=v;const ar=u.g;if(ar){const qs=ar.g?ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var Z=k.h;Z.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(fr(Z,Z.h),Z.h=null))}if(k.D){const jo=ar.g?ar.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(k.ya=jo,Pt(k.I,k.D,jo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),k=v;var we=u;if(k.qa=Iu(k,k.J?k.ia:null,k.W),we.K){Us(k.h,we);var xt=we,cn=k.L;cn&&(xt.I=cn),xt.B&&(ir(xt),lt(xt)),k.g=we}else Hs(k);0<v.i.length&&ei(v)}else vt[0]!="stop"&&vt[0]!="close"||Ei(v,7);else v.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Ei(v,7):Tn(v):vt[0]!="noop"&&v.l&&v.l.ta(vt),v.v=0)}}Wn(4)}catch{}}var ut=class{constructor(u,m){this.g=u,this.map=m}};function Rt(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Yr(u){return u.h?1:u.g?u.g.size:0}function dt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function fr(u,m){u.g?u.g.add(m):u.h=m}function Us(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Rt.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return $(u.i)}function Co(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,k=0;k<v;k++)m.push(u[k]);return m}m=[],v=0;for(k in u)m[v++]=u[k];return m}function xo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const k in u)m[v++]=k;return m}}}function Wi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=xo(u),k=Co(u),q=k.length,Z=0;Z<q;Z++)m.call(void 0,k[Z],v&&v[Z],u)}var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var k=u[v].indexOf("="),q=null;if(0<=k){var Z=u[v].substring(0,k);q=u[v].substring(k+1)}else Z=u[v];m(Z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function yi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof yi){this.h=u.h,Bs(this,u.j),this.o=u.o,this.g=u.g,Hi(this,u.s),this.l=u.l;var m=u.i,v=new Jr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),qi(this,v),this.m=u.m}else u&&(m=String(u).match(zs))?(this.h=!1,Bs(this,m[1]||"",!0),this.o=gt(m[2]||""),this.g=gt(m[3]||"",!0),Hi(this,m[4]),this.l=gt(m[5]||"",!0),qi(this,m[6]||"",!0),this.m=gt(m[7]||"")):(this.h=!1,this.i=new Jr(null,this.h))}yi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Gi(m,ko,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Gi(m,ko,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Gi(v,v.charAt(0)=="/"?mu:pu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Gi(v,za)),u.join("")};function sr(u){return new yi(u)}function Bs(u,m,v){u.j=v?gt(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Hi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function qi(u,m,v){m instanceof Jr?(u.i=m,Xr(u.i,u.h)):(v||(m=Gi(m,gu)),u.i=new Jr(m,u.h))}function Pt(u,m,v){u.i.set(m,v)}function Ki(u){return Pt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gt(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Gi(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,fu),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ko=/[#\/\?@]/g,pu=/[#\?:]/g,mu=/[#\?]/g,gu=/[#\?@]/g,za=/#/g;function Jr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&Hh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Jr.prototype,n.add=function(u,m){En(this),this.i=null,u=pr(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Cr(u,m){En(u),m=pr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function xr(u,m){return En(u),m=pr(u,m),u.g.has(m)}n.forEach=function(u,m){En(this),this.g.forEach(function(v,k){v.forEach(function(q){u.call(m,q,k,this)},this)},this)},n.na=function(){En(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let k=0;k<m.length;k++){const q=u[k];for(let Z=0;Z<q.length;Z++)v.push(m[k])}return v},n.V=function(u){En(this);let m=[];if(typeof u=="string")xr(this,u)&&(m=m.concat(this.g.get(pr(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return En(this),this.i=null,u=pr(this,u),xr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Qi(u,m,v){Cr(u,m),0<v.length&&(u.i=null,u.g.set(pr(u,m),$(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var k=m[v];const Z=encodeURIComponent(String(k)),we=this.V(k);for(k=0;k<we.length;k++){var q=Z;we[k]!==""&&(q+="="+encodeURIComponent(String(we[k]))),u.push(q)}}return this.i=u.join("&")};function pr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Xr(u,m){m&&!u.j&&(En(u),u.i=null,u.g.forEach(function(v,k){var q=k.toLowerCase();k!=q&&(Cr(this,k),Qi(this,q,v))},u)),u.j=m}function qh(u,m){const v=new Q;if(f.Image){const k=new Image;k.onload=O(Hn,v,"TestLoadImage: loaded",!0,m,k),k.onerror=O(Hn,v,"TestLoadImage: error",!1,m,k),k.onabort=O(Hn,v,"TestLoadImage: abort",!1,m,k),k.ontimeout=O(Hn,v,"TestLoadImage: timeout",!1,m,k),f.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else m(!1)}function yu(u,m){const v=new Q,k=new AbortController,q=setTimeout(()=>{k.abort(),Hn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:k.signal}).then(Z=>{clearTimeout(q),Z.ok?Hn(v,"TestPingServer: ok",!0,m):Hn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(q),Hn(v,"TestPingServer: error",!1,m)})}function Hn(u,m,v,k,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),k(v)}catch{}}function Kh(){this.g=new Vs}function vu(u,m,v){const k=v||"";try{Wi(u,function(q,Z){let we=q;g(q)&&(we=Ui(q)),m.push(k+Z+"="+encodeURIComponent(we))})}catch(q){throw m.push(k+"type="+encodeURIComponent("_badmap")),q}}function vi(u){this.l=u.Ub||null,this.j=u.eb||!1}U(vi,Hr),vi.prototype.g=function(){return new $s(this.l,this.j)},vi.prototype.i=(function(u){return function(){return u}})({});function $s(u,m){tt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U($s,tt),n=$s.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Pr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_u(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function _u(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?kr(this):Pr(this),this.readyState==3&&_u(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,kr(this))},n.Qa=function(u){this.g&&(this.response=u,kr(this))},n.ga=function(){this.g&&kr(this)};function kr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Pr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Pr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty($s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function _i(u){let m="";return Ne(u,function(v,k){m+=k,m+=":",m+=v,m+=`\r
`}),m}function Yi(u,m,v){e:{for(k in v){var k=!1;break e}k=!0}k||(v=_i(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Pt(u,m,v))}function Ft(u){tt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Ft,tt);var Gh=/^https?$/i,Ba=["POST","PUT"];n=Ft.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xe.g(),this.v=this.o?Ar(this.o):Ar(xe),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Z){Ws(this,Z);return}if(u=v||"",v=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var q in k)v.set(q,k[q]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Z of k.keys())v.set(Z,k.get(Z));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(v.keys()).find(Z=>Z.toLowerCase()=="content-type"),q=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ba,m,void 0))||k||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,we]of v)this.g.setRequestHeader(Z,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{No(this),this.u=!0,this.g.send(u),this.u=!1}catch(Z){Ws(this,Z)}};function Ws(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Po(u),or(u)}function Po(u){u.A||(u.A=!0,st(u,"complete"),st(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,st(this,"complete"),st(this,"abort"),or(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),or(this,!0)),Ft.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$a(this):this.bb())},n.bb=function(){$a(this)};function $a(u){if(u.h&&typeof c<"u"&&(!u.v[1]||qn(u)!=4||u.Z()!=2)){if(u.u&&qn(u)==4)qt(u.Ea,0,u);else if(st(u,"readystatechange"),qn(u)==4){u.h=!1;try{const we=u.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var k;if(k=we===0){var q=String(u.D).match(zs)[1]||null;!q&&f.self&&f.self.location&&(q=f.self.location.protocol.slice(0,-1)),k=!Gh.test(q?q.toLowerCase():"")}v=k}if(v)st(u,"complete"),st(u,"success");else{u.m=6;try{var Z=2<qn(u)?u.g.statusText:""}catch{Z=""}u.l=Z+" ["+u.Z()+"]",Po(u)}}finally{or(u)}}}}function or(u,m){if(u.g){No(u);const v=u.g,k=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||st(u,"ready");try{v.onreadystatechange=k}catch{}}}function No(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),zi(m)}};function Wa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function bo(u){const m={};u=(u.g&&2<=qn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(ie(u[k]))continue;var v=N(u[k]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Z=m[q]||[];m[q]=Z,Z.push(v)}C(m,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ha(u){this.Aa=0,this.i=[],this.j=new Q,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zr("baseRetryDelayMs",5e3,u),this.cb=Zr("retryDelaySeedMs",1e4,u),this.Wa=Zr("forwardChannelMaxRetries",2,u),this.wa=Zr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Rt(u&&u.concurrentRequestLimit),this.Da=new Kh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ha.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,k){Bt(0),this.W=u,this.H=m||{},v&&k!==void 0&&(this.H.OSID=v,this.H.OAID=k),this.F=this.X,this.I=Iu(this,null,this.W),ei(this)};function Tn(u){if(Do(u),u.G==3){var m=u.U++,v=sr(u.I);if(Pt(v,"SID",u.K),Pt(v,"RID",m),Pt(v,"TYPE","terminate"),wi(u,v),m=new Ze(u,u.j,m),m.L=2,m.v=Ki(sr(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.v,v=!0),v||(m.g=Su(m.j,null),m.g.ea(m.v)),m.F=Date.now(),lt(m)}Tu(u)}function Nr(u){u.g&&(qa(u),u.g.cancel(),u.g=null)}function Do(u){Nr(u),u.u&&(f.clearTimeout(u.u),u.u=null),Lo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function ei(u){if(!nn(u.h)&&!u.s){u.s=!0;var m=u.Ga;he||M(),J||(he(),J=!0),ee.add(m,u),u.B=0}}function Qh(u,m){return Yr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=B(A(u.Ga,u,m),Eu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const q=new Ze(this,this.j,u);let Z=this.o;if(this.S&&(Z?(Z=_(Z),x(Z,this.S)):Z=this.S),this.m!==null||this.O||(q.H=Z,Z=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var k=this.i[v];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(m+=k,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ji(this,q,m),v=sr(this.I),Pt(v,"RID",u),Pt(v,"CVER",22),this.D&&Pt(v,"X-HTTP-Session-Id",this.D),wi(this,v),Z&&(this.O?m="headers="+encodeURIComponent(String(_i(Z)))+"&"+m:this.m&&Yi(v,this.m,Z)),fr(this.h,q),this.Ua&&Pt(v,"TYPE","init"),this.P?(Pt(v,"$req",m),Pt(v,"SID","null"),q.T=!0,Ct(q,v,null)):Ct(q,v,m),this.G=2}}else this.G==3&&(u?Mo(this,u):this.i.length==0||nn(this.h)||Mo(this))};function Mo(u,m){var v;m?v=m.l:v=u.U++;const k=sr(u.I);Pt(k,"SID",u.K),Pt(k,"RID",v),Pt(k,"AID",u.T),wi(u,k),u.m&&u.o&&Yi(k,u.m,u.o),v=new Ze(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ji(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),fr(u.h,v),Ct(v,k,m)}function wi(u,m){u.H&&Ne(u.H,function(v,k){Pt(m,k,v)}),u.l&&Wi({},function(v,k){Pt(m,k,v)})}function Ji(u,m,v){v=Math.min(u.i.length,v);var k=u.l?A(u.l.Na,u.l,u):null;e:{var q=u.i;let Z=-1;for(;;){const we=["count="+v];Z==-1?0<v?(Z=q[0].g,we.push("ofs="+Z)):Z=0:we.push("ofs="+Z);let xt=!0;for(let cn=0;cn<v;cn++){let vt=q[cn].g;const pn=q[cn].map;if(vt-=Z,0>vt)Z=Math.max(0,q[cn].g-100),xt=!1;else try{vu(pn,we,"req"+vt+"_")}catch{k&&k(pn)}}if(xt){k=we.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,k}function Hs(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;he||M(),J||(he(),J=!0),ee.add(m,u),u.v=0}}function Oo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=B(A(u.Fa,u),Eu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=B(A(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),Nr(this),wu(this))};function qa(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function wu(u){u.g=new Ze(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sr(u.qa);Pt(m,"RID","rpc"),Pt(m,"SID",u.K),Pt(m,"AID",u.T),Pt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Pt(m,"TO",u.ja),Pt(m,"TYPE","xmlhttp"),wi(u,m),u.m&&u.o&&Yi(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Ki(sr(m)),v.m=null,v.P=!0,dr(v,u)}n.Za=function(){this.C!=null&&(this.C=null,Nr(this),Oo(this),Bt(19))};function Lo(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Vo(u,m){var v=null;if(u.g==m){Lo(u),qa(u),u.g=null;var k=2}else if(dt(u.h,m))v=m.D,Us(u.h,m),k=1;else return;if(u.G!=0){if(m.o)if(k==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var q=u.B;k=qr(),st(k,new V(k,v)),ei(u)}else Hs(u);else if(q=m.s,q==3||q==0&&0<m.X||!(k==1&&Qh(u,m)||k==2&&Oo(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),q){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function Eu(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var v=A(u.fb,u),k=u.Xa;const q=!k;k=new yi(k||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Bs(k,"https"),Ki(k),q?qh(k.toString(),v):yu(k.toString(),v)}else Bt(2);u.G=0,u.l&&u.l.sa(m),Tu(u),Do(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function Tu(u){if(u.G=0,u.ka=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ka,m),j(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function Iu(u,m,v){var k=v instanceof yi?sr(v):new yi(v);if(k.g!="")m&&(k.g=m+"."+k.g),Hi(k,k.s);else{var q=f.location;k=q.protocol,m=m?m+"."+q.hostname:q.hostname,q=+q.port;var Z=new yi(null);k&&Bs(Z,k),m&&(Z.g=m),q&&Hi(Z,q),v&&(Z.l=v),k=Z}return v=u.D,m=u.ya,v&&m&&Pt(k,v,m),Pt(k,"VER",u.la),wi(u,k),k}function Su(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ft(new vi({eb:v})):new Ft(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ka(){}n=Ka.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fo(){}Fo.prototype.g=function(u,m){return new jn(u,m)};function jn(u,m){tt.call(this),this.g=new Ha(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ie(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ie(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ti(this)}U(jn,tt),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){Tn(this.g)},jn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Ui(u),u=v);m.i.push(new ut(m.Ya++,u)),m.G==3&&ei(m)},jn.prototype.N=function(){this.g.l=null,delete this.j,Tn(this.g),delete this.g,jn.aa.N.call(this)};function Ru(u){$n.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}U(Ru,$n);function Au(){Bi.call(this),this.status=1}U(Au,Bi);function ti(u){this.g=u}U(ti,Ka),ti.prototype.ua=function(){st(this.g,"a")},ti.prototype.ta=function(u){st(this.g,new Ru(u))},ti.prototype.sa=function(u){st(this.g,new Au)},ti.prototype.ra=function(){st(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,Tw=function(){return new Fo},Ew=function(){return qr()},ww=nr,Xf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},be.NO_ERROR=0,be.TIMEOUT=8,be.HTTP_ERROR=6,Oc=be,Ce.COMPLETE="complete",_w=Ce,gi.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",tt.prototype.listen=tt.prototype.K,Il=gi,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,vw=Ft}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const qv="@firebase/firestore",Kv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new Ap("@firebase/firestore");function la(){return vo.logLevel}function ke(n,...e){if(vo.logLevel<=ft.DEBUG){const t=e.map(jp);vo.debug(`Firestore (${La}): ${n}`,...t)}}function Vi(n,...e){if(vo.logLevel<=ft.ERROR){const t=e.map(jp);vo.error(`Firestore (${La}): ${n}`,...t)}}function Ea(n,...e){if(vo.logLevel<=ft.WARN){const t=e.map(jp);vo.warn(`Firestore (${La}): ${n}`,...t)}}function jp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,Iw(n,i,t)}function Iw(n,e,t){let i=`FIRESTORE (${La}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Vi(i),new Error(i)}function At(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||Iw(e,o,i)}function nt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends ji{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ln.UNAUTHENTICATED)))}shutdown(){}}class hx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class dx{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){At(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Rs,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},f=p=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Rs)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(At(typeof i.accessToken=="string",31837,{l:i}),new Sw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new Ln(e)}}class fx{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class px{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new fx(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mx{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){At(this.o===void 0,3512);const i=l=>{l.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ke("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(At(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Gv(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=gx(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function pt(n,e){return n<e?-1:n>e?1:0}function Zf(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),l=e.charAt(i);if(o!==l)return Nf(o)===Nf(l)?pt(o,l):Nf(o)?1:-1}return pt(n.length,e.length)}const yx=55296,vx=57343;function Nf(n){const e=n.charCodeAt(0);return e>=yx&&e<=vx}function Ta(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="__name__";class ai{constructor(e,t,i){t===void 0?t=0:t>e.length&&Qe(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Qe(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ai.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ai?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=ai.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return pt(e.length,t.length)}static compareSegments(e,t){const i=ai.isNumericId(e),o=ai.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?ai.extractNumericId(e).compare(ai.extractNumericId(t)):Zf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ss.fromString(e.substring(4,e.length-2))}}class Dt extends ai{construct(e,t,i){return new Dt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Se(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new Dt(t)}static emptyPath(){return new Dt([])}}const _x=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class An extends ai{construct(e,t,i){return new An(e,t,i)}static isValidIdentifier(e){return _x.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),An.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qv}static keyField(){return new An([Qv])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new Se(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Se(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Se(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(l(),o++)}if(l(),c)throw new Se(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new An(t)}static emptyPath(){return new An([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(Dt.fromString(e))}static fromName(e){return new ze(Dt.fromString(e).popFirst(5))}static empty(){return new ze(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(n,e,t){if(!t)throw new Se(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wx(n,e,t,i){if(e===!0&&i===!0)throw new Se(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Yv(n){if(!ze.isDocumentKey(n))throw new Se(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Jv(n){if(ze.isDocumentKey(n))throw new Se(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Aw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ch(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Qe(12329,{type:typeof n})}function Mi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ch(n);throw new Se(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(n,e){const t={typeString:n};return e&&(t.value=e),t}function su(n,e){if(!Aw(n))throw new Se(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(o&&typeof c!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new Se(re.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=-62135596800,Zv=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Zv);return new Mt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Xv)throw new Se(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zv}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(su(e,Mt._jsonSchema))return new Mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Xv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Mt._jsonSchemaVersion="firestore/timestamp/1.0",Mt._jsonSchema={type:un("string",Mt._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new Mt(0,0))}static max(){return new et(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=-1;function Ex(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=et.fromTimestamp(i===1e9?new Mt(t+1,0):new Mt(t,i));return new xs(o,ze.empty(),e)}function Tx(n){return new xs(n.readTime,n.key,Bl)}class xs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new xs(et.min(),ze.empty(),Bl)}static max(){return new xs(et.max(),ze.empty(),Bl)}}function Ix(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ze.comparator(n.documentKey,e.documentKey),t!==0?t:pt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==Sx)throw n;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,i)=>{t(e)}))}static reject(e){return new se(((t,i)=>{i(e)}))}static waitFor(e){return new se(((t,i)=>{let o=0,l=0,c=!1;e.forEach((f=>{++o,f.next((()=>{++l,c&&l===o&&t()}),(p=>i(p)))})),c=!0,l===o&&t()}))}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next((o=>o?se.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new se(((i,o)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((w=>{c[g]=w,++f,f===l&&i(c)}),(w=>o(w)))}}))}static doWhile(e,t){return new se(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function Ax(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=-1;function kh(n){return n==null}function th(n){return n===0&&1/n==-1/0}function Cx(n){return typeof n=="number"&&Number.isInteger(n)&&!th(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="";function xx(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=e_(e)),e=kx(n.get(t),e);return e_(e)}function kx(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case Cw:t+="";break;default:t+=l}}return t}function e_(n){return n+Cw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Eo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t){this.comparator=e,this.root=t||Rn.EMPTY}insert(e,t){return new Ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sc(this.root,e,this.comparator,!0)}}class Sc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Rn.RED,this.left=o??Rn.EMPTY,this.right=l??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Rn(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Rn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qe(27949);return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe(57766)}get value(){throw Qe(16141)}get color(){throw Qe(16727)}get left(){throw Qe(29726)}get right(){throw Qe(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new Rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new n_(this.data.getIterator())}getIteratorFrom(e){return new n_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new fn(this.comparator);return t.data=e,t}}class n_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.fields=e,e.sort(An.comparator)}static empty(){return new zr([])}unionWith(e){let t=new fn(An.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new zr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ta(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new kw("Invalid base64 string: "+l):l}})(e);return new Cn(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const Px=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(n){if(At(!!n,39018),typeof n=="string"){let e=0;const t=Px.exec(n);if(At(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Xt(n.seconds),nanos:Xt(n.nanos)}}function Xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ps(n){return typeof n=="string"?Cn.fromBase64String(n):Cn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="server_timestamp",Nw="__type__",bw="__previous_value__",Dw="__local_write_time__";function Bp(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Nw])==null?void 0:i.stringValue)===Pw}function Ph(n){const e=n.mapValue.fields[bw];return Bp(e)?Ph(e):e}function $l(n){const e=ks(n.mapValue.fields[Dw].timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,t,i,o,l,c,f,p,g,w){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=w}}const nh="(default)";class Wl{constructor(e,t){this.projectId=e,this.database=t||nh}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===nh}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="__type__",bx="__max__",Rc={mapValue:{}},Ow="__vector__",rh="value";function Ns(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Bp(n)?4:Mx(n)?9007199254740991:Dx(n)?10:11:Qe(28295,{value:n})}function mi(n,e){if(n===e)return!0;const t=Ns(n);if(t!==Ns(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $l(n).isEqual($l(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=ks(o.timestampValue),f=ks(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return Ps(o.bytesValue).isEqual(Ps(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return Xt(o.geoPointValue.latitude)===Xt(l.geoPointValue.latitude)&&Xt(o.geoPointValue.longitude)===Xt(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Xt(o.integerValue)===Xt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Xt(o.doubleValue),f=Xt(l.doubleValue);return c===f?th(c)===th(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return Ta(n.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},f=l.mapValue.fields||{};if(t_(c)!==t_(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!mi(c[p],f[p])))return!1;return!0})(n,e);default:return Qe(52216,{left:n})}}function Hl(n,e){return(n.values||[]).find((t=>mi(t,e)))!==void 0}function Ia(n,e){if(n===e)return 0;const t=Ns(n),i=Ns(e);if(t!==i)return pt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return pt(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Xt(l.integerValue||l.doubleValue),p=Xt(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(n,e);case 3:return r_(n.timestampValue,e.timestampValue);case 4:return r_($l(n),$l(e));case 5:return Zf(n.stringValue,e.stringValue);case 6:return(function(l,c){const f=Ps(l),p=Ps(c);return f.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),p=c.split("/");for(let g=0;g<f.length&&g<p.length;g++){const w=pt(f[g],p[g]);if(w!==0)return w}return pt(f.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=pt(Xt(l.latitude),Xt(c.latitude));return f!==0?f:pt(Xt(l.longitude),Xt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return i_(n.arrayValue,e.arrayValue);case 10:return(function(l,c){var A,O,U,$;const f=l.fields||{},p=c.fields||{},g=(A=f[rh])==null?void 0:A.arrayValue,w=(O=p[rh])==null?void 0:O.arrayValue,S=pt(((U=g==null?void 0:g.values)==null?void 0:U.length)||0,(($=w==null?void 0:w.values)==null?void 0:$.length)||0);return S!==0?S:i_(g,w)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Rc.mapValue&&c===Rc.mapValue)return 0;if(l===Rc.mapValue)return 1;if(c===Rc.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),g=c.fields||{},w=Object.keys(g);p.sort(),w.sort();for(let S=0;S<p.length&&S<w.length;++S){const A=Zf(p[S],w[S]);if(A!==0)return A;const O=Ia(f[p[S]],g[w[S]]);if(O!==0)return O}return pt(p.length,w.length)})(n.mapValue,e.mapValue);default:throw Qe(23264,{he:t})}}function r_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return pt(n,e);const t=ks(n),i=ks(e),o=pt(t.seconds,i.seconds);return o!==0?o:pt(t.nanos,i.nanos)}function i_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Ia(t[o],i[o]);if(l)return l}return pt(t.length,i.length)}function Sa(n){return ep(n)}function ep(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=ks(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ps(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ze.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=ep(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${ep(t.fields[c])}`;return o+"}"})(n.mapValue):Qe(61005,{value:n})}function Lc(n){switch(Ns(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(n);return e?16+Lc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ps(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+Lc(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let o=0;return Eo(i.fields,((l,c)=>{o+=l.length+Lc(c)})),o})(n.mapValue);default:throw Qe(13486,{value:n})}}function s_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function tp(n){return!!n&&"integerValue"in n}function $p(n){return!!n&&"arrayValue"in n}function o_(n){return!!n&&"nullValue"in n}function a_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vc(n){return!!n&&"mapValue"in n}function Dx(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Mw])==null?void 0:i.stringValue)===Ow}function Nl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Eo(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Nl(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nl(n.arrayValue.values[t]);return e}return{...n}}function Mx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===bx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.value=e}static empty(){return new Tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Vc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(t)}setAll(e){let t=An.emptyPath(),i={},o=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}c?i[f.lastSegment()]=Nl(c):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Vc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Eo(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new Tr(Nl(this.value))}}function Lw(n){const e=[];return Eo(n.fields,((t,i)=>{const o=new An([t]);if(Vc(i)){const l=Lw(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new zr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,t,i,o,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Vn(e,0,et.min(),et.min(),et.min(),Tr.empty(),0)}static newFoundDocument(e,t,i,o){return new Vn(e,1,t,et.min(),i,o,0)}static newNoDocument(e,t){return new Vn(e,2,t,et.min(),et.min(),Tr.empty(),0)}static newUnknownDocument(e,t){return new Vn(e,3,t,et.min(),et.min(),Tr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,t){this.position=e,this.inclusive=t}}function l_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=ze.comparator(ze.fromName(c.referenceValue),t.key):i=Ia(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function u_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ox(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{}class ln extends Vw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Vx(e,t,i):t==="array-contains"?new Ux(e,i):t==="in"?new zx(e,i):t==="not-in"?new Bx(e,i):t==="array-contains-any"?new $x(e,i):new ln(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Fx(e,i):new jx(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ia(t,this.value)):t!==null&&Ns(this.value)===Ns(t)&&this.matchesComparison(Ia(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wr extends Vw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Wr(e,t)}matches(e){return Fw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Fw(n){return n.op==="and"}function jw(n){return Lx(n)&&Fw(n)}function Lx(n){for(const e of n.filters)if(e instanceof Wr)return!1;return!0}function np(n){if(n instanceof ln)return n.field.canonicalString()+n.op.toString()+Sa(n.value);if(jw(n))return n.filters.map((e=>np(e))).join(",");{const e=n.filters.map((t=>np(t))).join(",");return`${n.op}(${e})`}}function Uw(n,e){return n instanceof ln?(function(i,o){return o instanceof ln&&i.op===o.op&&i.field.isEqual(o.field)&&mi(i.value,o.value)})(n,e):n instanceof Wr?(function(i,o){return o instanceof Wr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,c,f)=>l&&Uw(c,o.filters[f])),!0):!1})(n,e):void Qe(19439)}function zw(n){return n instanceof ln?(function(t){return`${t.field.canonicalString()} ${t.op} ${Sa(t.value)}`})(n):n instanceof Wr?(function(t){return t.op.toString()+" {"+t.getFilters().map(zw).join(" ,")+"}"})(n):"Filter"}class Vx extends ln{constructor(e,t,i){super(e,t,i),this.key=ze.fromName(i.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class Fx extends ln{constructor(e,t){super(e,"in",t),this.keys=Bw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class jx extends ln{constructor(e,t){super(e,"not-in",t),this.keys=Bw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Bw(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>ze.fromName(i.referenceValue)))}class Ux extends ln{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $p(t)&&Hl(t.arrayValue,this.value)}}class zx extends ln{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hl(this.value.arrayValue,t)}}class Bx extends ln{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hl(this.value.arrayValue,t)}}class $x extends ln{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$p(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Hl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,t=null,i=[],o=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function c_(n,e=null,t=[],i=[],o=null,l=null,c=null){return new Wx(n,e,t,i,o,l,c)}function Wp(n){const e=nt(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>np(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),kh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Sa(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Sa(i))).join(",")),e.Te=t}return e.Te}function Hp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Ox(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Uw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!u_(n.startAt,e.startAt)&&u_(n.endAt,e.endAt)}function rp(n){return ze.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,t=null,i=[],o=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Hx(n,e,t,i,o,l,c,f){return new ja(n,e,t,i,o,l,c,f)}function Nh(n){return new ja(n)}function h_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $w(n){return n.collectionGroup!==null}function bl(n){const e=nt(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new fn(An.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new ql(l,i))})),t.has(An.keyField().canonicalString())||e.Ie.push(new ql(An.keyField(),i))}return e.Ie}function ui(n){const e=nt(n);return e.Ee||(e.Ee=qx(e,bl(n))),e.Ee}function qx(n,e){if(n.limitType==="F")return c_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new ql(o.field,l)}));const t=n.endAt?new ih(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ih(n.startAt.position,n.startAt.inclusive):null;return c_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ip(n,e){const t=n.filters.concat([e]);return new ja(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function sp(n,e,t){return new ja(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bh(n,e){return Hp(ui(n),ui(e))&&n.limitType===e.limitType}function Ww(n){return`${Wp(ui(n))}|lt:${n.limitType}`}function ua(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>zw(o))).join(", ")}]`),kh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>Sa(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>Sa(o))).join(",")),`Target(${i})`})(ui(n))}; limitType=${n.limitType})`}function Dh(n,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ze.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,o){for(const l of bl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(c,f,p){const g=l_(c,f,p);return c.inclusive?g<=0:g<0})(i.startAt,bl(i),o)||i.endAt&&!(function(c,f,p){const g=l_(c,f,p);return c.inclusive?g>=0:g>0})(i.endAt,bl(i),o))})(n,e)}function Kx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Hw(n){return(e,t)=>{let i=!1;for(const o of bl(n)){const l=Gx(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function Gx(n,e,t){const i=n.field.isKeyField()?ze.comparator(e.key,t.key):(function(l,c,f){const p=c.data.field(l),g=f.data.field(l);return p!==null&&g!==null?Ia(p,g):Qe(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Qe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Eo(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return xw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=new Ht(ze.comparator);function Fi(){return Qx}const qw=new Ht(ze.comparator);function Sl(...n){let e=qw;for(const t of n)e=e.insert(t.key,t);return e}function Kw(n){let e=qw;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function co(){return Dl()}function Gw(){return Dl()}function Dl(){return new To((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Yx=new Ht(ze.comparator),Jx=new fn(ze.comparator);function mt(...n){let e=Jx;for(const t of n)e=e.add(t);return e}const Xx=new fn(pt);function Zx(){return Xx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function Qw(n){return{integerValue:""+n}}function ek(n,e){return Cx(e)?Qw(e):qp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this._=void 0}}function tk(n,e,t){return n instanceof Kl?(function(o,l){const c={fields:{[Nw]:{stringValue:Pw},[Dw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Bp(l)&&(l=Ph(l)),l&&(c.fields[bw]=l),{mapValue:c}})(t,e):n instanceof Gl?Jw(n,e):n instanceof Ql?Xw(n,e):(function(o,l){const c=Yw(o,l),f=d_(c)+d_(o.Ae);return tp(c)&&tp(o.Ae)?Qw(f):qp(o.serializer,f)})(n,e)}function nk(n,e,t){return n instanceof Gl?Jw(n,e):n instanceof Ql?Xw(n,e):t}function Yw(n,e){return n instanceof sh?(function(i){return tp(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Kl extends Mh{}class Gl extends Mh{constructor(e){super(),this.elements=e}}function Jw(n,e){const t=Zw(e);for(const i of n.elements)t.some((o=>mi(o,i)))||t.push(i);return{arrayValue:{values:t}}}class Ql extends Mh{constructor(e){super(),this.elements=e}}function Xw(n,e){let t=Zw(e);for(const i of n.elements)t=t.filter((o=>!mi(o,i)));return{arrayValue:{values:t}}}class sh extends Mh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function d_(n){return Xt(n.integerValue||n.doubleValue)}function Zw(n){return $p(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,t){this.field=e,this.transform=t}}function ik(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof Gl&&o instanceof Gl||i instanceof Ql&&o instanceof Ql?Ta(i.elements,o.elements,mi):i instanceof sh&&o instanceof sh?mi(i.Ae,o.Ae):i instanceof Kl&&o instanceof Kl})(n.transform,e.transform)}class sk{constructor(e,t){this.version=e,this.transformResults=t}}class ci{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Oh{}function eE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new nE(n.key,ci.none()):new ou(n.key,n.data,ci.none());{const t=n.data,i=Tr.empty();let o=new fn(An.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new Io(n.key,i,new zr(o.toArray()),ci.none())}}function ok(n,e,t){n instanceof ou?(function(o,l,c){const f=o.value.clone(),p=p_(o.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof Io?(function(o,l,c){if(!Fc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const f=p_(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(tE(o)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Ml(n,e,t,i){return n instanceof ou?(function(l,c,f,p){if(!Fc(l.precondition,c))return f;const g=l.value.clone(),w=m_(l.fieldTransforms,p,c);return g.setAll(w),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,e,t,i):n instanceof Io?(function(l,c,f,p){if(!Fc(l.precondition,c))return f;const g=m_(l.fieldTransforms,p,c),w=c.data;return w.setAll(tE(l)),w.setAll(g),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((S=>S.field)))})(n,e,t,i):(function(l,c,f){return Fc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function ak(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=Yw(i.transform,o||null);l!=null&&(t===null&&(t=Tr.empty()),t.set(i.field,l))}return t||null}function f_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ta(i,o,((l,c)=>ik(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ou extends Oh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Io extends Oh{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function tE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function p_(n,e,t){const i=new Map;At(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,f=e.data.field(l.field);i.set(l.field,nk(c,f,t[o]))}return i}function m_(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,tk(l,c,e))}return i}class nE extends Oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lk extends Oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&ok(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ml(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ml(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Gw();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(o.key)?null:f;const p=eE(c,f);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(et.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),mt())}isEqual(e){return this.batchId===e.batchId&&Ta(this.mutations,e.mutations,((t,i)=>f_(t,i)))&&Ta(this.baseMutations,e.baseMutations,((t,i)=>f_(t,i)))}}class Kp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){At(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return Yx})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Kp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,_t;function dk(n){switch(n){case re.OK:return Qe(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Qe(15467,{code:n})}}function rE(n){if(n===void 0)return Vi("GRPC error has no .code"),re.UNKNOWN;switch(n){case on.OK:return re.OK;case on.CANCELLED:return re.CANCELLED;case on.UNKNOWN:return re.UNKNOWN;case on.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case on.INTERNAL:return re.INTERNAL;case on.UNAVAILABLE:return re.UNAVAILABLE;case on.UNAUTHENTICATED:return re.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case on.NOT_FOUND:return re.NOT_FOUND;case on.ALREADY_EXISTS:return re.ALREADY_EXISTS;case on.PERMISSION_DENIED:return re.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case on.ABORTED:return re.ABORTED;case on.OUT_OF_RANGE:return re.OUT_OF_RANGE;case on.UNIMPLEMENTED:return re.UNIMPLEMENTED;case on.DATA_LOSS:return re.DATA_LOSS;default:return Qe(39323,{code:n})}}(_t=on||(on={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=new Ss([4294967295,4294967295],0);function g_(n){const e=fk().encode(n),t=new yw;return t.update(e),new Uint8Array(t.digest())}function y_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ss([t,i],0),new Ss([o,l],0)]}class Gp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Rl(`Invalid padding: ${t}`);if(i<0)throw new Rl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ss.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(Ss.fromNumber(i)));return o.compare(pk)===1&&(o=new Ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=g_(e),[i,o]=y_(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Gp(l,o,t);return i.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=g_(e),[i,o]=y_(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Lh(et.min(),o,new Ht(pt),Fi(),mt())}}class au{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new au(i,t,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class iE{constructor(e,t){this.targetId=e,this.Ce=t}}class sE{constructor(e,t,i=Cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class v_{constructor(){this.ve=0,this.Fe=__(),this.Me=Cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=mt(),t=mt(),i=mt();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Qe(38017,{changeType:l})}})),new au(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=__()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,At(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fi(),this.Je=Ac(),this.He=Ac(),this.Ye=new Ht(pt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Qe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(rp(l))if(i===0){const c=new ze(l.path);this.et(t,c,Vn.newNoDocument(c,et.min()))}else At(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const f=this.ut(e),p=f?this.ct(f,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,f;try{c=Ps(i).toUint8Array()}catch(p){if(p instanceof kw)return Ea("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Gp(c,o,l)}catch(p){return Ea(p instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&rp(f.target)){const p=new ze(f.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Vn.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=mt();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new Lh(e,t,this.Ye,this.je,i);return this.je=Fi(),this.Je=Ac(),this.He=Ac(),this.Ye=new Ht(pt),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new v_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new fn(pt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new fn(pt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ke("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new v_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ac(){return new Ht(ze.comparator)}function __(){return new Ht(ze.comparator)}const gk={asc:"ASCENDING",desc:"DESCENDING"},yk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vk={and:"AND",or:"OR"};class _k{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function op(n,e){return n.useProto3Json||kh(e)?e:{value:e}}function oh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wk(n,e){return oh(n,e.toTimestamp())}function hi(n){return At(!!n,49232),et.fromTimestamp((function(t){const i=ks(t);return new Mt(i.seconds,i.nanos)})(n))}function Qp(n,e){return ap(n,e).canonicalString()}function ap(n,e){const t=(function(o){return new Dt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function aE(n){const e=Dt.fromString(n);return At(dE(e),10190,{key:e.toString()}),e}function lp(n,e){return Qp(n.databaseId,e.path)}function bf(n,e){const t=aE(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze(uE(t))}function lE(n,e){return Qp(n.databaseId,e)}function Ek(n){const e=aE(n);return e.length===4?Dt.emptyPath():uE(e)}function up(n){return new Dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uE(n){return At(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function w_(n,e,t){return{name:lp(n,e),fields:t.value.mapValue.fields}}function Tk(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Qe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(g,w){return g.useProto3Json?(At(w===void 0||typeof w=="string",58123),Cn.fromBase64String(w||"")):(At(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Cn.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(g){const w=g.code===void 0?re.UNKNOWN:rE(g.code);return new Se(w,g.message||"")})(c);t=new sE(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=bf(n,i.document.name),l=hi(i.document.updateTime),c=i.document.createTime?hi(i.document.createTime):et.min(),f=new Tr({mapValue:{fields:i.document.fields}}),p=Vn.newFoundDocument(o,l,c,f),g=i.targetIds||[],w=i.removedTargetIds||[];t=new jc(g,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=bf(n,i.document),l=i.readTime?hi(i.readTime):et.min(),c=Vn.newNoDocument(o,l),f=i.removedTargetIds||[];t=new jc([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=bf(n,i.document),l=i.removedTargetIds||[];t=new jc([],l,o,null)}else{if(!("filter"in e))return Qe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new hk(o,l),f=i.targetId;t=new iE(f,c)}}return t}function Ik(n,e){let t;if(e instanceof ou)t={update:w_(n,e.key,e.value)};else if(e instanceof nE)t={delete:lp(n,e.key)};else if(e instanceof Io)t={update:w_(n,e.key,e.data),updateMask:bk(e.fieldMask)};else{if(!(e instanceof lk))return Qe(16599,{Vt:e.type});t={verify:lp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof Kl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Gl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ql)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof sh)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Qe(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:wk(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Qe(27497)})(n,e.precondition)),t}function Sk(n,e){return n&&n.length>0?(At(e!==void 0,14353),n.map((t=>(function(o,l){let c=o.updateTime?hi(o.updateTime):hi(l);return c.isEqual(et.min())&&(c=hi(l)),new sk(c,o.transformResults||[])})(t,e)))):[]}function Rk(n,e){return{documents:[lE(n,e.path)]}}function Ak(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=lE(n,o);const l=(function(g){if(g.length!==0)return hE(Wr.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((w=>(function(A){return{field:ca(A.field),direction:kk(A.dir)}})(w)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=op(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function Ck(n){let e=Ek(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){At(i===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=(function(S){const A=cE(S);return A instanceof Wr&&jw(A)?A.getFilters():[A]})(t.where));let c=[];t.orderBy&&(c=(function(S){return S.map((A=>(function(U){return new ql(ha(U.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(A)))})(t.orderBy));let f=null;t.limit&&(f=(function(S){let A;return A=typeof S=="object"?S.value:S,kh(A)?null:A})(t.limit));let p=null;t.startAt&&(p=(function(S){const A=!!S.before,O=S.values||[];return new ih(O,A)})(t.startAt));let g=null;return t.endAt&&(g=(function(S){const A=!S.before,O=S.values||[];return new ih(O,A)})(t.endAt)),Hx(e,o,c,l,f,"F",p,g)}function xk(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ha(t.unaryFilter.field);return ln.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ha(t.unaryFilter.field);return ln.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ha(t.unaryFilter.field);return ln.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ha(t.unaryFilter.field);return ln.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qe(61313);default:return Qe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ln.create(ha(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qe(58110);default:return Qe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Wr.create(t.compositeFilter.filters.map((i=>cE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Qe(1026)}})(t.compositeFilter.op))})(n):Qe(30097,{filter:n})}function kk(n){return gk[n]}function Pk(n){return yk[n]}function Nk(n){return vk[n]}function ca(n){return{fieldPath:n.canonicalString()}}function ha(n){return An.fromServerFormat(n.fieldPath)}function hE(n){return n instanceof ln?(function(t){if(t.op==="=="){if(a_(t.value))return{unaryFilter:{field:ca(t.field),op:"IS_NAN"}};if(o_(t.value))return{unaryFilter:{field:ca(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(a_(t.value))return{unaryFilter:{field:ca(t.field),op:"IS_NOT_NAN"}};if(o_(t.value))return{unaryFilter:{field:ca(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ca(t.field),op:Pk(t.op),value:t.value}}})(n):n instanceof Wr?(function(t){const i=t.getFilters().map((o=>hE(o)));return i.length===1?i[0]:{compositeFilter:{op:Nk(t.op),filters:i}}})(n):Qe(54877,{filter:n})}function bk(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function dE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t,i,o,l=et.min(),c=et.min(),f=Cn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.yt=e}}function Mk(n){const e=Ck({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.Cn=new Lk}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(xs.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class Lk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new fn(Dt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new fn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fE=41943040;class er{static withCacheSize(e){return new er(e,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er.DEFAULT_COLLECTION_PERCENTILE=10,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,er.DEFAULT=new er(fE,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),er.DISABLED=new er(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ra(0)}static cr(){return new Ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="LruGarbageCollector",Vk=1048576;function I_([n,e],[t,i]){const o=pt(n,t);return o===0?pt(e,i):o}class Fk{constructor(e){this.Ir=e,this.buffer=new fn(I_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();I_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ke(T_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fa(t)?ke(T_,"Ignoring IndexedDB error during garbage collection: ",t):await Va(t)}await this.Vr(3e5)}))}}class Uk{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(xh.ce);const i=new Fk(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(E_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,l,c,f,p,g;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,c=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(i=S,f=Date.now(),this.removeTargets(e,i,t)))).next((S=>(l=S,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((S=>(g=Date.now(),la()<=ft.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-w}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:S}))))}}function zk(n,e){return new Uk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.changes=new To((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&Ml(i.mutation,o,zr.empty(),Mt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,mt()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=mt()){const o=co();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let c=Sl();return l.forEach(((f,p)=>{c=c.insert(f,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=co();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,mt())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,i,o){let l=Fi();const c=Dl(),f=(function(){return Dl()})();return t.forEach(((p,g)=>{const w=i.get(g.key);o.has(g.key)&&(w===void 0||w.mutation instanceof Io)?l=l.insert(g.key,g):w!==void 0?(c.set(g.key,w.mutation.getFieldMask()),Ml(w.mutation,g,w.mutation.getFieldMask(),Mt.now())):c.set(g.key,zr.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,w)=>c.set(g,w))),t.forEach(((g,w)=>f.set(g,new $k(w,c.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=Dl();let o=new Ht(((c,f)=>c-f)),l=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let w=i.get(p)||zr.empty();w=f.applyToLocalView(g,w),i.set(p,w);const S=(o.get(f.batchId)||mt()).add(p);o=o.insert(f.batchId,S)}))})).next((()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,w=p.value,S=Gw();w.forEach((A=>{if(!l.has(A)){const O=eE(t.get(A),i.get(A));O!==null&&S.set(A,O),l=l.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,S))}return se.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(c){return ze.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$w(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):se.resolve(co());let f=Bl,p=l;return c.next((g=>se.forEach(g,((w,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),l.get(w)?se.resolve():this.remoteDocumentCache.getEntry(e,w).next((A=>{p=p.insert(w,A)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,mt()))).next((w=>({batchId:f,changes:Kw(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ze(t)).next((i=>{let o=Sl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=Sl();return this.indexManager.getCollectionParents(e,l).next((f=>se.forEach(f,(p=>{const g=(function(S,A){return new ja(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,o).next((w=>{w.forEach(((S,A)=>{c=c.insert(S,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((c=>{l.forEach(((p,g)=>{const w=g.getKey();c.get(w)===null&&(c=c.insert(w,Vn.newInvalidDocument(w)))}));let f=Sl();return c.forEach(((p,g)=>{const w=l.get(p);w!==void 0&&Ml(w.mutation,g,zr.empty(),Mt.now()),Dh(t,g)&&(f=f.insert(p,g))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return se.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:hi(o.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:Mk(o.bundledQuery),readTime:hi(o.readTime)}})(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.overlays=new Ht(ze.comparator),this.qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=co();return se.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.St(e,t,l)})),se.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const o=co(),l=t.length+1,c=new ze(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return se.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new Ht(((g,w)=>g-w));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let w=l.get(g.largestBatchId);w===null&&(w=co(),l=l.insert(g.largestBatchId,w)),w.set(g.getKey(),g)}}const f=co(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,w)=>f.set(g,w))),!(f.size()>=o)););return se.resolve(f)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new ck(t,i));let l=this.qr.get(t);l===void 0&&(l=mt(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(){this.Qr=new fn(vn.$r),this.Ur=new fn(vn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new vn(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new vn(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new ze(new Dt([])),i=new vn(t,e),o=new vn(t,e+1),l=[];return this.Ur.forEachInRange([i,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ze(new Dt([])),i=new vn(t,e),o=new vn(t,e+1);let l=mt();return this.Ur.forEachInRange([i,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new vn(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class vn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ze.comparator(e.key,t.key)||pt(e.Yr,t.Yr)}static Kr(e,t){return pt(e.Yr,t.Yr)||ze.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new fn(vn.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new uk(l,t,i,o);this.mutationQueue.push(c);for(const f of o)this.Zr=this.Zr.add(new vn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,t){return se.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),l=o<0?0:o;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?zp:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new vn(t,0),o=new vn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(c=>{const f=this.Xr(c.Yr);l.push(f)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new fn(pt);return t.forEach((o=>{const l=new vn(o,0),c=new vn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{i=i.add(f.Yr)}))})),se.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ze.isDocumentKey(l)||(l=l.child(""));const c=new vn(new ze(l),0);let f=new fn(pt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(f=f.add(p.Yr)),!0)}),c),se.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){At(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return se.forEach(t.mutations,(o=>{const l=new vn(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new vn(t,0),o=this.Zr.firstAfterOrEqual(i);return se.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.ri=e,this.docs=(function(){return new Ht(ze.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():Vn.newInvalidDocument(t))}getEntries(e,t){let i=Fi();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Vn.newInvalidDocument(o))})),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Fi();const c=t.path,f=new ze(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:w}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||Ix(Tx(w),i)<=0||(o.has(w.key)||Dh(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Qe(9500)}ii(e,t){return se.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new Yk(this)}getSize(e){return se.resolve(this.size)}}class Yk extends Bk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),se.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.persistence=e,this.si=new To((t=>Wp(t)),Hp),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.oi=0,this._i=new Yp,this.targetCount=0,this.ai=Ra.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),se.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ra(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Pr(t),se.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),se.waitFor(l).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),se.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,t){this.ui={},this.overlays={},this.ci=new xh(0),this.li=!1,this.li=!0,this.hi=new Kk,this.referenceDelegate=e(this),this.Pi=new Jk(this),this.indexManager=new Ok,this.remoteDocumentCache=(function(o){return new Qk(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new Dk(t),this.Ii=new Hk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new Gk(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){ke("MemoryPersistence","Starting transaction:",e);const o=new Xk(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return se.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class Xk extends Rx{constructor(e){super(),this.currentSequenceNumber=e}}class Jp{constructor(e){this.persistence=e,this.Ri=new Yp,this.Vi=null}static mi(e){return new Jp(e)}get fi(){if(this.Vi)return this.Vi;throw Qe(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(i=>{const o=ze.fromPath(i);return this.gi(e,o).next((l=>{l||t.removeEntry(o,et.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ah{constructor(e,t){this.persistence=e,this.pi=new To((i=>xx(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=zk(this,t)}static mi(e,t){return new ah(e,t)}Ei(){}di(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return se.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?se.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((f=>{f||(i++,l.removeEntry(c,et.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lc(e.data.value)),t}br(e,t,i){return se.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return se.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=mt(),o=mt();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Xp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return WS()?8:Ax(Fn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,o,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Zk;return this.Ss(e,t,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>l.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(la()<=ft.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",ua(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(la()<=ft.DEBUG&&ke("QueryEngine","Query:",ua(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(la()<=ft.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",ua(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(t))):se.resolve())}ys(e,t){if(h_(t))return se.resolve(null);let i=ui(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=sp(t,null,"F"),i=ui(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=mt(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,i).next((p=>{const g=this.Ds(t,f);return this.Cs(t,g,c,p.readTime)?this.ys(e,sp(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,i,o){return h_(t)||o.isEqual(et.min())?se.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,o)?se.resolve(null):(la()<=ft.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ua(t)),this.vs(e,c,t,Ex(o,Bl)).next((f=>f)))}))}Ds(e,t){let i=new fn(Hw(e));return t.forEach(((o,l)=>{Dh(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return la()<=ft.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",ua(t)),this.ps.getDocumentsMatchingQuery(e,t,xs.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="LocalStore",tP=3e8;class nP{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new Ht(pt),this.xs=new To((l=>Wp(l)),Hp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function rP(n,e,t,i){return new nP(n,e,t,i)}async function mE(n,e){const t=nt(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let p=mt();for(const g of o){c.push(g.batchId);for(const w of g.mutations)p=p.add(w.key)}for(const g of l){f.push(g.batchId);for(const w of g.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(i,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:f})))}))}))}function iP(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,g,w){const S=g.batch,A=S.keys();let O=se.resolve();return A.forEach((U=>{O=O.next((()=>w.getEntry(p,U))).next(($=>{const j=g.docVersions.get(U);At(j!==null,48541),$.version.compareTo(j)<0&&(S.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),w.addEntry($)))}))})),O.next((()=>f.mutationQueue.removeMutationBatch(p,S)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let p=mt();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function gE(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function sP(n,e){const t=nt(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((w,S)=>{const A=o.get(S);if(!A)return;f.push(t.Pi.removeMatchingKeys(l,w.removedDocuments,S).next((()=>t.Pi.addMatchingKeys(l,w.addedDocuments,S))));let O=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?O=O.withResumeToken(Cn.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):w.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(w.resumeToken,i)),o=o.insert(S,O),(function($,j,pe){return $.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=tP?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(A,O,w)&&f.push(t.Pi.updateTargetData(l,O))}));let p=Fi(),g=mt();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))})),f.push(oP(l,c,e.documentUpdates).next((w=>{p=w.ks,g=w.qs}))),!i.isEqual(et.min())){const w=t.Pi.getLastRemoteSnapshotVersion(l).next((S=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(w)}return se.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.Ms=o,l)))}function oP(n,e,t){let i=mt(),o=mt();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let c=Fi();return t.forEach(((f,p)=>{const g=l.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(et.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):ke(Zp,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function aP(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=zp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function lP(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((l=>l?(o=l,se.resolve(o)):t.Pi.allocateTargetId(i).next((c=>(o=new vs(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function cp(n,e,t){const i=nt(n),o=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Fa(c))throw c;ke(Zp,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function S_(n,e,t){const i=nt(n);let o=et.min(),l=mt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,w){const S=nt(p),A=S.xs.get(w);return A!==void 0?se.resolve(S.Ms.get(A)):S.Pi.getTargetData(g,w)})(i,c,ui(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?o:et.min(),t?l:mt()))).next((f=>(uP(i,Kx(e),f),{documents:f,Qs:l})))))}function uP(n,e,t){let i=n.Os.get(e)||et.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(e,i)}class R_{constructor(){this.activeTargetIds=Zx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cP{constructor(){this.Mo=new R_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new R_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="ConnectivityMonitor";class C_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ke(A_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ke(A_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc=null;function hp(){return Cc===null?Cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cc++,"0x"+Cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="RestConnection",dP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===nh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,l){const c=hp(),f=this.zo(e,t.toUriEncodedString());ke(Df,`Sending RPC '${e}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:g}=new URL(f),w=Da(g);return this.Jo(e,f,p,i,w).then((S=>(ke(Df,`Received RPC '${e}' ${c}: `,S),S)),(S=>{throw Ea(Df,`RPC '${e}' ${c} failed with error: `,S,"url: ",f,"request:",i),S}))}Ho(e,t,i,o,l,c){return this.Go(e,t,i,o,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+La})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const i=dP[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class mP extends fP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const c=hp();return new Promise(((f,p)=>{const g=new vw;g.setWithCredentials(!0),g.listenOnce(_w.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Oc.NO_ERROR:const S=g.getResponseJson();ke(On,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(S)),f(S);break;case Oc.TIMEOUT:ke(On,`RPC '${e}' ${c} timed out`),p(new Se(re.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const A=g.getStatus();if(ke(On,`RPC '${e}' ${c} failed with status:`,A,"response text:",g.getResponseText()),A>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const U=O==null?void 0:O.error;if(U&&U.status&&U.message){const $=(function(pe){const ie=pe.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(ie)>=0?ie:re.UNKNOWN})(U.status);p(new Se($,U.message))}else p(new Se(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Se(re.UNAVAILABLE,"Connection failed."));break;default:Qe(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ke(On,`RPC '${e}' ${c} completed.`)}}));const w=JSON.stringify(o);ke(On,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",w,i,15)}))}T_(e,t,i){const o=hp(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Tw(),f=Ew(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const w=l.join("");ke(On,`Creating RPC '${e}' stream ${o}: ${w}`,p);const S=c.createWebChannel(w,p);this.I_(S);let A=!1,O=!1;const U=new pP({Yo:j=>{O?ke(On,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(A||(ke(On,`Opening RPC '${e}' stream ${o} transport.`),S.open(),A=!0),ke(On,`RPC '${e}' stream ${o} sending:`,j),S.send(j))},Zo:()=>S.close()}),$=(j,pe,ie)=>{j.listen(pe,(me=>{try{ie(me)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return $(S,Il.EventType.OPEN,(()=>{O||(ke(On,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),$(S,Il.EventType.CLOSE,(()=>{O||(O=!0,ke(On,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(S))})),$(S,Il.EventType.ERROR,(j=>{O||(O=!0,Ea(On,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),U.a_(new Se(re.UNAVAILABLE,"The operation could not be completed")))})),$(S,Il.EventType.MESSAGE,(j=>{var pe;if(!O){const ie=j.data[0];At(!!ie,16349);const me=ie,ge=(me==null?void 0:me.error)||((pe=me[0])==null?void 0:pe.error);if(ge){ke(On,`RPC '${e}' stream ${o} received error:`,ge);const Pe=ge.status;let Ne=(function(E){const x=on[E];if(x!==void 0)return rE(x)})(Pe),C=ge.message;Ne===void 0&&(Ne=re.INTERNAL,C="Unknown error status: "+Pe+" with message "+ge.message),O=!0,U.a_(new Se(Ne,C)),S.close()}else ke(On,`RPC '${e}' stream ${o} received:`,ie),U.u_(ie)}})),$(f,ww.STAT_EVENT,(j=>{j.stat===Xf.PROXY?ke(On,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Xf.NOPROXY&&ke(On,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(n){return new _k(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&ke("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="PersistentStream";class vE{constructor(e,t,i,o,l,c,f,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Vi(t.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new Se(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ke(x_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ke(x_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gP extends vE{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Tk(this.serializer,e),i=(function(l){if(!("targetChange"in l))return et.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?et.min():c.readTime?hi(c.readTime):et.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=up(this.serializer),t.addTarget=(function(l,c){let f;const p=c.target;if(f=rp(p)?{documents:Rk(l,p)}:{query:Ak(l,p).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=oE(l,c.resumeToken);const g=op(l,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(et.min())>0){f.readTime=oh(l,c.snapshotVersion.toTimestamp());const g=op(l,c.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const i=xk(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=up(this.serializer),t.removeTarget=e,this.q_(t)}}class yP extends vE{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return At(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){At(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Sk(e.writeResults,e.commitTime),i=hi(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=up(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>Ik(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{}class _P extends vP{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Se(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,ap(t,i),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(re.UNKNOWN,l.toString())}))}Ho(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,ap(t,i),o,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(re.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vi(t),this.aa=!1):ke("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="RemoteStore";class EP{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{So(this)&&(ke(_o,"Restarting streams for network reachability change."),await(async function(p){const g=nt(p);g.Ea.add(4),await lu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Fh(g)})(this))}))})),this.Ra=new wP(i,o)}}async function Fh(n){if(So(n))for(const e of n.da)await e(!0)}async function lu(n){for(const e of n.da)await e(!1)}function _E(n,e){const t=nt(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),rm(t)?nm(t):Ua(t).O_()&&tm(t,e))}function em(n,e){const t=nt(n),i=Ua(t);t.Ia.delete(e),i.O_()&&wE(t,e),t.Ia.size===0&&(i.O_()?i.L_():So(t)&&t.Ra.set("Unknown"))}function tm(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ua(n).Y_(e)}function wE(n,e){n.Va.Ue(e),Ua(n).Z_(e)}function nm(n){n.Va=new mk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ua(n).start(),n.Ra.ua()}function rm(n){return So(n)&&!Ua(n).x_()&&n.Ia.size>0}function So(n){return nt(n).Ea.size===0}function EE(n){n.Va=void 0}async function TP(n){n.Ra.set("Online")}async function IP(n){n.Ia.forEach(((e,t)=>{tm(n,e)}))}async function SP(n,e){EE(n),rm(n)?(n.Ra.ha(e),nm(n)):n.Ra.set("Unknown")}async function RP(n,e,t){if(n.Ra.set("Online"),e instanceof sE&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.Ia.delete(f),o.Va.removeTarget(f))})(n,e)}catch(i){ke(_o,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await lh(n,i)}else if(e instanceof jc?n.Va.Ze(e):e instanceof iE?n.Va.st(e):n.Va.tt(e),!t.isEqual(et.min()))try{const i=await gE(n.localStore);t.compareTo(i)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const w=l.Ia.get(g);w&&l.Ia.set(g,w.withResumeToken(p.resumeToken,c))}})),f.targetMismatches.forEach(((p,g)=>{const w=l.Ia.get(p);if(!w)return;l.Ia.set(p,w.withResumeToken(Cn.EMPTY_BYTE_STRING,w.snapshotVersion)),wE(l,p);const S=new vs(w.target,p,g,w.sequenceNumber);tm(l,S)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(i){ke(_o,"Failed to raise snapshot:",i),await lh(n,i)}}async function lh(n,e,t){if(!Fa(e))throw e;n.Ea.add(1),await lu(n),n.Ra.set("Offline"),t||(t=()=>gE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ke(_o,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Fh(n)}))}function TE(n,e){return e().catch((t=>lh(n,t,e)))}async function jh(n){const e=nt(n),t=bs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zp;for(;AP(e);)try{const o=await aP(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,CP(e,o)}catch(o){await lh(e,o)}IE(e)&&SE(e)}function AP(n){return So(n)&&n.Ta.length<10}function CP(n,e){n.Ta.push(e);const t=bs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function IE(n){return So(n)&&!bs(n).x_()&&n.Ta.length>0}function SE(n){bs(n).start()}async function xP(n){bs(n).ra()}async function kP(n){const e=bs(n);for(const t of n.Ta)e.ea(t.mutations)}async function PP(n,e,t){const i=n.Ta.shift(),o=Kp.from(i,e,t);await TE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await jh(n)}async function NP(n,e){e&&bs(n).X_&&await(async function(i,o){if((function(c){return dk(c)&&c!==re.ABORTED})(o.code)){const l=i.Ta.shift();bs(i).B_(),await TE(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await jh(i)}})(n,e),IE(n)&&SE(n)}async function k_(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),ke(_o,"RemoteStore received new credentials");const i=So(t);t.Ea.add(3),await lu(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Fh(t)}async function bP(n,e){const t=nt(n);e?(t.Ea.delete(2),await Fh(t)):e||(t.Ea.add(2),await lu(t),t.Ra.set("Unknown"))}function Ua(n){return n.ma||(n.ma=(function(t,i,o){const l=nt(t);return l.sa(),new gP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:TP.bind(null,n),t_:IP.bind(null,n),r_:SP.bind(null,n),H_:RP.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),rm(n)?nm(n):n.Ra.set("Unknown")):(await n.ma.stop(),EE(n))}))),n.ma}function bs(n){return n.fa||(n.fa=(function(t,i,o){const l=nt(t);return l.sa(),new yP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:xP.bind(null,n),r_:NP.bind(null,n),ta:kP.bind(null,n),na:PP.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await jh(n)):(await n.fa.stop(),n.Ta.length>0&&(ke(_o,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,f=new im(e,t,c,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sm(n,e){if(Vi("AsyncQueue",`${e}: ${n}`),Fa(n))return new Se(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{static emptySet(e){return new ma(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ze.comparator(t.key,i.key):(t,i)=>ze.comparator(t.key,i.key),this.keyedMap=Sl(),this.sortedSet=new Ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ma)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ma;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.ga=new Ht(ze.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Qe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Aa{constructor(e,t,i,o,l,c,f,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new Aa(e,t,ma.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class MP{constructor(){this.queries=N_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=nt(t),l=o.queries;o.queries=N_(),l.forEach(((c,f)=>{for(const p of f.Sa)p.onError(i)}))})(this,new Se(re.ABORTED,"Firestore shutting down"))}}function N_(){return new To((n=>Ww(n)),bh)}async function RE(n,e){const t=nt(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new DP,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=sm(c,`Initialization of query '${ua(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&om(t)}async function AE(n,e){const t=nt(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function OP(n,e){const t=nt(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(o)&&(i=!0);c.wa=o}}i&&om(t)}function LP(n,e,t){const i=nt(n),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function om(n){n.Ca.forEach((e=>{e.next()}))}var dp,b_;(b_=dp||(dp={})).Ma="default",b_.Cache="cache";class CE{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Aa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this.key=e}}class kE{constructor(e){this.key=e}}class VP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=mt(),this.mutatedKeys=mt(),this.eu=Hw(e),this.tu=new ma(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new P_,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,S)=>{const A=o.get(w),O=Dh(this.query,S)?S:null,U=!!A&&this.mutatedKeys.has(A.key),$=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let j=!1;A&&O?A.data.isEqual(O.data)?U!==$&&(i.track({type:3,doc:O}),j=!0):this.su(A,O)||(i.track({type:2,doc:O}),j=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(f=!0)):!A&&O?(i.track({type:0,doc:O}),j=!0):A&&!O&&(i.track({type:1,doc:A}),j=!0,(p||g)&&(f=!0)),j&&(O?(c=c.add(O),l=$?l.add(w):l.delete(w)):(c=c.delete(w),l=l.delete(w)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),l=l.delete(w.key),i.track({type:1,doc:w})}return{tu:c,iu:i,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((w,S)=>(function(O,U){const $=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe(20277,{Rt:j})}};return $(O)-$(U)})(w.type,S.type)||this.eu(w.doc,S.doc))),this.ou(i),o=o??!1;const f=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Aa(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new P_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=mt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new kE(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new xE(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=mt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Aa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const am="SyncEngine";class FP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class jP{constructor(e){this.key=e,this.hu=!1}}class UP{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new To((f=>Ww(f)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new Ht(ze.comparator),this.Au=new Map,this.Ru=new Yp,this.Vu={},this.mu=new Map,this.fu=Ra.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zP(n,e,t=!0){const i=OE(n);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await PE(i,e,t,!0),o}async function BP(n,e){const t=OE(n);await PE(t,e,!0,!1)}async function PE(n,e,t,i){const o=await lP(n.localStore,ui(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await $P(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&_E(n.remoteStore,o),f}async function $P(n,e,t,i,o){n.pu=(S,A,O)=>(async function($,j,pe,ie){let me=j.view.ru(pe);me.Cs&&(me=await S_($.localStore,j.query,!1).then((({documents:C})=>j.view.ru(C,me))));const ge=ie&&ie.targetChanges.get(j.targetId),Pe=ie&&ie.targetMismatches.get(j.targetId)!=null,Ne=j.view.applyChanges(me,$.isPrimaryClient,ge,Pe);return M_($,j.targetId,Ne.au),Ne.snapshot})(n,S,A,O);const l=await S_(n.localStore,e,!0),c=new VP(e,l.Qs),f=c.ru(l.documents),p=au.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),g=c.applyChanges(f,n.isPrimaryClient,p);M_(n,t,g.au);const w=new FP(e,t,c);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function WP(n,e,t){const i=nt(n),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((c=>!bh(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await cp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&em(i.remoteStore,o.targetId),fp(i,o.targetId)})).catch(Va)):(fp(i,o.targetId),await cp(i.localStore,o.targetId,!0))}async function HP(n,e){const t=nt(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),em(t.remoteStore,i.targetId))}async function qP(n,e,t){const i=ZP(n);try{const o=await(function(c,f){const p=nt(c),g=Mt.now(),w=f.reduce(((O,U)=>O.add(U.key)),mt());let S,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let U=Fi(),$=mt();return p.Ns.getEntries(O,w).next((j=>{U=j,U.forEach(((pe,ie)=>{ie.isValidDocument()||($=$.add(pe))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,U))).next((j=>{S=j;const pe=[];for(const ie of f){const me=ak(ie,S.get(ie.key).overlayedDocument);me!=null&&pe.push(new Io(ie.key,me,Lw(me.value.mapValue),ci.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,pe,f)})).next((j=>{A=j;const pe=j.applyToLocalDocumentSet(S,$);return p.documentOverlayCache.saveOverlays(O,j.batchId,pe)}))})).then((()=>({batchId:A.batchId,changes:Kw(S)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(c,f,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new Ht(pt)),g=g.insert(f,p),c.Vu[c.currentUser.toKey()]=g})(i,o.batchId,t),await uu(i,o.changes),await jh(i.remoteStore)}catch(o){const l=sm(o,"Failed to persist write");t.reject(l)}}async function NE(n,e){const t=nt(n);try{const i=await sP(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Au.get(l);c&&(At(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?At(c.hu,14607):o.removedDocuments.size>0&&(At(c.hu,42227),c.hu=!1))})),await uu(t,i,e)}catch(i){await Va(i)}}function D_(n,e,t){const i=nt(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(c,f){const p=nt(c);p.onlineState=f;let g=!1;p.queries.forEach(((w,S)=>{for(const A of S.Sa)A.va(f)&&(g=!0)})),g&&om(p)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function KP(n,e,t){const i=nt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let c=new Ht(ze.comparator);c=c.insert(l,Vn.newNoDocument(l,et.min()));const f=mt().add(l),p=new Lh(et.min(),new Map,new Ht(pt),c,f);await NE(i,p),i.du=i.du.remove(l),i.Au.delete(e),lm(i)}else await cp(i.localStore,e,!1).then((()=>fp(i,e,t))).catch(Va)}async function GP(n,e){const t=nt(n),i=e.batch.batchId;try{const o=await iP(t.localStore,e);DE(t,i,null),bE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await uu(t,o)}catch(o){await Va(o)}}async function QP(n,e,t){const i=nt(n);try{const o=await(function(c,f){const p=nt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let w;return p.mutationQueue.lookupMutationBatch(g,f).next((S=>(At(S!==null,37113),w=S.keys(),p.mutationQueue.removeMutationBatch(g,S)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,w,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,w))).next((()=>p.localDocuments.getDocuments(g,w)))}))})(i.localStore,e);DE(i,e,t),bE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await uu(i,o)}catch(o){await Va(o)}}function bE(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function DE(n,e,t){const i=nt(n);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function fp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||ME(n,i)}))}function ME(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(em(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),lm(n))}function M_(n,e,t){for(const i of t)i instanceof xE?(n.Ru.addReference(i.key,e),YP(n,i)):i instanceof kE?(ke(am,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||ME(n,i.key)):Qe(19791,{wu:i})}function YP(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(ke(am,"New document in limbo: "+t),n.Eu.add(i),lm(n))}function lm(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ze(Dt.fromString(e)),i=n.fu.next();n.Au.set(i,new jP(t)),n.du=n.du.insert(t,i),_E(n.remoteStore,new vs(ui(Nh(t.path)),i,"TargetPurposeLimboResolution",xh.ce))}}async function uu(n,e,t){const i=nt(n),o=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,p)=>{c.push(i.pu(p,e,t).then((g=>{var w;if((g||t)&&i.isPrimaryClient){const S=g?!g.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:w.current;i.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(g){o.push(g);const S=Xp.As(p.targetId,g);l.push(S)}})))})),await Promise.all(c),i.Pu.H_(o),await(async function(p,g){const w=nt(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>se.forEach(g,(A=>se.forEach(A.Es,(O=>w.persistence.referenceDelegate.addReference(S,A.targetId,O))).next((()=>se.forEach(A.ds,(O=>w.persistence.referenceDelegate.removeReference(S,A.targetId,O)))))))))}catch(S){if(!Fa(S))throw S;ke(Zp,"Failed to update sequence numbers: "+S)}for(const S of g){const A=S.targetId;if(!S.fromCache){const O=w.Ms.get(A),U=O.snapshotVersion,$=O.withLastLimboFreeSnapshotVersion(U);w.Ms=w.Ms.insert(A,$)}}})(i.localStore,l))}async function JP(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){ke(am,"User change. New user:",e.toKey());const i=await mE(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new Se(re.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await uu(t,i.Ls)}}function XP(n,e){const t=nt(n),i=t.Au.get(e);if(i&&i.hu)return mt().add(i.key);{let o=mt();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const f=t.Tu.get(c);o=o.unionWith(f.view.nu)}return o}}function OE(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KP.bind(null,e),e.Pu.H_=OP.bind(null,e.eventManager),e.Pu.yu=LP.bind(null,e.eventManager),e}function ZP(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QP.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return rP(this.persistence,new eP,e.initialUser,this.serializer)}Cu(e){return new pE(Jp.mi,this.serializer)}Du(e){return new cP}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class e2 extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){At(this.persistence.referenceDelegate instanceof ah,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new jk(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?er.withCacheSize(this.cacheSizeBytes):er.DEFAULT;return new pE((i=>ah.mi(i,t)),this.serializer)}}class pp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>D_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=JP.bind(null,this.syncEngine),await bP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new MP})()}createDatastore(e){const t=Vh(e.databaseInfo.databaseId),i=(function(l){return new mP(l)})(e.databaseInfo);return(function(l,c,f,p){return new _P(l,c,f,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,c,f){return new EP(i,o,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>D_(this.syncEngine,t,0)),(function(){return C_.v()?new C_:new hP})())}createSyncEngine(e,t){return(function(o,l,c,f,p,g,w){const S=new UP(o,l,c,f,p,g);return w&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=nt(o);ke(_o,"RemoteStore shutting down."),l.Ea.add(5),await lu(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}pp.provider={build:()=>new pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="FirestoreClient";class t2{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Ln.UNAUTHENTICATED,this.clientId=Up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{ke(Ds,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ke(Ds,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=sm(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Of(n,e){n.asyncQueue.verifyOperationInProgress(),ke(Ds,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await mE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function O_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await n2(n);ke(Ds,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>k_(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>k_(e.remoteStore,o))),n._onlineComponents=e}async function n2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke(Ds,"Using user provided OfflineComponentProvider");try{await Of(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ea("Error using user provided cache. Falling back to memory cache: "+t),await Of(n,new uh)}}else ke(Ds,"Using default OfflineComponentProvider"),await Of(n,new e2(void 0));return n._offlineComponents}async function VE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke(Ds,"Using user provided OnlineComponentProvider"),await O_(n,n._uninitializedComponentsProvider._online)):(ke(Ds,"Using default OnlineComponentProvider"),await O_(n,new pp))),n._onlineComponents}function r2(n){return VE(n).then((e=>e.syncEngine))}async function mp(n){const e=await VE(n),t=e.eventManager;return t.onListen=zP.bind(null,e.syncEngine),t.onUnlisten=WP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=BP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=HP.bind(null,e.syncEngine),t}function i2(n,e,t={}){const i=new Rs;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,p,g){const w=new LE({next:A=>{w.Nu(),c.enqueueAndForget((()=>AE(l,S)));const O=A.docs.has(f);!O&&A.fromCache?g.reject(new Se(re.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&p&&p.source==="server"?g.reject(new Se(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),S=new CE(Nh(f.path),w,{includeMetadataChanges:!0,qa:!0});return RE(l,S)})(await mp(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="firestore.googleapis.com",V_=!0;class F_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jE,this.ssl=V_}else this.host=e.host,this.ssl=e.ssl??V_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Vk)throw new Se(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FE(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Se(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Se(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Se(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new cx;switch(i.type){case"firstParty":return new px(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Se(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=L_.get(t);i&&(ke("ComponentProvider","Removing Datastore"),L_.delete(t),i.terminate())})(this),Promise.resolve()}}function s2(n,e,t,i={}){var g;n=Mi(n,Uh);const o=Da(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;o&&(b0(`https://${f}`),D0("Firestore",!0)),l.host!==jE&&l.host!==f&&Ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:o,emulatorOptions:i};if(!mo(p,c)&&(n._setSettings(p),i.mockUserToken)){let w,S;if(typeof i.mockUserToken=="string")w=i.mockUserToken,S=Ln.MOCK_USER;else{w=OS(i.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const A=i.mockUserToken.sub||i.mockUserToken.user_id;if(!A)throw new Se(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ln(A)}n._authCredentials=new hx(new Sw(w,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ro(this.firestore,e,this._query)}}class Zt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}toJSON(){return{type:Zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(su(t,Zt._jsonSchema))return new Zt(e,i||null,new ze(Dt.fromString(t.referencePath)))}}Zt._jsonSchemaVersion="firestore/documentReference/1.0",Zt._jsonSchema={type:un("string",Zt._jsonSchemaVersion),referencePath:un("string")};class As extends Ro{constructor(e,t,i){super(e,t,Nh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new ze(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function j_(n,e,...t){if(n=Bn(n),Rw("collection","path",e),n instanceof Uh){const i=Dt.fromString(e,...t);return Jv(i),new As(n,null,i)}{if(!(n instanceof Zt||n instanceof As))throw new Se(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Dt.fromString(e,...t));return Jv(i),new As(n.firestore,null,i)}}function gp(n,e,...t){if(n=Bn(n),arguments.length===1&&(e=Up.newId()),Rw("doc","path",e),n instanceof Uh){const i=Dt.fromString(e,...t);return Yv(i),new Zt(n,null,new ze(i))}{if(!(n instanceof Zt||n instanceof As))throw new Se(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Dt.fromString(e,...t));return Yv(i),new Zt(n.firestore,n instanceof As?n.converter:null,new ze(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="AsyncQueue";class z_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yE(this,"async_queue_retry"),this._c=()=>{const i=Mf();i&&ke(U_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Mf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Mf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Rs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fa(e))throw e;ke(U_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Vi("INTERNAL UNHANDLED ERROR: ",B_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=im.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Qe(47125,{Pc:B_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function B_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1})(n,["next","error","complete"])}class Ca extends Uh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new z_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z_(e),this._firestoreClient=void 0,await e}}}function o2(n,e){const t=typeof n=="object"?n:V0(),i=typeof n=="string"?n:nh,o=xp(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=DS("firestore");l&&s2(o,...l)}return o}function um(n){if(n._terminated)throw new Se(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||a2(n),n._firestoreClient}function a2(n){var i,o,l;const e=n._freezeSettings(),t=(function(f,p,g,w){return new Nx(f,p,g,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,FE(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)})(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new t2(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ir(Cn.fromBase64String(e))}catch(t){throw new Se(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ir(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ir._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(su(e,Ir._jsonSchema))return Ir.fromBase64String(e.bytes)}}Ir._jsonSchemaVersion="firestore/bytes/1.0",Ir._jsonSchema={type:un("string",Ir._jsonSchemaVersion),bytes:un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if(su(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:un("string",di._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(su(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new fi(e.vectorValues);throw new Se(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:un("string",fi._jsonSchemaVersion),vectorValues:un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=/^__.*__$/;class u2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Io(e,this.data,this.fieldMask,t,this.fieldTransforms):new ou(e,this.data,t,this.fieldTransforms)}}function UE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe(40011,{Ac:n})}}class dm{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(UE(this.Ac)&&l2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class c2{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Vh(e)}Cc(e,t,i,o=!1){return new dm({Ac:e,methodName:t,Dc:i,path:An.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fm(n){const e=n._freezeSettings(),t=Vh(n._databaseId);return new c2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zE(n,e,t,i,o,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);WE("Data must be an object, but it was:",c,i);const f=BE(i,c);let p,g;if(l.merge)p=new zr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const w=[];for(const S of l.mergeFields){const A=d2(e,S,t);if(!c.contains(A))throw new Se(re.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);p2(w,A)||w.push(A)}p=new zr(w),g=c.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,g=c.fieldTransforms;return new u2(new Tr(f),p,g)}class pm extends hm{_toFieldTransform(e){return new rk(e.path,new Kl)}isEqual(e){return e instanceof pm}}function h2(n,e,t,i=!1){return mm(t,n.Cc(i?4:3,e))}function mm(n,e){if($E(n=Bn(n)))return WE("Unsupported field value:",e,n),BE(n,e);if(n instanceof hm)return(function(i,o){if(!UE(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let c=0;for(const f of i){let p=mm(f,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(i,o){if((i=Bn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ek(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Mt.fromDate(i);return{timestampValue:oh(o.serializer,l)}}if(i instanceof Mt){const l=new Mt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:oh(o.serializer,l)}}if(i instanceof di)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ir)return{bytesValue:oE(o.serializer,i._byteString)};if(i instanceof Zt){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Qp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof fi)return(function(c,f){return{mapValue:{fields:{[Mw]:{stringValue:Ow},[rh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return qp(f.serializer,g)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${Ch(i)}`)})(n,e)}function BE(n,e){const t={};return xw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Eo(n,((i,o)=>{const l=mm(o,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function $E(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Mt||n instanceof di||n instanceof Ir||n instanceof Zt||n instanceof hm||n instanceof fi)}function WE(n,e,t){if(!$E(t)||!Aw(t)){const i=Ch(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function d2(n,e,t){if((e=Bn(e))instanceof cm)return e._internalPath;if(typeof e=="string")return HE(n,e);throw ch("Field path arguments must be of type string or ",n,!1,void 0,t)}const f2=new RegExp("[~\\*/\\[\\]]");function HE(n,e,t){if(e.search(f2)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cm(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ch(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new Se(re.INVALID_ARGUMENT,f+n+p)}function p2(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class m2 extends qE{data(){return super.data()}}function gm(n,e){return typeof e=="string"?HE(n,e):e instanceof cm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Se(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ym{}class KE extends ym{}function y2(n,e,...t){let i=[];e instanceof ym&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((p=>p instanceof _m)).length,f=l.filter((p=>p instanceof vm)).length;if(c>1||c>0&&f>0)throw new Se(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)n=o._apply(n);return n}class vm extends KE{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new vm(e,t,i)}_apply(e){const t=this._parse(e);return GE(e._query,t),new Ro(e.firestore,e.converter,ip(e._query,t))}_parse(e){const t=fm(e.firestore);return(function(l,c,f,p,g,w,S){let A;if(g.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Se(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){H_(S,w);const U=[];for(const $ of S)U.push(W_(p,l,$));A={arrayValue:{values:U}}}else A=W_(p,l,S)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||H_(S,w),A=h2(f,c,S,w==="in"||w==="not-in");return ln.create(g,w,A)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class _m extends ym{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _m(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Wr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let c=o;const f=l.getFlattenedFilters();for(const p of f)GE(c,p),c=ip(c,p)})(e._query,t),new Ro(e.firestore,e.converter,ip(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wm extends KE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new wm(e,t)}_apply(e){const t=(function(o,l,c){if(o.startAt!==null)throw new Se(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Se(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ql(l,c)})(e._query,this._field,this._direction);return new Ro(e.firestore,e.converter,(function(o,l){const c=o.explicitOrderBy.concat([l]);return new ja(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function v2(n,e="asc"){const t=e,i=gm("orderBy",n);return wm._create(i,t)}function W_(n,e,t){if(typeof(t=Bn(t))=="string"){if(t==="")throw new Se(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$w(e)&&t.indexOf("/")!==-1)throw new Se(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Dt.fromString(t));if(!ze.isDocumentKey(i))throw new Se(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return s_(n,new ze(i))}if(t instanceof Zt)return s_(n,t._key);throw new Se(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ch(t)}.`)}function H_(n,e){if(!Array.isArray(n)||n.length===0)throw new Se(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GE(n,e){const t=(function(o,l){for(const c of o)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Se(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class _2{convertValue(e,t="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Qe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Eo(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){var i,o,l;const t=(l=(o=(i=e.fields)==null?void 0:i[rh].arrayValue)==null?void 0:o.values)==null?void 0:l.map((c=>Xt(c.doubleValue)));return new fi(t)}convertGeoPoint(e){return new di(Xt(e.latitude),Xt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ph(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const t=ks(e);return new Mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Dt.fromString(e);At(dE(i),9688,{name:e});const o=new Wl(i.get(1),i.get(3)),l=new ze(i.popFirst(5));return o.isEqual(t)||Vi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class Al{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fo extends qE{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(gm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=fo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}fo._jsonSchemaVersion="firestore/documentSnapshot/1.0",fo._jsonSchema={type:un("string",fo._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class Uc extends fo{data(e={}){return super.data(e)}}class ga{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Al(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Uc(this._firestore,this._userDataWriter,i.key,i,new Al(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((f=>{const p=new Uc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Al(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new Uc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Al(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,w=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),w=c.indexOf(f.doc.key)),{type:w2(f.type),doc:p,oldIndex:g,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ga._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function w2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(n){n=Mi(n,Zt);const e=Mi(n.firestore,Ca);return i2(um(e),n._key).then((t=>XE(e,n,t)))}ga._jsonSchemaVersion="firestore/querySnapshot/1.0",ga._jsonSchema={type:un("string",ga._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};class YE extends _2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ir(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,t)}}function T2(n,e,t){n=Mi(n,Zt);const i=Mi(n.firestore,Ca),o=QE(n.converter,e);return JE(i,[zE(fm(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,ci.none())])}function I2(n,e){const t=Mi(n.firestore,Ca),i=gp(n),o=QE(n.converter,e);return JE(t,[zE(fm(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,ci.exists(!1))]).then((()=>i))}function S2(n,...e){var p,g,w;n=Bn(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||$_(e[i])||(t=e[i++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if($_(e[i])){const S=e[i];e[i]=(p=S.next)==null?void 0:p.bind(S),e[i+1]=(g=S.error)==null?void 0:g.bind(S),e[i+2]=(w=S.complete)==null?void 0:w.bind(S)}let l,c,f;if(n instanceof Zt)c=Mi(n.firestore,Ca),f=Nh(n._key.path),l={next:S=>{e[i]&&e[i](XE(c,n,S))},error:e[i+1],complete:e[i+2]};else{const S=Mi(n,Ro);c=Mi(S.firestore,Ca),f=S._query;const A=new YE(c);l={next:O=>{e[i]&&e[i](new ga(c,A,S,O))},error:e[i+1],complete:e[i+2]},g2(n._query)}return(function(A,O,U,$){const j=new LE($),pe=new CE(O,j,U);return A.asyncQueue.enqueueAndForget((async()=>RE(await mp(A),pe))),()=>{j.Nu(),A.asyncQueue.enqueueAndForget((async()=>AE(await mp(A),pe)))}})(um(c),f,o,l)}function JE(n,e){return(function(i,o){const l=new Rs;return i.asyncQueue.enqueueAndForget((async()=>qP(await r2(i),o,l))),l.promise})(um(n),e)}function XE(n,e,t){const i=t.docs.get(e._key),o=new YE(n);return new fo(n,o,e._key,i,new Al(t.hasPendingWrites,t.fromCache),e.converter)}function R2(){return new pm("serverTimestamp")}(function(e,t=!0){(function(o){La=o})(Ma),_a(new go("firestore",((i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new Ca(new dx(i.getProvider("auth-internal")),new mx(c,i.getProvider("app-check-internal")),(function(g,w){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Se(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(g.options.projectId,w)})(c,o),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Is(qv,Kv,e),Is(qv,Kv,"esm2020")})();const yp={apiKey:"AIzaSyBuCWmfyeRl0h6FEoS9_vlam5Hf0Zw3fW0",authDomain:"aditya-singhal-website.firebaseapp.com",projectId:"aditya-singhal-website",storageBucket:"aditya-singhal-website.appspot.com",messagingSenderId:"476753482582",appId:"1:476753482582:web:9b25b2d3cd6ff3ba66bcf7",measurementId:"G-CSRQLVW2TG"};if(!yp.apiKey||!yp.projectId)throw new Error("Missing required Firebase configuration");const ZE=L0(yp),hh=lx(ZE),xc=o2(ZE),A2=({message:n="Loading..."})=>R.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",flexDirection:"column",gap:"1rem"},children:[R.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite"}}),R.jsx("p",{children:n}),R.jsx("style",{children:`
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `})]}),C2={user:null,loading:!0},eT=W.createContext(C2),x2=({children:n})=>{const[e,t]=W.useState(null),[i,o]=W.useState(!0);return W.useEffect(()=>JA(hh,c=>{t(c),o(!1)}),[]),i?R.jsx(A2,{message:"Authenticating..."}):R.jsx(eT.Provider,{value:{user:e,loading:i},children:n})},k2="/assets/react-CHdo91hT.svg",P2="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='31.88'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20257'%3e%3cdefs%3e%3clinearGradient%20id='IconifyId1813088fe1fbc01fb466'%20x1='-.828%25'%20x2='57.636%25'%20y1='7.652%25'%20y2='78.411%25'%3e%3cstop%20offset='0%25'%20stop-color='%2341D1FF'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23BD34FE'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='IconifyId1813088fe1fbc01fb467'%20x1='43.376%25'%20x2='50.316%25'%20y1='2.242%25'%20y2='89.03%25'%3e%3cstop%20offset='0%25'%20stop-color='%23FFEA83'%3e%3c/stop%3e%3cstop%20offset='8.333%25'%20stop-color='%23FFDD35'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23FFA800'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20fill='url(%23IconifyId1813088fe1fbc01fb466)'%20d='M255.153%2037.938L134.897%20252.976c-2.483%204.44-8.862%204.466-11.382.048L.875%2037.958c-2.746-4.814%201.371-10.646%206.827-9.67l120.385%2021.517a6.537%206.537%200%200%200%202.322-.004l117.867-21.483c5.438-.991%209.574%204.796%206.877%209.62Z'%3e%3c/path%3e%3cpath%20fill='url(%23IconifyId1813088fe1fbc01fb467)'%20d='M185.432.063L96.44%2017.501a3.268%203.268%200%200%200-2.634%203.014l-5.474%2092.456a3.268%203.268%200%200%200%203.997%203.378l24.777-5.718c2.318-.535%204.413%201.507%203.936%203.838l-7.361%2036.047c-.495%202.426%201.782%204.5%204.151%203.78l15.304-4.649c2.372-.72%204.652%201.36%204.15%203.788l-11.698%2056.621c-.732%203.542%203.979%205.473%205.943%202.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505%204.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z'%3e%3c/path%3e%3c/svg%3e";function N2(){const[n,e]=W.useState(0),t=Th(),i=async()=>{try{await sw(hh),t("/")}catch(o){console.error("Error signing out:",o)}};return R.jsxs("div",{id:"private-app",children:[R.jsx("div",{style:{position:"absolute",top:"20px",right:"20px"},children:R.jsx("button",{onClick:i,children:"Logout"})}),R.jsxs("div",{children:[R.jsx("a",{href:"https://vitejs.dev",target:"_blank",children:R.jsx("img",{src:P2,className:"logo",alt:"Vite logo"})}),R.jsx("a",{href:"https://react.dev",target:"_blank",children:R.jsx("img",{src:k2,className:"logo react",alt:"React logo"})})]}),R.jsx("h1",{children:"Vite + React"}),R.jsxs("div",{className:"card",children:[R.jsxs("button",{onClick:()=>e(o=>o+1),children:["count is ",n]}),R.jsxs("p",{children:["Edit ",R.jsx("code",{children:"src/PrivateApp.tsx"})," and save to test HMR"]})]}),R.jsx("p",{className:"read-the-docs",children:"Click on the Vite and React logos to learn more"})]})}const tT="/assets/404-DIjrbEzU.gif";class oi extends W.Component{constructor(){super(...arguments);_c(this,"state",{hasError:!1});_c(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})});_c(this,"handleGoHome",()=>{window.location.href="/"})}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,i){console.error("Uncaught error:",t,i)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:R.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",padding:"2rem"},children:[R.jsx("h2",{style:{fontSize:"max(2vw, 16px)",marginBottom:"1rem"},children:this.state.error?"Something went wrong":"Sorry, that was not a real page."}),this.state.error&&R.jsx("p",{style:{color:"#666",marginBottom:"1rem"},children:"We encountered an unexpected error. Please try again."}),R.jsx("img",{src:tT,alt:"Error",style:{maxWidth:"75%",height:"auto",width:"100%",marginBottom:"2rem"}}),R.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[this.state.error&&R.jsx("button",{onClick:this.handleRetry,style:{padding:"0.5rem 1rem",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Try Again"}),R.jsx("button",{onClick:this.handleGoHome,style:{padding:"0.5rem 1rem",backgroundColor:"#2ecc71",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Go Home"})]})]}):this.props.children}}const b2=()=>{const n=()=>{window.location.href="/"};return R.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",padding:"2rem",width:"90%",maxWidth:"600px"},children:[R.jsx("h2",{style:{fontSize:"max(2vw, 16px)",marginBottom:"1rem",color:"#333"},children:"Sorry, that was not a real page."}),R.jsx("img",{src:tT,alt:"Sorry 404!",style:{maxWidth:"100%",height:"auto",marginBottom:"2rem",borderRadius:"8px"}}),R.jsx("button",{onClick:n,style:{padding:"12px 24px",backgroundColor:"#2ecc71",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"500",transition:"background-color 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#27ae60",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2ecc71",children:"Go Home"})]})};var cu={};(function n(e,t,i,o){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;var M=new OffscreenCanvas(1,1),T=M.getContext("2d");T.fillRect(0,0,1,1);var L=M.transferToImageBitmap();try{T.createPattern(L,"no-repeat")}catch{return!1}return!0})();function p(){}function g(M){var T=t.exports.Promise,L=T!==void 0?T:e.Promise;return typeof L=="function"?new L(M):(M(p,p),null)}var w=(function(M,T){return{transform:function(L){if(M)return L;if(T.has(L))return T.get(L);var H=new OffscreenCanvas(L.width,L.height),ae=H.getContext("2d");return ae.drawImage(L,0,0),T.set(L,H),H},clear:function(){T.clear()}}})(f,new Map),S=(function(){var M=Math.floor(16.666666666666668),T,L,H={},ae=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(X){var te=Math.random();return H[te]=requestAnimationFrame(function oe(ne){ae===ne||ae+M-1<ne?(ae=ne,delete H[te],X()):H[te]=requestAnimationFrame(oe)}),te},L=function(X){H[X]&&cancelAnimationFrame(H[X])}):(T=function(X){return setTimeout(X,M)},L=function(X){return clearTimeout(X)}),{frame:T,cancel:L}})(),A=(function(){var M,T,L={};function H(ae){function X(te,oe){ae.postMessage({options:te||{},callback:oe})}ae.init=function(oe){var ne=oe.transferControlToOffscreen();ae.postMessage({canvas:ne},[ne])},ae.fire=function(oe,ne,de){if(T)return X(oe,null),T;var Te=Math.random().toString(36).slice(2);return T=g(function(_e){function Ie(Be){Be.data.callback===Te&&(delete L[Te],ae.removeEventListener("message",Ie),T=null,w.clear(),de(),_e())}ae.addEventListener("message",Ie),X(oe,Te),L[Te]=Ie.bind(null,{data:{callback:Te}})}),T},ae.reset=function(){ae.postMessage({reset:!0});for(var oe in L)L[oe](),delete L[oe]}}return function(){if(M)return M;if(!i&&l){var ae=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{M=new Worker(URL.createObjectURL(new Blob([ae])))}catch(X){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",X),null}H(M)}return M}})(),O={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function U(M,T){return T?T(M):M}function $(M){return M!=null}function j(M,T,L){return U(M&&$(M[T])?M[T]:O[T],L)}function pe(M){return M<0?0:Math.floor(M)}function ie(M,T){return Math.floor(Math.random()*(T-M))+M}function me(M){return parseInt(M,16)}function ge(M){return M.map(Pe)}function Pe(M){var T=String(M).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:me(T.substring(0,2)),g:me(T.substring(2,4)),b:me(T.substring(4,6))}}function Ne(M){var T=j(M,"origin",Object);return T.x=j(T,"x",Number),T.y=j(T,"y",Number),T}function C(M){M.width=document.documentElement.clientWidth,M.height=document.documentElement.clientHeight}function _(M){var T=M.getBoundingClientRect();M.width=T.width,M.height=T.height}function E(M){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=M,T}function x(M,T,L,H,ae,X,te,oe,ne){M.save(),M.translate(T,L),M.rotate(X),M.scale(H,ae),M.arc(0,0,1,te,oe,ne),M.restore()}function N(M){var T=M.angle*(Math.PI/180),L=M.spread*(Math.PI/180);return{x:M.x,y:M.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:M.startVelocity*.5+Math.random()*M.startVelocity,angle2D:-T+(.5*L-Math.random()*L),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:M.color,shape:M.shape,tick:0,totalTicks:M.ticks,decay:M.decay,drift:M.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:M.gravity*3,ovalScalar:.6,scalar:M.scalar,flat:M.flat}}function b(M,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var L=T.tick++/T.totalTicks,H=T.x+T.random*T.tiltCos,ae=T.y+T.random*T.tiltSin,X=T.wobbleX+T.random*T.tiltCos,te=T.wobbleY+T.random*T.tiltSin;if(M.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-L)+")",M.beginPath(),c&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))M.fill(he(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(X-H)*.1,Math.abs(te-ae)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var oe=Math.PI/10*T.wobble,ne=Math.abs(X-H)*.1,de=Math.abs(te-ae)*.1,Te=T.shape.bitmap.width*T.scalar,_e=T.shape.bitmap.height*T.scalar,Ie=new DOMMatrix([Math.cos(oe)*ne,Math.sin(oe)*ne,-Math.sin(oe)*de,Math.cos(oe)*de,T.x,T.y]);Ie.multiplySelf(new DOMMatrix(T.shape.matrix));var Be=M.createPattern(w.transform(T.shape.bitmap),"no-repeat");Be.setTransform(Ie),M.globalAlpha=1-L,M.fillStyle=Be,M.fillRect(T.x-Te/2,T.y-_e/2,Te,_e),M.globalAlpha=1}else if(T.shape==="circle")M.ellipse?M.ellipse(T.x,T.y,Math.abs(X-H)*T.ovalScalar,Math.abs(te-ae)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):x(M,T.x,T.y,Math.abs(X-H)*T.ovalScalar,Math.abs(te-ae)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var Ae=Math.PI/2*3,$e=4*T.scalar,Fe=8*T.scalar,ht=T.x,Ye=T.y,rt=5,it=Math.PI/rt;rt--;)ht=T.x+Math.cos(Ae)*Fe,Ye=T.y+Math.sin(Ae)*Fe,M.lineTo(ht,Ye),Ae+=it,ht=T.x+Math.cos(Ae)*$e,Ye=T.y+Math.sin(Ae)*$e,M.lineTo(ht,Ye),Ae+=it;else M.moveTo(Math.floor(T.x),Math.floor(T.y)),M.lineTo(Math.floor(T.wobbleX),Math.floor(ae)),M.lineTo(Math.floor(X),Math.floor(te)),M.lineTo(Math.floor(H),Math.floor(T.wobbleY));return M.closePath(),M.fill(),T.tick<T.totalTicks}function P(M,T,L,H,ae){var X=T.slice(),te=M.getContext("2d"),oe,ne,de=g(function(Te){function _e(){oe=ne=null,te.clearRect(0,0,H.width,H.height),w.clear(),ae(),Te()}function Ie(){i&&!(H.width===o.width&&H.height===o.height)&&(H.width=M.width=o.width,H.height=M.height=o.height),!H.width&&!H.height&&(L(M),H.width=M.width,H.height=M.height),te.clearRect(0,0,H.width,H.height),X=X.filter(function(Be){return b(te,Be)}),X.length?oe=S.frame(Ie):_e()}oe=S.frame(Ie),ne=_e});return{addFettis:function(Te){return X=X.concat(Te),de},canvas:M,promise:de,reset:function(){oe&&S.cancel(oe),ne&&ne()}}}function Le(M,T){var L=!M,H=!!j(T||{},"resize"),ae=!1,X=j(T,"disableForReducedMotion",Boolean),te=l&&!!j(T||{},"useWorker"),oe=te?A():null,ne=L?C:_,de=M&&oe?!!M.__confetti_initialized:!1,Te=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,_e;function Ie(Ae,$e,Fe){for(var ht=j(Ae,"particleCount",pe),Ye=j(Ae,"angle",Number),rt=j(Ae,"spread",Number),it=j(Ae,"startVelocity",Number),en=j(Ae,"decay",Number),tn=j(Ae,"gravity",Number),xn=j(Ae,"drift",Number),yt=j(Ae,"colors",ge),Vt=j(Ae,"ticks",Number),tt=j(Ae,"shapes"),st=j(Ae,"scalar"),St=!!j(Ae,"flat"),qt=Ne(Ae),_n=ht,zt=[],Kt=M.width*qt.x,Gt=M.height*qt.y;_n--;)zt.push(N({x:Kt,y:Gt,angle:Ye,spread:rt,startVelocity:it,color:yt[_n%yt.length],shape:tt[ie(0,tt.length)],ticks:Vt,decay:en,gravity:tn,drift:xn,scalar:st,flat:St}));return _e?_e.addFettis(zt):(_e=P(M,zt,ne,$e,Fe),_e.promise)}function Be(Ae){var $e=X||j(Ae,"disableForReducedMotion",Boolean),Fe=j(Ae,"zIndex",Number);if($e&&Te)return g(function(it){it()});L&&_e?M=_e.canvas:L&&!M&&(M=E(Fe),document.body.appendChild(M)),H&&!de&&ne(M);var ht={width:M.width,height:M.height};oe&&!de&&oe.init(M),de=!0,oe&&(M.__confetti_initialized=!0);function Ye(){if(oe){var it={getBoundingClientRect:function(){if(!L)return M.getBoundingClientRect()}};ne(it),oe.postMessage({resize:{width:it.width,height:it.height}});return}ht.width=ht.height=null}function rt(){_e=null,H&&(ae=!1,e.removeEventListener("resize",Ye)),L&&M&&(document.body.contains(M)&&document.body.removeChild(M),M=null,de=!1)}return H&&!ae&&(ae=!0,e.addEventListener("resize",Ye,!1)),oe?oe.fire(Ae,ht,rt):Ie(Ae,ht,rt)}return Be.reset=function(){oe&&oe.reset(),_e&&_e.reset()},Be}var Ke;function ve(){return Ke||(Ke=Le(null,{useWorker:!0,resize:!0})),Ke}function he(M,T,L,H,ae,X,te){var oe=new Path2D(M),ne=new Path2D;ne.addPath(oe,new DOMMatrix(T));var de=new Path2D;return de.addPath(ne,new DOMMatrix([Math.cos(te)*ae,Math.sin(te)*ae,-Math.sin(te)*X,Math.cos(te)*X,L,H])),de}function J(M){if(!c)throw new Error("path confetti are not supported in this browser");var T,L;typeof M=="string"?T=M:(T=M.path,L=M.matrix);var H=new Path2D(T),ae=document.createElement("canvas"),X=ae.getContext("2d");if(!L){for(var te=1e3,oe=te,ne=te,de=0,Te=0,_e,Ie,Be=0;Be<te;Be+=2)for(var Ae=0;Ae<te;Ae+=2)X.isPointInPath(H,Be,Ae,"nonzero")&&(oe=Math.min(oe,Be),ne=Math.min(ne,Ae),de=Math.max(de,Be),Te=Math.max(Te,Ae));_e=de-oe,Ie=Te-ne;var $e=10,Fe=Math.min($e/_e,$e/Ie);L=[Fe,0,0,Fe,-Math.round(_e/2+oe)*Fe,-Math.round(Ie/2+ne)*Fe]}return{type:"path",path:T,matrix:L}}function ee(M){var T,L=1,H="#000000",ae='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof M=="string"?T=M:(T=M.text,L="scalar"in M?M.scalar:L,ae="fontFamily"in M?M.fontFamily:ae,H="color"in M?M.color:H);var X=10*L,te=""+X+"px "+ae,oe=new OffscreenCanvas(X,X),ne=oe.getContext("2d");ne.font=te;var de=ne.measureText(T),Te=Math.ceil(de.actualBoundingBoxRight+de.actualBoundingBoxLeft),_e=Math.ceil(de.actualBoundingBoxAscent+de.actualBoundingBoxDescent),Ie=2,Be=de.actualBoundingBoxLeft+Ie,Ae=de.actualBoundingBoxAscent+Ie;Te+=Ie+Ie,_e+=Ie+Ie,oe=new OffscreenCanvas(Te,_e),ne=oe.getContext("2d"),ne.font=te,ne.fillStyle=H,ne.fillText(T,Be,Ae);var $e=1/L;return{type:"bitmap",bitmap:oe.transferToImageBitmap(),matrix:[$e,0,0,$e,-Te*$e/2,-_e*$e/2]}}t.exports=function(){return ve().apply(this,arguments)},t.exports.reset=function(){ve().reset()},t.exports.create=Le,t.exports.shapeFromPath=J,t.exports.shapeFromText=ee})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),cu,!1);const El=cu.exports;cu.exports.create;const D2=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],M2=()=>{const[n,e]=W.useState([]),[t,i]=W.useState(""),[o,l]=W.useState(null),[c,f]=W.useState(null),[p,g]=W.useState(!1),[w,S]=W.useState(!1),[A,O]=W.useState([]),[U,$]=W.useState(!0),[j,pe]=W.useState(!1),[ie,me]=W.useState(!1),[ge,Pe]=W.useState({emoji:"",name:"",date:""}),[Ne,C]=W.useState(!1);W.useEffect(()=>{const ve=j_(xc,"love-ingy-messages"),he=y2(ve,v2("timestamp","desc"));return S2(he,ee=>{const M=ee.docs.map(T=>{const L=T.data();return{id:T.id,message:L.message,timestamp:L.timestamp?L.timestamp.toDate().toISOString():new Date().toISOString()}});e(M)},ee=>{console.error("Error fetching messages:",ee),f("Failed to load messages. Please refresh the page."),ee.code==="permission-denied"&&f("Access denied. You do not have permission to view these messages.")})},[]),W.useEffect(()=>{(async()=>{try{const he=gp(xc,"trmnl-config","countdowns"),J=await E2(he);if(J.exists()){const M=J.data().events;O(Array.isArray(M)?M:[])}}catch(he){console.error("Error loading countdowns:",he)}finally{$(!1)}})()},[]);const _=async ve=>{pe(!0);try{const he=gp(xc,"trmnl-config","countdowns");await T2(he,{events:ve}),O(ve)}catch(he){console.error("Error saving countdowns:",he),alert("Failed to save countdown. Please try again.")}finally{pe(!1)}},E=async()=>{if(!ge.name.trim()||!ge.date){alert("Please fill in all fields");return}const ve=[...A,ge].sort((he,J)=>new Date(he.date).getTime()-new Date(J.date).getTime());await _(ve),Pe({emoji:"",name:"",date:""}),me(!1)},x=async ve=>{if(confirm("Delete this countdown?")){const he=A.filter((J,ee)=>ee!==ve);await _(he)}},N=ve=>{const he=new Date(ve+"T00:00:00"),J=new Date,ee=he.getTime()-J.getTime();return Math.ceil(ee/(1e3*60*60*24))},b=async()=>{if(t.trim()===""){g(!0),setTimeout(()=>g(!1),500);return}try{const ve=j_(xc,"love-ingy-messages");let he={message:t,timestamp:R2()};try{const J=JSON.parse(t);J&&typeof J=="object"&&(he={message:J.text,timestamp:new Mt(J.timestamp/1e3,J.timestamp%1e3)})}catch{}await I2(ve,he),i(""),S(!0),setTimeout(()=>S(!1),2e3),(n.length+1)%10===0&&Ke()}catch(ve){console.error("Error adding message:",ve),ve&&typeof ve=="object"&&"code"in ve&&ve.code==="permission-denied"&&alert("Access denied. You do not have permission to add messages.")}},P=ve=>{ve.key==="Enter"&&b()},Le=()=>{const ve=El.shapeFromText({text:"",scalar:2});El({shapes:[ve],scalar:1.5,spread:180,particleCount:30,origin:{y:.1},startVelocity:35,gravity:.8,drift:0,ticks:200}),setTimeout(()=>{El({shapes:[ve],scalar:1.2,spread:120,particleCount:20,origin:{y:.2,x:.8},startVelocity:25,gravity:.6,ticks:150})},200)},Ke=()=>{const ve=El.shapeFromText({text:"",scalar:2});El({shapes:[ve],particleCount:50,spread:360,origin:{y:.5},scalar:2,gravity:1,ticks:300})};return R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"love-ingy-body"}),R.jsx("button",{className:"heart-button",onClick:Le,title:"",children:""}),R.jsx("button",{className:"countdown-toggle-button",onClick:()=>C(!Ne),title:"Countdowns",children:""}),R.jsxs("div",{className:"container",children:[c&&R.jsx("div",{style:{color:"red",marginBottom:"20px"},children:c}),Ne&&R.jsxs("div",{className:"countdown-manager",children:[R.jsx("h3",{children:" Your Countdowns"}),R.jsx("p",{className:"countdown-subtitle",children:"These show on your TRMNL display"}),R.jsx("div",{className:"countdown-list",children:U?R.jsx("p",{className:"no-events",children:"Loading countdowns..."}):A.length===0?R.jsx("p",{className:"no-events",children:"No countdowns yet. Add one!"}):A.map((ve,he)=>{const J=N(ve.date),ee=J<0;return R.jsxs("div",{className:`countdown-item ${ee?"past":""}`,children:[R.jsx("span",{className:"countdown-emoji",children:ve.emoji}),R.jsxs("div",{className:"countdown-info",children:[R.jsx("span",{className:"countdown-name",children:ve.name}),R.jsx("span",{className:"countdown-date",children:new Date(ve.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),R.jsx("span",{className:`countdown-days ${ee?"past":""}`,children:ee?"Past":`${J} days`}),R.jsx("button",{className:"countdown-delete",onClick:()=>x(he),title:"Delete",children:""})]},he)})}),ie?R.jsxs("div",{className:"countdown-form",children:[R.jsx("div",{className:"form-row",children:R.jsx("div",{className:"emoji-picker",children:D2.map(ve=>R.jsx("button",{type:"button",className:`emoji-option ${ge.emoji===ve?"selected":""}`,onClick:()=>Pe({...ge,emoji:ve}),children:ve},ve))})}),R.jsx("div",{className:"form-row",children:R.jsx("input",{type:"text",placeholder:"Event name (e.g., 'Christmas')",value:ge.name,onChange:ve=>Pe({...ge,name:ve.target.value}),maxLength:30,className:"countdown-input"})}),R.jsx("div",{className:"form-row",children:R.jsx("input",{type:"date",value:ge.date,onChange:ve=>Pe({...ge,date:ve.target.value}),min:new Date().toISOString().split("T")[0],className:"countdown-input"})}),R.jsxs("div",{className:"form-buttons",children:[R.jsx("button",{onClick:()=>me(!1),className:"btn-cancel",children:"Cancel"}),R.jsx("button",{onClick:E,className:"btn-save",disabled:j,children:j?"Saving...":"Add Countdown"})]})]}):R.jsx("button",{className:"btn-add-countdown",onClick:()=>me(!0),children:"+ Add Countdown"})]}),R.jsxs("div",{className:"message-counter",children:[" ",n.length," ",n.length===1?"message":"messages"]}),R.jsx("div",{children:n.map(({id:ve,message:he,timestamp:J},ee)=>R.jsxs("div",{className:"love-message-container slide-in",onMouseEnter:()=>l(ee),onMouseLeave:()=>l(null),children:[R.jsx("p",{className:"love-message",children:he}),o===ee&&R.jsx("div",{className:"tooltip",children:new Date(J).toLocaleString()})]},ve))}),R.jsxs("div",{className:`add-message-container ${p?"shake":""}`,children:[R.jsx("input",{className:"love-ingy-input",type:"text",placeholder:"Add a new love message",value:t,onChange:ve=>i(ve.target.value),onKeyPress:P}),R.jsx("button",{className:"love-ingy-button",onClick:b,children:w?"":"Add Love Message"})]})]})]})};var Em=du(),Et=n=>hu(n,Em),Tm=du();Et.write=n=>hu(n,Tm);var zh=du();Et.onStart=n=>hu(n,zh);var Im=du();Et.onFrame=n=>hu(n,Im);var Sm=du();Et.onFinish=n=>hu(n,Sm);var ya=[];Et.setTimeout=(n,e)=>{const t=Et.now()+e,i=()=>{const l=ya.findIndex(c=>c.cancel==i);~l&&ya.splice(l,1),ws-=~l?1:0},o={time:t,handler:n,cancel:i};return ya.splice(nT(t),0,o),ws+=1,rT(),o};var nT=n=>~(~ya.findIndex(e=>e.time>n)||~ya.length);Et.cancel=n=>{zh.delete(n),Im.delete(n),Sm.delete(n),Em.delete(n),Tm.delete(n)};Et.sync=n=>{vp=!0,Et.batchedUpdates(n),vp=!1};Et.throttle=n=>{let e;function t(){try{n(...e)}finally{e=null}}function i(...o){e=o,Et.onStart(t)}return i.handler=n,i.cancel=()=>{zh.delete(t),e=null},i};var Rm=typeof window<"u"?window.requestAnimationFrame:(()=>{});Et.use=n=>Rm=n;Et.now=typeof performance<"u"?()=>performance.now():Date.now;Et.batchedUpdates=n=>n();Et.catch=console.error;Et.frameLoop="always";Et.advance=()=>{Et.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):sT()};var _s=-1,ws=0,vp=!1;function hu(n,e){vp?(e.delete(n),n(0)):(e.add(n),rT())}function rT(){_s<0&&(_s=0,Et.frameLoop!=="demand"&&Rm(iT))}function O2(){_s=-1}function iT(){~_s&&(Rm(iT),Et.batchedUpdates(sT))}function sT(){const n=_s;_s=Et.now();const e=nT(_s);if(e&&(oT(ya.splice(0,e),t=>t.handler()),ws-=e),!ws){O2();return}zh.flush(),Em.flush(n?Math.min(64,_s-n):16.667),Im.flush(),Tm.flush(),Sm.flush()}function du(){let n=new Set,e=n;return{add(t){ws+=e==n&&!n.has(t)?1:0,n.add(t)},delete(t){return ws-=e==n&&n.has(t)?1:0,n.delete(t)},flush(t){e.size&&(n=new Set,ws-=e.size,oT(e,i=>i(t)&&n.add(i)),ws+=n.size,e=n)}}}function oT(n,e){n.forEach(t=>{try{e(t)}catch(i){Et.catch(i)}})}var L2=Object.defineProperty,V2=(n,e)=>{for(var t in e)L2(n,t,{get:e[t],enumerable:!0})},xa={};V2(xa,{assign:()=>z2,colors:()=>Cs,createStringInterpolator:()=>Cm,skipAnimation:()=>lT,to:()=>aT,willAdvance:()=>xm});function F2(){}var j2=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),Nt={arr:Array.isArray,obj:n=>!!n&&n.constructor.name==="Object",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0};function U2(n,e){if(Nt.arr(n)){if(!Nt.arr(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return n===e}var tr=(n,e)=>n.forEach(e);function dh(n,e,t){if(Nt.arr(n)){for(let i=0;i<n.length;i++)e.call(t,n[i],`${i}`);return}for(const i in n)n.hasOwnProperty(i)&&e.call(t,n[i],i)}var Cl=n=>Nt.und(n)?[]:Nt.arr(n)?n:[n],Am=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Cm,aT,Cs=null,lT=!1,xm=F2,z2=n=>{n.to&&(aT=n.to),n.now&&(Et.now=n.now),n.colors!==void 0&&(Cs=n.colors),n.skipAnimation!=null&&(lT=n.skipAnimation),n.createStringInterpolator&&(Cm=n.createStringInterpolator),n.requestAnimationFrame&&Et.use(n.requestAnimationFrame),n.batchedUpdates&&(Et.batchedUpdates=n.batchedUpdates),n.willAdvance&&(xm=n.willAdvance),n.frameLoop&&(Et.frameLoop=n.frameLoop)},Ol=new Set,Sr=[],Lf=[],fh=0,km={get idle(){return!Ol.size&&!Sr.length},start(n){fh>n.priority?(Ol.add(n),Et.onStart(B2)):(uT(n),Et(_p))},advance:_p,sort(n){if(fh)Et.onFrame(()=>km.sort(n));else{const e=Sr.indexOf(n);~e&&(Sr.splice(e,1),cT(n))}},clear(){Sr=[],Ol.clear()}};function B2(){Ol.forEach(uT),Ol.clear(),Et(_p)}function uT(n){Sr.includes(n)||cT(n)}function cT(n){Sr.splice($2(Sr,e=>e.priority>n.priority),0,n)}function _p(n){const e=Lf;for(let t=0;t<Sr.length;t++){const i=Sr[t];fh=i.priority,i.idle||(xm(i),i.advance(n),i.idle||e.push(i))}return fh=0,Lf=Sr,Lf.length=0,Sr=e,Sr.length>0}function $2(n,e){const t=n.findIndex(e);return t<0?n.length:t}var W2={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Br="[-+]?\\d*\\.?\\d+",ph=Br+"%";function Bh(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}var H2=new RegExp("rgb"+Bh(Br,Br,Br)),q2=new RegExp("rgba"+Bh(Br,Br,Br,Br)),K2=new RegExp("hsl"+Bh(Br,ph,ph)),G2=new RegExp("hsla"+Bh(Br,ph,ph,Br)),Q2=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Y2=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,J2=/^#([0-9a-fA-F]{6})$/,X2=/^#([0-9a-fA-F]{8})$/;function Z2(n){let e;return typeof n=="number"?n>>>0===n&&n>=0&&n<=4294967295?n:null:(e=J2.exec(n))?parseInt(e[1]+"ff",16)>>>0:Cs&&Cs[n]!==void 0?Cs[n]:(e=H2.exec(n))?(aa(e[1])<<24|aa(e[2])<<16|aa(e[3])<<8|255)>>>0:(e=q2.exec(n))?(aa(e[1])<<24|aa(e[2])<<16|aa(e[3])<<8|G_(e[4]))>>>0:(e=Q2.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=X2.exec(n))?parseInt(e[1],16)>>>0:(e=Y2.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=K2.exec(n))?(q_(K_(e[1]),kc(e[2]),kc(e[3]))|255)>>>0:(e=G2.exec(n))?(q_(K_(e[1]),kc(e[2]),kc(e[3]))|G_(e[4]))>>>0:null}function Vf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function q_(n,e,t){const i=t<.5?t*(1+e):t+e-t*e,o=2*t-i,l=Vf(o,i,n+1/3),c=Vf(o,i,n),f=Vf(o,i,n-1/3);return Math.round(l*255)<<24|Math.round(c*255)<<16|Math.round(f*255)<<8}function aa(n){const e=parseInt(n,10);return e<0?0:e>255?255:e}function K_(n){return(parseFloat(n)%360+360)%360/360}function G_(n){const e=parseFloat(n);return e<0?0:e>1?255:Math.round(e*255)}function kc(n){const e=parseFloat(n);return e<0?0:e>100?1:e/100}function Q_(n){let e=Z2(n);if(e===null)return n;e=e||0;const t=(e&4278190080)>>>24,i=(e&16711680)>>>16,o=(e&65280)>>>8,l=(e&255)/255;return`rgba(${t}, ${i}, ${o}, ${l})`}var Yl=(n,e,t)=>{if(Nt.fun(n))return n;if(Nt.arr(n))return Yl({range:n,output:e,extrapolate:t});if(Nt.str(n.output[0]))return Cm(n);const i=n,o=i.output,l=i.range||[0,1],c=i.extrapolateLeft||i.extrapolate||"extend",f=i.extrapolateRight||i.extrapolate||"extend",p=i.easing||(g=>g);return g=>{const w=tN(g,l);return eN(g,l[w],l[w+1],o[w],o[w+1],p,c,f,i.map)}};function eN(n,e,t,i,o,l,c,f,p){let g=p?p(n):n;if(g<e){if(c==="identity")return g;c==="clamp"&&(g=e)}if(g>t){if(f==="identity")return g;f==="clamp"&&(g=t)}return i===o?i:e===t?n<=e?i:o:(e===-1/0?g=-g:t===1/0?g=g-e:g=(g-e)/(t-e),g=l(g),i===-1/0?g=-g:o===1/0?g=g+i:g=g*(o-i)+i,g)}function tN(n,e){for(var t=1;t<e.length-1&&!(e[t]>=n);++t);return t-1}var Jl=Symbol.for("FluidValue.get"),Xl=Symbol.for("FluidValue.observers"),ka=n=>!!(n&&n[Jl]),Pa=n=>n&&n[Jl]?n[Jl]():n;function nN(n,e){n.eventObserved?n.eventObserved(e):n(e)}function mh(n,e){const t=n[Xl];t&&t.forEach(i=>{nN(i,e)})}var hT=class{constructor(n){if(!n&&!(n=this.get))throw Error("Unknown getter");rN(this,n)}},rN=(n,e)=>dT(n,Jl,e);function Pm(n,e){if(n[Jl]){let t=n[Xl];t||dT(n,Xl,t=new Set),t.has(e)||(t.add(e),n.observerAdded&&n.observerAdded(t.size,e))}return e}function gh(n,e){const t=n[Xl];if(t&&t.has(e)){const i=t.size-1;i?t.delete(e):n[Xl]=null,n.observerRemoved&&n.observerRemoved(i,e)}}var dT=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),zc=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,iN=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Y_=new RegExp(`(${zc.source})(%|[a-z]+)`,"i"),sN=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,$h=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,fT=n=>{const[e,t]=oN(n);if(!e||Am())return n;const i=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(i)return i.trim();if(t&&t.startsWith("--")){const o=window.getComputedStyle(document.documentElement).getPropertyValue(t);return o||n}else{if(t&&$h.test(t))return fT(t);if(t)return t}return n},oN=n=>{const e=$h.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]},Ff,aN=(n,e,t,i,o)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(i)}, ${o})`,pT=n=>{Ff||(Ff=Cs?new RegExp(`(${Object.keys(Cs).join("|")})(?!\\w)`,"g"):/^\b$/);const e=n.output.map(l=>Pa(l).replace($h,fT).replace(iN,Q_).replace(Ff,Q_)),t=e.map(l=>l.match(zc).map(Number)),o=t[0].map((l,c)=>t.map(f=>{if(!(c in f))throw Error('The arity of each "output" value must be equal');return f[c]})).map(l=>Yl({...n,output:l}));return l=>{var p;const c=!Y_.test(e[0])&&((p=e.find(g=>Y_.test(g)))==null?void 0:p.replace(zc,""));let f=0;return e[0].replace(zc,()=>`${o[f++](l)}${c||""}`).replace(sN,aN)}},mT="react-spring: ",gT=n=>{const e=n;let t=!1;if(typeof e!="function")throw new TypeError(`${mT}once requires a function parameter`);return(...i)=>{t||(e(...i),t=!0)}},lN=gT(console.warn);function uN(){lN(`${mT}The "interpolate" function is deprecated in v9 (use "to" instead)`)}gT(console.warn);function yT(n){return Nt.str(n)&&(n[0]=="#"||/\d/.test(n)||!Am()&&$h.test(n)||n in(Cs||{}))}var vT=Am()?W.useEffect:W.useLayoutEffect,cN=()=>{const n=W.useRef(!1);return vT(()=>(n.current=!0,()=>{n.current=!1}),[]),n};function hN(){const n=W.useState()[1],e=cN();return()=>{e.current&&n(Math.random())}}var dN=n=>W.useEffect(n,fN),fN=[],Zl=Symbol.for("Animated:node"),pN=n=>!!n&&n[Zl]===n,Nm=n=>n&&n[Zl],_T=(n,e)=>j2(n,Zl,e),bm=n=>n&&n[Zl]&&n[Zl].getPayload(),wT=class{constructor(){_T(this,this)}getPayload(){return this.payload||[]}},Dm=class ET extends wT{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,Nt.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new ET(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Nt.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Nt.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},TT=class IT extends Dm{constructor(e){super(0),this._string=null,this._toString=Yl({output:[e,e]})}static create(e){return new IT(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(Nt.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Yl({output:[this.getValue(),e]})),this._value=0,super.reset()}},yh={dependencies:null},Wh=class extends wT{constructor(n){super(),this.source=n,this.setValue(n)}getValue(n){const e={};return dh(this.source,(t,i)=>{pN(t)?e[i]=t.getValue(n):ka(t)?e[i]=Pa(t):n||(e[i]=t)}),e}setValue(n){this.source=n,this.payload=this._makePayload(n)}reset(){this.payload&&tr(this.payload,n=>n.reset())}_makePayload(n){if(n){const e=new Set;return dh(n,this._addToPayload,e),Array.from(e)}}_addToPayload(n){yh.dependencies&&ka(n)&&yh.dependencies.add(n);const e=bm(n);e&&tr(e,t=>this.add(t))}},mN=class ST extends Wh{constructor(e){super(e)}static create(e){return new ST(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((i,o)=>i.setValue(e[o])).some(Boolean):(super.setValue(e.map(gN)),!0)}};function gN(n){return(yT(n)?TT:Dm).create(n)}function yN(n){const e=Nm(n);return e?e.constructor:Nt.arr(n)?mN:yT(n)?TT:Dm}var J_=(n,e)=>{const t=!Nt.fun(n)||n.prototype&&n.prototype.isReactComponent;return W.forwardRef((i,o)=>{const l=W.useRef(null),c=t&&W.useCallback(U=>{l.current=wN(o,U)},[o]),[f,p]=_N(i,e),g=hN(),w=()=>{const U=l.current;if(t&&!U)return;(U?e.applyAnimatedValues(U,f.getValue(!0)):!1)===!1&&g()},S=new vN(w,p),A=W.useRef(void 0);vT(()=>(A.current=S,tr(p,U=>Pm(U,S)),()=>{A.current&&(tr(A.current.deps,U=>gh(U,A.current)),Et.cancel(A.current.update))})),W.useEffect(w,[]),dN(()=>()=>{const U=A.current;tr(U.deps,$=>gh($,U))});const O=e.getComponentProps(f.getValue());return W.createElement(n,{...O,ref:c})})},vN=class{constructor(n,e){this.update=n,this.deps=e}eventObserved(n){n.type=="change"&&Et.write(this.update)}};function _N(n,e){const t=new Set;return yh.dependencies=t,n.style&&(n={...n,style:e.createAnimatedStyle(n.style)}),n=new Wh(n),yh.dependencies=null,[n,t]}function wN(n,e){return n&&(Nt.fun(n)?n(e):n.current=e),e}var X_=Symbol.for("AnimatedComponent"),EN=(n,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=o=>new Wh(o),getComponentProps:i=o=>o}={})=>{const o={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:i},l=c=>{const f=Z_(c)||"Anonymous";return Nt.str(c)?c=l[c]||(l[c]=J_(c,o)):c=c[X_]||(c[X_]=J_(c,o)),c.displayName=`Animated(${f})`,c};return dh(n,(c,f)=>{Nt.arr(n)&&(f=Z_(c)),l[f]=l(c)}),{animated:l}},Z_=n=>Nt.str(n)?n:n&&Nt.str(n.displayName)?n.displayName:Nt.fun(n)&&n.name||null,e0=n=>n instanceof RT,TN=1,RT=class extends hT{constructor(){super(...arguments),this.id=TN++,this._priority=0}get priority(){return this._priority}set priority(n){this._priority!=n&&(this._priority=n,this._onPriorityChange(n))}get(){const n=Nm(this);return n&&n.getValue()}to(...n){return xa.to(this,n)}interpolate(...n){return uN(),xa.to(this,n)}toJSON(){return this.get()}observerAdded(n){n==1&&this._attach()}observerRemoved(n){n==0&&this._detach()}_attach(){}_detach(){}_onChange(n,e=!1){mh(this,{type:"change",parent:this,value:n,idle:e})}_onPriorityChange(n){this.idle||km.sort(this),mh(this,{type:"priority",parent:this,priority:n})}};W.createContext({pause:!1,immediate:!1});var IN=class extends RT{constructor(n,e){super(),this.source=n,this.idle=!0,this._active=new Set,this.calc=Yl(...e);const t=this._get(),i=yN(t);_T(this,i.create(t))}advance(n){const e=this._get(),t=this.get();U2(e,t)||(Nm(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&t0(this._active)&&jf(this)}_get(){const n=Nt.arr(this.source)?this.source.map(Pa):Cl(Pa(this.source));return this.calc(...n)}_start(){this.idle&&!t0(this._active)&&(this.idle=!1,tr(bm(this),n=>{n.done=!1}),xa.skipAnimation?(Et.batchedUpdates(()=>this.advance()),jf(this)):km.start(this))}_attach(){let n=1;tr(Cl(this.source),e=>{ka(e)&&Pm(e,this),e0(e)&&(e.idle||this._active.add(e),n=Math.max(n,e.priority+1))}),this.priority=n,this._start()}_detach(){tr(Cl(this.source),n=>{ka(n)&&gh(n,this)}),this._active.clear(),jf(this)}eventObserved(n){n.type=="change"?n.idle?this.advance():(this._active.add(n.parent),this._start()):n.type=="idle"?this._active.delete(n.parent):n.type=="priority"&&(this.priority=Cl(this.source).reduce((e,t)=>Math.max(e,(e0(t)?t.priority:0)+1),0))}};function SN(n){return n.idle!==!1}function t0(n){return!n.size||Array.from(n).every(SN)}function jf(n){n.idle||(n.idle=!0,tr(bm(n),e=>{e.done=!0}),mh(n,{type:"idle",parent:n}))}xa.assign({createStringInterpolator:pT,to:(n,e)=>new IN(n,e)});var AT=/^--/;function RN(n,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!AT.test(n)&&!(Ll.hasOwnProperty(n)&&Ll[n])?e+"px":(""+e).trim()}var n0={};function AN(n,e){if(!n.nodeType||!n.setAttribute)return!1;const t=n.nodeName==="filter"||n.parentNode&&n.parentNode.nodeName==="filter",{className:i,style:o,children:l,scrollTop:c,scrollLeft:f,viewBox:p,...g}=e,w=Object.values(g),S=Object.keys(g).map(A=>t||n.hasAttribute(A)?A:n0[A]||(n0[A]=A.replace(/([A-Z])/g,O=>"-"+O.toLowerCase())));l!==void 0&&(n.textContent=l);for(const A in o)if(o.hasOwnProperty(A)){const O=RN(A,o[A]);AT.test(A)?n.style.setProperty(A,O):n.style[A]=O}S.forEach((A,O)=>{n.setAttribute(A,w[O])}),i!==void 0&&(n.className=i),c!==void 0&&(n.scrollTop=c),f!==void 0&&(n.scrollLeft=f),p!==void 0&&n.setAttribute("viewBox",p)}var Ll={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CN=(n,e)=>n+e.charAt(0).toUpperCase()+e.substring(1),xN=["Webkit","Ms","Moz","O"];Ll=Object.keys(Ll).reduce((n,e)=>(xN.forEach(t=>n[CN(t,e)]=n[e]),n),Ll);var kN=/^(matrix|translate|scale|rotate|skew)/,PN=/^(translate)/,NN=/^(rotate|skew)/,Uf=(n,e)=>Nt.num(n)&&n!==0?n+e:n,Bc=(n,e)=>Nt.arr(n)?n.every(t=>Bc(t,e)):Nt.num(n)?n===e:parseFloat(n)===e,bN=class extends Wh{constructor({x:n,y:e,z:t,...i}){const o=[],l=[];(n||e||t)&&(o.push([n||0,e||0,t||0]),l.push(c=>[`translate3d(${c.map(f=>Uf(f,"px")).join(",")})`,Bc(c,0)])),dh(i,(c,f)=>{if(f==="transform")o.push([c||""]),l.push(p=>[p,p===""]);else if(kN.test(f)){if(delete i[f],Nt.und(c))return;const p=PN.test(f)?"px":NN.test(f)?"deg":"";o.push(Cl(c)),l.push(f==="rotate3d"?([g,w,S,A])=>[`rotate3d(${g},${w},${S},${Uf(A,p)})`,Bc(A,0)]:g=>[`${f}(${g.map(w=>Uf(w,p)).join(",")})`,Bc(g,f.startsWith("scale")?1:0)])}}),o.length&&(i.transform=new DN(o,l)),super(i)}},DN=class extends hT{constructor(n,e){super(),this.inputs=n,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let n="",e=!0;return tr(this.inputs,(t,i)=>{const o=Pa(t[0]),[l,c]=this.transforms[i](Nt.arr(o)?o:t.map(Pa));n+=" "+l,e=e&&c}),e?"none":n}observerAdded(n){n==1&&tr(this.inputs,e=>tr(e,t=>ka(t)&&Pm(t,this)))}observerRemoved(n){n==0&&tr(this.inputs,e=>tr(e,t=>ka(t)&&gh(t,this)))}eventObserved(n){n.type=="change"&&(this._value=null),mh(this,n)}},MN=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];xa.assign({batchedUpdates:Ep.unstable_batchedUpdates,createStringInterpolator:pT,colors:W2});var ON=EN(MN,{applyAnimatedValues:AN,createAnimatedStyle:n=>new bN(n),getComponentProps:({scrollTop:n,scrollLeft:e,...t})=>t}),LN=ON.animated,$c={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var VN=$c.exports,r0;function FN(){return r0||(r0=1,(function(n,e){((t,i)=>{n.exports=i()})(VN,function t(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},o,l=!i.document&&!!i.postMessage,c=i.IS_PAPA_WORKER||!1,f={},p=0,g={};function w(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(E){var x=Pe(E);x.chunkSize=parseInt(x.chunkSize),E.step||E.chunk||(x.chunkSize=null),this._handle=new $(x),(this._handle.streamer=this)._config=x}).call(this,_),this.parseChunk=function(E,x){var N=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<N){let P=this._config.newline;P||(b=this._config.quoteChar||'"',P=this._handle.guessLineEndings(E,b)),E=[...E.split(P).slice(N)].join(P)}this.isFirstChunk&&C(this._config.beforeFirstChunk)&&(b=this._config.beforeFirstChunk(E))!==void 0&&(E=b),this.isFirstChunk=!1,this._halted=!1;var N=this._partialLine+E,b=(this._partialLine="",this._handle.parse(N,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(E=b.meta.cursor,N=(this._finished||(this._partialLine=N.substring(E-this._baseIndex),this._baseIndex=E),b&&b.data&&(this._rowCount+=b.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)i.postMessage({results:b,workerId:g.WORKER_ID,finished:N});else if(C(this._config.chunk)&&!x){if(this._config.chunk(b,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=b=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(b.data),this._completeResults.errors=this._completeResults.errors.concat(b.errors),this._completeResults.meta=b.meta),this._completed||!N||!C(this._config.complete)||b&&b.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),N||b&&b.meta.paused||this._nextChunk(),b}this._halted=!0},this._sendError=function(E){C(this._config.error)?this._config.error(E):c&&this._config.error&&i.postMessage({workerId:g.WORKER_ID,error:E,finished:!1})}}function S(_){var E;(_=_||{}).chunkSize||(_.chunkSize=g.RemoteChunkSize),w.call(this,_),this._nextChunk=l?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(x){this._input=x,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(E=new XMLHttpRequest,this._config.withCredentials&&(E.withCredentials=this._config.withCredentials),l||(E.onload=Ne(this._chunkLoaded,this),E.onerror=Ne(this._chunkError,this)),E.open(this._config.downloadRequestBody?"POST":"GET",this._input,!l),this._config.downloadRequestHeaders){var x,N=this._config.downloadRequestHeaders;for(x in N)E.setRequestHeader(x,N[x])}var b;this._config.chunkSize&&(b=this._start+this._config.chunkSize-1,E.setRequestHeader("Range","bytes="+this._start+"-"+b));try{E.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}l&&E.status===0&&this._chunkError()}},this._chunkLoaded=function(){E.readyState===4&&(E.status<200||400<=E.status?this._chunkError():(this._start+=this._config.chunkSize||E.responseText.length,this._finished=!this._config.chunkSize||this._start>=(x=>(x=x.getResponseHeader("Content-Range"))!==null?parseInt(x.substring(x.lastIndexOf("/")+1)):-1)(E),this.parseChunk(E.responseText)))},this._chunkError=function(x){x=E.statusText||x,this._sendError(new Error(x))}}function A(_){(_=_||{}).chunkSize||(_.chunkSize=g.LocalChunkSize),w.call(this,_);var E,x,N=typeof FileReader<"u";this.stream=function(b){this._input=b,x=b.slice||b.webkitSlice||b.mozSlice,N?((E=new FileReader).onload=Ne(this._chunkLoaded,this),E.onerror=Ne(this._chunkError,this)):E=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var b=this._input,P=(this._config.chunkSize&&(P=Math.min(this._start+this._config.chunkSize,this._input.size),b=x.call(b,this._start,P)),E.readAsText(b,this._config.encoding));N||this._chunkLoaded({target:{result:P}})},this._chunkLoaded=function(b){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(b.target.result)},this._chunkError=function(){this._sendError(E.error)}}function O(_){var E;w.call(this,_=_||{}),this.stream=function(x){return E=x,this._nextChunk()},this._nextChunk=function(){var x,N;if(!this._finished)return x=this._config.chunkSize,E=x?(N=E.substring(0,x),E.substring(x)):(N=E,""),this._finished=!E,this.parseChunk(N)}}function U(_){w.call(this,_=_||{});var E=[],x=!0,N=!1;this.pause=function(){w.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){w.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(b){this._input=b,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){N&&E.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),E.length?this.parseChunk(E.shift()):x=!0},this._streamData=Ne(function(b){try{E.push(typeof b=="string"?b:b.toString(this._config.encoding)),x&&(x=!1,this._checkIsFinished(),this.parseChunk(E.shift()))}catch(P){this._streamError(P)}},this),this._streamError=Ne(function(b){this._streamCleanUp(),this._sendError(b)},this),this._streamEnd=Ne(function(){this._streamCleanUp(),N=!0,this._streamData("")},this),this._streamCleanUp=Ne(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function $(_){var E,x,N,b,P=Math.pow(2,53),Le=-P,Ke=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ve=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,he=this,J=0,ee=0,M=!1,T=!1,L=[],H={data:[],errors:[],meta:{}};function ae(ne){return _.skipEmptyLines==="greedy"?ne.join("").trim()==="":ne.length===1&&ne[0].length===0}function X(){if(H&&N&&(oe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+g.DefaultDelimiter+"'"),N=!1),_.skipEmptyLines&&(H.data=H.data.filter(function(Ie){return!ae(Ie)})),te()){let Ie=function(Be,Ae){C(_.transformHeader)&&(Be=_.transformHeader(Be,Ae)),L.push(Be)};var _e=Ie;if(H)if(Array.isArray(H.data[0])){for(var ne=0;te()&&ne<H.data.length;ne++)H.data[ne].forEach(Ie);H.data.splice(0,1)}else H.data.forEach(Ie)}function de(Ie,Be){for(var Ae=_.header?{}:[],$e=0;$e<Ie.length;$e++){var Fe=$e,ht=Ie[$e],ht=((Ye,rt)=>(it=>(_.dynamicTypingFunction&&_.dynamicTyping[it]===void 0&&(_.dynamicTyping[it]=_.dynamicTypingFunction(it)),(_.dynamicTyping[it]||_.dynamicTyping)===!0))(Ye)?rt==="true"||rt==="TRUE"||rt!=="false"&&rt!=="FALSE"&&((it=>{if(Ke.test(it)&&(it=parseFloat(it),Le<it&&it<P))return 1})(rt)?parseFloat(rt):ve.test(rt)?new Date(rt):rt===""?null:rt):rt)(Fe=_.header?$e>=L.length?"__parsed_extra":L[$e]:Fe,ht=_.transform?_.transform(ht,Fe):ht);Fe==="__parsed_extra"?(Ae[Fe]=Ae[Fe]||[],Ae[Fe].push(ht)):Ae[Fe]=ht}return _.header&&($e>L.length?oe("FieldMismatch","TooManyFields","Too many fields: expected "+L.length+" fields but parsed "+$e,ee+Be):$e<L.length&&oe("FieldMismatch","TooFewFields","Too few fields: expected "+L.length+" fields but parsed "+$e,ee+Be)),Ae}var Te;H&&(_.header||_.dynamicTyping||_.transform)&&(Te=1,!H.data.length||Array.isArray(H.data[0])?(H.data=H.data.map(de),Te=H.data.length):H.data=de(H.data,0),_.header&&H.meta&&(H.meta.fields=L),ee+=Te)}function te(){return _.header&&L.length===0}function oe(ne,de,Te,_e){ne={type:ne,code:de,message:Te},_e!==void 0&&(ne.row=_e),H.errors.push(ne)}C(_.step)&&(b=_.step,_.step=function(ne){H=ne,te()?X():(X(),H.data.length!==0&&(J+=ne.data.length,_.preview&&J>_.preview?x.abort():(H.data=H.data[0],b(H,he))))}),this.parse=function(ne,de,Te){var _e=_.quoteChar||'"',_e=(_.newline||(_.newline=this.guessLineEndings(ne,_e)),N=!1,_.delimiter?C(_.delimiter)&&(_.delimiter=_.delimiter(ne),H.meta.delimiter=_.delimiter):((_e=((Ie,Be,Ae,$e,Fe)=>{var ht,Ye,rt,it;Fe=Fe||[",","	","|",";",g.RECORD_SEP,g.UNIT_SEP];for(var en=0;en<Fe.length;en++){for(var tn,xn=Fe[en],yt=0,Vt=0,tt=0,st=(rt=void 0,new pe({comments:$e,delimiter:xn,newline:Be,preview:10}).parse(Ie)),St=0;St<st.data.length;St++)Ae&&ae(st.data[St])?tt++:(tn=st.data[St].length,Vt+=tn,rt===void 0?rt=tn:0<tn&&(yt+=Math.abs(tn-rt),rt=tn));0<st.data.length&&(Vt/=st.data.length-tt),(Ye===void 0||yt<=Ye)&&(it===void 0||it<Vt)&&1.99<Vt&&(Ye=yt,ht=xn,it=Vt)}return{successful:!!(_.delimiter=ht),bestDelimiter:ht}})(ne,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess)).successful?_.delimiter=_e.bestDelimiter:(N=!0,_.delimiter=g.DefaultDelimiter),H.meta.delimiter=_.delimiter),Pe(_));return _.preview&&_.header&&_e.preview++,E=ne,x=new pe(_e),H=x.parse(E,de,Te),X(),M?{meta:{paused:!0}}:H||{meta:{paused:!1}}},this.paused=function(){return M},this.pause=function(){M=!0,x.abort(),E=C(_.chunk)?"":E.substring(x.getCharIndex())},this.resume=function(){he.streamer._halted?(M=!1,he.streamer.parseChunk(E,!0)):setTimeout(he.resume,3)},this.aborted=function(){return T},this.abort=function(){T=!0,x.abort(),H.meta.aborted=!0,C(_.complete)&&_.complete(H),E=""},this.guessLineEndings=function(Ie,_e){Ie=Ie.substring(0,1048576);var _e=new RegExp(j(_e)+"([^]*?)"+j(_e),"gm"),Te=(Ie=Ie.replace(_e,"")).split("\r"),_e=Ie.split(`
`),Ie=1<_e.length&&_e[0].length<Te[0].length;if(Te.length===1||Ie)return`
`;for(var Be=0,Ae=0;Ae<Te.length;Ae++)Te[Ae][0]===`
`&&Be++;return Be>=Te.length/2?`\r
`:"\r"}}function j(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function pe(_){var E=(_=_||{}).delimiter,x=_.newline,N=_.comments,b=_.step,P=_.preview,Le=_.fastMode,Ke=null,ve=!1,he=_.quoteChar==null?'"':_.quoteChar,J=he;if(_.escapeChar!==void 0&&(J=_.escapeChar),(typeof E!="string"||-1<g.BAD_DELIMITERS.indexOf(E))&&(E=","),N===E)throw new Error("Comment character same as delimiter");N===!0?N="#":(typeof N!="string"||-1<g.BAD_DELIMITERS.indexOf(N))&&(N=!1),x!==`
`&&x!=="\r"&&x!==`\r
`&&(x=`
`);var ee=0,M=!1;this.parse=function(T,L,H){if(typeof T!="string")throw new Error("Input must be a string");var ae=T.length,X=E.length,te=x.length,oe=N.length,ne=C(b),de=[],Te=[],_e=[],Ie=ee=0;if(!T)return yt();if(Le||Le!==!1&&T.indexOf(he)===-1){for(var Be=T.split(x),Ae=0;Ae<Be.length;Ae++){if(_e=Be[Ae],ee+=_e.length,Ae!==Be.length-1)ee+=x.length;else if(H)return yt();if(!N||_e.substring(0,oe)!==N){if(ne){if(de=[],it(_e.split(E)),Vt(),M)return yt()}else it(_e.split(E));if(P&&P<=Ae)return de=de.slice(0,P),yt(!0)}}return yt()}for(var $e=T.indexOf(E,ee),Fe=T.indexOf(x,ee),ht=new RegExp(j(J)+j(he),"g"),Ye=T.indexOf(he,ee);;)if(T[ee]===he)for(Ye=ee,ee++;;){if((Ye=T.indexOf(he,Ye+1))===-1)return H||Te.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:de.length,index:ee}),tn();if(Ye===ae-1)return tn(T.substring(ee,Ye).replace(ht,he));if(he===J&&T[Ye+1]===J)Ye++;else if(he===J||Ye===0||T[Ye-1]!==J){$e!==-1&&$e<Ye+1&&($e=T.indexOf(E,Ye+1));var rt=en((Fe=Fe!==-1&&Fe<Ye+1?T.indexOf(x,Ye+1):Fe)===-1?$e:Math.min($e,Fe));if(T.substr(Ye+1+rt,X)===E){_e.push(T.substring(ee,Ye).replace(ht,he)),T[ee=Ye+1+rt+X]!==he&&(Ye=T.indexOf(he,ee)),$e=T.indexOf(E,ee),Fe=T.indexOf(x,ee);break}if(rt=en(Fe),T.substring(Ye+1+rt,Ye+1+rt+te)===x){if(_e.push(T.substring(ee,Ye).replace(ht,he)),xn(Ye+1+rt+te),$e=T.indexOf(E,ee),Ye=T.indexOf(he,ee),ne&&(Vt(),M))return yt();if(P&&de.length>=P)return yt(!0);break}Te.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:de.length,index:ee}),Ye++}}else if(N&&_e.length===0&&T.substring(ee,ee+oe)===N){if(Fe===-1)return yt();ee=Fe+te,Fe=T.indexOf(x,ee),$e=T.indexOf(E,ee)}else if($e!==-1&&($e<Fe||Fe===-1))_e.push(T.substring(ee,$e)),ee=$e+X,$e=T.indexOf(E,ee);else{if(Fe===-1)break;if(_e.push(T.substring(ee,Fe)),xn(Fe+te),ne&&(Vt(),M))return yt();if(P&&de.length>=P)return yt(!0)}return tn();function it(tt){de.push(tt),Ie=ee}function en(tt){var st=0;return st=tt!==-1&&(tt=T.substring(Ye+1,tt))&&tt.trim()===""?tt.length:st}function tn(tt){return H||(tt===void 0&&(tt=T.substring(ee)),_e.push(tt),ee=ae,it(_e),ne&&Vt()),yt()}function xn(tt){ee=tt,it(_e),_e=[],Fe=T.indexOf(x,ee)}function yt(tt){if(_.header&&!L&&de.length&&!ve){var st=de[0],St=Object.create(null),qt=new Set(st);let _n=!1;for(let zt=0;zt<st.length;zt++){let Kt=st[zt];if(St[Kt=C(_.transformHeader)?_.transformHeader(Kt,zt):Kt]){let Gt,Rr=St[Kt];for(;Gt=Kt+"_"+Rr,Rr++,qt.has(Gt););qt.add(Gt),st[zt]=Gt,St[Kt]++,_n=!0,(Ke=Ke===null?{}:Ke)[Gt]=Kt}else St[Kt]=1,st[zt]=Kt;qt.add(Kt)}_n&&console.warn("Duplicate headers found and renamed."),ve=!0}return{data:de,errors:Te,meta:{delimiter:E,linebreak:x,aborted:M,truncated:!!tt,cursor:Ie+(L||0),renamedHeaders:Ke}}}function Vt(){b(yt()),de=[],Te=[]}},this.abort=function(){M=!0},this.getCharIndex=function(){return ee}}function ie(_){var E=_.data,x=f[E.workerId],N=!1;if(E.error)x.userError(E.error,E.file);else if(E.results&&E.results.data){var b={abort:function(){N=!0,me(E.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ge,resume:ge};if(C(x.userStep)){for(var P=0;P<E.results.data.length&&(x.userStep({data:E.results.data[P],errors:E.results.errors,meta:E.results.meta},b),!N);P++);delete E.results}else C(x.userChunk)&&(x.userChunk(E.results,b,E.file),delete E.results)}E.finished&&!N&&me(E.workerId,E.results)}function me(_,E){var x=f[_];C(x.userComplete)&&x.userComplete(E),x.terminate(),delete f[_]}function ge(){throw new Error("Not implemented.")}function Pe(_){if(typeof _!="object"||_===null)return _;var E,x=Array.isArray(_)?[]:{};for(E in _)x[E]=Pe(_[E]);return x}function Ne(_,E){return function(){_.apply(E,arguments)}}function C(_){return typeof _=="function"}return g.parse=function(_,E){var x=(E=E||{}).dynamicTyping||!1;if(C(x)&&(E.dynamicTypingFunction=x,x={}),E.dynamicTyping=x,E.transform=!!C(E.transform)&&E.transform,!E.worker||!g.WORKERS_SUPPORTED)return x=null,g.NODE_STREAM_INPUT,typeof _=="string"?(_=(N=>N.charCodeAt(0)!==65279?N:N.slice(1))(_),x=new(E.download?S:O)(E)):_.readable===!0&&C(_.read)&&C(_.on)?x=new U(E):(i.File&&_ instanceof File||_ instanceof Object)&&(x=new A(E)),x.stream(_);(x=(()=>{var N;return!!g.WORKERS_SUPPORTED&&(N=(()=>{var b=i.URL||i.webkitURL||null,P=t.toString();return g.BLOB_URL||(g.BLOB_URL=b.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",P,")();"],{type:"text/javascript"})))})(),(N=new i.Worker(N)).onmessage=ie,N.id=p++,f[N.id]=N)})()).userStep=E.step,x.userChunk=E.chunk,x.userComplete=E.complete,x.userError=E.error,E.step=C(E.step),E.chunk=C(E.chunk),E.complete=C(E.complete),E.error=C(E.error),delete E.worker,x.postMessage({input:_,config:E,workerId:x.id})},g.unparse=function(_,E){var x=!1,N=!0,b=",",P=`\r
`,Le='"',Ke=Le+Le,ve=!1,he=null,J=!1,ee=((()=>{if(typeof E=="object"){if(typeof E.delimiter!="string"||g.BAD_DELIMITERS.filter(function(L){return E.delimiter.indexOf(L)!==-1}).length||(b=E.delimiter),typeof E.quotes!="boolean"&&typeof E.quotes!="function"&&!Array.isArray(E.quotes)||(x=E.quotes),typeof E.skipEmptyLines!="boolean"&&typeof E.skipEmptyLines!="string"||(ve=E.skipEmptyLines),typeof E.newline=="string"&&(P=E.newline),typeof E.quoteChar=="string"&&(Le=E.quoteChar),typeof E.header=="boolean"&&(N=E.header),Array.isArray(E.columns)){if(E.columns.length===0)throw new Error("Option columns is empty");he=E.columns}E.escapeChar!==void 0&&(Ke=E.escapeChar+Le),E.escapeFormulae instanceof RegExp?J=E.escapeFormulae:typeof E.escapeFormulae=="boolean"&&E.escapeFormulae&&(J=/^[=+\-@\t\r].*$/)}})(),new RegExp(j(Le),"g"));if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return M(null,_,ve);if(typeof _[0]=="object")return M(he||Object.keys(_[0]),_,ve)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||he),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||typeof _.data[0]=="object"||(_.data=[_.data])),M(_.fields||[],_.data||[],ve);throw new Error("Unable to serialize unrecognized input");function M(L,H,ae){var X="",te=(typeof L=="string"&&(L=JSON.parse(L)),typeof H=="string"&&(H=JSON.parse(H)),Array.isArray(L)&&0<L.length),oe=!Array.isArray(H[0]);if(te&&N){for(var ne=0;ne<L.length;ne++)0<ne&&(X+=b),X+=T(L[ne],ne);0<H.length&&(X+=P)}for(var de=0;de<H.length;de++){var Te=(te?L:H[de]).length,_e=!1,Ie=te?Object.keys(H[de]).length===0:H[de].length===0;if(ae&&!te&&(_e=ae==="greedy"?H[de].join("").trim()==="":H[de].length===1&&H[de][0].length===0),ae==="greedy"&&te){for(var Be=[],Ae=0;Ae<Te;Ae++){var $e=oe?L[Ae]:Ae;Be.push(H[de][$e])}_e=Be.join("").trim()===""}if(!_e){for(var Fe=0;Fe<Te;Fe++){0<Fe&&!Ie&&(X+=b);var ht=te&&oe?L[Fe]:Fe;X+=T(H[de][ht],Fe)}de<H.length-1&&(!ae||0<Te&&!Ie)&&(X+=P)}}return X}function T(L,H){var ae,X;return L==null?"":L.constructor===Date?JSON.stringify(L).slice(1,25):(X=!1,J&&typeof L=="string"&&J.test(L)&&(L="'"+L,X=!0),ae=L.toString().replace(ee,Ke),(X=X||x===!0||typeof x=="function"&&x(L,H)||Array.isArray(x)&&x[H]||((te,oe)=>{for(var ne=0;ne<oe.length;ne++)if(-1<te.indexOf(oe[ne]))return!0;return!1})(ae,g.BAD_DELIMITERS)||-1<ae.indexOf(b)||ae.charAt(0)===" "||ae.charAt(ae.length-1)===" ")?Le+ae+Le:ae)}},g.RECORD_SEP="",g.UNIT_SEP="",g.BYTE_ORDER_MARK="\uFEFF",g.BAD_DELIMITERS=["\r",`
`,'"',g.BYTE_ORDER_MARK],g.WORKERS_SUPPORTED=!l&&!!i.Worker,g.NODE_STREAM_INPUT=1,g.LocalChunkSize=10485760,g.RemoteChunkSize=5242880,g.DefaultDelimiter=",",g.Parser=pe,g.ParserHandle=$,g.NetworkStreamer=S,g.FileStreamer=A,g.StringStreamer=O,g.ReadableStreamStreamer=U,i.jQuery&&((o=i.jQuery).fn.parse=function(_){var E=_.config||{},x=[];return this.each(function(P){if(!(o(this).prop("tagName").toUpperCase()==="INPUT"&&o(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var Le=0;Le<this.files.length;Le++)x.push({file:this.files[Le],inputElem:this,instanceConfig:o.extend({},E)})}),N(),this;function N(){if(x.length===0)C(_.complete)&&_.complete();else{var P,Le,Ke,ve,he=x[0];if(C(_.before)){var J=_.before(he.file,he.inputElem);if(typeof J=="object"){if(J.action==="abort")return P="AbortError",Le=he.file,Ke=he.inputElem,ve=J.reason,void(C(_.error)&&_.error({name:P},Le,Ke,ve));if(J.action==="skip")return void b();typeof J.config=="object"&&(he.instanceConfig=o.extend(he.instanceConfig,J.config))}else if(J==="skip")return void b()}var ee=he.instanceConfig.complete;he.instanceConfig.complete=function(M){C(ee)&&ee(M,he.file,he.inputElem),b()},g.parse(he.file,he.instanceConfig)}}function b(){x.splice(0,1),N()}}),c&&(i.onmessage=function(_){_=_.data,g.WORKER_ID===void 0&&_&&(g.WORKER_ID=_.workerId),typeof _.input=="string"?i.postMessage({workerId:g.WORKER_ID,results:g.parse(_.input,_.config),finished:!0}):(i.File&&_.input instanceof File||_.input instanceof Object)&&(_=g.parse(_.input,_.config))&&i.postMessage({workerId:g.WORKER_ID,results:_,finished:!0})}),(S.prototype=Object.create(w.prototype)).constructor=S,(A.prototype=Object.create(w.prototype)).constructor=A,(O.prototype=Object.create(O.prototype)).constructor=O,(U.prototype=Object.create(w.prototype)).constructor=U,g})})($c)),$c.exports}var jN=FN();const UN=vh(jN),zN=({item:n,allItems:e,index:t,onUpdate:i,onBringToFront:o})=>{const l=W.useRef(),c=W.useRef(0),[f,p]=W.useState(!1);W.useEffect(()=>{const A=()=>{let{x:O,y:U,vx:$,vy:j}=n;c.current%10===0&&e.forEach((Ne,C)=>{if(C!==t){const _=O-Ne.x,E=U-Ne.y,x=Math.sqrt(_*_+E*E);if(x>0&&x<150){const N=2/x;$+=_/x*N,j+=E/x*N}}}),c.current++,O+=$,U+=j;const pe=window.innerWidth<=768,ie=pe?300:900,me=pe?500:800;(O<0||O>ie)&&($*=-.8),(U<0||U>me)&&(j*=-.8),O=Math.max(0,Math.min(ie,O)),U=Math.max(0,Math.min(me,U));const ge=2,Pe=Math.sqrt($*$+j*j);Pe>ge&&($=$/Pe*ge,j=j/Pe*ge),$*=.995,j*=.995,i(t,O,U,$,j),l.current=requestAnimationFrame(A)};return l.current=requestAnimationFrame(A),()=>{l.current&&cancelAnimationFrame(l.current)}},[n,e,t,i]);const g=A=>{try{return new URL(A),A.startsWith("http://")||A.startsWith("https://")}catch{return!1}},w=(A,O)=>{g(O)||A.preventDefault()},S=(A,O)=>{A.preventDefault(),n.isFront?g(O)&&window.open(O,"_blank","noopener,noreferrer"):o(t)};return R.jsx(LN.a,{href:g(n.url)?n.url:void 0,target:g(n.url)?"_blank":void 0,rel:g(n.url)?"noopener noreferrer":void 0,className:`word-cloud-item animated ${n.isFront?"front":""}`,style:{fontSize:`${n.size}px`,color:n.color,left:`${n.x}px`,top:`${n.y}px`,position:"absolute",cursor:g(n.url)?"pointer":"default",zIndex:n.isFront||f?100:1},onClick:A=>w(A,n.url),onTouchEnd:A=>S(A,n.url),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:R.jsxs("div",{className:"quote-content",children:[R.jsxs("div",{className:"quote-text",children:['"',n.quote,'"']}),R.jsxs("div",{className:"quote-speaker",children:[" ",n.speaker]})]})})},BN=()=>{const[n,e]=W.useState(!1),[t,i]=W.useState([]),o=(p,g,w,S,A)=>{i(O=>O.map((U,$)=>$===p?{...U,x:g,y:w,vx:S,vy:A}:U))},l=p=>{i(g=>g.map((w,S)=>({...w,isFront:S===p})))};W.useEffect(()=>{e(!0),fetch("/hype.csv").then(p=>p.text()).then(p=>{const g=["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3","#54a0ff","#00d2d3","#ff6348","#2ed573","#ffa502","#e17055","#74b9ff","#fd79a8","#fdcb6e","#00b894","#e84393","#55a3ff","#26de81","#fc5c65"];UN.parse(p,{header:!0,complete:w=>{const S=w.data.filter(A=>A.Quote_Description&&A.Hype_Value).map((A,O)=>{const U=parseInt(A.Hype_Value||"0")||0,$=12+U/100*20,j=window.innerWidth<=768,pe=j?300:900,ie=j?500:800,me=pe/2,ge=ie/2,Pe=Math.random()*pe,Ne=Math.random()*ie,C=Pe-me,_=Ne-ge,E=Math.sqrt(C*C+_*_),x=3;return{quote:(A.Quote_Description||"").replace(/"/g,""),speaker:A.Person_Organization||"Unknown",hype:U,url:A.Direct_Link||"#",color:g[O%g.length],size:$,x:Pe,y:Ne,vx:E>0?C/E*x:(Math.random()-.5)*2,vy:E>0?_/E*x:(Math.random()-.5)*2,isFront:!1}});i(S)}})}).catch(p=>{console.error("Error loading CSV:",p),i([{quote:"AI agents will transform the workforce",speaker:"Tech Leader",hype:100,color:"#ff6b6b",url:"#",size:32,x:450,y:400,vx:1,vy:1,isFront:!1}])})},[]);const c=[{date:"Oct 1",title:"Building the Foundation",subtitle:"From LLM Calls to MCP Tools",topics:["LLM evolution & tool use fundamentals","MCP introduction & server setup","Building your first newspaper agent","Anti-patterns and teaching moments"],highlight:"Watch agents come to life through live demonstrations"},{date:"Oct 8",title:"Adding Memory & Context",subtitle:"Vector Storage & Conversation Management",topics:["Context bursting problems & solutions","ChromaDB for vector memory","MCP sampling and elicitation features","Conversation compaction strategies"],highlight:"Solve real context management challenges"},{date:"Oct 15",title:"Multi-Agent Collaboration",subtitle:"Predictive Intelligence & Agent Orchestration",topics:["Multi-agent newspaper personalization","Predictive intelligence patterns","Production hosting options survey","Agent collaboration workflows"],highlight:"Build collaborative newspaper creation system"},{date:"Oct 22",title:"Student Showcases",subtitle:"Demo Your Creations",topics:["Student presentations","Peer feedback sessions","Advanced patterns & next steps","Production deployment strategies"],highlight:"Present your personalized agents"}],f=[{icon:"",title:"Live Demonstrations",description:"Watch real agents built through pre-written Jupyter notebooks that run with one click"},{icon:"",title:"Model Context Protocol",description:"Master MCP through FastAgent, Copilot, and Cursor integrations"},{icon:"",title:"Technical Story-telling",description:"Laptops closed - observe, discuss, and learn through guided demonstrations"},{icon:"",title:"Newspaper Agent Project",description:"Build a personalized news application with collaborative agents"}];return R.jsxs("div",{className:`workshop-container ${n?"fade-in":""}`,children:[R.jsx("div",{className:"claude-credit",children:"Made by Claude with love "}),R.jsxs("div",{className:"hero-section",children:[R.jsx("div",{className:"hero-background"}),R.jsxs("div",{className:"hero-content",children:[R.jsx("div",{className:"hero-badge",children:" NYU CDS Community Workshop"}),R.jsx("h1",{className:"workshop-title",children:R.jsx("span",{className:"gradient-text",children:"Agentic AI Workshop"})}),R.jsx("p",{className:"workshop-subtitle",children:"Master cutting-edge Model Context Protocol through live demonstrations. Build a personalized newspaper creation application using two collaborative agents."}),R.jsxs("div",{className:"hero-stats",children:[R.jsxs("div",{className:"stat",children:[R.jsx("span",{className:"stat-number",children:"3+1"}),R.jsx("span",{className:"stat-label",children:"Sessions + Showcase"})]}),R.jsxs("div",{className:"stat",children:[R.jsx("span",{className:"stat-number",children:"90"}),R.jsx("span",{className:"stat-label",children:"Minutes Each"})]}),R.jsxs("div",{className:"stat",children:[R.jsx("span",{className:"stat-number",children:"1"}),R.jsx("span",{className:"stat-label",children:"News Agent Project"})]})]}),R.jsxs("div",{className:"workshop-details",children:[R.jsxs("div",{className:"detail-item",children:[R.jsx("span",{className:"icon",children:""}),R.jsx("span",{children:"Wednesdays 5:00-6:30 PM"})]}),R.jsxs("div",{className:"detail-item",children:[R.jsx("span",{className:"icon",children:""}),R.jsx("span",{children:"Oct 1-22, 2025"})]}),R.jsxs("div",{className:"detail-item",children:[R.jsx("span",{className:"icon",children:""}),R.jsx("span",{children:"Technical story-telling"})]})]}),R.jsxs("div",{className:"hero-cta",children:[R.jsx(xl,{to:"/agentic-ai-workshop/registration-form",className:"primary-button",children:"Join the Workshop"}),R.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:R.jsx("a",{href:"https://github.com/adityaarunsinghal/agentic-ai-workshop-2025",target:"_blank",rel:"noopener noreferrer",className:"secondary-button",children:"View Public Repository"})}),R.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[R.jsx("a",{href:"mailto:adityaarunsinghal@gmail.com?subject=Planning to come to office hours - <your name>&body=Hey Adi,%0D%0A%0D%0APlanning to come to office hours this Friday at 4:30pm ET (or asking if possible to talk at a different time for a bit).%0D%0A%0D%0AHere is a bit about me: <fill this>",className:"secondary-button",children:"Come to Office Hours"}),R.jsx("span",{style:{fontSize:"0.8rem",opacity:"0.6",marginTop:"5px"},children:"(Fridays 4:30pm ET)"})]}),R.jsx(xl,{to:"/agentic-ai-workshop/feedback",className:"secondary-button",children:"Workshop Feedback"})]})]})]}),R.jsxs("div",{className:"content-section",children:[R.jsx("div",{className:"intro-section",children:R.jsxs("div",{className:"intro-card",children:[R.jsx("h2",{children:" What is Agentic AI?"}),R.jsx("p",{className:"intro-text",children:"Agentic AI is all the buzz in 2025, both for businesses and employers. It refers to AI systems that can autonomously accomplish specific goals with limited supervision. These AI agents use tools, maintain memory, and mimic human decision-making to solve problems in real time, adapting their behavior based on context."}),R.jsxs("p",{className:"intro-highlight",children:["This is a ",R.jsx("strong",{children:'"technical story-telling"'})," experience where you'll watch agents come to life through live demonstrations using pre-written Jupyter notebooksthen build your own newspaper agent as optional homework each week."]})]})}),R.jsx("div",{className:"analogy-section",children:R.jsxs("div",{className:"analogy-card",children:[R.jsx("h2",{children:" The Restaurant Analogy"}),R.jsxs("div",{className:"analogy-grid",children:[R.jsxs("div",{className:"analogy-item",children:[R.jsx("span",{className:"analogy-icon",children:""}),R.jsx("h4",{children:"MCP Server = Kitchen"}),R.jsx("p",{children:"All the tools and ingredients (resources) you need"})]}),R.jsxs("div",{className:"analogy-item",children:[R.jsx("span",{className:"analogy-icon",children:""}),R.jsx("h4",{children:"Client = Waiter"}),R.jsx("p",{children:"Takes orders and delivers results (Claude, your app)"})]}),R.jsxs("div",{className:"analogy-item",children:[R.jsx("span",{className:"analogy-icon",children:""}),R.jsx("h4",{children:"Agent = Chef's Expertise"}),R.jsx("p",{children:"The intelligence that adapts and creates"})]})]}),R.jsx("div",{className:"analogy-quote",children:'"A vending machine has fixed buttons. A restaurant adapts  same kitchen, infinite possibilities."'})]})}),R.jsxs("div",{className:"features-section",children:[R.jsx("h2",{children:"Why This Workshop?"}),R.jsx("div",{className:"features-grid",children:f.map((p,g)=>R.jsxs("div",{className:"feature-card",children:[R.jsx("div",{className:"feature-icon",children:p.icon}),R.jsx("h3",{children:p.title}),R.jsx("p",{children:p.description})]},g))})]}),R.jsxs("div",{className:"sessions-section",children:[R.jsx("h2",{children:"Workshop Journey"}),R.jsx("div",{className:"sessions-timeline",children:c.map((p,g)=>R.jsxs("div",{className:"session-card",children:[R.jsx("div",{className:"session-number",children:g+1}),R.jsx("div",{className:"session-date",children:p.date}),R.jsxs("div",{className:"session-content",children:[R.jsx("h3",{children:p.title}),R.jsx("p",{className:"session-subtitle",children:p.subtitle}),R.jsx("div",{className:"session-highlight",children:p.highlight}),R.jsx("ul",{className:"session-topics",children:p.topics.map((w,S)=>R.jsx("li",{children:w},S))})]})]},g))})]}),R.jsxs("div",{className:"tech-stack-section",children:[R.jsx("h2",{children:"Tech Stack & Development Environment"}),R.jsx("p",{className:"tech-intro",children:"Pre-written Jupyter notebooks and modern MCP tools"}),R.jsxs("div",{className:"tech-benefits-grid",children:[R.jsxs("div",{className:"tech-column",children:[R.jsx("h3",{children:"Tools & Platforms"}),R.jsxs("div",{className:"tech-grid",children:[R.jsxs("div",{className:"tech-item",children:[R.jsx("span",{className:"tech-icon",children:""}),R.jsx("span",{children:"FastMCP"})]}),R.jsxs("div",{className:"tech-item",children:[R.jsx("span",{className:"tech-icon",children:""}),R.jsx("span",{children:"FastAgent"})]}),R.jsxs("div",{className:"tech-item",children:[R.jsx("span",{className:"tech-icon",children:""}),R.jsx("span",{children:"Copilot & Cursor"})]}),R.jsxs("div",{className:"tech-item",children:[R.jsx("span",{className:"tech-icon",children:""}),R.jsx("span",{children:"ChromaDB"})]}),R.jsxs("div",{className:"tech-item",children:[R.jsx("span",{className:"tech-icon",children:""}),R.jsx("span",{children:"Free OpenRouter Credits"})]}),R.jsxs("div",{className:"tech-item",children:[R.jsx("span",{className:"tech-icon",children:""}),R.jsx("span",{children:"Jupyter Notebooks"})]})]})]}),R.jsxs("div",{className:"tech-column",children:[R.jsx("h3",{children:"Key Learning Areas"}),R.jsxs("div",{className:"applications-list",children:[R.jsxs("div",{className:"application-item",children:[R.jsx("span",{className:"app-icon",children:""}),R.jsx("span",{children:"Context bursting solutions"})]}),R.jsxs("div",{className:"application-item",children:[R.jsx("span",{className:"app-icon",children:""}),R.jsx("span",{children:"Conversation management"})]}),R.jsxs("div",{className:"application-item",children:[R.jsx("span",{className:"app-icon",children:""}),R.jsx("span",{children:"MCP sampling & elicitation"})]}),R.jsxs("div",{className:"application-item",children:[R.jsx("span",{className:"app-icon",children:""}),R.jsx("span",{children:"Production hosting patterns"})]}),R.jsxs("div",{className:"application-item",children:[R.jsx("span",{className:"app-icon",children:""}),R.jsx("span",{children:"Anti-patterns & debugging"})]})]})]})]})]}),R.jsxs("div",{className:"format-section",children:[R.jsx("h2",{children:"Workshop Structure"}),R.jsxs("div",{className:"format-grid",children:[R.jsxs("div",{className:"format-card",children:[R.jsx("div",{className:"format-icon",children:""}),R.jsx("h3",{children:"15 Minutes Pre-Discussion"}),R.jsx("p",{children:"Session kickoff with community discussion and context setting."})]}),R.jsxs("div",{className:"format-card",children:[R.jsx("div",{className:"format-icon",children:""}),R.jsx("h3",{children:"60 Minutes Live Demo"}),R.jsx("p",{children:"Technical story-telling with live Jupyter notebook demonstrations."})]}),R.jsxs("div",{className:"format-card",children:[R.jsx("div",{className:"format-icon",children:""}),R.jsx("h3",{children:"15 Minutes Q&A"}),R.jsx("p",{children:"Interactive discussion and personalized guidance for your projects."})]}),R.jsxs("div",{className:"format-card",children:[R.jsx("div",{className:"format-icon",children:""}),R.jsx("h3",{children:"Optional Homework"}),R.jsx("p",{children:"Build your own newspaper agent using provided notebooks as foundation."})]})]})]}),R.jsxs("div",{className:"learning-outcomes-section",children:[R.jsx("h2",{children:"Learning Outcomes"}),R.jsx("p",{className:"outcomes-intro",children:"This isn't just theoryyou'll leave with:"}),R.jsxs("div",{className:"outcomes-grid",children:[R.jsxs("div",{className:"outcome-card",children:[R.jsx("div",{className:"outcome-icon",children:""}),R.jsx("h3",{children:"Working Agents"}),R.jsx("p",{children:"Functional agents you built yourself that solve real problems"})]}),R.jsxs("div",{className:"outcome-card",children:[R.jsx("div",{className:"outcome-icon",children:""}),R.jsx("h3",{children:"Domain Knowledge"}),R.jsx("p",{children:"Skills to build intelligent systems for any domain or use case"})]}),R.jsxs("div",{className:"outcome-card",children:[R.jsx("div",{className:"outcome-icon",children:""}),R.jsx("h3",{children:"Strategic Understanding"}),R.jsx("p",{children:"Know when to use agents vs traditional applications"})]}),R.jsxs("div",{className:"outcome-card",children:[R.jsx("div",{className:"outcome-icon",children:""}),R.jsx("h3",{children:"AI Revolution Position"}),R.jsx("p",{children:"Be at the forefront of the next wave of AI innovation"})]})]})]}),R.jsx("div",{className:"instructor-section",children:R.jsxs("div",{className:"instructor-card",children:[R.jsx("h2",{children:"About the Instructors"}),R.jsxs("div",{className:"instructors-grid",children:[R.jsxs("div",{className:"instructor-info",children:[R.jsx("h3",{children:"Adi Singhal"}),R.jsxs("p",{className:"instructor-bio",children:["Former CDS student and founder of the ",R.jsx("strong",{children:"NYU Data Science Club"}),". Currently at AWS helping build ",R.jsx("strong",{children:"Amazon Q"}),", the company's premiere agentic offering for developers and businesses."]}),R.jsx("a",{href:"https://www.linkedin.com/in/adi-singhal/",target:"_blank",rel:"noopener noreferrer",className:"linkedin-button",children:"Connect on LinkedIn"})]}),R.jsxs("div",{className:"instructor-info",children:[R.jsx("h3",{children:"Luca Chang"}),R.jsxs("p",{className:"instructor-bio",children:["Works in the ",R.jsx("strong",{children:"AWS Agentic AI organization"})," and is a regular contributor to the ",R.jsx("strong",{children:"MCP specification and SDKs"}),". Expert in building production-ready agentic systems."]}),R.jsx("a",{href:"https://www.linkedin.com/in/luca-chang/",target:"_blank",rel:"noopener noreferrer",className:"linkedin-button",children:"Connect on LinkedIn"})]})]})]})}),R.jsx("div",{className:"commitment-section",children:R.jsxs("div",{className:"commitment-card",children:[R.jsx("h2",{children:" What We Expect"}),R.jsxs("div",{className:"commitment-grid",children:[R.jsxs("div",{className:"commitment-item",children:[R.jsx("span",{className:"commitment-icon",children:""}),R.jsx("span",{children:"Attend sessions"})]}),R.jsxs("div",{className:"commitment-item",children:[R.jsx("span",{className:"commitment-icon",children:""}),R.jsx("span",{children:"Engage with optional homework"})]}),R.jsxs("div",{className:"commitment-item",children:[R.jsx("span",{className:"commitment-icon",children:""}),R.jsx("span",{children:"Participate in discussions"})]}),R.jsxs("div",{className:"commitment-item",children:[R.jsx("span",{className:"commitment-icon",children:""}),R.jsx("span",{children:"Share your learnings"})]})]}),R.jsx("p",{className:"commitment-note",children:"A collaborative learning experience for builders interested in agentic AI."})]})}),R.jsx("div",{className:"cta-section",children:R.jsxs("div",{className:"cta-content",children:[R.jsx("h2",{children:"Ready to Explore Agentic AI?"}),R.jsx("p",{children:"Join the CDS community in learning about agentic AI through hands-on demonstrations and collaborative exploration."}),R.jsx("div",{className:"cta-buttons",children:R.jsx(xl,{to:"/agentic-ai-workshop/registration-form",className:"primary-button large",children:"Join the Workshop"})})]})}),R.jsxs("div",{className:"word-cloud-section",children:[R.jsx("h2",{children:"Inspect the Hype"}),R.jsx("div",{className:"word-cloud",children:t.map((p,g)=>R.jsx(zN,{item:p,allItems:t,index:g,onUpdate:o,onBringToFront:l},g))})]})]})]})},i0=()=>{const[n,e]=W.useState(3);return W.useEffect(()=>{const t=setInterval(()=>{e(i=>i<=1?(window.location.href="https://docs.google.com/forms/d/e/1FAIpQLSe2V4WGW1P2sNSJ06s_ydU16H7LF6vcP0tYkTopYuhUyO3XjQ/viewform",0):i-1)},1e3);return()=>clearInterval(t)},[]),R.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",color:"white",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',padding:"20px"},children:[R.jsxs("div",{style:{textAlign:"center",background:"rgba(255, 255, 255, 0.05)",padding:"60px 40px",borderRadius:"20px",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",maxWidth:"500px",width:"100%"},children:[R.jsx("div",{style:{fontSize:"4rem",marginBottom:"30px",animation:"pulse 2s infinite"},children:""}),R.jsx("h1",{style:{fontSize:"2.2rem",marginBottom:"20px",fontWeight:"700",background:"linear-gradient(45deg, #4ecdc4, #45b7d1)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Workshop Registration Form"}),R.jsxs("p",{style:{fontSize:"1.2rem",marginBottom:"30px",opacity:"0.9",lineHeight:"1.6"},children:["Redirecting to the registration form in ",R.jsx("strong",{style:{color:"#4ecdc4"},children:n})," seconds..."]}),R.jsx("div",{style:{marginBottom:"30px"},children:R.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSe2V4WGW1P2sNSJ06s_ydU16H7LF6vcP0tYkTopYuhUyO3XjQ/viewform",style:{display:"inline-block",background:"linear-gradient(45deg, #4ecdc4, #45b7d1)",color:"white",padding:"15px 30px",borderRadius:"50px",textDecoration:"none",fontWeight:"600",fontSize:"1.1rem",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(78, 205, 196, 0.3)",marginRight:"15px"},onMouseOver:t=>{t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow="0 6px 20px rgba(78, 205, 196, 0.4)"},onMouseOut:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 4px 15px rgba(78, 205, 196, 0.3)"},children:"Go to Form Now"})}),R.jsx(xl,{to:"/agentic-ai-workshop",style:{color:"#4ecdc4",textDecoration:"none",fontSize:"1rem",opacity:"0.8",borderBottom:"1px solid transparent",transition:"all 0.3s ease"},onMouseOver:t=>{t.currentTarget.style.borderBottomColor="#4ecdc4",t.currentTarget.style.opacity="1"},onMouseOut:t=>{t.currentTarget.style.borderBottomColor="transparent",t.currentTarget.style.opacity="0.8"},children:" Back to Workshop Details"}),R.jsxs("div",{style:{marginTop:"40px",padding:"20px",background:"rgba(255, 193, 7, 0.1)",borderRadius:"10px",border:"1px solid rgba(255, 193, 7, 0.3)",fontSize:"0.9rem"},children:[R.jsx("strong",{style:{color:"#ffc107"},children:"Note:"})," Please include whether you're an undergraduate, graduate student, or alumni in your registration form."]})]}),R.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.1); }
        }
        
        @media (max-width: 480px) {
          div[style*="padding: 60px 40px"] {
            padding: 40px 20px !important;
          }
        }
      `})]})};function $N(){return R.jsx("div",{style:{width:"100%",height:"100vh"},children:R.jsx("iframe",{src:"/static/index.html",title:"Aditya Singhal",style:{width:"100%",height:"100%",border:"none"}})})}const CT=()=>W.useContext(eT),s0=({children:n})=>{const{user:e}=CT(),t=wo();return e?n:R.jsx(R0,{to:"/login",state:{from:t},replace:!0})},WN=["adityaarunsinghal@gmail.com","johannefriedman@gmail.com","johanne.friedman@gmail.com"],HN=()=>{var c,f;const[n,e]=W.useState(!1),t=Th(),o=((f=(c=wo().state)==null?void 0:c.from)==null?void 0:f.pathname)||"/",l=async()=>{e(!0);const p=new Pi;try{const w=(await yC(hh,p)).user.email;if(w&&!WN.includes(w)){await sw(hh),alert("Access denied. Only Adi and Ingy can log in.");return}t(o)}catch(g){console.error(g)}finally{e(!1)}};return R.jsxs("div",{className:"login-page",children:[R.jsx("h1",{children:"Hi babydoll ;)"}),R.jsx("button",{onClick:l,disabled:n,children:n?"Logging in...":"Log in with Google"})]})},qN=()=>(W.useEffect(()=>{window.location.href="/Aditya_Singhal_Resume_Sept2025.pdf"},[]),null),KN=()=>(W.useEffect(()=>{window.location.href="https://www.linkedin.com/in/adi-singhal/"},[]),null),GN=()=>(W.useEffect(()=>{window.location.href="https://www.instagram.com/that_dramebaaz_guy/"},[]),null),QN=()=>(W.useEffect(()=>{window.location.href="https://www.facebook.com/that.dramebaaz.guy"},[]),null),YN=()=>(W.useEffect(()=>{window.location.href="https://www.youtube.com/channel/UCgepx936F0EMIiYK8I4HiNw"},[]),null),JN=()=>{const[n,e]=W.useState(3);return W.useEffect(()=>{const t=setInterval(()=>{e(i=>i<=1?(window.location.href="https://forms.gle/CbqwHw1mtBcL7hHZ7",0):i-1)},1e3);return()=>clearInterval(t)},[]),R.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",color:"white",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',padding:"20px"},children:[R.jsxs("div",{style:{textAlign:"center",background:"rgba(255, 255, 255, 0.05)",padding:"60px 40px",borderRadius:"20px",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",maxWidth:"500px",width:"100%"},children:[R.jsx("div",{style:{fontSize:"4rem",marginBottom:"30px",animation:"pulse 2s infinite"},children:""}),R.jsx("h1",{style:{fontSize:"2.2rem",marginBottom:"20px",fontWeight:"700",background:"linear-gradient(45deg, #4ecdc4, #45b7d1)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Workshop Feedback Form"}),R.jsxs("p",{style:{fontSize:"1.2rem",marginBottom:"30px",opacity:"0.9",lineHeight:"1.6"},children:["Redirecting to the feedback form in ",R.jsx("strong",{style:{color:"#4ecdc4"},children:n})," seconds..."]}),R.jsx("div",{style:{marginBottom:"30px"},children:R.jsx("a",{href:"https://forms.gle/CbqwHw1mtBcL7hHZ7",style:{display:"inline-block",background:"linear-gradient(45deg, #4ecdc4, #45b7d1)",color:"white",padding:"15px 30px",borderRadius:"50px",textDecoration:"none",fontWeight:"600",fontSize:"1.1rem",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(78, 205, 196, 0.3)",marginRight:"15px"},onMouseOver:t=>{t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow="0 6px 20px rgba(78, 205, 196, 0.4)"},onMouseOut:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 4px 15px rgba(78, 205, 196, 0.3)"},children:"Go to Form Now"})}),R.jsx(xl,{to:"/agentic-ai-workshop",style:{color:"#4ecdc4",textDecoration:"none",fontSize:"1rem",opacity:"0.8",borderBottom:"1px solid transparent",transition:"all 0.3s ease"},onMouseOver:t=>{t.currentTarget.style.borderBottomColor="#4ecdc4",t.currentTarget.style.opacity="1"},onMouseOut:t=>{t.currentTarget.style.borderBottomColor="transparent",t.currentTarget.style.opacity="0.8"},children:" Back to Workshop Details"}),R.jsxs("div",{style:{marginTop:"40px",padding:"20px",background:"rgba(255, 193, 7, 0.1)",borderRadius:"10px",border:"1px solid rgba(255, 193, 7, 0.3)",fontSize:"0.9rem"},children:[R.jsx("strong",{style:{color:"#ffc107"},children:"Note:"})," Your feedback helps us improve future workshops and sessions."]})]}),R.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.1); }
        }
        
        @media (max-width: 480px) {
          div[style*="padding: 60px 40px"] {
            padding: 40px 20px !important;
          }
        }
      `})]})},XN=50,ZN=1e4,eb=3480*1e3,tb=500,nb=15,rb=60;function ib(){const[n,e]=W.useState([]),[t,i]=W.useState(!1),[o,l]=W.useState(!1),[c,f]=W.useState(""),[p,g]=W.useState(""),[w,S]=W.useState("da-DK"),[A,O]=W.useState(navigator.onLine),[U,$]=W.useState("phrase"),[j,pe]=W.useState(""),[ie,me]=W.useState(0),ge=W.useRef(""),Pe=W.useRef(""),Ne=W.useRef(""),C=W.useRef([]),_=W.useRef(!1),E=W.useRef(null),x=W.useRef(!1),N=W.useRef(null),b=W.useRef(null),P=W.useRef(null),Le=W.useRef(U),Ke=W.useRef(w),{user:ve}=CT();W.useEffect(()=>{Le.current=U},[U]),W.useEffect(()=>{Ke.current=w},[w]);const he=W.useCallback(X=>{g(X),setTimeout(()=>g(""),2500)},[]);W.useEffect(()=>{const X=()=>O(!0),te=()=>O(!1);return window.addEventListener("online",X),window.addEventListener("offline",te),()=>{window.removeEventListener("online",X),window.removeEventListener("offline",te)}},[]),W.useEffect(()=>{var X;(X=P.current)==null||X.scrollIntoView({behavior:"smooth"})},[n]);const J=W.useCallback(async()=>{const X=Date.now();if(N.current&&N.current.expiry>X)return N.current.token;const te=await(ve==null?void 0:ve.getIdToken());return te&&(N.current={token:te,expiry:X+eb}),te},[ve]),ee=W.useCallback(async()=>{var oe;if(_.current||C.current.length===0)return;_.current=!0;const X=C.current.shift();l(!0),f(""),(oe=b.current)==null||oe.abort(),b.current=new AbortController;const te=setTimeout(()=>{var ne;return(ne=b.current)==null?void 0:ne.abort()},ZN);try{const ne=await J(),de=await fetch("https://us-central1-aditya-singhal-website.cloudfunctions.net/translateText",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ne}`},body:JSON.stringify({text:X.text,sourceLanguage:Ke.current.split("-")[0]}),signal:b.current.signal});if(!de.ok){const _e=await de.json().catch(()=>({}));throw de.status===429?new Error(`Rate limit exceeded. Please wait ${rb}s before trying again.`):new Error(_e.error||"Translation failed")}const Te=await de.json();e(_e=>[..._e,{original:X.text,translated:Te.translatedText,timestamp:X.timestamp}].slice(-XN)),await new Promise(_e=>setTimeout(_e,tb))}catch(ne){ne instanceof Error?ne.name==="AbortError"?f("Translation timed out. Please try again."):f(ne.message):f("Translation error. Please try again."),C.current.unshift(X)}finally{clearTimeout(te),l(!1),_.current=!1,C.current.length>0&&ee()}},[J]),M=W.useCallback(X=>{const te=X.trim();if(te&&te!==Ne.current){if(Ne.current=te,!A){f("No internet connection. Text saved, will retry when online.");return}C.current.push({text:te,timestamp:Date.now()}),ge.current="",pe(""),_.current||ee()}},[A,ee]);W.useEffect(()=>{A&&C.current.length>0&&!_.current&&ee()},[A,ee]),W.useEffect(()=>{M(w==="da-DK"?"Hej":"")},[]),W.useEffect(()=>{const X=window.SpeechRecognition||window.webkitSpeechRecognition;if(!X){f("Speech recognition not supported. Please use Chrome on Android.");return}const te=new X;return te.continuous=!0,te.interimResults=!0,te.lang=w,te.onresult=oe=>{const ne=oe.results[oe.results.length-1],de=ne[0].transcript;if(Le.current==="fast"){ne.isFinal&&(Pe.current+=(Pe.current?" ":"")+de);const Te=Pe.current+(Pe.current?" ":"")+(ne.isFinal?"":de);ge.current=Te;const _e=Te.trim().split(/\s+/).filter(Ie=>Ie).length;me(_e),_e>=nb&&(console.log(`[FastMode] SEND (${_e} words): "${Te.substring(0,40)}..."`),M(Te),Pe.current="",me(0))}else ge.current=de,ne.isFinal&&M(de);pe(ge.current)},te.onerror=oe=>{oe.error!=="no-speech"&&(f(`Speech recognition error: ${oe.error}`),i(!1),x.current=!1)},te.onend=()=>{if(x.current)try{te.lang=Ke.current,te.start()}catch{i(!1),x.current=!1}},E.current=te,x.current&&te.start(),()=>{te.stop(),E.current=null}},[w,M]);const T=()=>{if(E.current)if(t)ge.current.trim()&&M(ge.current),x.current=!1,E.current.stop(),i(!1);else try{E.current.start(),x.current=!0,i(!0),f(""),Ne.current=""}catch{f("Failed to start listening")}},L=X=>{ge.current.trim()&&M(ge.current),S(X),Ne.current="",he(`Switched to ${X==="da-DK"?"Danish ":"Hindi "}`)},H=X=>{ge.current.trim()&&M(ge.current),$(X),he(`Switched to ${X==="phrase"?"Full-turn":"Fast Speech"} mode`)},ae=()=>{e([]),Ne.current=""};return R.jsxs("div",{className:"visits-denmark-container",children:[p&&R.jsx("div",{className:"notification-toast",children:p}),R.jsxs("div",{className:"top-bar",children:[R.jsxs("select",{value:w,onChange:X=>L(X.target.value),className:"language-select",children:[R.jsx("option",{value:"da-DK",children:" Danish"}),R.jsx("option",{value:"hi-IN",children:" Hindi"})]}),R.jsxs("div",{className:"mode-toggle",children:[R.jsx("button",{className:`mode-button ${U==="phrase"?"active":""}`,onClick:()=>H("phrase"),children:"Phrase"}),R.jsxs("button",{className:`mode-button ${U==="fast"?"active":""}`,onClick:()=>H("fast"),children:["Fast",U==="fast"&&t&&ie>0&&R.jsx("span",{className:"fast-mode-counter",children:ie})]})]}),R.jsx("div",{className:"spacer"}),R.jsx("button",{className:"btn-clear",onClick:ae,disabled:n.length===0,children:"Clear"}),R.jsx("button",{className:`btn-mic ${t?"listening":""}`,onClick:T,children:t?"":""})]}),(!A||c)&&R.jsx("div",{className:"error-bar",children:A?c:" No internet connection"}),R.jsxs("div",{className:"translation-area",children:[o&&R.jsx("div",{className:"translating-indicator",children:"Translating..."}),R.jsx("div",{className:"subtitle-display",children:n.length===0?R.jsxs("div",{className:"empty-state",children:[R.jsx("div",{className:"mic-icon",children:""}),R.jsx("p",{children:t?"Listening...":"Tap mic to start"})]}):R.jsxs("div",{className:"translation-history",children:[n.map(X=>R.jsxs("div",{className:"translation-entry",children:[R.jsx("div",{className:"translated-text",children:X.translated}),R.jsx("div",{className:"original-text",children:X.original})]},X.timestamp)),R.jsx("div",{ref:P})]})})]}),j&&t&&R.jsx("div",{className:"pending-bar",children:R.jsxs("div",{className:"pending-content",children:[R.jsx("span",{className:"pending-label",children:"Hearing:"}),R.jsx("span",{className:"pending-text",children:j})]})}),R.jsxs("div",{className:"info-footer",children:[w==="da-DK"?"":"","    Best on Chrome"]})]})}const sb=cS([{path:"/",element:R.jsx(oi,{children:R.jsx($N,{})})},...["login","Login","LOGIN"].map(n=>({path:`/${n}`,element:R.jsx(oi,{children:R.jsx(HN,{})})})),{path:"/private",element:R.jsx(oi,{children:R.jsx(N2,{})})},{path:"/404",element:R.jsx(oi,{children:R.jsx(b2,{})})},{path:"/lovesingy",element:R.jsx(oi,{children:R.jsx(s0,{children:R.jsx(M2,{})})})},{path:"/translate",element:R.jsx(oi,{children:R.jsx(s0,{children:R.jsx(ib,{})})})},{path:"/agentic-ai-workshop",element:R.jsx(oi,{children:R.jsx(BN,{})})},{path:"/agentic-ai-workshop/registration-form",element:R.jsx(oi,{children:R.jsx(i0,{})})},{path:"/agentic-ai-workshop/feedback",element:R.jsx(oi,{children:R.jsx(JN,{})})},{path:"/registration-form",element:R.jsx(oi,{children:R.jsx(i0,{})})},...["latest-resume","Latest-Resume","LATEST-RESUME"].map(n=>({path:`/${n}`,element:R.jsx(qN,{})})),...["linkedin","LinkedIn","LINKEDIN"].map(n=>({path:`/${n}`,element:R.jsx(KN,{})})),...["instagram","Instagram","INSTAGRAM"].map(n=>({path:`/${n}`,element:R.jsx(GN,{})})),...["facebook","Facebook","FACEBOOK"].map(n=>({path:`/${n}`,element:R.jsx(QN,{})})),...["youtube","YouTube","YOUTUBE"].map(n=>({path:`/${n}`,element:R.jsx(YN,{})})),{path:"/*",element:R.jsx(R0,{to:"/404",replace:!0})}]);$1.createRoot(document.getElementById("root")).render(R.jsx(a0.StrictMode,{children:R.jsx(x2,{children:R.jsx(_S,{router:sb})})}))});export default ob();
