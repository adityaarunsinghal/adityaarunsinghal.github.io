var w1=Object.defineProperty;var E1=(n,e,t)=>e in n?w1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var T1=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var vc=(n,e,t)=>E1(n,typeof e!="symbol"?e+"":e,t);var QN=T1((ZN,uu)=>{function n0(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function yh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pf={exports:{}},ml={},mf={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function I1(){if(Oy)return ot;Oy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.iterator;function A(T){return T===null||typeof T!="object"?null:(T=S&&T[S]||T["@@iterator"],typeof T=="function"?T:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,$={};function L(T,F,H){this.props=T,this.context=F,this.refs=$,this.updater=H||M}L.prototype.isReactComponent={},L.prototype.setState=function(T,F){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,F,"setState")},L.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function he(){}he.prototype=L.prototype;function Z(T,F,H){this.props=T,this.context=F,this.refs=$,this.updater=H||M}var fe=Z.prototype=new he;fe.constructor=Z,z(fe,L.prototype),fe.isPureReactComponent=!0;var _e=Array.isArray,Fe=Object.prototype.hasOwnProperty,Oe={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function _(T,F,H){var oe,ne={},ce=null,ue=null;if(F!=null)for(oe in F.ref!==void 0&&(ue=F.ref),F.key!==void 0&&(ce=""+F.key),F)Fe.call(F,oe)&&!R.hasOwnProperty(oe)&&(ne[oe]=F[oe]);var re=arguments.length-2;if(re===1)ne.children=H;else if(1<re){for(var me=Array(re),Pe=0;Pe<re;Pe++)me[Pe]=arguments[Pe+2];ne.children=me}if(T&&T.defaultProps)for(oe in re=T.defaultProps,re)ne[oe]===void 0&&(ne[oe]=re[oe]);return{$$typeof:n,type:T,key:ce,ref:ue,props:ne,_owner:Oe.current}}function E(T,F){return{$$typeof:n,type:T.type,key:F,ref:T.ref,props:T.props,_owner:T._owner}}function C(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function N(T){var F={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(H){return F[H]})}var b=/\/+/g;function x(T,F){return typeof T=="object"&&T!==null&&T.key!=null?N(""+T.key):F.toString(36)}function je(T,F,H,oe,ne){var ce=typeof T;(ce==="undefined"||ce==="boolean")&&(T=null);var ue=!1;if(T===null)ue=!0;else switch(ce){case"string":case"number":ue=!0;break;case"object":switch(T.$$typeof){case n:case e:ue=!0}}if(ue)return ue=T,ne=ne(ue),T=oe===""?"."+x(ue,0):oe,_e(ne)?(H="",T!=null&&(H=T.replace(b,"$&/")+"/"),je(ne,F,H,"",function(Pe){return Pe})):ne!=null&&(C(ne)&&(ne=E(ne,H+(!ne.key||ue&&ue.key===ne.key?"":(""+ne.key).replace(b,"$&/")+"/")+T)),F.push(ne)),1;if(ue=0,oe=oe===""?".":oe+":",_e(T))for(var re=0;re<T.length;re++){ce=T[re];var me=oe+x(ce,re);ue+=je(ce,F,H,me,ne)}else if(me=A(T),typeof me=="function")for(T=me.call(T),re=0;!(ce=T.next()).done;)ce=ce.value,me=oe+x(ce,re++),ue+=je(ce,F,H,me,ne);else if(ce==="object")throw F=String(T),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return ue}function tt(T,F,H){if(T==null)return T;var oe=[],ne=0;return je(T,oe,"","",function(ce){return F.call(H,ce,ne++)}),oe}function at(T){if(T._status===-1){var F=T._result;F=F(),F.then(function(H){(T._status===0||T._status===-1)&&(T._status=1,T._result=H)},function(H){(T._status===0||T._status===-1)&&(T._status=2,T._result=H)}),T._status===-1&&(T._status=0,T._result=F)}if(T._status===1)return T._result.default;throw T._result}var we={current:null},X={transition:null},se={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:X,ReactCurrentOwner:Oe};function O(){throw Error("act(...) is not supported in production builds of React.")}return ot.Children={map:tt,forEach:function(T,F,H){tt(T,function(){F.apply(this,arguments)},H)},count:function(T){var F=0;return tt(T,function(){F++}),F},toArray:function(T){return tt(T,function(F){return F})||[]},only:function(T){if(!C(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ot.Component=L,ot.Fragment=t,ot.Profiler=o,ot.PureComponent=Z,ot.StrictMode=i,ot.Suspense=p,ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,ot.act=O,ot.cloneElement=function(T,F,H){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var oe=z({},T.props),ne=T.key,ce=T.ref,ue=T._owner;if(F!=null){if(F.ref!==void 0&&(ce=F.ref,ue=Oe.current),F.key!==void 0&&(ne=""+F.key),T.type&&T.type.defaultProps)var re=T.type.defaultProps;for(me in F)Fe.call(F,me)&&!R.hasOwnProperty(me)&&(oe[me]=F[me]===void 0&&re!==void 0?re[me]:F[me])}var me=arguments.length-2;if(me===1)oe.children=H;else if(1<me){re=Array(me);for(var Pe=0;Pe<me;Pe++)re[Pe]=arguments[Pe+2];oe.children=re}return{$$typeof:n,type:T.type,key:ne,ref:ce,props:oe,_owner:ue}},ot.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:l,_context:T},T.Consumer=T},ot.createElement=_,ot.createFactory=function(T){var F=_.bind(null,T);return F.type=T,F},ot.createRef=function(){return{current:null}},ot.forwardRef=function(T){return{$$typeof:f,render:T}},ot.isValidElement=C,ot.lazy=function(T){return{$$typeof:w,_payload:{_status:-1,_result:T},_init:at}},ot.memo=function(T,F){return{$$typeof:y,type:T,compare:F===void 0?null:F}},ot.startTransition=function(T){var F=X.transition;X.transition={};try{T()}finally{X.transition=F}},ot.unstable_act=O,ot.useCallback=function(T,F){return we.current.useCallback(T,F)},ot.useContext=function(T){return we.current.useContext(T)},ot.useDebugValue=function(){},ot.useDeferredValue=function(T){return we.current.useDeferredValue(T)},ot.useEffect=function(T,F){return we.current.useEffect(T,F)},ot.useId=function(){return we.current.useId()},ot.useImperativeHandle=function(T,F,H){return we.current.useImperativeHandle(T,F,H)},ot.useInsertionEffect=function(T,F){return we.current.useInsertionEffect(T,F)},ot.useLayoutEffect=function(T,F){return we.current.useLayoutEffect(T,F)},ot.useMemo=function(T,F){return we.current.useMemo(T,F)},ot.useReducer=function(T,F,H){return we.current.useReducer(T,F,H)},ot.useRef=function(T){return we.current.useRef(T)},ot.useState=function(T){return we.current.useState(T)},ot.useSyncExternalStore=function(T,F,H){return we.current.useSyncExternalStore(T,F,H)},ot.useTransition=function(){return we.current.useTransition()},ot.version="18.3.1",ot}var Ly;function gp(){return Ly||(Ly=1,mf.exports=I1()),mf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function S1(){if(Vy)return ml;Vy=1;var n=gp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,y){var w,S={},A=null,M=null;y!==void 0&&(A=""+y),p.key!==void 0&&(A=""+p.key),p.ref!==void 0&&(M=p.ref);for(w in p)i.call(p,w)&&!l.hasOwnProperty(w)&&(S[w]=p[w]);if(f&&f.defaultProps)for(w in p=f.defaultProps,p)S[w]===void 0&&(S[w]=p[w]);return{$$typeof:e,type:f,key:A,ref:M,props:S,_owner:o.current}}return ml.Fragment=t,ml.jsx=c,ml.jsxs=c,ml}var Fy;function R1(){return Fy||(Fy=1,pf.exports=S1()),pf.exports}var P=R1(),J=gp();const r0=yh(J),A1=n0({__proto__:null,default:r0},[J]);var _c={},gf={exports:{}},Xn={},yf={exports:{}},vf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function C1(){return jy||(jy=1,(function(n){function e(X,se){var O=X.length;X.push(se);e:for(;0<O;){var T=O-1>>>1,F=X[T];if(0<o(F,se))X[T]=se,X[O]=F,O=T;else break e}}function t(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var se=X[0],O=X.pop();if(O!==se){X[0]=O;e:for(var T=0,F=X.length,H=F>>>1;T<H;){var oe=2*(T+1)-1,ne=X[oe],ce=oe+1,ue=X[ce];if(0>o(ne,O))ce<F&&0>o(ue,ne)?(X[T]=ue,X[ce]=O,T=ce):(X[T]=ne,X[oe]=O,T=oe);else if(ce<F&&0>o(ue,O))X[T]=ue,X[ce]=O,T=ce;else break e}}return se}function o(X,se){var O=X.sortIndex-se.sortIndex;return O!==0?O:X.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],y=[],w=1,S=null,A=3,M=!1,z=!1,$=!1,L=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function fe(X){for(var se=t(y);se!==null;){if(se.callback===null)i(y);else if(se.startTime<=X)i(y),se.sortIndex=se.expirationTime,e(p,se);else break;se=t(y)}}function _e(X){if($=!1,fe(X),!z)if(t(p)!==null)z=!0,at(Fe);else{var se=t(y);se!==null&&we(_e,se.startTime-X)}}function Fe(X,se){z=!1,$&&($=!1,he(_),_=-1),M=!0;var O=A;try{for(fe(se),S=t(p);S!==null&&(!(S.expirationTime>se)||X&&!N());){var T=S.callback;if(typeof T=="function"){S.callback=null,A=S.priorityLevel;var F=T(S.expirationTime<=se);se=n.unstable_now(),typeof F=="function"?S.callback=F:S===t(p)&&i(p),fe(se)}else i(p);S=t(p)}if(S!==null)var H=!0;else{var oe=t(y);oe!==null&&we(_e,oe.startTime-se),H=!1}return H}finally{S=null,A=O,M=!1}}var Oe=!1,R=null,_=-1,E=5,C=-1;function N(){return!(n.unstable_now()-C<E)}function b(){if(R!==null){var X=n.unstable_now();C=X;var se=!0;try{se=R(!0,X)}finally{se?x():(Oe=!1,R=null)}}else Oe=!1}var x;if(typeof Z=="function")x=function(){Z(b)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,tt=je.port2;je.port1.onmessage=b,x=function(){tt.postMessage(null)}}else x=function(){L(b,0)};function at(X){R=X,Oe||(Oe=!0,x())}function we(X,se){_=L(function(){X(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){z||M||(z=!0,at(Fe))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(X){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var O=A;A=se;try{return X()}finally{A=O}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var O=A;A=X;try{return se()}finally{A=O}},n.unstable_scheduleCallback=function(X,se,O){var T=n.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?T+O:T):O=T,X){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=O+F,X={id:w++,callback:se,priorityLevel:X,startTime:O,expirationTime:F,sortIndex:-1},O>T?(X.sortIndex=O,e(y,X),t(p)===null&&X===t(y)&&($?(he(_),_=-1):$=!0,we(_e,O-T))):(X.sortIndex=F,e(p,X),z||M||(z=!0,at(Fe))),X},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(X){var se=A;return function(){var O=A;A=se;try{return X.apply(this,arguments)}finally{A=O}}}})(vf)),vf}var Uy;function k1(){return Uy||(Uy=1,yf.exports=C1()),yf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function P1(){if(zy)return Xn;zy=1;var n=gp(),e=k1();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},S={};function A(r){return p.call(S,r)?!0:p.call(w,r)?!1:y.test(r)?S[r]=!0:(w[r]=!0,!1)}function M(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function z(r,s,a,h){if(s===null||typeof s>"u"||M(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function $(r,s,a,h,d,g,I){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=I}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){L[r]=new $(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];L[s]=new $(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){L[r]=new $(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){L[r]=new $(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){L[r]=new $(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){L[r]=new $(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){L[r]=new $(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){L[r]=new $(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){L[r]=new $(r,5,!1,r.toLowerCase(),null,!1,!1)});var he=/[\-:]([a-z])/g;function Z(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(he,Z);L[s]=new $(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(he,Z);L[s]=new $(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(he,Z);L[s]=new $(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){L[r]=new $(r,1,!1,r.toLowerCase(),null,!1,!1)}),L.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){L[r]=new $(r,1,!1,r.toLowerCase(),null,!0,!0)});function fe(r,s,a,h){var d=L.hasOwnProperty(s)?L[s]:null;(d!==null?d.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(z(s,a,d,h)&&(a=null),h||d===null?A(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,h=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var _e=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fe=Symbol.for("react.element"),Oe=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),N=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),tt=Symbol.for("react.memo"),at=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),X=Symbol.iterator;function se(r){return r===null||typeof r!="object"?null:(r=X&&r[X]||r["@@iterator"],typeof r=="function"?r:null)}var O=Object.assign,T;function F(r){if(T===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);T=s&&s[1]||""}return`
`+T+r}var H=!1;function oe(r,s){if(!r||H)return"";H=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Q){var h=Q}Reflect.construct(r,[],s)}else{try{s.call()}catch(Q){h=Q}r.call(s.prototype)}else{try{throw Error()}catch(Q){h=Q}r()}}catch(Q){if(Q&&h&&typeof Q.stack=="string"){for(var d=Q.stack.split(`
`),g=h.stack.split(`
`),I=d.length-1,D=g.length-1;1<=I&&0<=D&&d[I]!==g[D];)D--;for(;1<=I&&0<=D;I--,D--)if(d[I]!==g[D]){if(I!==1||D!==1)do if(I--,D--,0>D||d[I]!==g[D]){var j=`
`+d[I].replace(" at new "," at ");return r.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",r.displayName)),j}while(1<=I&&0<=D);break}}}finally{H=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?F(r):""}function ne(r){switch(r.tag){case 5:return F(r.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return r=oe(r.type,!1),r;case 11:return r=oe(r.type.render,!1),r;case 1:return r=oe(r.type,!0),r;default:return""}}function ce(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case Oe:return"Portal";case E:return"Profiler";case _:return"StrictMode";case x:return"Suspense";case je:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case C:return(r._context.displayName||"Context")+".Provider";case b:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case tt:return s=r.displayName||null,s!==null?s:ce(r.type)||"Memo";case at:s=r._payload,r=r._init;try{return ce(r(s))}catch{}}return null}function ue(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(s);case 8:return s===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function re(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function me(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Pe(r){var s=me(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(I){h=""+I,g.call(this,I)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ve(r){r._valueTracker||(r._valueTracker=Pe(r))}function Ee(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=me(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function ze(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ie(r,s){var a=s.checked;return O({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Be(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=re(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Me(r,s){s=s.checked,s!=null&&fe(r,"checked",s,!1)}function ht(r,s){Me(r,s);var a=re(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?nt(r,s.type,a):s.hasOwnProperty("defaultValue")&&nt(r,s.type,re(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Ge(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function nt(r,s,a){(s!=="number"||ze(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var rt=Array.isArray;function Zt(r,s,a,h){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&h&&(r[a].defaultSelected=!0)}else{for(a=""+re(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,h&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function en(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return O({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function kn(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(rt(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:re(a)}}function yt(r,s){var a=re(s.value),h=re(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function Vt(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Ze(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Ze(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var St,qt=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,d)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(St=St||document.createElement("div"),St.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=St.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function _n(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var zt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kt=["Webkit","ms","Moz","O"];Object.keys(zt).forEach(function(r){Kt.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),zt[s]=zt[r]})});function Gt(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||zt.hasOwnProperty(r)&&zt[r]?(""+s).trim():s+"px"}function Rr(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,d=Gt(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,d):r[a]=d}}var ji=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ui(r,s){if(s){if(ji[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Os(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hr=null;function Ar(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var pi=null,Pn=null,$n=null;function zi(r){if(r=el(r)){if(typeof pi!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Du(s),pi(r.stateNode,r.type,s))}}function nr(r){Pn?$n?$n.push(r):$n=[r]:Pn=r}function Ls(){if(Pn){var r=Pn,s=$n;if($n=Pn=null,zi(r),s)for(r=0;r<s.length;r++)zi(s[r])}}function qr(r,s){return r(s)}function Kr(){}var Wn=!1;function Vs(r,s,a){if(Wn)return r(s,a);Wn=!0;try{return qr(r,s,a)}finally{Wn=!1,(Pn!==null||$n!==null)&&(Kr(),Ls())}}function Bt(r,s){var a=r.stateNode;if(a===null)return null;var h=Du(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var V=!1;if(f)try{var B={};Object.defineProperty(B,"passive",{get:function(){V=!0}}),window.addEventListener("test",B,B),window.removeEventListener("test",B,B)}catch{V=!1}function G(r,s,a,h,d,g,I,D,j){var Q=Array.prototype.slice.call(arguments,3);try{s.apply(a,Q)}catch(le){this.onError(le)}}var ie=!1,ye=null,xe=!1,$e=null,Ne={onError:function(r){ie=!0,ye=r}};function ke(r,s,a,h,d,g,I,D,j){ie=!1,ye=null,G.apply(Ne,arguments)}function Se(r,s,a,h,d,g,I,D,j){if(ke.apply(this,arguments),ie){if(ie){var Q=ye;ie=!1,ye=null}else throw Error(t(198));xe||(xe=!0,$e=Q)}}function Re(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function qe(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Je(r){if(Re(r)!==r)throw Error(t(188))}function Qt(r){var s=r.alternate;if(!s){if(s=Re(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(h=d.return,h!==null){a=h;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return Je(d),r;if(g===h)return Je(d),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=d,h=g;else{for(var I=!1,D=d.child;D;){if(D===a){I=!0,a=d,h=g;break}if(D===h){I=!0,h=d,a=g;break}D=D.sibling}if(!I){for(D=g.child;D;){if(D===a){I=!0,a=g,h=d;break}if(D===h){I=!0,h=g,a=d;break}D=D.sibling}if(!I)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function Tt(r){return r=Qt(r),r!==null?st(r):null}function st(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=st(r);if(s!==null)return s;r=r.sibling}return null}var Ct=e.unstable_scheduleCallback,dr=e.unstable_cancelCallback,Gr=e.unstable_shouldYield,rr=e.unstable_requestPaint,lt=e.unstable_now,Bi=e.unstable_getCurrentPriorityLevel,ir=e.unstable_ImmediatePriority,xn=e.unstable_UserBlockingPriority,wn=e.unstable_NormalPriority,Qr=e.unstable_LowPriority,ut=e.unstable_IdlePriority,Rt=null,tn=null;function Yr(r){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Rt,r,void 0,(r.current.flags&128)===128)}catch{}}var dt=Math.clz32?Math.clz32:Ro,fr=Math.log,Fs=Math.LN2;function Ro(r){return r>>>=0,r===0?32:31-(fr(r)/Fs|0)|0}var Ao=64,Co=4194304;function $i(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function js(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,d=r.suspendedLanes,g=r.pingedLanes,I=a&268435455;if(I!==0){var D=I&~d;D!==0?h=$i(D):(g&=I,g!==0&&(h=$i(g)))}else I=a&~d,I!==0?h=$i(I):g!==0&&(h=$i(g));if(h===0)return 0;if(s!==0&&s!==h&&(s&d)===0&&(d=h&-h,g=s&-s,d>=g||d===16&&(g&4194240)!==0))return s;if((h&4)!==0&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-dt(s),d=1<<a,h|=r[a],s&=~d;return h}function $h(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mi(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes;0<g;){var I=31-dt(g),D=1<<I,j=d[I];j===-1?((D&a)===0||(D&h)!==0)&&(d[I]=$h(D,s)):j<=s&&(r.expiredLanes|=D),g&=~D}}function sr(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Us(){var r=Ao;return Ao<<=1,(Ao&4194240)===0&&(Ao=64),r}function Wi(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Hi(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-dt(s),r[s]=a}function xt(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-dt(a),g=1<<d;s[d]=0,h[d]=-1,r[d]=-1,a&=~g}}function qi(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-dt(a),d=1<<h;d&s|r[h]&s&&(r[h]|=s),a&=~d}}var gt=0;function Ki(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var du,ko,fu,pu,mu,ja=!1,Jr=[],En=null,Cr=null,kr=null,Gi=new Map,pr=new Map,Xr=[],Wh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gu(r,s){switch(r){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Gi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":pr.delete(s.pointerId)}}function Hn(r,s,a,h,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[d]},s!==null&&(s=el(s),s!==null&&ko(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function Hh(r,s,a,h,d){switch(s){case"focusin":return En=Hn(En,r,s,a,h,d),!0;case"dragenter":return Cr=Hn(Cr,r,s,a,h,d),!0;case"mouseover":return kr=Hn(kr,r,s,a,h,d),!0;case"pointerover":var g=d.pointerId;return Gi.set(g,Hn(Gi.get(g)||null,r,s,a,h,d)),!0;case"gotpointercapture":return g=d.pointerId,pr.set(g,Hn(pr.get(g)||null,r,s,a,h,d)),!0}return!1}function yu(r){var s=Hs(r.target);if(s!==null){var a=Re(s);if(a!==null){if(s=a.tag,s===13){if(s=qe(a),s!==null){r.blockedOn=s,mu(r.priority,function(){fu(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function gi(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Po(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Hr=h,a.target.dispatchEvent(h),Hr=null}else return s=el(a),s!==null&&ko(s),r.blockedOn=a,!1;s.shift()}return!0}function zs(r,s,a){gi(r)&&a.delete(s)}function vu(){ja=!1,En!==null&&gi(En)&&(En=null),Cr!==null&&gi(Cr)&&(Cr=null),kr!==null&&gi(kr)&&(kr=null),Gi.forEach(zs),pr.forEach(zs)}function Pr(r,s){r.blockedOn===s&&(r.blockedOn=null,ja||(ja=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vu)))}function xr(r){function s(d){return Pr(d,r)}if(0<Jr.length){Pr(Jr[0],r);for(var a=1;a<Jr.length;a++){var h=Jr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(En!==null&&Pr(En,r),Cr!==null&&Pr(Cr,r),kr!==null&&Pr(kr,r),Gi.forEach(s),pr.forEach(s),a=0;a<Xr.length;a++)h=Xr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<Xr.length&&(a=Xr[0],a.blockedOn===null);)yu(a),a.blockedOn===null&&Xr.shift()}var yi=_e.ReactCurrentBatchConfig,Qi=!0;function Ft(r,s,a,h){var d=gt,g=yi.transition;yi.transition=null;try{gt=1,Ua(r,s,a,h)}finally{gt=d,yi.transition=g}}function qh(r,s,a,h){var d=gt,g=yi.transition;yi.transition=null;try{gt=4,Ua(r,s,a,h)}finally{gt=d,yi.transition=g}}function Ua(r,s,a,h){if(Qi){var d=Po(r,s,a,h);if(d===null)rd(r,s,h,Bs,a),gu(r,h);else if(Hh(d,r,s,a,h))h.stopPropagation();else if(gu(r,h),s&4&&-1<Wh.indexOf(r)){for(;d!==null;){var g=el(d);if(g!==null&&du(g),g=Po(r,s,a,h),g===null&&rd(r,s,h,Bs,a),g===d)break;d=g}d!==null&&h.stopPropagation()}else rd(r,s,h,null,a)}}var Bs=null;function Po(r,s,a,h){if(Bs=null,r=Ar(h),r=Hs(r),r!==null)if(s=Re(r),s===null)r=null;else if(a=s.tag,a===13){if(r=qe(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Bs=r,null}function za(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bi()){case ir:return 1;case xn:return 4;case wn:case Qr:return 16;case ut:return 536870912;default:return 16}default:return 16}}var or=null,xo=null,qn=null;function Ba(){if(qn)return qn;var r,s=xo,a=s.length,h,d="value"in or?or.value:or.textContent,g=d.length;for(r=0;r<a&&s[r]===d[r];r++);var I=a-r;for(h=1;h<=I&&s[a-h]===d[g-h];h++);return qn=d.slice(r,1<h?1-h:void 0)}function No(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Zr(){return!0}function $a(){return!1}function Tn(r){function s(a,h,d,g,I){this._reactName=a,this._targetInst=d,this.type=h,this.nativeEvent=g,this.target=I,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(a=r[D],this[D]=a?a(g):g[D]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Zr:$a,this.isPropagationStopped=$a,this}return O(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),s}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bo=Tn(Nr),ei=O({},Nr,{view:0,detail:0}),Kh=Tn(ei),Do,vi,Yi,$s=O({},ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ti,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Yi&&(Yi&&r.type==="mousemove"?(Do=r.screenX-Yi.screenX,vi=r.screenY-Yi.screenY):vi=Do=0,Yi=r),Do)},movementY:function(r){return"movementY"in r?r.movementY:vi}}),Mo=Tn($s),Wa=O({},$s,{dataTransfer:0}),_u=Tn(Wa),Oo=O({},ei,{relatedTarget:0}),Lo=Tn(Oo),wu=O({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),_i=Tn(wu),Eu=O({},Nr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Tu=Tn(Eu),Iu=O({},Nr,{data:0}),Ha=Tn(Iu),Vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Su[r])?!!s[r]:!1}function ti(){return Ru}var u=O({},ei,{key:function(r){if(r.key){var s=Vo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=No(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?jn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ti,charCode:function(r){return r.type==="keypress"?No(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?No(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Tn(u),v=O({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k=Tn(v),W=O({},ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ti}),Y=Tn(W),ge=O({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),kt=Tn(ge),un=O({},$s,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),vt=Tn(un),pn=[9,13,27,32],nn=f&&"CompositionEvent"in window,mr=null;f&&"documentMode"in document&&(mr=document.documentMode);var ar=f&&"TextEvent"in window&&!mr,Ws=f&&(!nn||mr&&8<mr&&11>=mr),Fo=" ",Pm=!1;function xm(r,s){switch(r){case"keyup":return pn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var jo=!1;function yT(r,s){switch(r){case"compositionend":return Nm(s);case"keypress":return s.which!==32?null:(Pm=!0,Fo);case"textInput":return r=s.data,r===Fo&&Pm?null:r;default:return null}}function vT(r,s){if(jo)return r==="compositionend"||!nn&&xm(r,s)?(r=Ba(),qn=xo=or=null,jo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ws&&s.locale!=="ko"?null:s.data;default:return null}}var _T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!_T[r.type]:s==="textarea"}function Dm(r,s,a,h){nr(h),s=xu(s,"onChange"),0<s.length&&(a=new bo("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var qa=null,Ka=null;function wT(r){Jm(r,0)}function Au(r){var s=Wo(r);if(Ee(s))return r}function ET(r,s){if(r==="change")return s}var Mm=!1;if(f){var Gh;if(f){var Qh="oninput"in document;if(!Qh){var Om=document.createElement("div");Om.setAttribute("oninput","return;"),Qh=typeof Om.oninput=="function"}Gh=Qh}else Gh=!1;Mm=Gh&&(!document.documentMode||9<document.documentMode)}function Lm(){qa&&(qa.detachEvent("onpropertychange",Vm),Ka=qa=null)}function Vm(r){if(r.propertyName==="value"&&Au(Ka)){var s=[];Dm(s,Ka,r,Ar(r)),Vs(wT,s)}}function TT(r,s,a){r==="focusin"?(Lm(),qa=s,Ka=a,qa.attachEvent("onpropertychange",Vm)):r==="focusout"&&Lm()}function IT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Au(Ka)}function ST(r,s){if(r==="click")return Au(s)}function RT(r,s){if(r==="input"||r==="change")return Au(s)}function AT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var br=typeof Object.is=="function"?Object.is:AT;function Ga(r,s){if(br(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var d=a[h];if(!p.call(s,d)||!br(r[d],s[d]))return!1}return!0}function Fm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function jm(r,s){var a=Fm(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fm(a)}}function Um(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Um(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function zm(){for(var r=window,s=ze();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=ze(r.document)}return s}function Yh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function CT(r){var s=zm(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Um(a.ownerDocument.documentElement,a)){if(h!==null&&Yh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,g=Math.min(h.start,d);h=h.end===void 0?g:Math.min(h.end,d),!r.extend&&g>h&&(d=h,h=g,g=d),d=jm(a,g);var I=jm(a,h);d&&I&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==I.node||r.focusOffset!==I.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(I.node,I.offset)):(s.setEnd(I.node,I.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var kT=f&&"documentMode"in document&&11>=document.documentMode,Uo=null,Jh=null,Qa=null,Xh=!1;function Bm(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xh||Uo==null||Uo!==ze(h)||(h=Uo,"selectionStart"in h&&Yh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Qa&&Ga(Qa,h)||(Qa=h,h=xu(Jh,"onSelect"),0<h.length&&(s=new bo("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=Uo)))}function Cu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var zo={animationend:Cu("Animation","AnimationEnd"),animationiteration:Cu("Animation","AnimationIteration"),animationstart:Cu("Animation","AnimationStart"),transitionend:Cu("Transition","TransitionEnd")},Zh={},$m={};f&&($m=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function ku(r){if(Zh[r])return Zh[r];if(!zo[r])return r;var s=zo[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in $m)return Zh[r]=s[a];return r}var Wm=ku("animationend"),Hm=ku("animationiteration"),qm=ku("animationstart"),Km=ku("transitionend"),Gm=new Map,Qm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(r,s){Gm.set(r,s),l(s,[r])}for(var ed=0;ed<Qm.length;ed++){var td=Qm[ed],PT=td.toLowerCase(),xT=td[0].toUpperCase()+td.slice(1);Ji(PT,"on"+xT)}Ji(Wm,"onAnimationEnd"),Ji(Hm,"onAnimationIteration"),Ji(qm,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(Km,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ya));function Ym(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Se(h,s,void 0,r),r.currentTarget=null}function Jm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],d=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var I=h.length-1;0<=I;I--){var D=h[I],j=D.instance,Q=D.currentTarget;if(D=D.listener,j!==g&&d.isPropagationStopped())break e;Ym(d,D,Q),g=j}else for(I=0;I<h.length;I++){if(D=h[I],j=D.instance,Q=D.currentTarget,D=D.listener,j!==g&&d.isPropagationStopped())break e;Ym(d,D,Q),g=j}}}if(xe)throw r=$e,xe=!1,$e=null,r}function Ot(r,s){var a=s[ud];a===void 0&&(a=s[ud]=new Set);var h=r+"__bubble";a.has(h)||(Xm(s,r,2,!1),a.add(h))}function nd(r,s,a){var h=0;s&&(h|=4),Xm(a,r,h,s)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Ja(r){if(!r[Pu]){r[Pu]=!0,i.forEach(function(a){a!=="selectionchange"&&(NT.has(a)||nd(a,!1,r),nd(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Pu]||(s[Pu]=!0,nd("selectionchange",!1,s))}}function Xm(r,s,a,h){switch(za(s)){case 1:var d=Ft;break;case 4:d=qh;break;default:d=Ua}a=d.bind(null,s,a,r),d=void 0,!V||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),h?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function rd(r,s,a,h,d){var g=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var D=h.stateNode.containerInfo;if(D===d||D.nodeType===8&&D.parentNode===d)break;if(I===4)for(I=h.return;I!==null;){var j=I.tag;if((j===3||j===4)&&(j=I.stateNode.containerInfo,j===d||j.nodeType===8&&j.parentNode===d))return;I=I.return}for(;D!==null;){if(I=Hs(D),I===null)return;if(j=I.tag,j===5||j===6){h=g=I;continue e}D=D.parentNode}}h=h.return}Vs(function(){var Q=g,le=Ar(a),de=[];e:{var ae=Gm.get(r);if(ae!==void 0){var Te=bo,De=r;switch(r){case"keypress":if(No(a)===0)break e;case"keydown":case"keyup":Te=m;break;case"focusin":De="focus",Te=Lo;break;case"focusout":De="blur",Te=Lo;break;case"beforeblur":case"afterblur":Te=Lo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=Y;break;case Wm:case Hm:case qm:Te=_i;break;case Km:Te=kt;break;case"scroll":Te=Kh;break;case"wheel":Te=vt;break;case"copy":case"cut":case"paste":Te=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=k}var Le=(s&4)!==0,Jt=!Le&&r==="scroll",q=Le?ae!==null?ae+"Capture":null:ae;Le=[];for(var U=Q,K;U!==null;){K=U;var pe=K.stateNode;if(K.tag===5&&pe!==null&&(K=pe,q!==null&&(pe=Bt(U,q),pe!=null&&Le.push(Xa(U,pe,K)))),Jt)break;U=U.return}0<Le.length&&(ae=new Te(ae,De,null,a,le),de.push({event:ae,listeners:Le}))}}if((s&7)===0){e:{if(ae=r==="mouseover"||r==="pointerover",Te=r==="mouseout"||r==="pointerout",ae&&a!==Hr&&(De=a.relatedTarget||a.fromElement)&&(Hs(De)||De[wi]))break e;if((Te||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,Te?(De=a.relatedTarget||a.toElement,Te=Q,De=De?Hs(De):null,De!==null&&(Jt=Re(De),De!==Jt||De.tag!==5&&De.tag!==6)&&(De=null)):(Te=null,De=Q),Te!==De)){if(Le=Mo,pe="onMouseLeave",q="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(Le=k,pe="onPointerLeave",q="onPointerEnter",U="pointer"),Jt=Te==null?ae:Wo(Te),K=De==null?ae:Wo(De),ae=new Le(pe,U+"leave",Te,a,le),ae.target=Jt,ae.relatedTarget=K,pe=null,Hs(le)===Q&&(Le=new Le(q,U+"enter",De,a,le),Le.target=K,Le.relatedTarget=Jt,pe=Le),Jt=pe,Te&&De)t:{for(Le=Te,q=De,U=0,K=Le;K;K=Bo(K))U++;for(K=0,pe=q;pe;pe=Bo(pe))K++;for(;0<U-K;)Le=Bo(Le),U--;for(;0<K-U;)q=Bo(q),K--;for(;U--;){if(Le===q||q!==null&&Le===q.alternate)break t;Le=Bo(Le),q=Bo(q)}Le=null}else Le=null;Te!==null&&Zm(de,ae,Te,Le,!1),De!==null&&Jt!==null&&Zm(de,Jt,De,Le,!0)}}e:{if(ae=Q?Wo(Q):window,Te=ae.nodeName&&ae.nodeName.toLowerCase(),Te==="select"||Te==="input"&&ae.type==="file")var Ve=ET;else if(bm(ae))if(Mm)Ve=RT;else{Ve=IT;var We=TT}else(Te=ae.nodeName)&&Te.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Ve=ST);if(Ve&&(Ve=Ve(r,Q))){Dm(de,Ve,a,le);break e}We&&We(r,ae,Q),r==="focusout"&&(We=ae._wrapperState)&&We.controlled&&ae.type==="number"&&nt(ae,"number",ae.value)}switch(We=Q?Wo(Q):window,r){case"focusin":(bm(We)||We.contentEditable==="true")&&(Uo=We,Jh=Q,Qa=null);break;case"focusout":Qa=Jh=Uo=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,Bm(de,a,le);break;case"selectionchange":if(kT)break;case"keydown":case"keyup":Bm(de,a,le)}var He;if(nn)e:{switch(r){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else jo?xm(r,a)&&(Qe="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Qe="onCompositionStart");Qe&&(Ws&&a.locale!=="ko"&&(jo||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&jo&&(He=Ba()):(or=le,xo="value"in or?or.value:or.textContent,jo=!0)),We=xu(Q,Qe),0<We.length&&(Qe=new Ha(Qe,r,null,a,le),de.push({event:Qe,listeners:We}),He?Qe.data=He:(He=Nm(a),He!==null&&(Qe.data=He)))),(He=ar?yT(r,a):vT(r,a))&&(Q=xu(Q,"onBeforeInput"),0<Q.length&&(le=new Ha("onBeforeInput","beforeinput",null,a,le),de.push({event:le,listeners:Q}),le.data=He))}Jm(de,s)})}function Xa(r,s,a){return{instance:r,listener:s,currentTarget:a}}function xu(r,s){for(var a=s+"Capture",h=[];r!==null;){var d=r,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=Bt(r,a),g!=null&&h.unshift(Xa(r,g,d)),g=Bt(r,s),g!=null&&h.push(Xa(r,g,d))),r=r.return}return h}function Bo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Zm(r,s,a,h,d){for(var g=s._reactName,I=[];a!==null&&a!==h;){var D=a,j=D.alternate,Q=D.stateNode;if(j!==null&&j===h)break;D.tag===5&&Q!==null&&(D=Q,d?(j=Bt(a,g),j!=null&&I.unshift(Xa(a,j,D))):d||(j=Bt(a,g),j!=null&&I.push(Xa(a,j,D)))),a=a.return}I.length!==0&&r.push({event:s,listeners:I})}var bT=/\r\n?/g,DT=/\u0000|\uFFFD/g;function eg(r){return(typeof r=="string"?r:""+r).replace(bT,`
`).replace(DT,"")}function Nu(r,s,a){if(s=eg(s),eg(r)!==s&&a)throw Error(t(425))}function bu(){}var id=null,sd=null;function od(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ad=typeof setTimeout=="function"?setTimeout:void 0,MT=typeof clearTimeout=="function"?clearTimeout:void 0,tg=typeof Promise=="function"?Promise:void 0,OT=typeof queueMicrotask=="function"?queueMicrotask:typeof tg<"u"?function(r){return tg.resolve(null).then(r).catch(LT)}:ad;function LT(r){setTimeout(function(){throw r})}function ld(r,s){var a=s,h=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(h===0){r.removeChild(d),xr(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=d}while(a);xr(s)}function Xi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function ng(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var $o=Math.random().toString(36).slice(2),ni="__reactFiber$"+$o,Za="__reactProps$"+$o,wi="__reactContainer$"+$o,ud="__reactEvents$"+$o,VT="__reactListeners$"+$o,FT="__reactHandles$"+$o;function Hs(r){var s=r[ni];if(s)return s;for(var a=r.parentNode;a;){if(s=a[wi]||a[ni]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=ng(r);r!==null;){if(a=r[ni])return a;r=ng(r)}return s}r=a,a=r.parentNode}return null}function el(r){return r=r[ni]||r[wi],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Wo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Du(r){return r[Za]||null}var cd=[],Ho=-1;function Zi(r){return{current:r}}function Lt(r){0>Ho||(r.current=cd[Ho],cd[Ho]=null,Ho--)}function bt(r,s){Ho++,cd[Ho]=r.current,r.current=s}var es={},Nn=Zi(es),Kn=Zi(!1),qs=es;function qo(r,s){var a=r.type.contextTypes;if(!a)return es;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function Gn(r){return r=r.childContextTypes,r!=null}function Mu(){Lt(Kn),Lt(Nn)}function rg(r,s,a){if(Nn.current!==es)throw Error(t(168));bt(Nn,s),bt(Kn,a)}function ig(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var d in h)if(!(d in s))throw Error(t(108,ue(r)||"Unknown",d));return O({},a,h)}function Ou(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||es,qs=Nn.current,bt(Nn,r),bt(Kn,Kn.current),!0}function sg(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=ig(r,s,qs),h.__reactInternalMemoizedMergedChildContext=r,Lt(Kn),Lt(Nn),bt(Nn,r)):Lt(Kn),bt(Kn,a)}var Ei=null,Lu=!1,hd=!1;function og(r){Ei===null?Ei=[r]:Ei.push(r)}function jT(r){Lu=!0,og(r)}function ts(){if(!hd&&Ei!==null){hd=!0;var r=0,s=gt;try{var a=Ei;for(gt=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Ei=null,Lu=!1}catch(d){throw Ei!==null&&(Ei=Ei.slice(r+1)),Ct(ir,ts),d}finally{gt=s,hd=!1}}return null}var Ko=[],Go=0,Vu=null,Fu=0,gr=[],yr=0,Ks=null,Ti=1,Ii="";function Gs(r,s){Ko[Go++]=Fu,Ko[Go++]=Vu,Vu=r,Fu=s}function ag(r,s,a){gr[yr++]=Ti,gr[yr++]=Ii,gr[yr++]=Ks,Ks=r;var h=Ti;r=Ii;var d=32-dt(h)-1;h&=~(1<<d),a+=1;var g=32-dt(s)+d;if(30<g){var I=d-d%5;g=(h&(1<<I)-1).toString(32),h>>=I,d-=I,Ti=1<<32-dt(s)+d|a<<d|h,Ii=g+r}else Ti=1<<g|a<<d|h,Ii=r}function dd(r){r.return!==null&&(Gs(r,1),ag(r,1,0))}function fd(r){for(;r===Vu;)Vu=Ko[--Go],Ko[Go]=null,Fu=Ko[--Go],Ko[Go]=null;for(;r===Ks;)Ks=gr[--yr],gr[yr]=null,Ii=gr[--yr],gr[yr]=null,Ti=gr[--yr],gr[yr]=null}var lr=null,ur=null,jt=!1,Dr=null;function lg(r,s){var a=Er(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function ug(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,lr=r,ur=Xi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,lr=r,ur=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Ks!==null?{id:Ti,overflow:Ii}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Er(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,lr=r,ur=null,!0):!1;default:return!1}}function pd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function md(r){if(jt){var s=ur;if(s){var a=s;if(!ug(r,s)){if(pd(r))throw Error(t(418));s=Xi(a.nextSibling);var h=lr;s&&ug(r,s)?lg(h,a):(r.flags=r.flags&-4097|2,jt=!1,lr=r)}}else{if(pd(r))throw Error(t(418));r.flags=r.flags&-4097|2,jt=!1,lr=r}}}function cg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;lr=r}function ju(r){if(r!==lr)return!1;if(!jt)return cg(r),jt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!od(r.type,r.memoizedProps)),s&&(s=ur)){if(pd(r))throw hg(),Error(t(418));for(;s;)lg(r,s),s=Xi(s.nextSibling)}if(cg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){ur=Xi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}ur=null}}else ur=lr?Xi(r.stateNode.nextSibling):null;return!0}function hg(){for(var r=ur;r;)r=Xi(r.nextSibling)}function Qo(){ur=lr=null,jt=!1}function gd(r){Dr===null?Dr=[r]:Dr.push(r)}var UT=_e.ReactCurrentBatchConfig;function tl(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var d=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(I){var D=d.refs;I===null?delete D[g]:D[g]=I},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Uu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function dg(r){var s=r._init;return s(r._payload)}function fg(r){function s(q,U){if(r){var K=q.deletions;K===null?(q.deletions=[U],q.flags|=16):K.push(U)}}function a(q,U){if(!r)return null;for(;U!==null;)s(q,U),U=U.sibling;return null}function h(q,U){for(q=new Map;U!==null;)U.key!==null?q.set(U.key,U):q.set(U.index,U),U=U.sibling;return q}function d(q,U){return q=us(q,U),q.index=0,q.sibling=null,q}function g(q,U,K){return q.index=K,r?(K=q.alternate,K!==null?(K=K.index,K<U?(q.flags|=2,U):K):(q.flags|=2,U)):(q.flags|=1048576,U)}function I(q){return r&&q.alternate===null&&(q.flags|=2),q}function D(q,U,K,pe){return U===null||U.tag!==6?(U=lf(K,q.mode,pe),U.return=q,U):(U=d(U,K),U.return=q,U)}function j(q,U,K,pe){var Ve=K.type;return Ve===R?le(q,U,K.props.children,pe,K.key):U!==null&&(U.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===at&&dg(Ve)===U.type)?(pe=d(U,K.props),pe.ref=tl(q,U,K),pe.return=q,pe):(pe=cc(K.type,K.key,K.props,null,q.mode,pe),pe.ref=tl(q,U,K),pe.return=q,pe)}function Q(q,U,K,pe){return U===null||U.tag!==4||U.stateNode.containerInfo!==K.containerInfo||U.stateNode.implementation!==K.implementation?(U=uf(K,q.mode,pe),U.return=q,U):(U=d(U,K.children||[]),U.return=q,U)}function le(q,U,K,pe,Ve){return U===null||U.tag!==7?(U=no(K,q.mode,pe,Ve),U.return=q,U):(U=d(U,K),U.return=q,U)}function de(q,U,K){if(typeof U=="string"&&U!==""||typeof U=="number")return U=lf(""+U,q.mode,K),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Fe:return K=cc(U.type,U.key,U.props,null,q.mode,K),K.ref=tl(q,null,U),K.return=q,K;case Oe:return U=uf(U,q.mode,K),U.return=q,U;case at:var pe=U._init;return de(q,pe(U._payload),K)}if(rt(U)||se(U))return U=no(U,q.mode,K,null),U.return=q,U;Uu(q,U)}return null}function ae(q,U,K,pe){var Ve=U!==null?U.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Ve!==null?null:D(q,U,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Fe:return K.key===Ve?j(q,U,K,pe):null;case Oe:return K.key===Ve?Q(q,U,K,pe):null;case at:return Ve=K._init,ae(q,U,Ve(K._payload),pe)}if(rt(K)||se(K))return Ve!==null?null:le(q,U,K,pe,null);Uu(q,K)}return null}function Te(q,U,K,pe,Ve){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return q=q.get(K)||null,D(U,q,""+pe,Ve);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case Fe:return q=q.get(pe.key===null?K:pe.key)||null,j(U,q,pe,Ve);case Oe:return q=q.get(pe.key===null?K:pe.key)||null,Q(U,q,pe,Ve);case at:var We=pe._init;return Te(q,U,K,We(pe._payload),Ve)}if(rt(pe)||se(pe))return q=q.get(K)||null,le(U,q,pe,Ve,null);Uu(U,pe)}return null}function De(q,U,K,pe){for(var Ve=null,We=null,He=U,Qe=U=0,yn=null;He!==null&&Qe<K.length;Qe++){He.index>Qe?(yn=He,He=null):yn=He.sibling;var It=ae(q,He,K[Qe],pe);if(It===null){He===null&&(He=yn);break}r&&He&&It.alternate===null&&s(q,He),U=g(It,U,Qe),We===null?Ve=It:We.sibling=It,We=It,He=yn}if(Qe===K.length)return a(q,He),jt&&Gs(q,Qe),Ve;if(He===null){for(;Qe<K.length;Qe++)He=de(q,K[Qe],pe),He!==null&&(U=g(He,U,Qe),We===null?Ve=He:We.sibling=He,We=He);return jt&&Gs(q,Qe),Ve}for(He=h(q,He);Qe<K.length;Qe++)yn=Te(He,q,Qe,K[Qe],pe),yn!==null&&(r&&yn.alternate!==null&&He.delete(yn.key===null?Qe:yn.key),U=g(yn,U,Qe),We===null?Ve=yn:We.sibling=yn,We=yn);return r&&He.forEach(function(cs){return s(q,cs)}),jt&&Gs(q,Qe),Ve}function Le(q,U,K,pe){var Ve=se(K);if(typeof Ve!="function")throw Error(t(150));if(K=Ve.call(K),K==null)throw Error(t(151));for(var We=Ve=null,He=U,Qe=U=0,yn=null,It=K.next();He!==null&&!It.done;Qe++,It=K.next()){He.index>Qe?(yn=He,He=null):yn=He.sibling;var cs=ae(q,He,It.value,pe);if(cs===null){He===null&&(He=yn);break}r&&He&&cs.alternate===null&&s(q,He),U=g(cs,U,Qe),We===null?Ve=cs:We.sibling=cs,We=cs,He=yn}if(It.done)return a(q,He),jt&&Gs(q,Qe),Ve;if(He===null){for(;!It.done;Qe++,It=K.next())It=de(q,It.value,pe),It!==null&&(U=g(It,U,Qe),We===null?Ve=It:We.sibling=It,We=It);return jt&&Gs(q,Qe),Ve}for(He=h(q,He);!It.done;Qe++,It=K.next())It=Te(He,q,Qe,It.value,pe),It!==null&&(r&&It.alternate!==null&&He.delete(It.key===null?Qe:It.key),U=g(It,U,Qe),We===null?Ve=It:We.sibling=It,We=It);return r&&He.forEach(function(_1){return s(q,_1)}),jt&&Gs(q,Qe),Ve}function Jt(q,U,K,pe){if(typeof K=="object"&&K!==null&&K.type===R&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case Fe:e:{for(var Ve=K.key,We=U;We!==null;){if(We.key===Ve){if(Ve=K.type,Ve===R){if(We.tag===7){a(q,We.sibling),U=d(We,K.props.children),U.return=q,q=U;break e}}else if(We.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===at&&dg(Ve)===We.type){a(q,We.sibling),U=d(We,K.props),U.ref=tl(q,We,K),U.return=q,q=U;break e}a(q,We);break}else s(q,We);We=We.sibling}K.type===R?(U=no(K.props.children,q.mode,pe,K.key),U.return=q,q=U):(pe=cc(K.type,K.key,K.props,null,q.mode,pe),pe.ref=tl(q,U,K),pe.return=q,q=pe)}return I(q);case Oe:e:{for(We=K.key;U!==null;){if(U.key===We)if(U.tag===4&&U.stateNode.containerInfo===K.containerInfo&&U.stateNode.implementation===K.implementation){a(q,U.sibling),U=d(U,K.children||[]),U.return=q,q=U;break e}else{a(q,U);break}else s(q,U);U=U.sibling}U=uf(K,q.mode,pe),U.return=q,q=U}return I(q);case at:return We=K._init,Jt(q,U,We(K._payload),pe)}if(rt(K))return De(q,U,K,pe);if(se(K))return Le(q,U,K,pe);Uu(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,U!==null&&U.tag===6?(a(q,U.sibling),U=d(U,K),U.return=q,q=U):(a(q,U),U=lf(K,q.mode,pe),U.return=q,q=U),I(q)):a(q,U)}return Jt}var Yo=fg(!0),pg=fg(!1),zu=Zi(null),Bu=null,Jo=null,yd=null;function vd(){yd=Jo=Bu=null}function _d(r){var s=zu.current;Lt(zu),r._currentValue=s}function wd(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function Xo(r,s){Bu=r,yd=Jo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Qn=!0),r.firstContext=null)}function vr(r){var s=r._currentValue;if(yd!==r)if(r={context:r,memoizedValue:s,next:null},Jo===null){if(Bu===null)throw Error(t(308));Jo=r,Bu.dependencies={lanes:0,firstContext:r}}else Jo=Jo.next=r;return s}var Qs=null;function Ed(r){Qs===null?Qs=[r]:Qs.push(r)}function mg(r,s,a,h){var d=s.interleaved;return d===null?(a.next=a,Ed(s)):(a.next=d.next,d.next=a),s.interleaved=a,Si(r,h)}function Si(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ns=!1;function Td(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ri(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function rs(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(wt&2)!==0){var d=h.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),h.pending=s,Si(r,a)}return d=h.interleaved,d===null?(s.next=s,Ed(h)):(s.next=d.next,d.next=s),h.interleaved=s,Si(r,a)}function $u(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,qi(r,a)}}function yg(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var I={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=I:g=g.next=I,a=a.next}while(a!==null);g===null?d=g=s:g=g.next=s}else d=g=s;a={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Wu(r,s,a,h){var d=r.updateQueue;ns=!1;var g=d.firstBaseUpdate,I=d.lastBaseUpdate,D=d.shared.pending;if(D!==null){d.shared.pending=null;var j=D,Q=j.next;j.next=null,I===null?g=Q:I.next=Q,I=j;var le=r.alternate;le!==null&&(le=le.updateQueue,D=le.lastBaseUpdate,D!==I&&(D===null?le.firstBaseUpdate=Q:D.next=Q,le.lastBaseUpdate=j))}if(g!==null){var de=d.baseState;I=0,le=Q=j=null,D=g;do{var ae=D.lane,Te=D.eventTime;if((h&ae)===ae){le!==null&&(le=le.next={eventTime:Te,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var De=r,Le=D;switch(ae=s,Te=a,Le.tag){case 1:if(De=Le.payload,typeof De=="function"){de=De.call(Te,de,ae);break e}de=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Le.payload,ae=typeof De=="function"?De.call(Te,de,ae):De,ae==null)break e;de=O({},de,ae);break e;case 2:ns=!0}}D.callback!==null&&D.lane!==0&&(r.flags|=64,ae=d.effects,ae===null?d.effects=[D]:ae.push(D))}else Te={eventTime:Te,lane:ae,tag:D.tag,payload:D.payload,callback:D.callback,next:null},le===null?(Q=le=Te,j=de):le=le.next=Te,I|=ae;if(D=D.next,D===null){if(D=d.shared.pending,D===null)break;ae=D,D=ae.next,ae.next=null,d.lastBaseUpdate=ae,d.shared.pending=null}}while(!0);if(le===null&&(j=de),d.baseState=j,d.firstBaseUpdate=Q,d.lastBaseUpdate=le,s=d.shared.interleaved,s!==null){d=s;do I|=d.lane,d=d.next;while(d!==s)}else g===null&&(d.shared.lanes=0);Xs|=I,r.lanes=I,r.memoizedState=de}}function vg(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],d=h.callback;if(d!==null){if(h.callback=null,h=a,typeof d!="function")throw Error(t(191,d));d.call(h)}}}var nl={},ri=Zi(nl),rl=Zi(nl),il=Zi(nl);function Ys(r){if(r===nl)throw Error(t(174));return r}function Id(r,s){switch(bt(il,s),bt(rl,r),bt(ri,nl),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:it(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=it(s,r)}Lt(ri),bt(ri,s)}function Zo(){Lt(ri),Lt(rl),Lt(il)}function _g(r){Ys(il.current);var s=Ys(ri.current),a=it(s,r.type);s!==a&&(bt(rl,r),bt(ri,a))}function Sd(r){rl.current===r&&(Lt(ri),Lt(rl))}var $t=Zi(0);function Hu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Rd=[];function Ad(){for(var r=0;r<Rd.length;r++)Rd[r]._workInProgressVersionPrimary=null;Rd.length=0}var qu=_e.ReactCurrentDispatcher,Cd=_e.ReactCurrentBatchConfig,Js=0,Wt=null,cn=null,mn=null,Ku=!1,sl=!1,ol=0,zT=0;function bn(){throw Error(t(321))}function kd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!br(r[a],s[a]))return!1;return!0}function Pd(r,s,a,h,d,g){if(Js=g,Wt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,qu.current=r===null||r.memoizedState===null?HT:qT,r=a(h,d),sl){g=0;do{if(sl=!1,ol=0,25<=g)throw Error(t(301));g+=1,mn=cn=null,s.updateQueue=null,qu.current=KT,r=a(h,d)}while(sl)}if(qu.current=Yu,s=cn!==null&&cn.next!==null,Js=0,mn=cn=Wt=null,Ku=!1,s)throw Error(t(300));return r}function xd(){var r=ol!==0;return ol=0,r}function ii(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Wt.memoizedState=mn=r:mn=mn.next=r,mn}function _r(){if(cn===null){var r=Wt.alternate;r=r!==null?r.memoizedState:null}else r=cn.next;var s=mn===null?Wt.memoizedState:mn.next;if(s!==null)mn=s,cn=r;else{if(r===null)throw Error(t(310));cn=r,r={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},mn===null?Wt.memoizedState=mn=r:mn=mn.next=r}return mn}function al(r,s){return typeof s=="function"?s(r):s}function Nd(r){var s=_r(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=cn,d=h.baseQueue,g=a.pending;if(g!==null){if(d!==null){var I=d.next;d.next=g.next,g.next=I}h.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,h=h.baseState;var D=I=null,j=null,Q=g;do{var le=Q.lane;if((Js&le)===le)j!==null&&(j=j.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),h=Q.hasEagerState?Q.eagerState:r(h,Q.action);else{var de={lane:le,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};j===null?(D=j=de,I=h):j=j.next=de,Wt.lanes|=le,Xs|=le}Q=Q.next}while(Q!==null&&Q!==g);j===null?I=h:j.next=D,br(h,s.memoizedState)||(Qn=!0),s.memoizedState=h,s.baseState=I,s.baseQueue=j,a.lastRenderedState=h}if(r=a.interleaved,r!==null){d=r;do g=d.lane,Wt.lanes|=g,Xs|=g,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function bd(r){var s=_r(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,d=a.pending,g=s.memoizedState;if(d!==null){a.pending=null;var I=d=d.next;do g=r(g,I.action),I=I.next;while(I!==d);br(g,s.memoizedState)||(Qn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function wg(){}function Eg(r,s){var a=Wt,h=_r(),d=s(),g=!br(h.memoizedState,d);if(g&&(h.memoizedState=d,Qn=!0),h=h.queue,Dd(Sg.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||mn!==null&&mn.memoizedState.tag&1){if(a.flags|=2048,ll(9,Ig.bind(null,a,h,d,s),void 0,null),gn===null)throw Error(t(349));(Js&30)!==0||Tg(a,s,d)}return d}function Tg(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Wt.updateQueue,s===null?(s={lastEffect:null,stores:null},Wt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Ig(r,s,a,h){s.value=a,s.getSnapshot=h,Rg(s)&&Ag(r)}function Sg(r,s,a){return a(function(){Rg(s)&&Ag(r)})}function Rg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!br(r,a)}catch{return!0}}function Ag(r){var s=Si(r,1);s!==null&&Vr(s,r,1,-1)}function Cg(r){var s=ii();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:r},s.queue=r,r=r.dispatch=WT.bind(null,Wt,r),[s.memoizedState,r]}function ll(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=Wt.updateQueue,s===null?(s={lastEffect:null,stores:null},Wt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function kg(){return _r().memoizedState}function Gu(r,s,a,h){var d=ii();Wt.flags|=r,d.memoizedState=ll(1|s,a,void 0,h===void 0?null:h)}function Qu(r,s,a,h){var d=_r();h=h===void 0?null:h;var g=void 0;if(cn!==null){var I=cn.memoizedState;if(g=I.destroy,h!==null&&kd(h,I.deps)){d.memoizedState=ll(s,a,g,h);return}}Wt.flags|=r,d.memoizedState=ll(1|s,a,g,h)}function Pg(r,s){return Gu(8390656,8,r,s)}function Dd(r,s){return Qu(2048,8,r,s)}function xg(r,s){return Qu(4,2,r,s)}function Ng(r,s){return Qu(4,4,r,s)}function bg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Dg(r,s,a){return a=a!=null?a.concat([r]):null,Qu(4,4,bg.bind(null,s,r),a)}function Md(){}function Mg(r,s){var a=_r();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&kd(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function Og(r,s){var a=_r();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&kd(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function Lg(r,s,a){return(Js&21)===0?(r.baseState&&(r.baseState=!1,Qn=!0),r.memoizedState=a):(br(a,s)||(a=Us(),Wt.lanes|=a,Xs|=a,r.baseState=!0),s)}function BT(r,s){var a=gt;gt=a!==0&&4>a?a:4,r(!0);var h=Cd.transition;Cd.transition={};try{r(!1),s()}finally{gt=a,Cd.transition=h}}function Vg(){return _r().memoizedState}function $T(r,s,a){var h=as(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Fg(r))jg(s,a);else if(a=mg(r,s,a,h),a!==null){var d=zn();Vr(a,r,h,d),Ug(a,s,h)}}function WT(r,s,a){var h=as(r),d={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fg(r))jg(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var I=s.lastRenderedState,D=g(I,a);if(d.hasEagerState=!0,d.eagerState=D,br(D,I)){var j=s.interleaved;j===null?(d.next=d,Ed(s)):(d.next=j.next,j.next=d),s.interleaved=d;return}}catch{}finally{}a=mg(r,s,d,h),a!==null&&(d=zn(),Vr(a,r,h,d),Ug(a,s,h))}}function Fg(r){var s=r.alternate;return r===Wt||s!==null&&s===Wt}function jg(r,s){sl=Ku=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Ug(r,s,a){if((a&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,qi(r,a)}}var Yu={readContext:vr,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},HT={readContext:vr,useCallback:function(r,s){return ii().memoizedState=[r,s===void 0?null:s],r},useContext:vr,useEffect:Pg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Gu(4194308,4,bg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Gu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Gu(4,2,r,s)},useMemo:function(r,s){var a=ii();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=ii();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=$T.bind(null,Wt,r),[h.memoizedState,r]},useRef:function(r){var s=ii();return r={current:r},s.memoizedState=r},useState:Cg,useDebugValue:Md,useDeferredValue:function(r){return ii().memoizedState=r},useTransition:function(){var r=Cg(!1),s=r[0];return r=BT.bind(null,r[1]),ii().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=Wt,d=ii();if(jt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),gn===null)throw Error(t(349));(Js&30)!==0||Tg(h,s,a)}d.memoizedState=a;var g={value:a,getSnapshot:s};return d.queue=g,Pg(Sg.bind(null,h,g,r),[r]),h.flags|=2048,ll(9,Ig.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=ii(),s=gn.identifierPrefix;if(jt){var a=Ii,h=Ti;a=(h&~(1<<32-dt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=ol++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=zT++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},qT={readContext:vr,useCallback:Mg,useContext:vr,useEffect:Dd,useImperativeHandle:Dg,useInsertionEffect:xg,useLayoutEffect:Ng,useMemo:Og,useReducer:Nd,useRef:kg,useState:function(){return Nd(al)},useDebugValue:Md,useDeferredValue:function(r){var s=_r();return Lg(s,cn.memoizedState,r)},useTransition:function(){var r=Nd(al)[0],s=_r().memoizedState;return[r,s]},useMutableSource:wg,useSyncExternalStore:Eg,useId:Vg,unstable_isNewReconciler:!1},KT={readContext:vr,useCallback:Mg,useContext:vr,useEffect:Dd,useImperativeHandle:Dg,useInsertionEffect:xg,useLayoutEffect:Ng,useMemo:Og,useReducer:bd,useRef:kg,useState:function(){return bd(al)},useDebugValue:Md,useDeferredValue:function(r){var s=_r();return cn===null?s.memoizedState=r:Lg(s,cn.memoizedState,r)},useTransition:function(){var r=bd(al)[0],s=_r().memoizedState;return[r,s]},useMutableSource:wg,useSyncExternalStore:Eg,useId:Vg,unstable_isNewReconciler:!1};function Mr(r,s){if(r&&r.defaultProps){s=O({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Od(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:O({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Ju={isMounted:function(r){return(r=r._reactInternals)?Re(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=zn(),d=as(r),g=Ri(h,d);g.payload=s,a!=null&&(g.callback=a),s=rs(r,g,d),s!==null&&(Vr(s,r,d,h),$u(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=zn(),d=as(r),g=Ri(h,d);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=rs(r,g,d),s!==null&&(Vr(s,r,d,h),$u(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=zn(),h=as(r),d=Ri(a,h);d.tag=2,s!=null&&(d.callback=s),s=rs(r,d,h),s!==null&&(Vr(s,r,h,a),$u(s,r,h))}};function zg(r,s,a,h,d,g,I){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,I):s.prototype&&s.prototype.isPureReactComponent?!Ga(a,h)||!Ga(d,g):!0}function Bg(r,s,a){var h=!1,d=es,g=s.contextType;return typeof g=="object"&&g!==null?g=vr(g):(d=Gn(s)?qs:Nn.current,h=s.contextTypes,g=(h=h!=null)?qo(r,d):es),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ju,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=g),s}function $g(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Ju.enqueueReplaceState(s,s.state,null)}function Ld(r,s,a,h){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},Td(r);var g=s.contextType;typeof g=="object"&&g!==null?d.context=vr(g):(g=Gn(s)?qs:Nn.current,d.context=qo(r,g)),d.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Od(r,s,g,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Ju.enqueueReplaceState(d,d.state,null),Wu(r,a,d,h),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function ea(r,s){try{var a="",h=s;do a+=ne(h),h=h.return;while(h);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:d,digest:null}}function Vd(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Fd(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var GT=typeof WeakMap=="function"?WeakMap:Map;function Wg(r,s,a){a=Ri(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){ic||(ic=!0,Zd=h),Fd(r,s)},a}function Hg(r,s,a){a=Ri(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=s.value;a.payload=function(){return h(d)},a.callback=function(){Fd(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Fd(r,s),typeof h!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var I=s.stack;this.componentDidCatch(s.value,{componentStack:I!==null?I:""})}),a}function qg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new GT;var d=new Set;h.set(s,d)}else d=h.get(s),d===void 0&&(d=new Set,h.set(s,d));d.has(a)||(d.add(a),r=l1.bind(null,r,s,a),s.then(r,r))}function Kg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Gg(r,s,a,h,d){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Ri(-1,1),s.tag=2,rs(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=d,r)}var QT=_e.ReactCurrentOwner,Qn=!1;function Un(r,s,a,h){s.child=r===null?pg(s,null,a,h):Yo(s,r.child,a,h)}function Qg(r,s,a,h,d){a=a.render;var g=s.ref;return Xo(s,d),h=Pd(r,s,a,h,g,d),a=xd(),r!==null&&!Qn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Ai(r,s,d)):(jt&&a&&dd(s),s.flags|=1,Un(r,s,h,d),s.child)}function Yg(r,s,a,h,d){if(r===null){var g=a.type;return typeof g=="function"&&!af(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Jg(r,s,g,h,d)):(r=cc(a.type,null,h,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&d)===0){var I=g.memoizedProps;if(a=a.compare,a=a!==null?a:Ga,a(I,h)&&r.ref===s.ref)return Ai(r,s,d)}return s.flags|=1,r=us(g,h),r.ref=s.ref,r.return=s,s.child=r}function Jg(r,s,a,h,d){if(r!==null){var g=r.memoizedProps;if(Ga(g,h)&&r.ref===s.ref)if(Qn=!1,s.pendingProps=h=g,(r.lanes&d)!==0)(r.flags&131072)!==0&&(Qn=!0);else return s.lanes=r.lanes,Ai(r,s,d)}return jd(r,s,a,h,d)}function Xg(r,s,a){var h=s.pendingProps,d=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(na,cr),cr|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,bt(na,cr),cr|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,bt(na,cr),cr|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,bt(na,cr),cr|=h;return Un(r,s,d,a),s.child}function Zg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function jd(r,s,a,h,d){var g=Gn(a)?qs:Nn.current;return g=qo(s,g),Xo(s,d),a=Pd(r,s,a,h,g,d),h=xd(),r!==null&&!Qn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Ai(r,s,d)):(jt&&h&&dd(s),s.flags|=1,Un(r,s,a,d),s.child)}function ey(r,s,a,h,d){if(Gn(a)){var g=!0;Ou(s)}else g=!1;if(Xo(s,d),s.stateNode===null)Zu(r,s),Bg(s,a,h),Ld(s,a,h,d),h=!0;else if(r===null){var I=s.stateNode,D=s.memoizedProps;I.props=D;var j=I.context,Q=a.contextType;typeof Q=="object"&&Q!==null?Q=vr(Q):(Q=Gn(a)?qs:Nn.current,Q=qo(s,Q));var le=a.getDerivedStateFromProps,de=typeof le=="function"||typeof I.getSnapshotBeforeUpdate=="function";de||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(D!==h||j!==Q)&&$g(s,I,h,Q),ns=!1;var ae=s.memoizedState;I.state=ae,Wu(s,h,I,d),j=s.memoizedState,D!==h||ae!==j||Kn.current||ns?(typeof le=="function"&&(Od(s,a,le,h),j=s.memoizedState),(D=ns||zg(s,a,D,h,ae,j,Q))?(de||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(s.flags|=4194308)):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=j),I.props=h,I.state=j,I.context=Q,h=D):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{I=s.stateNode,gg(r,s),D=s.memoizedProps,Q=s.type===s.elementType?D:Mr(s.type,D),I.props=Q,de=s.pendingProps,ae=I.context,j=a.contextType,typeof j=="object"&&j!==null?j=vr(j):(j=Gn(a)?qs:Nn.current,j=qo(s,j));var Te=a.getDerivedStateFromProps;(le=typeof Te=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(D!==de||ae!==j)&&$g(s,I,h,j),ns=!1,ae=s.memoizedState,I.state=ae,Wu(s,h,I,d);var De=s.memoizedState;D!==de||ae!==De||Kn.current||ns?(typeof Te=="function"&&(Od(s,a,Te,h),De=s.memoizedState),(Q=ns||zg(s,a,Q,h,ae,De,j)||!1)?(le||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(h,De,j),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(h,De,j)),typeof I.componentDidUpdate=="function"&&(s.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof I.componentDidUpdate!="function"||D===r.memoizedProps&&ae===r.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&ae===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=De),I.props=h,I.state=De,I.context=j,h=Q):(typeof I.componentDidUpdate!="function"||D===r.memoizedProps&&ae===r.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&ae===r.memoizedState||(s.flags|=1024),h=!1)}return Ud(r,s,a,h,g,d)}function Ud(r,s,a,h,d,g){Zg(r,s);var I=(s.flags&128)!==0;if(!h&&!I)return d&&sg(s,a,!1),Ai(r,s,g);h=s.stateNode,QT.current=s;var D=I&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&I?(s.child=Yo(s,r.child,null,g),s.child=Yo(s,null,D,g)):Un(r,s,D,g),s.memoizedState=h.state,d&&sg(s,a,!0),s.child}function ty(r){var s=r.stateNode;s.pendingContext?rg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&rg(r,s.context,!1),Id(r,s.containerInfo)}function ny(r,s,a,h,d){return Qo(),gd(d),s.flags|=256,Un(r,s,a,h),s.child}var zd={dehydrated:null,treeContext:null,retryLane:0};function Bd(r){return{baseLanes:r,cachePool:null,transitions:null}}function ry(r,s,a){var h=s.pendingProps,d=$t.current,g=!1,I=(s.flags&128)!==0,D;if((D=I)||(D=r!==null&&r.memoizedState===null?!1:(d&2)!==0),D?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),bt($t,d&1),r===null)return md(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(I=h.children,r=h.fallback,g?(h=s.mode,g=s.child,I={mode:"hidden",children:I},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=I):g=hc(I,h,0,null),r=no(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Bd(a),s.memoizedState=zd,r):$d(s,I));if(d=r.memoizedState,d!==null&&(D=d.dehydrated,D!==null))return YT(r,s,I,h,D,d,a);if(g){g=h.fallback,I=s.mode,d=r.child,D=d.sibling;var j={mode:"hidden",children:h.children};return(I&1)===0&&s.child!==d?(h=s.child,h.childLanes=0,h.pendingProps=j,s.deletions=null):(h=us(d,j),h.subtreeFlags=d.subtreeFlags&14680064),D!==null?g=us(D,g):(g=no(g,I,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,I=r.child.memoizedState,I=I===null?Bd(a):{baseLanes:I.baseLanes|a,cachePool:null,transitions:I.transitions},g.memoizedState=I,g.childLanes=r.childLanes&~a,s.memoizedState=zd,h}return g=r.child,r=g.sibling,h=us(g,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function $d(r,s){return s=hc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Xu(r,s,a,h){return h!==null&&gd(h),Yo(s,r.child,null,a),r=$d(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function YT(r,s,a,h,d,g,I){if(a)return s.flags&256?(s.flags&=-257,h=Vd(Error(t(422))),Xu(r,s,I,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,d=s.mode,h=hc({mode:"visible",children:h.children},d,0,null),g=no(g,d,I,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,(s.mode&1)!==0&&Yo(s,r.child,null,I),s.child.memoizedState=Bd(I),s.memoizedState=zd,g);if((s.mode&1)===0)return Xu(r,s,I,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var D=h.dgst;return h=D,g=Error(t(419)),h=Vd(g,h,void 0),Xu(r,s,I,h)}if(D=(I&r.childLanes)!==0,Qn||D){if(h=gn,h!==null){switch(I&-I){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(h.suspendedLanes|I))!==0?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,Si(r,d),Vr(h,r,d,-1))}return of(),h=Vd(Error(t(421))),Xu(r,s,I,h)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=u1.bind(null,r),d._reactRetry=s,null):(r=g.treeContext,ur=Xi(d.nextSibling),lr=s,jt=!0,Dr=null,r!==null&&(gr[yr++]=Ti,gr[yr++]=Ii,gr[yr++]=Ks,Ti=r.id,Ii=r.overflow,Ks=s),s=$d(s,h.children),s.flags|=4096,s)}function iy(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),wd(r.return,s,a)}function Wd(r,s,a,h,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=d)}function sy(r,s,a){var h=s.pendingProps,d=h.revealOrder,g=h.tail;if(Un(r,s,h.children,a),h=$t.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&iy(r,a,s);else if(r.tag===19)iy(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(bt($t,h),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&Hu(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Wd(s,!1,d,a,g);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&Hu(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}Wd(s,!0,a,null,g);break;case"together":Wd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Zu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Ai(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Xs|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=us(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=us(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function JT(r,s,a){switch(s.tag){case 3:ty(s),Qo();break;case 5:_g(s);break;case 1:Gn(s.type)&&Ou(s);break;case 4:Id(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,d=s.memoizedProps.value;bt(zu,h._currentValue),h._currentValue=d;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(bt($t,$t.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?ry(r,s,a):(bt($t,$t.current&1),r=Ai(r,s,a),r!==null?r.sibling:null);bt($t,$t.current&1);break;case 19:if(h=(a&s.childLanes)!==0,(r.flags&128)!==0){if(h)return sy(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),bt($t,$t.current),h)break;return null;case 22:case 23:return s.lanes=0,Xg(r,s,a)}return Ai(r,s,a)}var oy,Hd,ay,ly;oy=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Hd=function(){},ay=function(r,s,a,h){var d=r.memoizedProps;if(d!==h){r=s.stateNode,Ys(ri.current);var g=null;switch(a){case"input":d=Ie(r,d),h=Ie(r,h),g=[];break;case"select":d=O({},d,{value:void 0}),h=O({},h,{value:void 0}),g=[];break;case"textarea":d=en(r,d),h=en(r,h),g=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=bu)}Ui(a,h);var I;a=null;for(Q in d)if(!h.hasOwnProperty(Q)&&d.hasOwnProperty(Q)&&d[Q]!=null)if(Q==="style"){var D=d[Q];for(I in D)D.hasOwnProperty(I)&&(a||(a={}),a[I]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?g||(g=[]):(g=g||[]).push(Q,null));for(Q in h){var j=h[Q];if(D=d!=null?d[Q]:void 0,h.hasOwnProperty(Q)&&j!==D&&(j!=null||D!=null))if(Q==="style")if(D){for(I in D)!D.hasOwnProperty(I)||j&&j.hasOwnProperty(I)||(a||(a={}),a[I]="");for(I in j)j.hasOwnProperty(I)&&D[I]!==j[I]&&(a||(a={}),a[I]=j[I])}else a||(g||(g=[]),g.push(Q,a)),a=j;else Q==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,D=D?D.__html:void 0,j!=null&&D!==j&&(g=g||[]).push(Q,j)):Q==="children"?typeof j!="string"&&typeof j!="number"||(g=g||[]).push(Q,""+j):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(j!=null&&Q==="onScroll"&&Ot("scroll",r),g||D===j||(g=[])):(g=g||[]).push(Q,j))}a&&(g=g||[]).push("style",a);var Q=g;(s.updateQueue=Q)&&(s.flags|=4)}},ly=function(r,s,a,h){a!==h&&(s.flags|=4)};function ul(r,s){if(!jt)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Dn(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function XT(r,s,a){var h=s.pendingProps;switch(fd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(s),null;case 1:return Gn(s.type)&&Mu(),Dn(s),null;case 3:return h=s.stateNode,Zo(),Lt(Kn),Lt(Nn),Ad(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(ju(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Dr!==null&&(nf(Dr),Dr=null))),Hd(r,s),Dn(s),null;case 5:Sd(s);var d=Ys(il.current);if(a=s.type,r!==null&&s.stateNode!=null)ay(r,s,a,h,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Dn(s),null}if(r=Ys(ri.current),ju(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[ni]=s,h[Za]=g,r=(s.mode&1)!==0,a){case"dialog":Ot("cancel",h),Ot("close",h);break;case"iframe":case"object":case"embed":Ot("load",h);break;case"video":case"audio":for(d=0;d<Ya.length;d++)Ot(Ya[d],h);break;case"source":Ot("error",h);break;case"img":case"image":case"link":Ot("error",h),Ot("load",h);break;case"details":Ot("toggle",h);break;case"input":Be(h,g),Ot("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Ot("invalid",h);break;case"textarea":kn(h,g),Ot("invalid",h)}Ui(a,g),d=null;for(var I in g)if(g.hasOwnProperty(I)){var D=g[I];I==="children"?typeof D=="string"?h.textContent!==D&&(g.suppressHydrationWarning!==!0&&Nu(h.textContent,D,r),d=["children",D]):typeof D=="number"&&h.textContent!==""+D&&(g.suppressHydrationWarning!==!0&&Nu(h.textContent,D,r),d=["children",""+D]):o.hasOwnProperty(I)&&D!=null&&I==="onScroll"&&Ot("scroll",h)}switch(a){case"input":ve(h),Ge(h,g,!0);break;case"textarea":ve(h),Vt(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=bu)}h=d,s.updateQueue=h,h!==null&&(s.flags|=4)}else{I=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ze(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=I.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=I.createElement(a,{is:h.is}):(r=I.createElement(a),a==="select"&&(I=r,h.multiple?I.multiple=!0:h.size&&(I.size=h.size))):r=I.createElementNS(r,a),r[ni]=s,r[Za]=h,oy(r,s,!1,!1),s.stateNode=r;e:{switch(I=Os(a,h),a){case"dialog":Ot("cancel",r),Ot("close",r),d=h;break;case"iframe":case"object":case"embed":Ot("load",r),d=h;break;case"video":case"audio":for(d=0;d<Ya.length;d++)Ot(Ya[d],r);d=h;break;case"source":Ot("error",r),d=h;break;case"img":case"image":case"link":Ot("error",r),Ot("load",r),d=h;break;case"details":Ot("toggle",r),d=h;break;case"input":Be(r,h),d=Ie(r,h),Ot("invalid",r);break;case"option":d=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},d=O({},h,{value:void 0}),Ot("invalid",r);break;case"textarea":kn(r,h),d=en(r,h),Ot("invalid",r);break;default:d=h}Ui(a,d),D=d;for(g in D)if(D.hasOwnProperty(g)){var j=D[g];g==="style"?Rr(r,j):g==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&qt(r,j)):g==="children"?typeof j=="string"?(a!=="textarea"||j!=="")&&_n(r,j):typeof j=="number"&&_n(r,""+j):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?j!=null&&g==="onScroll"&&Ot("scroll",r):j!=null&&fe(r,g,j,I))}switch(a){case"input":ve(r),Ge(r,h,!1);break;case"textarea":ve(r),Vt(r);break;case"option":h.value!=null&&r.setAttribute("value",""+re(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?Zt(r,!!h.multiple,g,!1):h.defaultValue!=null&&Zt(r,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=bu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Dn(s),null;case 6:if(r&&s.stateNode!=null)ly(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=Ys(il.current),Ys(ri.current),ju(s)){if(h=s.stateNode,a=s.memoizedProps,h[ni]=s,(g=h.nodeValue!==a)&&(r=lr,r!==null))switch(r.tag){case 3:Nu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Nu(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[ni]=s,s.stateNode=h}return Dn(s),null;case 13:if(Lt($t),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(jt&&ur!==null&&(s.mode&1)!==0&&(s.flags&128)===0)hg(),Qo(),s.flags|=98560,g=!1;else if(g=ju(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[ni]=s}else Qo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Dn(s),g=!1}else Dr!==null&&(nf(Dr),Dr=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||($t.current&1)!==0?hn===0&&(hn=3):of())),s.updateQueue!==null&&(s.flags|=4),Dn(s),null);case 4:return Zo(),Hd(r,s),r===null&&Ja(s.stateNode.containerInfo),Dn(s),null;case 10:return _d(s.type._context),Dn(s),null;case 17:return Gn(s.type)&&Mu(),Dn(s),null;case 19:if(Lt($t),g=s.memoizedState,g===null)return Dn(s),null;if(h=(s.flags&128)!==0,I=g.rendering,I===null)if(h)ul(g,!1);else{if(hn!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(I=Hu(r),I!==null){for(s.flags|=128,ul(g,!1),h=I.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,I=g.alternate,I===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=I.childLanes,g.lanes=I.lanes,g.child=I.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=I.memoizedProps,g.memoizedState=I.memoizedState,g.updateQueue=I.updateQueue,g.type=I.type,r=I.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return bt($t,$t.current&1|2),s.child}r=r.sibling}g.tail!==null&&lt()>ra&&(s.flags|=128,h=!0,ul(g,!1),s.lanes=4194304)}else{if(!h)if(r=Hu(I),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),ul(g,!0),g.tail===null&&g.tailMode==="hidden"&&!I.alternate&&!jt)return Dn(s),null}else 2*lt()-g.renderingStartTime>ra&&a!==1073741824&&(s.flags|=128,h=!0,ul(g,!1),s.lanes=4194304);g.isBackwards?(I.sibling=s.child,s.child=I):(a=g.last,a!==null?a.sibling=I:s.child=I,g.last=I)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=lt(),s.sibling=null,a=$t.current,bt($t,h?a&1|2:a&1),s):(Dn(s),null);case 22:case 23:return sf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(cr&1073741824)!==0&&(Dn(s),s.subtreeFlags&6&&(s.flags|=8192)):Dn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function ZT(r,s){switch(fd(s),s.tag){case 1:return Gn(s.type)&&Mu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Zo(),Lt(Kn),Lt(Nn),Ad(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Sd(s),null;case 13:if(Lt($t),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Qo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Lt($t),null;case 4:return Zo(),null;case 10:return _d(s.type._context),null;case 22:case 23:return sf(),null;case 24:return null;default:return null}}var ec=!1,Mn=!1,e1=typeof WeakSet=="function"?WeakSet:Set,be=null;function ta(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){Yt(r,s,h)}else a.current=null}function qd(r,s,a){try{a()}catch(h){Yt(r,s,h)}}var uy=!1;function t1(r,s){if(id=Qi,r=zm(),Yh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var d=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var I=0,D=-1,j=-1,Q=0,le=0,de=r,ae=null;t:for(;;){for(var Te;de!==a||d!==0&&de.nodeType!==3||(D=I+d),de!==g||h!==0&&de.nodeType!==3||(j=I+h),de.nodeType===3&&(I+=de.nodeValue.length),(Te=de.firstChild)!==null;)ae=de,de=Te;for(;;){if(de===r)break t;if(ae===a&&++Q===d&&(D=I),ae===g&&++le===h&&(j=I),(Te=de.nextSibling)!==null)break;de=ae,ae=de.parentNode}de=Te}a=D===-1||j===-1?null:{start:D,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(sd={focusedElem:r,selectionRange:a},Qi=!1,be=s;be!==null;)if(s=be,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,be=r;else for(;be!==null;){s=be;try{var De=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(De!==null){var Le=De.memoizedProps,Jt=De.memoizedState,q=s.stateNode,U=q.getSnapshotBeforeUpdate(s.elementType===s.type?Le:Mr(s.type,Le),Jt);q.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var K=s.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(pe){Yt(s,s.return,pe)}if(r=s.sibling,r!==null){r.return=s.return,be=r;break}be=s.return}return De=uy,uy=!1,De}function cl(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&r)===r){var g=d.destroy;d.destroy=void 0,g!==void 0&&qd(s,a,g)}d=d.next}while(d!==h)}}function tc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Kd(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function cy(r){var s=r.alternate;s!==null&&(r.alternate=null,cy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[ni],delete s[Za],delete s[ud],delete s[VT],delete s[FT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function hy(r){return r.tag===5||r.tag===3||r.tag===4}function dy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||hy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Gd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=bu));else if(h!==4&&(r=r.child,r!==null))for(Gd(r,s,a),r=r.sibling;r!==null;)Gd(r,s,a),r=r.sibling}function Qd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Qd(r,s,a),r=r.sibling;r!==null;)Qd(r,s,a),r=r.sibling}var In=null,Or=!1;function is(r,s,a){for(a=a.child;a!==null;)fy(r,s,a),a=a.sibling}function fy(r,s,a){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Rt,a)}catch{}switch(a.tag){case 5:Mn||ta(a,s);case 6:var h=In,d=Or;In=null,is(r,s,a),In=h,Or=d,In!==null&&(Or?(r=In,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):In.removeChild(a.stateNode));break;case 18:In!==null&&(Or?(r=In,a=a.stateNode,r.nodeType===8?ld(r.parentNode,a):r.nodeType===1&&ld(r,a),xr(r)):ld(In,a.stateNode));break;case 4:h=In,d=Or,In=a.stateNode.containerInfo,Or=!0,is(r,s,a),In=h,Or=d;break;case 0:case 11:case 14:case 15:if(!Mn&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var g=d,I=g.destroy;g=g.tag,I!==void 0&&((g&2)!==0||(g&4)!==0)&&qd(a,s,I),d=d.next}while(d!==h)}is(r,s,a);break;case 1:if(!Mn&&(ta(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(D){Yt(a,s,D)}is(r,s,a);break;case 21:is(r,s,a);break;case 22:a.mode&1?(Mn=(h=Mn)||a.memoizedState!==null,is(r,s,a),Mn=h):is(r,s,a);break;default:is(r,s,a)}}function py(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new e1),s.forEach(function(h){var d=c1.bind(null,r,h);a.has(h)||(a.add(h),h.then(d,d))})}}function Lr(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var d=a[h];try{var g=r,I=s,D=I;e:for(;D!==null;){switch(D.tag){case 5:In=D.stateNode,Or=!1;break e;case 3:In=D.stateNode.containerInfo,Or=!0;break e;case 4:In=D.stateNode.containerInfo,Or=!0;break e}D=D.return}if(In===null)throw Error(t(160));fy(g,I,d),In=null,Or=!1;var j=d.alternate;j!==null&&(j.return=null),d.return=null}catch(Q){Yt(d,s,Q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)my(s,r),s=s.sibling}function my(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Lr(s,r),si(r),h&4){try{cl(3,r,r.return),tc(3,r)}catch(Le){Yt(r,r.return,Le)}try{cl(5,r,r.return)}catch(Le){Yt(r,r.return,Le)}}break;case 1:Lr(s,r),si(r),h&512&&a!==null&&ta(a,a.return);break;case 5:if(Lr(s,r),si(r),h&512&&a!==null&&ta(a,a.return),r.flags&32){var d=r.stateNode;try{_n(d,"")}catch(Le){Yt(r,r.return,Le)}}if(h&4&&(d=r.stateNode,d!=null)){var g=r.memoizedProps,I=a!==null?a.memoizedProps:g,D=r.type,j=r.updateQueue;if(r.updateQueue=null,j!==null)try{D==="input"&&g.type==="radio"&&g.name!=null&&Me(d,g),Os(D,I);var Q=Os(D,g);for(I=0;I<j.length;I+=2){var le=j[I],de=j[I+1];le==="style"?Rr(d,de):le==="dangerouslySetInnerHTML"?qt(d,de):le==="children"?_n(d,de):fe(d,le,de,Q)}switch(D){case"input":ht(d,g);break;case"textarea":yt(d,g);break;case"select":var ae=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var Te=g.value;Te!=null?Zt(d,!!g.multiple,Te,!1):ae!==!!g.multiple&&(g.defaultValue!=null?Zt(d,!!g.multiple,g.defaultValue,!0):Zt(d,!!g.multiple,g.multiple?[]:"",!1))}d[Za]=g}catch(Le){Yt(r,r.return,Le)}}break;case 6:if(Lr(s,r),si(r),h&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,g=r.memoizedProps;try{d.nodeValue=g}catch(Le){Yt(r,r.return,Le)}}break;case 3:if(Lr(s,r),si(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{xr(s.containerInfo)}catch(Le){Yt(r,r.return,Le)}break;case 4:Lr(s,r),si(r);break;case 13:Lr(s,r),si(r),d=r.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(Xd=lt())),h&4&&py(r);break;case 22:if(le=a!==null&&a.memoizedState!==null,r.mode&1?(Mn=(Q=Mn)||le,Lr(s,r),Mn=Q):Lr(s,r),si(r),h&8192){if(Q=r.memoizedState!==null,(r.stateNode.isHidden=Q)&&!le&&(r.mode&1)!==0)for(be=r,le=r.child;le!==null;){for(de=be=le;be!==null;){switch(ae=be,Te=ae.child,ae.tag){case 0:case 11:case 14:case 15:cl(4,ae,ae.return);break;case 1:ta(ae,ae.return);var De=ae.stateNode;if(typeof De.componentWillUnmount=="function"){h=ae,a=ae.return;try{s=h,De.props=s.memoizedProps,De.state=s.memoizedState,De.componentWillUnmount()}catch(Le){Yt(h,a,Le)}}break;case 5:ta(ae,ae.return);break;case 22:if(ae.memoizedState!==null){vy(de);continue}}Te!==null?(Te.return=ae,be=Te):vy(de)}le=le.sibling}e:for(le=null,de=r;;){if(de.tag===5){if(le===null){le=de;try{d=de.stateNode,Q?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(D=de.stateNode,j=de.memoizedProps.style,I=j!=null&&j.hasOwnProperty("display")?j.display:null,D.style.display=Gt("display",I))}catch(Le){Yt(r,r.return,Le)}}}else if(de.tag===6){if(le===null)try{de.stateNode.nodeValue=Q?"":de.memoizedProps}catch(Le){Yt(r,r.return,Le)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===r)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===r)break e;for(;de.sibling===null;){if(de.return===null||de.return===r)break e;le===de&&(le=null),de=de.return}le===de&&(le=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:Lr(s,r),si(r),h&4&&py(r);break;case 21:break;default:Lr(s,r),si(r)}}function si(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(hy(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(_n(d,""),h.flags&=-33);var g=dy(r);Qd(r,g,d);break;case 3:case 4:var I=h.stateNode.containerInfo,D=dy(r);Gd(r,D,I);break;default:throw Error(t(161))}}catch(j){Yt(r,r.return,j)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function n1(r,s,a){be=r,gy(r)}function gy(r,s,a){for(var h=(r.mode&1)!==0;be!==null;){var d=be,g=d.child;if(d.tag===22&&h){var I=d.memoizedState!==null||ec;if(!I){var D=d.alternate,j=D!==null&&D.memoizedState!==null||Mn;D=ec;var Q=Mn;if(ec=I,(Mn=j)&&!Q)for(be=d;be!==null;)I=be,j=I.child,I.tag===22&&I.memoizedState!==null?_y(d):j!==null?(j.return=I,be=j):_y(d);for(;g!==null;)be=g,gy(g),g=g.sibling;be=d,ec=D,Mn=Q}yy(r)}else(d.subtreeFlags&8772)!==0&&g!==null?(g.return=d,be=g):yy(r)}}function yy(r){for(;be!==null;){var s=be;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Mn||tc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Mn)if(a===null)h.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Mr(s.type,a.memoizedProps);h.componentDidUpdate(d,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&vg(s,g,h);break;case 3:var I=s.updateQueue;if(I!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}vg(s,I,a)}break;case 5:var D=s.stateNode;if(a===null&&s.flags&4){a=D;var j=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&a.focus();break;case"img":j.src&&(a.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Q=s.alternate;if(Q!==null){var le=Q.memoizedState;if(le!==null){var de=le.dehydrated;de!==null&&xr(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mn||s.flags&512&&Kd(s)}catch(ae){Yt(s,s.return,ae)}}if(s===r){be=null;break}if(a=s.sibling,a!==null){a.return=s.return,be=a;break}be=s.return}}function vy(r){for(;be!==null;){var s=be;if(s===r){be=null;break}var a=s.sibling;if(a!==null){a.return=s.return,be=a;break}be=s.return}}function _y(r){for(;be!==null;){var s=be;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{tc(4,s)}catch(j){Yt(s,a,j)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var d=s.return;try{h.componentDidMount()}catch(j){Yt(s,d,j)}}var g=s.return;try{Kd(s)}catch(j){Yt(s,g,j)}break;case 5:var I=s.return;try{Kd(s)}catch(j){Yt(s,I,j)}}}catch(j){Yt(s,s.return,j)}if(s===r){be=null;break}var D=s.sibling;if(D!==null){D.return=s.return,be=D;break}be=s.return}}var r1=Math.ceil,nc=_e.ReactCurrentDispatcher,Yd=_e.ReactCurrentOwner,wr=_e.ReactCurrentBatchConfig,wt=0,gn=null,rn=null,Sn=0,cr=0,na=Zi(0),hn=0,hl=null,Xs=0,rc=0,Jd=0,dl=null,Yn=null,Xd=0,ra=1/0,Ci=null,ic=!1,Zd=null,ss=null,sc=!1,os=null,oc=0,fl=0,ef=null,ac=-1,lc=0;function zn(){return(wt&6)!==0?lt():ac!==-1?ac:ac=lt()}function as(r){return(r.mode&1)===0?1:(wt&2)!==0&&Sn!==0?Sn&-Sn:UT.transition!==null?(lc===0&&(lc=Us()),lc):(r=gt,r!==0||(r=window.event,r=r===void 0?16:za(r.type)),r)}function Vr(r,s,a,h){if(50<fl)throw fl=0,ef=null,Error(t(185));Hi(r,a,h),((wt&2)===0||r!==gn)&&(r===gn&&((wt&2)===0&&(rc|=a),hn===4&&ls(r,Sn)),Jn(r,h),a===1&&wt===0&&(s.mode&1)===0&&(ra=lt()+500,Lu&&ts()))}function Jn(r,s){var a=r.callbackNode;mi(r,s);var h=js(r,r===gn?Sn:0);if(h===0)a!==null&&dr(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&dr(a),s===1)r.tag===0?jT(Ey.bind(null,r)):og(Ey.bind(null,r)),OT(function(){(wt&6)===0&&ts()}),a=null;else{switch(Ki(h)){case 1:a=ir;break;case 4:a=xn;break;case 16:a=wn;break;case 536870912:a=ut;break;default:a=wn}a=Py(a,wy.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function wy(r,s){if(ac=-1,lc=0,(wt&6)!==0)throw Error(t(327));var a=r.callbackNode;if(ia()&&r.callbackNode!==a)return null;var h=js(r,r===gn?Sn:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=uc(r,h);else{s=h;var d=wt;wt|=2;var g=Iy();(gn!==r||Sn!==s)&&(Ci=null,ra=lt()+500,eo(r,s));do try{o1();break}catch(D){Ty(r,D)}while(!0);vd(),nc.current=g,wt=d,rn!==null?s=0:(gn=null,Sn=0,s=hn)}if(s!==0){if(s===2&&(d=sr(r),d!==0&&(h=d,s=tf(r,d))),s===1)throw a=hl,eo(r,0),ls(r,h),Jn(r,lt()),a;if(s===6)ls(r,h);else{if(d=r.current.alternate,(h&30)===0&&!i1(d)&&(s=uc(r,h),s===2&&(g=sr(r),g!==0&&(h=g,s=tf(r,g))),s===1))throw a=hl,eo(r,0),ls(r,h),Jn(r,lt()),a;switch(r.finishedWork=d,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:to(r,Yn,Ci);break;case 3:if(ls(r,h),(h&130023424)===h&&(s=Xd+500-lt(),10<s)){if(js(r,0)!==0)break;if(d=r.suspendedLanes,(d&h)!==h){zn(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=ad(to.bind(null,r,Yn,Ci),s);break}to(r,Yn,Ci);break;case 4:if(ls(r,h),(h&4194240)===h)break;for(s=r.eventTimes,d=-1;0<h;){var I=31-dt(h);g=1<<I,I=s[I],I>d&&(d=I),h&=~g}if(h=d,h=lt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*r1(h/1960))-h,10<h){r.timeoutHandle=ad(to.bind(null,r,Yn,Ci),h);break}to(r,Yn,Ci);break;case 5:to(r,Yn,Ci);break;default:throw Error(t(329))}}}return Jn(r,lt()),r.callbackNode===a?wy.bind(null,r):null}function tf(r,s){var a=dl;return r.current.memoizedState.isDehydrated&&(eo(r,s).flags|=256),r=uc(r,s),r!==2&&(s=Yn,Yn=a,s!==null&&nf(s)),r}function nf(r){Yn===null?Yn=r:Yn.push.apply(Yn,r)}function i1(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var d=a[h],g=d.getSnapshot;d=d.value;try{if(!br(g(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ls(r,s){for(s&=~Jd,s&=~rc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-dt(s),h=1<<a;r[a]=-1,s&=~h}}function Ey(r){if((wt&6)!==0)throw Error(t(327));ia();var s=js(r,0);if((s&1)===0)return Jn(r,lt()),null;var a=uc(r,s);if(r.tag!==0&&a===2){var h=sr(r);h!==0&&(s=h,a=tf(r,h))}if(a===1)throw a=hl,eo(r,0),ls(r,s),Jn(r,lt()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,to(r,Yn,Ci),Jn(r,lt()),null}function rf(r,s){var a=wt;wt|=1;try{return r(s)}finally{wt=a,wt===0&&(ra=lt()+500,Lu&&ts())}}function Zs(r){os!==null&&os.tag===0&&(wt&6)===0&&ia();var s=wt;wt|=1;var a=wr.transition,h=gt;try{if(wr.transition=null,gt=1,r)return r()}finally{gt=h,wr.transition=a,wt=s,(wt&6)===0&&ts()}}function sf(){cr=na.current,Lt(na)}function eo(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,MT(a)),rn!==null)for(a=rn.return;a!==null;){var h=a;switch(fd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Mu();break;case 3:Zo(),Lt(Kn),Lt(Nn),Ad();break;case 5:Sd(h);break;case 4:Zo();break;case 13:Lt($t);break;case 19:Lt($t);break;case 10:_d(h.type._context);break;case 22:case 23:sf()}a=a.return}if(gn=r,rn=r=us(r.current,null),Sn=cr=s,hn=0,hl=null,Jd=rc=Xs=0,Yn=dl=null,Qs!==null){for(s=0;s<Qs.length;s++)if(a=Qs[s],h=a.interleaved,h!==null){a.interleaved=null;var d=h.next,g=a.pending;if(g!==null){var I=g.next;g.next=d,h.next=I}a.pending=h}Qs=null}return r}function Ty(r,s){do{var a=rn;try{if(vd(),qu.current=Yu,Ku){for(var h=Wt.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}Ku=!1}if(Js=0,mn=cn=Wt=null,sl=!1,ol=0,Yd.current=null,a===null||a.return===null){hn=1,hl=s,rn=null;break}e:{var g=r,I=a.return,D=a,j=s;if(s=Sn,D.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var Q=j,le=D,de=le.tag;if((le.mode&1)===0&&(de===0||de===11||de===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var Te=Kg(I);if(Te!==null){Te.flags&=-257,Gg(Te,I,D,g,s),Te.mode&1&&qg(g,Q,s),s=Te,j=Q;var De=s.updateQueue;if(De===null){var Le=new Set;Le.add(j),s.updateQueue=Le}else De.add(j);break e}else{if((s&1)===0){qg(g,Q,s),of();break e}j=Error(t(426))}}else if(jt&&D.mode&1){var Jt=Kg(I);if(Jt!==null){(Jt.flags&65536)===0&&(Jt.flags|=256),Gg(Jt,I,D,g,s),gd(ea(j,D));break e}}g=j=ea(j,D),hn!==4&&(hn=2),dl===null?dl=[g]:dl.push(g),g=I;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var q=Wg(g,j,s);yg(g,q);break e;case 1:D=j;var U=g.type,K=g.stateNode;if((g.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(ss===null||!ss.has(K)))){g.flags|=65536,s&=-s,g.lanes|=s;var pe=Hg(g,D,s);yg(g,pe);break e}}g=g.return}while(g!==null)}Ry(a)}catch(Ve){s=Ve,rn===a&&a!==null&&(rn=a=a.return);continue}break}while(!0)}function Iy(){var r=nc.current;return nc.current=Yu,r===null?Yu:r}function of(){(hn===0||hn===3||hn===2)&&(hn=4),gn===null||(Xs&268435455)===0&&(rc&268435455)===0||ls(gn,Sn)}function uc(r,s){var a=wt;wt|=2;var h=Iy();(gn!==r||Sn!==s)&&(Ci=null,eo(r,s));do try{s1();break}catch(d){Ty(r,d)}while(!0);if(vd(),wt=a,nc.current=h,rn!==null)throw Error(t(261));return gn=null,Sn=0,hn}function s1(){for(;rn!==null;)Sy(rn)}function o1(){for(;rn!==null&&!Gr();)Sy(rn)}function Sy(r){var s=ky(r.alternate,r,cr);r.memoizedProps=r.pendingProps,s===null?Ry(r):rn=s,Yd.current=null}function Ry(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=XT(a,s,cr),a!==null){rn=a;return}}else{if(a=ZT(a,s),a!==null){a.flags&=32767,rn=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{hn=6,rn=null;return}}if(s=s.sibling,s!==null){rn=s;return}rn=s=r}while(s!==null);hn===0&&(hn=5)}function to(r,s,a){var h=gt,d=wr.transition;try{wr.transition=null,gt=1,a1(r,s,a,h)}finally{wr.transition=d,gt=h}return null}function a1(r,s,a,h){do ia();while(os!==null);if((wt&6)!==0)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(xt(r,g),r===gn&&(rn=gn=null,Sn=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||sc||(sc=!0,Py(wn,function(){return ia(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=wr.transition,wr.transition=null;var I=gt;gt=1;var D=wt;wt|=4,Yd.current=null,t1(r,a),my(a,r),CT(sd),Qi=!!id,sd=id=null,r.current=a,n1(a),rr(),wt=D,gt=I,wr.transition=g}else r.current=a;if(sc&&(sc=!1,os=r,oc=d),g=r.pendingLanes,g===0&&(ss=null),Yr(a.stateNode),Jn(r,lt()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],h(d.value,{componentStack:d.stack,digest:d.digest});if(ic)throw ic=!1,r=Zd,Zd=null,r;return(oc&1)!==0&&r.tag!==0&&ia(),g=r.pendingLanes,(g&1)!==0?r===ef?fl++:(fl=0,ef=r):fl=0,ts(),null}function ia(){if(os!==null){var r=Ki(oc),s=wr.transition,a=gt;try{if(wr.transition=null,gt=16>r?16:r,os===null)var h=!1;else{if(r=os,os=null,oc=0,(wt&6)!==0)throw Error(t(331));var d=wt;for(wt|=4,be=r.current;be!==null;){var g=be,I=g.child;if((be.flags&16)!==0){var D=g.deletions;if(D!==null){for(var j=0;j<D.length;j++){var Q=D[j];for(be=Q;be!==null;){var le=be;switch(le.tag){case 0:case 11:case 15:cl(8,le,g)}var de=le.child;if(de!==null)de.return=le,be=de;else for(;be!==null;){le=be;var ae=le.sibling,Te=le.return;if(cy(le),le===Q){be=null;break}if(ae!==null){ae.return=Te,be=ae;break}be=Te}}}var De=g.alternate;if(De!==null){var Le=De.child;if(Le!==null){De.child=null;do{var Jt=Le.sibling;Le.sibling=null,Le=Jt}while(Le!==null)}}be=g}}if((g.subtreeFlags&2064)!==0&&I!==null)I.return=g,be=I;else e:for(;be!==null;){if(g=be,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:cl(9,g,g.return)}var q=g.sibling;if(q!==null){q.return=g.return,be=q;break e}be=g.return}}var U=r.current;for(be=U;be!==null;){I=be;var K=I.child;if((I.subtreeFlags&2064)!==0&&K!==null)K.return=I,be=K;else e:for(I=U;be!==null;){if(D=be,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:tc(9,D)}}catch(Ve){Yt(D,D.return,Ve)}if(D===I){be=null;break e}var pe=D.sibling;if(pe!==null){pe.return=D.return,be=pe;break e}be=D.return}}if(wt=d,ts(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Rt,r)}catch{}h=!0}return h}finally{gt=a,wr.transition=s}}return!1}function Ay(r,s,a){s=ea(a,s),s=Wg(r,s,1),r=rs(r,s,1),s=zn(),r!==null&&(Hi(r,1,s),Jn(r,s))}function Yt(r,s,a){if(r.tag===3)Ay(r,r,a);else for(;s!==null;){if(s.tag===3){Ay(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ss===null||!ss.has(h))){r=ea(a,r),r=Hg(s,r,1),s=rs(s,r,1),r=zn(),s!==null&&(Hi(s,1,r),Jn(s,r));break}}s=s.return}}function l1(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=zn(),r.pingedLanes|=r.suspendedLanes&a,gn===r&&(Sn&a)===a&&(hn===4||hn===3&&(Sn&130023424)===Sn&&500>lt()-Xd?eo(r,0):Jd|=a),Jn(r,s)}function Cy(r,s){s===0&&((r.mode&1)===0?s=1:(s=Co,Co<<=1,(Co&130023424)===0&&(Co=4194304)));var a=zn();r=Si(r,s),r!==null&&(Hi(r,s,a),Jn(r,a))}function u1(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Cy(r,a)}function c1(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Cy(r,a)}var ky;ky=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Kn.current)Qn=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Qn=!1,JT(r,s,a);Qn=(r.flags&131072)!==0}else Qn=!1,jt&&(s.flags&1048576)!==0&&ag(s,Fu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Zu(r,s),r=s.pendingProps;var d=qo(s,Nn.current);Xo(s,a),d=Pd(null,s,h,r,d,a);var g=xd();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Gn(h)?(g=!0,Ou(s)):g=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Td(s),d.updater=Ju,s.stateNode=d,d._reactInternals=s,Ld(s,h,r,a),s=Ud(null,s,h,!0,g,a)):(s.tag=0,jt&&g&&dd(s),Un(null,s,d,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Zu(r,s),r=s.pendingProps,d=h._init,h=d(h._payload),s.type=h,d=s.tag=d1(h),r=Mr(h,r),d){case 0:s=jd(null,s,h,r,a);break e;case 1:s=ey(null,s,h,r,a);break e;case 11:s=Qg(null,s,h,r,a);break e;case 14:s=Yg(null,s,h,Mr(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Mr(h,d),jd(r,s,h,d,a);case 1:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Mr(h,d),ey(r,s,h,d,a);case 3:e:{if(ty(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,d=g.element,gg(r,s),Wu(s,h,null,a);var I=s.memoizedState;if(h=I.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){d=ea(Error(t(423)),s),s=ny(r,s,h,a,d);break e}else if(h!==d){d=ea(Error(t(424)),s),s=ny(r,s,h,a,d);break e}else for(ur=Xi(s.stateNode.containerInfo.firstChild),lr=s,jt=!0,Dr=null,a=pg(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Qo(),h===d){s=Ai(r,s,a);break e}Un(r,s,h,a)}s=s.child}return s;case 5:return _g(s),r===null&&md(s),h=s.type,d=s.pendingProps,g=r!==null?r.memoizedProps:null,I=d.children,od(h,d)?I=null:g!==null&&od(h,g)&&(s.flags|=32),Zg(r,s),Un(r,s,I,a),s.child;case 6:return r===null&&md(s),null;case 13:return ry(r,s,a);case 4:return Id(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Yo(s,null,h,a):Un(r,s,h,a),s.child;case 11:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Mr(h,d),Qg(r,s,h,d,a);case 7:return Un(r,s,s.pendingProps,a),s.child;case 8:return Un(r,s,s.pendingProps.children,a),s.child;case 12:return Un(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,d=s.pendingProps,g=s.memoizedProps,I=d.value,bt(zu,h._currentValue),h._currentValue=I,g!==null)if(br(g.value,I)){if(g.children===d.children&&!Kn.current){s=Ai(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var D=g.dependencies;if(D!==null){I=g.child;for(var j=D.firstContext;j!==null;){if(j.context===h){if(g.tag===1){j=Ri(-1,a&-a),j.tag=2;var Q=g.updateQueue;if(Q!==null){Q=Q.shared;var le=Q.pending;le===null?j.next=j:(j.next=le.next,le.next=j),Q.pending=j}}g.lanes|=a,j=g.alternate,j!==null&&(j.lanes|=a),wd(g.return,a,s),D.lanes|=a;break}j=j.next}}else if(g.tag===10)I=g.type===s.type?null:g.child;else if(g.tag===18){if(I=g.return,I===null)throw Error(t(341));I.lanes|=a,D=I.alternate,D!==null&&(D.lanes|=a),wd(I,a,s),I=g.sibling}else I=g.child;if(I!==null)I.return=g;else for(I=g;I!==null;){if(I===s){I=null;break}if(g=I.sibling,g!==null){g.return=I.return,I=g;break}I=I.return}g=I}Un(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,h=s.pendingProps.children,Xo(s,a),d=vr(d),h=h(d),s.flags|=1,Un(r,s,h,a),s.child;case 14:return h=s.type,d=Mr(h,s.pendingProps),d=Mr(h.type,d),Yg(r,s,h,d,a);case 15:return Jg(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Mr(h,d),Zu(r,s),s.tag=1,Gn(h)?(r=!0,Ou(s)):r=!1,Xo(s,a),Bg(s,h,d),Ld(s,h,d,a),Ud(null,s,h,!0,r,a);case 19:return sy(r,s,a);case 22:return Xg(r,s,a)}throw Error(t(156,s.tag))};function Py(r,s){return Ct(r,s)}function h1(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(r,s,a,h){return new h1(r,s,a,h)}function af(r){return r=r.prototype,!(!r||!r.isReactComponent)}function d1(r){if(typeof r=="function")return af(r)?1:0;if(r!=null){if(r=r.$$typeof,r===b)return 11;if(r===tt)return 14}return 2}function us(r,s){var a=r.alternate;return a===null?(a=Er(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function cc(r,s,a,h,d,g){var I=2;if(h=r,typeof r=="function")af(r)&&(I=1);else if(typeof r=="string")I=5;else e:switch(r){case R:return no(a.children,d,g,s);case _:I=8,d|=8;break;case E:return r=Er(12,a,s,d|2),r.elementType=E,r.lanes=g,r;case x:return r=Er(13,a,s,d),r.elementType=x,r.lanes=g,r;case je:return r=Er(19,a,s,d),r.elementType=je,r.lanes=g,r;case we:return hc(a,d,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case C:I=10;break e;case N:I=9;break e;case b:I=11;break e;case tt:I=14;break e;case at:I=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Er(I,a,s,d),s.elementType=r,s.type=h,s.lanes=g,s}function no(r,s,a,h){return r=Er(7,r,h,s),r.lanes=a,r}function hc(r,s,a,h){return r=Er(22,r,h,s),r.elementType=we,r.lanes=a,r.stateNode={isHidden:!1},r}function lf(r,s,a){return r=Er(6,r,null,s),r.lanes=a,r}function uf(r,s,a){return s=Er(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function f1(r,s,a,h,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wi(0),this.expirationTimes=Wi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function cf(r,s,a,h,d,g,I,D,j){return r=new f1(r,s,a,D,j),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Er(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Td(g),r}function p1(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oe,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function xy(r){if(!r)return es;r=r._reactInternals;e:{if(Re(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Gn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Gn(a))return ig(r,a,s)}return s}function Ny(r,s,a,h,d,g,I,D,j){return r=cf(a,h,!0,r,d,g,I,D,j),r.context=xy(null),a=r.current,h=zn(),d=as(a),g=Ri(h,d),g.callback=s??null,rs(a,g,d),r.current.lanes=d,Hi(r,d,h),Jn(r,h),r}function dc(r,s,a,h){var d=s.current,g=zn(),I=as(d);return a=xy(a),s.context===null?s.context=a:s.pendingContext=a,s=Ri(g,I),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=rs(d,s,I),r!==null&&(Vr(r,d,I,g),$u(r,d,I)),I}function fc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function by(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function hf(r,s){by(r,s),(r=r.alternate)&&by(r,s)}function m1(){return null}var Dy=typeof reportError=="function"?reportError:function(r){console.error(r)};function df(r){this._internalRoot=r}pc.prototype.render=df.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));dc(r,s,null,null)},pc.prototype.unmount=df.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Zs(function(){dc(null,r,null,null)}),s[wi]=null}};function pc(r){this._internalRoot=r}pc.prototype.unstable_scheduleHydration=function(r){if(r){var s=pu();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Xr.length&&s!==0&&s<Xr[a].priority;a++);Xr.splice(a,0,r),a===0&&yu(r)}};function ff(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function mc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function My(){}function g1(r,s,a,h,d){if(d){if(typeof h=="function"){var g=h;h=function(){var Q=fc(I);g.call(Q)}}var I=Ny(s,h,r,0,null,!1,!1,"",My);return r._reactRootContainer=I,r[wi]=I.current,Ja(r.nodeType===8?r.parentNode:r),Zs(),I}for(;d=r.lastChild;)r.removeChild(d);if(typeof h=="function"){var D=h;h=function(){var Q=fc(j);D.call(Q)}}var j=cf(r,0,!1,null,null,!1,!1,"",My);return r._reactRootContainer=j,r[wi]=j.current,Ja(r.nodeType===8?r.parentNode:r),Zs(function(){dc(s,j,a,h)}),j}function gc(r,s,a,h,d){var g=a._reactRootContainer;if(g){var I=g;if(typeof d=="function"){var D=d;d=function(){var j=fc(I);D.call(j)}}dc(s,I,r,d)}else I=g1(a,s,r,d,h);return fc(I)}du=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=$i(s.pendingLanes);a!==0&&(qi(s,a|1),Jn(s,lt()),(wt&6)===0&&(ra=lt()+500,ts()))}break;case 13:Zs(function(){var h=Si(r,1);if(h!==null){var d=zn();Vr(h,r,1,d)}}),hf(r,1)}},ko=function(r){if(r.tag===13){var s=Si(r,134217728);if(s!==null){var a=zn();Vr(s,r,134217728,a)}hf(r,134217728)}},fu=function(r){if(r.tag===13){var s=as(r),a=Si(r,s);if(a!==null){var h=zn();Vr(a,r,s,h)}hf(r,s)}},pu=function(){return gt},mu=function(r,s){var a=gt;try{return gt=r,s()}finally{gt=a}},pi=function(r,s,a){switch(s){case"input":if(ht(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var d=Du(h);if(!d)throw Error(t(90));Ee(h),ht(h,d)}}}break;case"textarea":yt(r,a);break;case"select":s=a.value,s!=null&&Zt(r,!!a.multiple,s,!1)}},qr=rf,Kr=Zs;var y1={usingClientEntryPoint:!1,Events:[el,Wo,Du,nr,Ls,rf]},pl={findFiberByHostInstance:Hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v1={bundleType:pl.bundleType,version:pl.version,rendererPackageName:pl.rendererPackageName,rendererConfig:pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_e.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Tt(r),r===null?null:r.stateNode},findFiberByHostInstance:pl.findFiberByHostInstance||m1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{Rt=yc.inject(v1),tn=yc}catch{}}return Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y1,Xn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ff(s))throw Error(t(200));return p1(r,s,null,a)},Xn.createRoot=function(r,s){if(!ff(r))throw Error(t(299));var a=!1,h="",d=Dy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=cf(r,1,!1,null,null,a,!1,h,d),r[wi]=s.current,Ja(r.nodeType===8?r.parentNode:r),new df(s)},Xn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Tt(s),r=r===null?null:r.stateNode,r},Xn.flushSync=function(r){return Zs(r)},Xn.hydrate=function(r,s,a){if(!mc(s))throw Error(t(200));return gc(null,r,s,!0,a)},Xn.hydrateRoot=function(r,s,a){if(!ff(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,d=!1,g="",I=Dy;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(I=a.onRecoverableError)),s=Ny(s,null,r,1,a??null,d,!1,g,I),r[wi]=s.current,Ja(r),h)for(r=0;r<h.length;r++)a=h[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new pc(s)},Xn.render=function(r,s,a){if(!mc(s))throw Error(t(200));return gc(null,r,s,!1,a)},Xn.unmountComponentAtNode=function(r){if(!mc(r))throw Error(t(40));return r._reactRootContainer?(Zs(function(){gc(null,null,r,!1,function(){r._reactRootContainer=null,r[wi]=null})}),!0):!1},Xn.unstable_batchedUpdates=rf,Xn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!mc(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return gc(r,s,a,!1,h)},Xn.version="18.3.1-next-f1338f8080-20240426",Xn}var By;function i0(){if(By)return gf.exports;By=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gf.exports=P1(),gf.exports}var $y;function x1(){if($y)return _c;$y=1;var n=i0();return _c.createRoot=n.createRoot,_c.hydrateRoot=n.hydrateRoot,_c}var N1=x1();const b1=yh(N1);var yp=i0();const D1=yh(yp),M1=n0({__proto__:null,default:D1},[yp]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ut(){return Ut=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ut.apply(this,arguments)}var on;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(on||(on={}));const Wy="popstate";function O1(n){n===void 0&&(n={});function e(i,o){let{pathname:l,search:c,hash:f}=i.location;return Ll("",{pathname:l,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:fo(o)}return V1(e,t,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ya(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L1(){return Math.random().toString(36).substr(2,8)}function Hy(n,e){return{usr:n.state,key:n.key,idx:e}}function Ll(n,e,t,i){return t===void 0&&(t=null),Ut({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?bs(e):e,{state:t,key:e&&e.key||i||L1()})}function fo(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function bs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function V1(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,f=on.Pop,p=null,y=w();y==null&&(y=0,c.replaceState(Ut({},c.state,{idx:y}),""));function w(){return(c.state||{idx:null}).idx}function S(){f=on.Pop;let L=w(),he=L==null?null:L-y;y=L,p&&p({action:f,location:$.location,delta:he})}function A(L,he){f=on.Push;let Z=Ll($.location,L,he);y=w()+1;let fe=Hy(Z,y),_e=$.createHref(Z);try{c.pushState(fe,"",_e)}catch(Fe){if(Fe instanceof DOMException&&Fe.name==="DataCloneError")throw Fe;o.location.assign(_e)}l&&p&&p({action:f,location:$.location,delta:1})}function M(L,he){f=on.Replace;let Z=Ll($.location,L,he);y=w();let fe=Hy(Z,y),_e=$.createHref(Z);c.replaceState(fe,"",_e),l&&p&&p({action:f,location:$.location,delta:0})}function z(L){let he=o.location.origin!=="null"?o.location.origin:o.location.href,Z=typeof L=="string"?L:fo(L);return Z=Z.replace(/ $/,"%20"),ct(he,"No window.location.(origin|href) available to create URL for href: "+Z),new URL(Z,he)}let $={get action(){return f},get location(){return n(o,c)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Wy,S),p=L,()=>{o.removeEventListener(Wy,S),p=null}},createHref(L){return e(o,L)},createURL:z,encodeLocation(L){let he=z(L);return{pathname:he.pathname,search:he.search,hash:he.hash}},push:A,replace:M,go(L){return c.go(L)}};return $}var Pt;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Pt||(Pt={}));const F1=new Set(["lazy","caseSensitive","path","id","index","children"]);function j1(n){return n.index===!0}function Bc(n,e,t,i){return t===void 0&&(t=[]),i===void 0&&(i={}),n.map((o,l)=>{let c=[...t,String(l)],f=typeof o.id=="string"?o.id:c.join("-");if(ct(o.index!==!0||!o.children,"Cannot specify children on an index route"),ct(!i[f],'Found a route id collision on id "'+f+`".  Route id's must be globally unique within Data Router usages`),j1(o)){let p=Ut({},o,e(o),{id:f});return i[f]=p,p}else{let p=Ut({},o,e(o),{id:f,children:void 0});return i[f]=p,o.children&&(p.children=Bc(o.children,e,c,i)),p}})}function io(n,e,t){return t===void 0&&(t="/"),kc(n,e,t,!1)}function kc(n,e,t,i){let o=typeof e=="string"?bs(e):e,l=Pa(o.pathname||"/",t);if(l==null)return null;let c=s0(n);z1(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let y=X1(l);f=Y1(c[p],y,i)}return f}function U1(n,e){let{route:t,pathname:i,params:o}=n;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function s0(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(l,c,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(ct(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let y=bi([i,p.relativePath]),w=t.concat(p);l.children&&l.children.length>0&&(ct(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),s0(l.children,e,w,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:G1(y,l.index),routesMeta:w})};return n.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,c);else for(let p of o0(l.path))o(l,c,p)}),e}function o0(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=o0(i.join("/")),f=[];return f.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...c),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function z1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Q1(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const B1=/^:[\w-]+$/,$1=3,W1=2,H1=1,q1=10,K1=-2,qy=n=>n==="*";function G1(n,e){let t=n.split("/"),i=t.length;return t.some(qy)&&(i+=K1),e&&(i+=W1),t.filter(o=>!qy(o)).reduce((o,l)=>o+(B1.test(l)?$1:l===""?H1:q1),i)}function Q1(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function Y1(n,e,t){t===void 0&&(t=!1);let{routesMeta:i}=n,o={},l="/",c=[];for(let f=0;f<i.length;++f){let p=i[f],y=f===i.length-1,w=l==="/"?e:e.slice(l.length)||"/",S=Ky({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},w),A=p.route;if(!S&&y&&t&&!i[i.length-1].route.index&&(S=Ky({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},w)),!S)return null;Object.assign(o,S.params),c.push({params:o,pathname:bi([l,S.pathname]),pathnameBase:tI(bi([l,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(l=bi([l,S.pathnameBase]))}return c}function Ky(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=J1(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,w,S)=>{let{paramName:A,isOptional:M}=w;if(A==="*"){let $=f[S]||"";c=l.slice(0,l.length-$.length).replace(/(.)\/+$/,"$1")}const z=f[S];return M&&!z?y[A]=void 0:y[A]=(z||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:c,pattern:n}}function J1(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),ya(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function X1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ya(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Pa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Z1(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?bs(n):n;return{pathname:t?t.startsWith("/")?t:eI(t,e):e,search:nI(i),hash:rI(o)}}function eI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function _f(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function a0(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vh(n,e){let t=a0(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function _h(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=bs(n):(o=Ut({},n),ct(!o.pathname||!o.pathname.includes("?"),_f("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),_f("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),_f("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,f;if(c==null)f=t;else{let S=e.length-1;if(!i&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}f=S>=0?e[S]:"/"}let p=Z1(o,f),y=c&&c!=="/"&&c.endsWith("/"),w=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||w)&&(p.pathname+="/"),p}const bi=n=>n.join("/").replace(/\/\/+/g,"/"),tI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),nI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,rI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class $c{constructor(e,t,i,o){o===void 0&&(o=!1),this.status=e,this.statusText=t||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function Vl(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const l0=["post","put","patch","delete"],iI=new Set(l0),sI=["get",...l0],oI=new Set(sI),aI=new Set([301,302,303,307,308]),lI=new Set([307,308]),wf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},uI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},gl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},vp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cI=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),u0="remix-router-transitions";function hI(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!t;ct(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(n.mapRouteProperties)o=n.mapRouteProperties;else if(n.detectErrorBoundary){let V=n.detectErrorBoundary;o=B=>({hasErrorBoundary:V(B)})}else o=cI;let l={},c=Bc(n.routes,o,void 0,l),f,p=n.basename||"/",y=n.dataStrategy||mI,w=n.patchRoutesOnNavigation,S=Ut({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),A=null,M=new Set,z=null,$=null,L=null,he=n.hydrationData!=null,Z=io(c,n.history.location,p),fe=!1,_e=null;if(Z==null&&!w){let V=Zn(404,{pathname:n.history.location.pathname}),{matches:B,route:G}=iv(c);Z=B,_e={[G.id]:V}}Z&&!n.hydrationData&&Kr(Z,c,n.history.location.pathname).active&&(Z=null);let Fe;if(Z)if(Z.some(V=>V.route.lazy))Fe=!1;else if(!Z.some(V=>V.route.loader))Fe=!0;else if(S.v7_partialHydration){let V=n.hydrationData?n.hydrationData.loaderData:null,B=n.hydrationData?n.hydrationData.errors:null;if(B){let G=Z.findIndex(ie=>B[ie.route.id]!==void 0);Fe=Z.slice(0,G+1).every(ie=>!Uf(ie.route,V,B))}else Fe=Z.every(G=>!Uf(G.route,V,B))}else Fe=n.hydrationData!=null;else if(Fe=!1,Z=[],S.v7_partialHydration){let V=Kr(null,c,n.history.location.pathname);V.active&&V.matches&&(fe=!0,Z=V.matches)}let Oe,R={historyAction:n.history.action,location:n.history.location,matches:Z,initialized:Fe,navigation:wf,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||_e,fetchers:new Map,blockers:new Map},_=on.Pop,E=!1,C,N=!1,b=new Map,x=null,je=!1,tt=!1,at=[],we=new Set,X=new Map,se=0,O=-1,T=new Map,F=new Set,H=new Map,oe=new Map,ne=new Set,ce=new Map,ue=new Map,re;function me(){if(A=n.history.listen(V=>{let{action:B,location:G,delta:ie}=V;if(re){re(),re=void 0;return}ya(ue.size===0||ie!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ye=pi({currentLocation:R.location,nextLocation:G,historyAction:B});if(ye&&ie!=null){let xe=new Promise($e=>{re=$e});n.history.go(ie*-1),Ar(ye,{state:"blocked",location:G,proceed(){Ar(ye,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),xe.then(()=>n.history.go(ie))},reset(){let $e=new Map(R.blockers);$e.set(ye,gl),Ee({blockers:$e})}});return}return Me(B,G)}),t){PI(e,b);let V=()=>xI(e,b);e.addEventListener("pagehide",V),x=()=>e.removeEventListener("pagehide",V)}return R.initialized||Me(on.Pop,R.location,{initialHydration:!0}),Oe}function Pe(){A&&A(),x&&x(),M.clear(),C&&C.abort(),R.fetchers.forEach((V,B)=>zt(B)),R.blockers.forEach((V,B)=>Hr(B))}function ve(V){return M.add(V),()=>M.delete(V)}function Ee(V,B){B===void 0&&(B={}),R=Ut({},R,V);let G=[],ie=[];S.v7_fetcherPersist&&R.fetchers.forEach((ye,xe)=>{ye.state==="idle"&&(ne.has(xe)?ie.push(xe):G.push(xe))}),ne.forEach(ye=>{!R.fetchers.has(ye)&&!X.has(ye)&&ie.push(ye)}),[...M].forEach(ye=>ye(R,{deletedFetchers:ie,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),S.v7_fetcherPersist?(G.forEach(ye=>R.fetchers.delete(ye)),ie.forEach(ye=>zt(ye))):ie.forEach(ye=>ne.delete(ye))}function ze(V,B,G){var ie,ye;let{flushSync:xe}=G===void 0?{}:G,$e=R.actionData!=null&&R.navigation.formMethod!=null&&Fr(R.navigation.formMethod)&&R.navigation.state==="loading"&&((ie=V.state)==null?void 0:ie._isRedirect)!==!0,Ne;B.actionData?Object.keys(B.actionData).length>0?Ne=B.actionData:Ne=null:$e?Ne=R.actionData:Ne=null;let ke=B.loaderData?nv(R.loaderData,B.loaderData,B.matches||[],B.errors):R.loaderData,Se=R.blockers;Se.size>0&&(Se=new Map(Se),Se.forEach((Je,Qt)=>Se.set(Qt,gl)));let Re=E===!0||R.navigation.formMethod!=null&&Fr(R.navigation.formMethod)&&((ye=V.state)==null?void 0:ye._isRedirect)!==!0;f&&(c=f,f=void 0),je||_===on.Pop||(_===on.Push?n.history.push(V,V.state):_===on.Replace&&n.history.replace(V,V.state));let qe;if(_===on.Pop){let Je=b.get(R.location.pathname);Je&&Je.has(V.pathname)?qe={currentLocation:R.location,nextLocation:V}:b.has(V.pathname)&&(qe={currentLocation:V,nextLocation:R.location})}else if(N){let Je=b.get(R.location.pathname);Je?Je.add(V.pathname):(Je=new Set([V.pathname]),b.set(R.location.pathname,Je)),qe={currentLocation:R.location,nextLocation:V}}Ee(Ut({},B,{actionData:Ne,loaderData:ke,historyAction:_,location:V,initialized:!0,navigation:wf,revalidation:"idle",restoreScrollPosition:qr(V,B.matches||R.matches),preventScrollReset:Re,blockers:Se}),{viewTransitionOpts:qe,flushSync:xe===!0}),_=on.Pop,E=!1,N=!1,je=!1,tt=!1,at=[]}async function Ie(V,B){if(typeof V=="number"){n.history.go(V);return}let G=jf(R.location,R.matches,p,S.v7_prependBasename,V,S.v7_relativeSplatPath,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:ie,submission:ye,error:xe}=Gy(S.v7_normalizeFormMethod,!1,G,B),$e=R.location,Ne=Ll(R.location,ie,B&&B.state);Ne=Ut({},Ne,n.history.encodeLocation(Ne));let ke=B&&B.replace!=null?B.replace:void 0,Se=on.Push;ke===!0?Se=on.Replace:ke===!1||ye!=null&&Fr(ye.formMethod)&&ye.formAction===R.location.pathname+R.location.search&&(Se=on.Replace);let Re=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,qe=(B&&B.flushSync)===!0,Je=pi({currentLocation:$e,nextLocation:Ne,historyAction:Se});if(Je){Ar(Je,{state:"blocked",location:Ne,proceed(){Ar(Je,{state:"proceeding",proceed:void 0,reset:void 0,location:Ne}),Ie(V,B)},reset(){let Qt=new Map(R.blockers);Qt.set(Je,gl),Ee({blockers:Qt})}});return}return await Me(Se,Ne,{submission:ye,pendingError:xe,preventScrollReset:Re,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:qe})}function Be(){if(it(),Ee({revalidation:"loading"}),R.navigation.state!=="submitting"){if(R.navigation.state==="idle"){Me(R.historyAction,R.location,{startUninterruptedRevalidation:!0});return}Me(_||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:N===!0})}}async function Me(V,B,G){C&&C.abort(),C=null,_=V,je=(G&&G.startUninterruptedRevalidation)===!0,Ls(R.location,R.matches),E=(G&&G.preventScrollReset)===!0,N=(G&&G.enableViewTransition)===!0;let ie=f||c,ye=G&&G.overrideNavigation,xe=G!=null&&G.initialHydration&&R.matches&&R.matches.length>0&&!fe?R.matches:io(ie,B,p),$e=(G&&G.flushSync)===!0;if(xe&&R.initialized&&!tt&&EI(R.location,B)&&!(G&&G.submission&&Fr(G.submission.formMethod))){ze(B,{matches:xe},{flushSync:$e});return}let Ne=Kr(xe,ie,B.pathname);if(Ne.active&&Ne.matches&&(xe=Ne.matches),!xe){let{error:Tt,notFoundMatches:st,route:Ct}=Pn(B.pathname);ze(B,{matches:st,loaderData:{},errors:{[Ct.id]:Tt}},{flushSync:$e});return}C=new AbortController;let ke=sa(n.history,B,C.signal,G&&G.submission),Se;if(G&&G.pendingError)Se=[so(xe).route.id,{type:Pt.error,error:G.pendingError}];else if(G&&G.submission&&Fr(G.submission.formMethod)){let Tt=await ht(ke,B,G.submission,xe,Ne.active,{replace:G.replace,flushSync:$e});if(Tt.shortCircuited)return;if(Tt.pendingActionResult){let[st,Ct]=Tt.pendingActionResult;if(hr(Ct)&&Vl(Ct.error)&&Ct.error.status===404){C=null,ze(B,{matches:Tt.matches,loaderData:{},errors:{[st]:Ct.error}});return}}xe=Tt.matches||xe,Se=Tt.pendingActionResult,ye=Ef(B,G.submission),$e=!1,Ne.active=!1,ke=sa(n.history,ke.url,ke.signal)}let{shortCircuited:Re,matches:qe,loaderData:Je,errors:Qt}=await Ge(ke,B,xe,Ne.active,ye,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,$e,Se);Re||(C=null,ze(B,Ut({matches:qe||xe},rv(Se),{loaderData:Je,errors:Qt})))}async function ht(V,B,G,ie,ye,xe){xe===void 0&&(xe={}),it();let $e=CI(B,G);if(Ee({navigation:$e},{flushSync:xe.flushSync===!0}),ye){let Se=await Wn(ie,B.pathname,V.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){let Re=so(Se.partialMatches).route.id;return{matches:Se.partialMatches,pendingActionResult:[Re,{type:Pt.error,error:Se.error}]}}else if(Se.matches)ie=Se.matches;else{let{notFoundMatches:Re,error:qe,route:Je}=Pn(B.pathname);return{matches:Re,pendingActionResult:[Je.id,{type:Pt.error,error:qe}]}}}let Ne,ke=wl(ie,B);if(!ke.route.action&&!ke.route.lazy)Ne={type:Pt.error,error:Zn(405,{method:V.method,pathname:B.pathname,routeId:ke.route.id})};else if(Ne=(await Vt("action",R,V,[ke],ie,null))[ke.route.id],V.signal.aborted)return{shortCircuited:!0};if(oo(Ne)){let Se;return xe&&xe.replace!=null?Se=xe.replace:Se=Zy(Ne.response.headers.get("Location"),new URL(V.url),p)===R.location.pathname+R.location.search,await yt(V,Ne,!0,{submission:G,replace:Se}),{shortCircuited:!0}}if(gs(Ne))throw Zn(400,{type:"defer-action"});if(hr(Ne)){let Se=so(ie,ke.route.id);return(xe&&xe.replace)!==!0&&(_=on.Push),{matches:ie,pendingActionResult:[Se.route.id,Ne]}}return{matches:ie,pendingActionResult:[ke.route.id,Ne]}}async function Ge(V,B,G,ie,ye,xe,$e,Ne,ke,Se,Re){let qe=ye||Ef(B,xe),Je=xe||$e||ov(qe),Qt=!je&&(!S.v7_partialHydration||!ke);if(ie){if(Qt){let Rt=nt(Re);Ee(Ut({navigation:qe},Rt!==void 0?{actionData:Rt}:{}),{flushSync:Se})}let ut=await Wn(G,B.pathname,V.signal);if(ut.type==="aborted")return{shortCircuited:!0};if(ut.type==="error"){let Rt=so(ut.partialMatches).route.id;return{matches:ut.partialMatches,loaderData:{},errors:{[Rt]:ut.error}}}else if(ut.matches)G=ut.matches;else{let{error:Rt,notFoundMatches:tn,route:Yr}=Pn(B.pathname);return{matches:tn,loaderData:{},errors:{[Yr.id]:Rt}}}}let Tt=f||c,[st,Ct]=Yy(n.history,R,G,Je,B,S.v7_partialHydration&&ke===!0,S.v7_skipActionErrorRevalidation,tt,at,we,ne,H,F,Tt,p,Re);if($n(ut=>!(G&&G.some(Rt=>Rt.route.id===ut))||st&&st.some(Rt=>Rt.route.id===ut)),O=++se,st.length===0&&Ct.length===0){let ut=ji();return ze(B,Ut({matches:G,loaderData:{},errors:Re&&hr(Re[1])?{[Re[0]]:Re[1].error}:null},rv(Re),ut?{fetchers:new Map(R.fetchers)}:{}),{flushSync:Se}),{shortCircuited:!0}}if(Qt){let ut={};if(!ie){ut.navigation=qe;let Rt=nt(Re);Rt!==void 0&&(ut.actionData=Rt)}Ct.length>0&&(ut.fetchers=rt(Ct)),Ee(ut,{flushSync:Se})}Ct.forEach(ut=>{Gt(ut.key),ut.controller&&X.set(ut.key,ut.controller)});let dr=()=>Ct.forEach(ut=>Gt(ut.key));C&&C.signal.addEventListener("abort",dr);let{loaderResults:Gr,fetcherResults:rr}=await Ze(R,G,st,Ct,V);if(V.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",dr),Ct.forEach(ut=>X.delete(ut.key));let lt=wc(Gr);if(lt)return await yt(V,lt.result,!0,{replace:Ne}),{shortCircuited:!0};if(lt=wc(rr),lt)return F.add(lt.key),await yt(V,lt.result,!0,{replace:Ne}),{shortCircuited:!0};let{loaderData:Bi,errors:ir}=tv(R,G,Gr,Re,Ct,rr,ce);ce.forEach((ut,Rt)=>{ut.subscribe(tn=>{(tn||ut.done)&&ce.delete(Rt)})}),S.v7_partialHydration&&ke&&R.errors&&(ir=Ut({},R.errors,ir));let xn=ji(),wn=Ui(O),Qr=xn||wn||Ct.length>0;return Ut({matches:G,loaderData:Bi,errors:ir},Qr?{fetchers:new Map(R.fetchers)}:{})}function nt(V){if(V&&!hr(V[1]))return{[V[0]]:V[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function rt(V){return V.forEach(B=>{let G=R.fetchers.get(B.key),ie=yl(void 0,G?G.data:void 0);R.fetchers.set(B.key,ie)}),new Map(R.fetchers)}function Zt(V,B,G,ie){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Gt(V);let ye=(ie&&ie.flushSync)===!0,xe=f||c,$e=jf(R.location,R.matches,p,S.v7_prependBasename,G,S.v7_relativeSplatPath,B,ie==null?void 0:ie.relative),Ne=io(xe,$e,p),ke=Kr(Ne,xe,$e);if(ke.active&&ke.matches&&(Ne=ke.matches),!Ne){qt(V,B,Zn(404,{pathname:$e}),{flushSync:ye});return}let{path:Se,submission:Re,error:qe}=Gy(S.v7_normalizeFormMethod,!0,$e,ie);if(qe){qt(V,B,qe,{flushSync:ye});return}let Je=wl(Ne,Se),Qt=(ie&&ie.preventScrollReset)===!0;if(Re&&Fr(Re.formMethod)){en(V,B,Se,Je,Ne,ke.active,ye,Qt,Re);return}H.set(V,{routeId:B,path:Se}),kn(V,B,Se,Je,Ne,ke.active,ye,Qt,Re)}async function en(V,B,G,ie,ye,xe,$e,Ne,ke){it(),H.delete(V);function Se(dt){if(!dt.route.action&&!dt.route.lazy){let fr=Zn(405,{method:ke.formMethod,pathname:G,routeId:B});return qt(V,B,fr,{flushSync:$e}),!0}return!1}if(!xe&&Se(ie))return;let Re=R.fetchers.get(V);St(V,kI(ke,Re),{flushSync:$e});let qe=new AbortController,Je=sa(n.history,G,qe.signal,ke);if(xe){let dt=await Wn(ye,new URL(Je.url).pathname,Je.signal,V);if(dt.type==="aborted")return;if(dt.type==="error"){qt(V,B,dt.error,{flushSync:$e});return}else if(dt.matches){if(ye=dt.matches,ie=wl(ye,G),Se(ie))return}else{qt(V,B,Zn(404,{pathname:G}),{flushSync:$e});return}}X.set(V,qe);let Qt=se,st=(await Vt("action",R,Je,[ie],ye,V))[ie.route.id];if(Je.signal.aborted){X.get(V)===qe&&X.delete(V);return}if(S.v7_fetcherPersist&&ne.has(V)){if(oo(st)||hr(st)){St(V,ds(void 0));return}}else{if(oo(st))if(X.delete(V),O>Qt){St(V,ds(void 0));return}else return F.add(V),St(V,yl(ke)),yt(Je,st,!1,{fetcherSubmission:ke,preventScrollReset:Ne});if(hr(st)){qt(V,B,st.error);return}}if(gs(st))throw Zn(400,{type:"defer-action"});let Ct=R.navigation.location||R.location,dr=sa(n.history,Ct,qe.signal),Gr=f||c,rr=R.navigation.state!=="idle"?io(Gr,R.navigation.location,p):R.matches;ct(rr,"Didn't find any matches after fetcher action");let lt=++se;T.set(V,lt);let Bi=yl(ke,st.data);R.fetchers.set(V,Bi);let[ir,xn]=Yy(n.history,R,rr,ke,Ct,!1,S.v7_skipActionErrorRevalidation,tt,at,we,ne,H,F,Gr,p,[ie.route.id,st]);xn.filter(dt=>dt.key!==V).forEach(dt=>{let fr=dt.key,Fs=R.fetchers.get(fr),Ro=yl(void 0,Fs?Fs.data:void 0);R.fetchers.set(fr,Ro),Gt(fr),dt.controller&&X.set(fr,dt.controller)}),Ee({fetchers:new Map(R.fetchers)});let wn=()=>xn.forEach(dt=>Gt(dt.key));qe.signal.addEventListener("abort",wn);let{loaderResults:Qr,fetcherResults:ut}=await Ze(R,rr,ir,xn,dr);if(qe.signal.aborted)return;qe.signal.removeEventListener("abort",wn),T.delete(V),X.delete(V),xn.forEach(dt=>X.delete(dt.key));let Rt=wc(Qr);if(Rt)return yt(dr,Rt.result,!1,{preventScrollReset:Ne});if(Rt=wc(ut),Rt)return F.add(Rt.key),yt(dr,Rt.result,!1,{preventScrollReset:Ne});let{loaderData:tn,errors:Yr}=tv(R,rr,Qr,void 0,xn,ut,ce);if(R.fetchers.has(V)){let dt=ds(st.data);R.fetchers.set(V,dt)}Ui(lt),R.navigation.state==="loading"&&lt>O?(ct(_,"Expected pending action"),C&&C.abort(),ze(R.navigation.location,{matches:rr,loaderData:tn,errors:Yr,fetchers:new Map(R.fetchers)})):(Ee({errors:Yr,loaderData:nv(R.loaderData,tn,rr,Yr),fetchers:new Map(R.fetchers)}),tt=!1)}async function kn(V,B,G,ie,ye,xe,$e,Ne,ke){let Se=R.fetchers.get(V);St(V,yl(ke,Se?Se.data:void 0),{flushSync:$e});let Re=new AbortController,qe=sa(n.history,G,Re.signal);if(xe){let st=await Wn(ye,new URL(qe.url).pathname,qe.signal,V);if(st.type==="aborted")return;if(st.type==="error"){qt(V,B,st.error,{flushSync:$e});return}else if(st.matches)ye=st.matches,ie=wl(ye,G);else{qt(V,B,Zn(404,{pathname:G}),{flushSync:$e});return}}X.set(V,Re);let Je=se,Tt=(await Vt("loader",R,qe,[ie],ye,V))[ie.route.id];if(gs(Tt)&&(Tt=await _p(Tt,qe.signal,!0)||Tt),X.get(V)===Re&&X.delete(V),!qe.signal.aborted){if(ne.has(V)){St(V,ds(void 0));return}if(oo(Tt))if(O>Je){St(V,ds(void 0));return}else{F.add(V),await yt(qe,Tt,!1,{preventScrollReset:Ne});return}if(hr(Tt)){qt(V,B,Tt.error);return}ct(!gs(Tt),"Unhandled fetcher deferred data"),St(V,ds(Tt.data))}}async function yt(V,B,G,ie){let{submission:ye,fetcherSubmission:xe,preventScrollReset:$e,replace:Ne}=ie===void 0?{}:ie;B.response.headers.has("X-Remix-Revalidate")&&(tt=!0);let ke=B.response.headers.get("Location");ct(ke,"Expected a Location header on the redirect Response"),ke=Zy(ke,new URL(V.url),p);let Se=Ll(R.location,ke,{_isRedirect:!0});if(t){let st=!1;if(B.response.headers.has("X-Remix-Reload-Document"))st=!0;else if(vp.test(ke)){const Ct=n.history.createURL(ke);st=Ct.origin!==e.location.origin||Pa(Ct.pathname,p)==null}if(st){Ne?e.location.replace(ke):e.location.assign(ke);return}}C=null;let Re=Ne===!0||B.response.headers.has("X-Remix-Replace")?on.Replace:on.Push,{formMethod:qe,formAction:Je,formEncType:Qt}=R.navigation;!ye&&!xe&&qe&&Je&&Qt&&(ye=ov(R.navigation));let Tt=ye||xe;if(lI.has(B.response.status)&&Tt&&Fr(Tt.formMethod))await Me(Re,Se,{submission:Ut({},Tt,{formAction:ke}),preventScrollReset:$e||E,enableViewTransition:G?N:void 0});else{let st=Ef(Se,ye);await Me(Re,Se,{overrideNavigation:st,fetcherSubmission:xe,preventScrollReset:$e||E,enableViewTransition:G?N:void 0})}}async function Vt(V,B,G,ie,ye,xe){let $e,Ne={};try{$e=await gI(y,V,B,G,ie,ye,xe,l,o)}catch(ke){return ie.forEach(Se=>{Ne[Se.route.id]={type:Pt.error,error:ke}}),Ne}for(let[ke,Se]of Object.entries($e))if(TI(Se)){let Re=Se.result;Ne[ke]={type:Pt.redirect,response:_I(Re,G,ke,ye,p,S.v7_relativeSplatPath)}}else Ne[ke]=await vI(Se);return Ne}async function Ze(V,B,G,ie,ye){let xe=V.matches,$e=Vt("loader",V,ye,G,B,null),Ne=Promise.all(ie.map(async Re=>{if(Re.matches&&Re.match&&Re.controller){let Je=(await Vt("loader",V,sa(n.history,Re.path,Re.controller.signal),[Re.match],Re.matches,Re.key))[Re.match.route.id];return{[Re.key]:Je}}else return Promise.resolve({[Re.key]:{type:Pt.error,error:Zn(404,{pathname:Re.path})}})})),ke=await $e,Se=(await Ne).reduce((Re,qe)=>Object.assign(Re,qe),{});return await Promise.all([RI(B,ke,ye.signal,xe,V.loaderData),AI(B,Se,ie)]),{loaderResults:ke,fetcherResults:Se}}function it(){tt=!0,at.push(...$n()),H.forEach((V,B)=>{X.has(B)&&we.add(B),Gt(B)})}function St(V,B,G){G===void 0&&(G={}),R.fetchers.set(V,B),Ee({fetchers:new Map(R.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function qt(V,B,G,ie){ie===void 0&&(ie={});let ye=so(R.matches,B);zt(V),Ee({errors:{[ye.route.id]:G},fetchers:new Map(R.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function _n(V){return oe.set(V,(oe.get(V)||0)+1),ne.has(V)&&ne.delete(V),R.fetchers.get(V)||uI}function zt(V){let B=R.fetchers.get(V);X.has(V)&&!(B&&B.state==="loading"&&T.has(V))&&Gt(V),H.delete(V),T.delete(V),F.delete(V),S.v7_fetcherPersist&&ne.delete(V),we.delete(V),R.fetchers.delete(V)}function Kt(V){let B=(oe.get(V)||0)-1;B<=0?(oe.delete(V),ne.add(V),S.v7_fetcherPersist||zt(V)):oe.set(V,B),Ee({fetchers:new Map(R.fetchers)})}function Gt(V){let B=X.get(V);B&&(B.abort(),X.delete(V))}function Rr(V){for(let B of V){let G=_n(B),ie=ds(G.data);R.fetchers.set(B,ie)}}function ji(){let V=[],B=!1;for(let G of F){let ie=R.fetchers.get(G);ct(ie,"Expected fetcher: "+G),ie.state==="loading"&&(F.delete(G),V.push(G),B=!0)}return Rr(V),B}function Ui(V){let B=[];for(let[G,ie]of T)if(ie<V){let ye=R.fetchers.get(G);ct(ye,"Expected fetcher: "+G),ye.state==="loading"&&(Gt(G),T.delete(G),B.push(G))}return Rr(B),B.length>0}function Os(V,B){let G=R.blockers.get(V)||gl;return ue.get(V)!==B&&ue.set(V,B),G}function Hr(V){R.blockers.delete(V),ue.delete(V)}function Ar(V,B){let G=R.blockers.get(V)||gl;ct(G.state==="unblocked"&&B.state==="blocked"||G.state==="blocked"&&B.state==="blocked"||G.state==="blocked"&&B.state==="proceeding"||G.state==="blocked"&&B.state==="unblocked"||G.state==="proceeding"&&B.state==="unblocked","Invalid blocker state transition: "+G.state+" -> "+B.state);let ie=new Map(R.blockers);ie.set(V,B),Ee({blockers:ie})}function pi(V){let{currentLocation:B,nextLocation:G,historyAction:ie}=V;if(ue.size===0)return;ue.size>1&&ya(!1,"A router only supports one blocker at a time");let ye=Array.from(ue.entries()),[xe,$e]=ye[ye.length-1],Ne=R.blockers.get(xe);if(!(Ne&&Ne.state==="proceeding")&&$e({currentLocation:B,nextLocation:G,historyAction:ie}))return xe}function Pn(V){let B=Zn(404,{pathname:V}),G=f||c,{matches:ie,route:ye}=iv(G);return $n(),{notFoundMatches:ie,route:ye,error:B}}function $n(V){let B=[];return ce.forEach((G,ie)=>{(!V||V(ie))&&(G.cancel(),B.push(ie),ce.delete(ie))}),B}function zi(V,B,G){if(z=V,L=B,$=G||null,!he&&R.navigation===wf){he=!0;let ie=qr(R.location,R.matches);ie!=null&&Ee({restoreScrollPosition:ie})}return()=>{z=null,L=null,$=null}}function nr(V,B){return $&&$(V,B.map(ie=>U1(ie,R.loaderData)))||V.key}function Ls(V,B){if(z&&L){let G=nr(V,B);z[G]=L()}}function qr(V,B){if(z){let G=nr(V,B),ie=z[G];if(typeof ie=="number")return ie}return null}function Kr(V,B,G){if(w)if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:kc(B,G,p,!0)}}else return{active:!0,matches:kc(B,G,p,!0)||[]};return{active:!1,matches:null}}async function Wn(V,B,G,ie){if(!w)return{type:"success",matches:V};let ye=V;for(;;){let xe=f==null,$e=f||c,Ne=l;try{await w({signal:G,path:B,matches:ye,fetcherKey:ie,patch:(Re,qe)=>{G.aborted||Xy(Re,qe,$e,Ne,o)}})}catch(Re){return{type:"error",error:Re,partialMatches:ye}}finally{xe&&!G.aborted&&(c=[...c])}if(G.aborted)return{type:"aborted"};let ke=io($e,B,p);if(ke)return{type:"success",matches:ke};let Se=kc($e,B,p,!0);if(!Se||ye.length===Se.length&&ye.every((Re,qe)=>Re.route.id===Se[qe].route.id))return{type:"success",matches:null};ye=Se}}function Vs(V){l={},f=Bc(V,o,void 0,l)}function Bt(V,B){let G=f==null;Xy(V,B,f||c,l,o),G&&(c=[...c],Ee({}))}return Oe={get basename(){return p},get future(){return S},get state(){return R},get routes(){return c},get window(){return e},initialize:me,subscribe:ve,enableScrollRestoration:zi,navigate:Ie,fetch:Zt,revalidate:Be,createHref:V=>n.history.createHref(V),encodeLocation:V=>n.history.encodeLocation(V),getFetcher:_n,deleteFetcher:Kt,dispose:Pe,getBlocker:Os,deleteBlocker:Hr,patchRoutes:Bt,_internalFetchControllers:X,_internalActiveDeferreds:ce,_internalSetRoutes:Vs},Oe}function dI(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function jf(n,e,t,i,o,l,c,f){let p,y;if(c){p=[];for(let S of e)if(p.push(S),S.route.id===c){y=S;break}}else p=e,y=e[e.length-1];let w=_h(o||".",vh(p,l),Pa(n.pathname,t)||n.pathname,f==="path");if(o==null&&(w.search=n.search,w.hash=n.hash),(o==null||o===""||o===".")&&y){let S=wp(w.search);if(y.route.index&&!S)w.search=w.search?w.search.replace(/^\?/,"?index&"):"?index";else if(!y.route.index&&S){let A=new URLSearchParams(w.search),M=A.getAll("index");A.delete("index"),M.filter($=>$).forEach($=>A.append("index",$));let z=A.toString();w.search=z?"?"+z:""}}return i&&t!=="/"&&(w.pathname=w.pathname==="/"?t:bi([t,w.pathname])),fo(w)}function Gy(n,e,t,i){if(!i||!dI(i))return{path:t};if(i.formMethod&&!SI(i.formMethod))return{path:t,error:Zn(405,{method:i.formMethod})};let o=()=>({path:t,error:Zn(400,{type:"invalid-body"})}),l=i.formMethod||"get",c=n?l.toUpperCase():l.toLowerCase(),f=d0(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Fr(c))return o();let A=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((M,z)=>{let[$,L]=z;return""+M+$+"="+L+`
`},""):String(i.body);return{path:t,submission:{formMethod:c,formAction:f,formEncType:i.formEncType,formData:void 0,json:void 0,text:A}}}else if(i.formEncType==="application/json"){if(!Fr(c))return o();try{let A=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:c,formAction:f,formEncType:i.formEncType,formData:void 0,json:A,text:void 0}}}catch{return o()}}}ct(typeof FormData=="function","FormData is not available in this environment");let p,y;if(i.formData)p=zf(i.formData),y=i.formData;else if(i.body instanceof FormData)p=zf(i.body),y=i.body;else if(i.body instanceof URLSearchParams)p=i.body,y=ev(p);else if(i.body==null)p=new URLSearchParams,y=new FormData;else try{p=new URLSearchParams(i.body),y=ev(p)}catch{return o()}let w={formMethod:c,formAction:f,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:y,json:void 0,text:void 0};if(Fr(w.formMethod))return{path:t,submission:w};let S=bs(t);return e&&S.search&&wp(S.search)&&p.append("index",""),S.search="?"+p,{path:fo(S),submission:w}}function Qy(n,e,t){t===void 0&&(t=!1);let i=n.findIndex(o=>o.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function Yy(n,e,t,i,o,l,c,f,p,y,w,S,A,M,z,$){let L=$?hr($[1])?$[1].error:$[1].data:void 0,he=n.createURL(e.location),Z=n.createURL(o),fe=t;l&&e.errors?fe=Qy(t,Object.keys(e.errors)[0],!0):$&&hr($[1])&&(fe=Qy(t,$[0]));let _e=$?$[1].statusCode:void 0,Fe=c&&_e&&_e>=400,Oe=fe.filter((_,E)=>{let{route:C}=_;if(C.lazy)return!0;if(C.loader==null)return!1;if(l)return Uf(C,e.loaderData,e.errors);if(fI(e.loaderData,e.matches[E],_)||p.some(x=>x===_.route.id))return!0;let N=e.matches[E],b=_;return Jy(_,Ut({currentUrl:he,currentParams:N.params,nextUrl:Z,nextParams:b.params},i,{actionResult:L,actionStatus:_e,defaultShouldRevalidate:Fe?!1:f||he.pathname+he.search===Z.pathname+Z.search||he.search!==Z.search||c0(N,b)}))}),R=[];return S.forEach((_,E)=>{if(l||!t.some(je=>je.route.id===_.routeId)||w.has(E))return;let C=io(M,_.path,z);if(!C){R.push({key:E,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(E),b=wl(C,_.path),x=!1;A.has(E)?x=!1:y.has(E)?(y.delete(E),x=!0):N&&N.state!=="idle"&&N.data===void 0?x=f:x=Jy(b,Ut({currentUrl:he,currentParams:e.matches[e.matches.length-1].params,nextUrl:Z,nextParams:t[t.length-1].params},i,{actionResult:L,actionStatus:_e,defaultShouldRevalidate:Fe?!1:f})),x&&R.push({key:E,routeId:_.routeId,path:_.path,matches:C,match:b,controller:new AbortController})}),[Oe,R]}function Uf(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,o=t!=null&&t[n.id]!==void 0;return!i&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!o}function fI(n,e,t){let i=!e||t.route.id!==e.route.id,o=n[t.route.id]===void 0;return i||o}function c0(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Jy(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Xy(n,e,t,i,o){var l;let c;if(n){let y=i[n];ct(y,"No route found to patch children into: routeId = "+n),y.children||(y.children=[]),c=y.children}else c=t;let f=e.filter(y=>!c.some(w=>h0(y,w))),p=Bc(f,o,[n||"_","patch",String(((l=c)==null?void 0:l.length)||"0")],i);c.push(...p)}function h0(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var o;return(o=e.children)==null?void 0:o.some(l=>h0(t,l))}):!1}async function pI(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let o=t[n.id];ct(o,"No route found in manifest");let l={};for(let c in i){let p=o[c]!==void 0&&c!=="hasErrorBoundary";ya(!p,'Route "'+o.id+'" has a static property "'+c+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+c+'" will be ignored.')),!p&&!F1.has(c)&&(l[c]=i[c])}Object.assign(o,l),Object.assign(o,Ut({},e(o),{lazy:void 0}))}async function mI(n){let{matches:e}=n,t=e.filter(o=>o.shouldLoad);return(await Promise.all(t.map(o=>o.resolve()))).reduce((o,l,c)=>Object.assign(o,{[t[c].route.id]:l}),{})}async function gI(n,e,t,i,o,l,c,f,p,y){let w=l.map(M=>M.route.lazy?pI(M.route,p,f):void 0),S=l.map((M,z)=>{let $=w[z],L=o.some(Z=>Z.route.id===M.route.id);return Ut({},M,{shouldLoad:L,resolve:async Z=>(Z&&i.method==="GET"&&(M.route.lazy||M.route.loader)&&(L=!0),L?yI(e,i,M,$,Z,y):Promise.resolve({type:Pt.data,result:void 0}))})}),A=await n({matches:S,request:i,params:l[0].params,fetcherKey:c,context:y});try{await Promise.all(w)}catch{}return A}async function yI(n,e,t,i,o,l){let c,f,p=y=>{let w,S=new Promise((z,$)=>w=$);f=()=>w(),e.signal.addEventListener("abort",f);let A=z=>typeof y!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):y({request:e,params:t.params,context:l},...z!==void 0?[z]:[]),M=(async()=>{try{return{type:"data",result:await(o?o($=>A($)):A())}}catch(z){return{type:"error",result:z}}})();return Promise.race([M,S])};try{let y=t.route[n];if(i)if(y){let w,[S]=await Promise.all([p(y).catch(A=>{w=A}),i]);if(w!==void 0)throw w;c=S}else if(await i,y=t.route[n],y)c=await p(y);else if(n==="action"){let w=new URL(e.url),S=w.pathname+w.search;throw Zn(405,{method:e.method,pathname:S,routeId:t.route.id})}else return{type:Pt.data,result:void 0};else if(y)c=await p(y);else{let w=new URL(e.url),S=w.pathname+w.search;throw Zn(404,{pathname:S})}ct(c.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(y){return{type:Pt.error,result:y}}finally{f&&e.signal.removeEventListener("abort",f)}return c}async function vI(n){let{result:e,type:t}=n;if(f0(e)){let S;try{let A=e.headers.get("Content-Type");A&&/\bapplication\/json\b/.test(A)?e.body==null?S=null:S=await e.json():S=await e.text()}catch(A){return{type:Pt.error,error:A}}return t===Pt.error?{type:Pt.error,error:new $c(e.status,e.statusText,S),statusCode:e.status,headers:e.headers}:{type:Pt.data,data:S,statusCode:e.status,headers:e.headers}}if(t===Pt.error){if(sv(e)){var i,o;if(e.data instanceof Error){var l,c;return{type:Pt.error,error:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:Pt.error,error:new $c(((i=e.init)==null?void 0:i.status)||500,void 0,e.data),statusCode:Vl(e)?e.status:void 0,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:Pt.error,error:e,statusCode:Vl(e)?e.status:void 0}}if(II(e)){var f,p;return{type:Pt.deferred,deferredData:e,statusCode:(f=e.init)==null?void 0:f.status,headers:((p=e.init)==null?void 0:p.headers)&&new Headers(e.init.headers)}}if(sv(e)){var y,w;return{type:Pt.data,data:e.data,statusCode:(y=e.init)==null?void 0:y.status,headers:(w=e.init)!=null&&w.headers?new Headers(e.init.headers):void 0}}return{type:Pt.data,data:e}}function _I(n,e,t,i,o,l){let c=n.headers.get("Location");if(ct(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!vp.test(c)){let f=i.slice(0,i.findIndex(p=>p.route.id===t)+1);c=jf(new URL(e.url),f,o,!0,c,l),n.headers.set("Location",c)}return n}function Zy(n,e,t){if(vp.test(n)){let i=n,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=Pa(o.pathname,t)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return n}function sa(n,e,t,i){let o=n.createURL(d0(e)).toString(),l={signal:t};if(i&&Fr(i.formMethod)){let{formMethod:c,formEncType:f}=i;l.method=c.toUpperCase(),f==="application/json"?(l.headers=new Headers({"Content-Type":f}),l.body=JSON.stringify(i.json)):f==="text/plain"?l.body=i.text:f==="application/x-www-form-urlencoded"&&i.formData?l.body=zf(i.formData):l.body=i.formData}return new Request(o,l)}function zf(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function ev(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function wI(n,e,t,i,o){let l={},c=null,f,p=!1,y={},w=t&&hr(t[1])?t[1].error:void 0;return n.forEach(S=>{if(!(S.route.id in e))return;let A=S.route.id,M=e[A];if(ct(!oo(M),"Cannot handle redirect results in processLoaderData"),hr(M)){let z=M.error;w!==void 0&&(z=w,w=void 0),c=c||{};{let $=so(n,A);c[$.route.id]==null&&(c[$.route.id]=z)}l[A]=void 0,p||(p=!0,f=Vl(M.error)?M.error.status:500),M.headers&&(y[A]=M.headers)}else gs(M)?(i.set(A,M.deferredData),l[A]=M.deferredData.data,M.statusCode!=null&&M.statusCode!==200&&!p&&(f=M.statusCode),M.headers&&(y[A]=M.headers)):(l[A]=M.data,M.statusCode&&M.statusCode!==200&&!p&&(f=M.statusCode),M.headers&&(y[A]=M.headers))}),w!==void 0&&t&&(c={[t[0]]:w},l[t[0]]=void 0),{loaderData:l,errors:c,statusCode:f||200,loaderHeaders:y}}function tv(n,e,t,i,o,l,c){let{loaderData:f,errors:p}=wI(e,t,i,c);return o.forEach(y=>{let{key:w,match:S,controller:A}=y,M=l[w];if(ct(M,"Did not find corresponding fetcher result"),!(A&&A.signal.aborted))if(hr(M)){let z=so(n.matches,S==null?void 0:S.route.id);p&&p[z.route.id]||(p=Ut({},p,{[z.route.id]:M.error})),n.fetchers.delete(w)}else if(oo(M))ct(!1,"Unhandled fetcher revalidation redirect");else if(gs(M))ct(!1,"Unhandled fetcher deferred data");else{let z=ds(M.data);n.fetchers.set(w,z)}}),{loaderData:f,errors:p}}function nv(n,e,t,i){let o=Ut({},e);for(let l of t){let c=l.route.id;if(e.hasOwnProperty(c)?e[c]!==void 0&&(o[c]=e[c]):n[c]!==void 0&&l.route.loader&&(o[c]=n[c]),i&&i.hasOwnProperty(c))break}return o}function rv(n){return n?hr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function so(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function iv(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Zn(n,e){let{pathname:t,routeId:i,method:o,type:l,message:c}=e===void 0?{}:e,f="Unknown Server Error",p="Unknown @remix-run/router error";return n===400?(f="Bad Request",o&&t&&i?p="You made a "+o+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":l==="defer-action"?p="defer() is not supported in actions":l==="invalid-body"&&(p="Unable to encode submission body")):n===403?(f="Forbidden",p='Route "'+i+'" does not match URL "'+t+'"'):n===404?(f="Not Found",p='No route matches URL "'+t+'"'):n===405&&(f="Method Not Allowed",o&&t&&i?p="You made a "+o.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":o&&(p='Invalid request method "'+o.toUpperCase()+'"')),new $c(n||500,f,new Error(p),!0)}function wc(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,o]=e[t];if(oo(o))return{key:i,result:o}}}function d0(n){let e=typeof n=="string"?bs(n):n;return fo(Ut({},e,{hash:""}))}function EI(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function TI(n){return f0(n.result)&&aI.has(n.result.status)}function gs(n){return n.type===Pt.deferred}function hr(n){return n.type===Pt.error}function oo(n){return(n&&n.type)===Pt.redirect}function sv(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function II(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function f0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function SI(n){return oI.has(n.toLowerCase())}function Fr(n){return iI.has(n.toLowerCase())}async function RI(n,e,t,i,o){let l=Object.entries(e);for(let c=0;c<l.length;c++){let[f,p]=l[c],y=n.find(A=>(A==null?void 0:A.route.id)===f);if(!y)continue;let w=i.find(A=>A.route.id===y.route.id),S=w!=null&&!c0(w,y)&&(o&&o[y.route.id])!==void 0;gs(p)&&S&&await _p(p,t,!1).then(A=>{A&&(e[f]=A)})}}async function AI(n,e,t){for(let i=0;i<t.length;i++){let{key:o,routeId:l,controller:c}=t[i],f=e[o];n.find(y=>(y==null?void 0:y.route.id)===l)&&gs(f)&&(ct(c,"Expected an AbortController for revalidating fetcher deferred result"),await _p(f,c.signal,!0).then(y=>{y&&(e[o]=y)}))}}async function _p(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Pt.data,data:n.deferredData.unwrappedData}}catch(o){return{type:Pt.error,error:o}}return{type:Pt.data,data:n.deferredData.data}}}function wp(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function wl(n,e){let t=typeof e=="string"?bs(e).search:e.search;if(n[n.length-1].route.index&&wp(t||""))return n[n.length-1];let i=a0(n);return i[i.length-1]}function ov(n){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:l,json:c}=n;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function Ef(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function CI(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function yl(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function kI(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function ds(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function PI(n,e){try{let t=n.sessionStorage.getItem(u0);if(t){let i=JSON.parse(t);for(let[o,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function xI(n,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{n.sessionStorage.setItem(u0,JSON.stringify(t))}catch(i){ya(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wc(){return Wc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Wc.apply(this,arguments)}const wh=J.createContext(null),p0=J.createContext(null),Ds=J.createContext(null),Ep=J.createContext(null),Ms=J.createContext({outlet:null,matches:[],isDataRoute:!1}),m0=J.createContext(null);function NI(n,e){let{relative:t}=e===void 0?{}:e;xa()||ct(!1);let{basename:i,navigator:o}=J.useContext(Ds),{hash:l,pathname:c,search:f}=y0(n,{relative:t}),p=c;return i!=="/"&&(p=c==="/"?i:bi([i,c])),o.createHref({pathname:p,search:f,hash:l})}function xa(){return J.useContext(Ep)!=null}function _o(){return xa()||ct(!1),J.useContext(Ep).location}function g0(n){J.useContext(Ds).static||J.useLayoutEffect(n)}function Eh(){let{isDataRoute:n}=J.useContext(Ms);return n?$I():bI()}function bI(){xa()||ct(!1);let n=J.useContext(wh),{basename:e,future:t,navigator:i}=J.useContext(Ds),{matches:o}=J.useContext(Ms),{pathname:l}=_o(),c=JSON.stringify(vh(o,t.v7_relativeSplatPath)),f=J.useRef(!1);return g0(()=>{f.current=!0}),J.useCallback(function(y,w){if(w===void 0&&(w={}),!f.current)return;if(typeof y=="number"){i.go(y);return}let S=_h(y,JSON.parse(c),l,w.relative==="path");n==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:bi([e,S.pathname])),(w.replace?i.replace:i.push)(S,w.state,w)},[e,i,c,l,n])}function y0(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=J.useContext(Ds),{matches:o}=J.useContext(Ms),{pathname:l}=_o(),c=JSON.stringify(vh(o,i.v7_relativeSplatPath));return J.useMemo(()=>_h(n,JSON.parse(c),l,t==="path"),[n,c,l,t])}function DI(n,e,t,i){xa()||ct(!1);let{navigator:o}=J.useContext(Ds),{matches:l}=J.useContext(Ms),c=l[l.length-1],f=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let y=_o(),w;w=y;let S=w.pathname||"/",A=S;if(p!=="/"){let $=p.replace(/^\//,"").split("/");A="/"+S.replace(/^\//,"").split("/").slice($.length).join("/")}let M=io(n,{pathname:A});return FI(M&&M.map($=>Object.assign({},$,{params:Object.assign({},f,$.params),pathname:bi([p,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?p:bi([p,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),l,t,i)}function MI(){let n=BI(),e=Vl(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),t?J.createElement("pre",{style:o},t):null,null)}const OI=J.createElement(MI,null);class LI extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?J.createElement(Ms.Provider,{value:this.props.routeContext},J.createElement(m0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VI(n){let{routeContext:e,match:t,children:i}=n,o=J.useContext(wh);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),J.createElement(Ms.Provider,{value:e},i)}function FI(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var l;if(!t)return null;if(t.errors)n=t.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,f=(o=t)==null?void 0:o.errors;if(f!=null){let w=c.findIndex(S=>S.route.id&&(f==null?void 0:f[S.route.id])!==void 0);w>=0||ct(!1),c=c.slice(0,Math.min(c.length,w+1))}let p=!1,y=-1;if(t&&i&&i.v7_partialHydration)for(let w=0;w<c.length;w++){let S=c[w];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(y=w),S.route.id){let{loaderData:A,errors:M}=t,z=S.route.loader&&A[S.route.id]===void 0&&(!M||M[S.route.id]===void 0);if(S.route.lazy||z){p=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((w,S,A)=>{let M,z=!1,$=null,L=null;t&&(M=f&&S.route.id?f[S.route.id]:void 0,$=S.route.errorElement||OI,p&&(y<0&&A===0?(WI("route-fallback"),z=!0,L=null):y===A&&(z=!0,L=S.route.hydrateFallbackElement||null)));let he=e.concat(c.slice(0,A+1)),Z=()=>{let fe;return M?fe=$:z?fe=L:S.route.Component?fe=J.createElement(S.route.Component,null):S.route.element?fe=S.route.element:fe=w,J.createElement(VI,{match:S,routeContext:{outlet:w,matches:he,isDataRoute:t!=null},children:fe})};return t&&(S.route.ErrorBoundary||S.route.errorElement||A===0)?J.createElement(LI,{location:t.location,revalidation:t.revalidation,component:$,error:M,children:Z(),routeContext:{outlet:null,matches:he,isDataRoute:!0}}):Z()},null)}var v0=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(v0||{}),_0=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(_0||{});function jI(n){let e=J.useContext(wh);return e||ct(!1),e}function UI(n){let e=J.useContext(p0);return e||ct(!1),e}function zI(n){let e=J.useContext(Ms);return e||ct(!1),e}function w0(n){let e=zI(),t=e.matches[e.matches.length-1];return t.route.id||ct(!1),t.route.id}function BI(){var n;let e=J.useContext(m0),t=UI(_0.UseRouteError),i=w0();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function $I(){let{router:n}=jI(v0.UseNavigateStable),e=w0(),t=J.useRef(!1);return g0(()=>{t.current=!0}),J.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,Wc({fromRouteId:e},l)))},[n,e])}const av={};function WI(n,e,t){av[n]||(av[n]=!0)}function HI(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function E0(n){let{to:e,replace:t,state:i,relative:o}=n;xa()||ct(!1);let{future:l,static:c}=J.useContext(Ds),{matches:f}=J.useContext(Ms),{pathname:p}=_o(),y=Eh(),w=_h(e,vh(f,l.v7_relativeSplatPath),p,o==="path"),S=JSON.stringify(w);return J.useEffect(()=>y(JSON.parse(S),{replace:t,state:i,relative:o}),[y,S,o,t,i]),null}function qI(n){let{basename:e="/",children:t=null,location:i,navigationType:o=on.Pop,navigator:l,static:c=!1,future:f}=n;xa()&&ct(!1);let p=e.replace(/^\/*/,"/"),y=J.useMemo(()=>({basename:p,navigator:l,static:c,future:Wc({v7_relativeSplatPath:!1},f)}),[p,f,l,c]);typeof i=="string"&&(i=bs(i));let{pathname:w="/",search:S="",hash:A="",state:M=null,key:z="default"}=i,$=J.useMemo(()=>{let L=Pa(w,p);return L==null?null:{location:{pathname:L,search:S,hash:A,state:M,key:z},navigationType:o}},[p,w,S,A,M,z,o]);return $==null?null:J.createElement(Ds.Provider,{value:y},J.createElement(Ep.Provider,{children:t,value:$}))}new Promise(()=>{});function KI(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:J.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:J.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:J.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Fl.apply(this,arguments)}function GI(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function QI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function YI(n,e){return n.button===0&&(!e||e==="_self")&&!QI(n)}const JI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],XI="6";try{window.__reactRouterVersion=XI}catch{}function ZI(n,e){return hI({basename:void 0,future:Fl({},void 0,{v7_prependBasename:!0}),history:O1({window:void 0}),hydrationData:eS(),routes:n,mapRouteProperties:KI,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function eS(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Fl({},e,{errors:tS(e.errors)})),e}function tS(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new $c(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let l=new Error(o.message);l.stack="",t[i]=l}}else t[i]=o;return t}const nS=J.createContext({isTransitioning:!1}),rS=J.createContext(new Map),iS="startTransition",lv=A1[iS],sS="flushSync",uv=M1[sS];function oS(n){lv?lv(n):n()}function vl(n){uv?uv(n):n()}let aS=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function lS(n){let{fallbackElement:e,router:t,future:i}=n,[o,l]=J.useState(t.state),[c,f]=J.useState(),[p,y]=J.useState({isTransitioning:!1}),[w,S]=J.useState(),[A,M]=J.useState(),[z,$]=J.useState(),L=J.useRef(new Map),{v7_startTransition:he}=i||{},Z=J.useCallback(_=>{he?oS(_):_()},[he]),fe=J.useCallback((_,E)=>{let{deletedFetchers:C,flushSync:N,viewTransitionOpts:b}=E;_.fetchers.forEach((je,tt)=>{je.data!==void 0&&L.current.set(tt,je.data)}),C.forEach(je=>L.current.delete(je));let x=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!b||x){N?vl(()=>l(_)):Z(()=>l(_));return}if(N){vl(()=>{A&&(w&&w.resolve(),A.skipTransition()),y({isTransitioning:!0,flushSync:!0,currentLocation:b.currentLocation,nextLocation:b.nextLocation})});let je=t.window.document.startViewTransition(()=>{vl(()=>l(_))});je.finished.finally(()=>{vl(()=>{S(void 0),M(void 0),f(void 0),y({isTransitioning:!1})})}),vl(()=>M(je));return}A?(w&&w.resolve(),A.skipTransition(),$({state:_,currentLocation:b.currentLocation,nextLocation:b.nextLocation})):(f(_),y({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}))},[t.window,A,w,L,Z]);J.useLayoutEffect(()=>t.subscribe(fe),[t,fe]),J.useEffect(()=>{p.isTransitioning&&!p.flushSync&&S(new aS)},[p]),J.useEffect(()=>{if(w&&c&&t.window){let _=c,E=w.promise,C=t.window.document.startViewTransition(async()=>{Z(()=>l(_)),await E});C.finished.finally(()=>{S(void 0),M(void 0),f(void 0),y({isTransitioning:!1})}),M(C)}},[Z,c,w,t.window]),J.useEffect(()=>{w&&c&&o.location.key===c.location.key&&w.resolve()},[w,A,o.location,c]),J.useEffect(()=>{!p.isTransitioning&&z&&(f(z.state),y({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}),$(void 0))},[p.isTransitioning,z]),J.useEffect(()=>{},[]);let _e=J.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:_=>t.navigate(_),push:(_,E,C)=>t.navigate(_,{state:E,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(_,E,C)=>t.navigate(_,{replace:!0,state:E,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[t]),Fe=t.basename||"/",Oe=J.useMemo(()=>({router:t,navigator:_e,static:!1,basename:Fe}),[t,_e,Fe]),R=J.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return J.useEffect(()=>HI(i,t.future),[i,t.future]),J.createElement(J.Fragment,null,J.createElement(wh.Provider,{value:Oe},J.createElement(p0.Provider,{value:o},J.createElement(rS.Provider,{value:L.current},J.createElement(nS.Provider,{value:p},J.createElement(qI,{basename:Fe,location:o.location,navigationType:o.historyAction,navigator:_e,future:R},o.initialized||t.future.v7_partialHydration?J.createElement(uS,{routes:t.routes,future:t.future,state:o}):e))))),null)}const uS=J.memo(cS);function cS(n){let{routes:e,future:t,state:i}=n;return DI(e,void 0,i,t)}const hS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Al=J.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:l,replace:c,state:f,target:p,to:y,preventScrollReset:w,viewTransition:S}=e,A=GI(e,JI),{basename:M}=J.useContext(Ds),z,$=!1;if(typeof y=="string"&&dS.test(y)&&(z=y,hS))try{let fe=new URL(window.location.href),_e=y.startsWith("//")?new URL(fe.protocol+y):new URL(y),Fe=Pa(_e.pathname,M);_e.origin===fe.origin&&Fe!=null?y=Fe+_e.search+_e.hash:$=!0}catch{}let L=NI(y,{relative:o}),he=fS(y,{replace:c,state:f,target:p,preventScrollReset:w,relative:o,viewTransition:S});function Z(fe){i&&i(fe),fe.defaultPrevented||he(fe)}return J.createElement("a",Fl({},A,{href:z||L,onClick:$||l?i:Z,ref:t,target:p}))});var cv;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(cv||(cv={}));var hv;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(hv||(hv={}));function fS(n,e){let{target:t,replace:i,state:o,preventScrollReset:l,relative:c,viewTransition:f}=e===void 0?{}:e,p=Eh(),y=_o(),w=y0(n,{relative:c});return J.useCallback(S=>{if(YI(S,t)){S.preventDefault();let A=i!==void 0?i:fo(y)===fo(w);p(n,{replace:A,state:o,preventScrollReset:l,relative:c,viewTransition:f})}},[y,p,w,i,o,t,n,l,c,f])}const pS=()=>{};var dv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},mS=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},I0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,f=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,w=l>>2,S=(l&3)<<4|f>>4;let A=(f&15)<<2|y>>6,M=y&63;p||(M=64,c||(A=64)),i.push(t[w],t[S],t[A],t[M])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(T0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):mS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const S=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||y==null||S==null)throw new gS;const A=l<<2|f>>4;if(i.push(A),y!==64){const M=f<<4&240|y>>2;if(i.push(M),S!==64){const z=y<<6&192|S;i.push(z)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class gS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yS=function(n){const e=T0(n);return I0.encodeByteArray(e,!0)},Hc=function(n){return yS(n).replace(/\./g,"")},S0=function(n){try{return I0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=()=>vS().__FIREBASE_DEFAULTS__,wS=()=>{if(typeof process>"u"||typeof dv>"u")return;const n=dv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ES=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&S0(n[1]);return e&&JSON.parse(e)},Th=()=>{try{return pS()||_S()||wS()||ES()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},R0=n=>{var e,t;return(t=(e=Th())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},TS=n=>{const e=R0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},A0=()=>{var n;return(n=Th())==null?void 0:n.config},C0=n=>{var e;return(e=Th())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function k0(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Hc(JSON.stringify(t)),Hc(JSON.stringify(c)),""].join(".")}const Cl={};function RS(){const n={prod:[],emulator:[]};for(const e of Object.keys(Cl))Cl[e]?n.emulator.push(e):n.prod.push(e);return n}function AS(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let fv=!1;function P0(n,e){if(typeof window>"u"||typeof document>"u"||!Na(window.location.host)||Cl[n]===e||Cl[n]||fv)return;Cl[n]=e;function t(A){return`__firebase__banner__${A}`}const i="__firebase__banner",l=RS().prod.length>0;function c(){const A=document.getElementById(i);A&&A.remove()}function f(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,M){A.setAttribute("width","24"),A.setAttribute("id",M),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{fv=!0,c()},A}function w(A,M){A.setAttribute("id",M),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function S(){const A=AS(i),M=t("text"),z=document.getElementById(M)||document.createElement("span"),$=t("learnmore"),L=document.getElementById($)||document.createElement("a"),he=t("preprendIcon"),Z=document.getElementById(he)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const fe=A.element;f(fe),w(L,$);const _e=y();p(Z,he),fe.append(Z,z,L,_e),document.body.appendChild(fe)}l?(z.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fn())}function kS(){var e;const n=(e=Th())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function NS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bS(){const n=Fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function DS(){return!kS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MS(){try{return typeof indexedDB=="object"}catch{return!1}}function OS(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="FirebaseError";class Fi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=LS,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?VS(l,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new Fi(o,f,i)}}function VS(n,e){return n.replace(FS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const FS=/\{\$([^}]+)}/g;function jS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function po(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(pv(l)&&pv(c)){if(!po(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function pv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function US(n,e){const t=new zS(n,e);return t.subscribe.bind(t)}class zS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");BS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Tf),o.error===void 0&&(o.error=Tf),o.complete===void 0&&(o.complete=Tf);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Tf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(n){return n&&n._delegate?n._delegate:n}class mo{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new IS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HS(e))try{this.getOrInitializeService({instanceIdentifier:ro})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ro){return this.instances.has(e)}getOptions(e=ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:WS(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ro){return this.component?this.component.multipleInstances?e:ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WS(n){return n===ro?void 0:n}function HS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $S(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ft||(ft={}));const KS={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},GS=ft.INFO,QS={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},YS=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=QS[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tp{constructor(e){this.name=e,this._logLevel=GS,this._logHandler=YS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const JS=(n,e)=>e.some(t=>n instanceof t);let mv,gv;function XS(){return mv||(mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZS(){return gv||(gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x0=new WeakMap,Bf=new WeakMap,N0=new WeakMap,If=new WeakMap,Ip=new WeakMap;function eR(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ws(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&x0.set(t,n)}).catch(()=>{}),Ip.set(e,n),e}function tR(n){if(Bf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Bf.set(n,e)}let $f={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Bf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||N0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ws(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function nR(n){$f=n($f)}function rR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Sf(this),e,...t);return N0.set(i,e.sort?e.sort():[e]),ws(i)}:ZS().includes(n)?function(...e){return n.apply(Sf(this),e),ws(x0.get(this))}:function(...e){return ws(n.apply(Sf(this),e))}}function iR(n){return typeof n=="function"?rR(n):(n instanceof IDBTransaction&&tR(n),JS(n,XS())?new Proxy(n,$f):n)}function ws(n){if(n instanceof IDBRequest)return eR(n);if(If.has(n))return If.get(n);const e=iR(n);return e!==n&&(If.set(n,e),Ip.set(e,n)),e}const Sf=n=>Ip.get(n);function sR(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),f=ws(c);return i&&c.addEventListener("upgradeneeded",p=>{i(ws(c.result),p.oldVersion,p.newVersion,ws(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const oR=["get","getKey","getAll","getAllKeys","count"],aR=["put","add","delete","clear"],Rf=new Map;function yv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Rf.get(e))return Rf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=aR.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||oR.includes(t)))return;const l=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return Rf.set(e,l),l}nR(n=>({...n,get:(e,t,i)=>yv(e,t)||n.get(e,t,i),has:(e,t)=>!!yv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(uR(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function uR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wf="@firebase/app",vv="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new Tp("@firebase/app"),cR="@firebase/app-compat",hR="@firebase/analytics-compat",dR="@firebase/analytics",fR="@firebase/app-check-compat",pR="@firebase/app-check",mR="@firebase/auth",gR="@firebase/auth-compat",yR="@firebase/database",vR="@firebase/data-connect",_R="@firebase/database-compat",wR="@firebase/functions",ER="@firebase/functions-compat",TR="@firebase/installations",IR="@firebase/installations-compat",SR="@firebase/messaging",RR="@firebase/messaging-compat",AR="@firebase/performance",CR="@firebase/performance-compat",kR="@firebase/remote-config",PR="@firebase/remote-config-compat",xR="@firebase/storage",NR="@firebase/storage-compat",bR="@firebase/firestore",DR="@firebase/ai",MR="@firebase/firestore-compat",OR="firebase",LR="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf="[DEFAULT]",VR={[Wf]:"fire-core",[cR]:"fire-core-compat",[dR]:"fire-analytics",[hR]:"fire-analytics-compat",[pR]:"fire-app-check",[fR]:"fire-app-check-compat",[mR]:"fire-auth",[gR]:"fire-auth-compat",[yR]:"fire-rtdb",[vR]:"fire-data-connect",[_R]:"fire-rtdb-compat",[wR]:"fire-fn",[ER]:"fire-fn-compat",[TR]:"fire-iid",[IR]:"fire-iid-compat",[SR]:"fire-fcm",[RR]:"fire-fcm-compat",[AR]:"fire-perf",[CR]:"fire-perf-compat",[kR]:"fire-rc",[PR]:"fire-rc-compat",[xR]:"fire-gcs",[NR]:"fire-gcs-compat",[bR]:"fire-fst",[MR]:"fire-fst-compat",[DR]:"fire-vertex","fire-js":"fire-js",[OR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new Map,FR=new Map,qf=new Map;function _v(n,e){try{n.container.addComponent(e)}catch(t){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function va(n){const e=n.name;if(qf.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;qf.set(e,n);for(const t of qc.values())_v(t,n);for(const t of FR.values())_v(t,n);return!0}function Sp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function jr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new Zl("app","Firebase",jR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=LR;function b0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Hf,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Es.create("bad-app-name",{appName:String(o)});if(t||(t=A0()),!t)throw Es.create("no-options");const l=qc.get(o);if(l){if(po(t,l.options)&&po(i,l.config))return l;throw Es.create("duplicate-app",{appName:o})}const c=new qS(o);for(const p of qf.values())c.addComponent(p);const f=new UR(t,i,c);return qc.set(o,f),f}function D0(n=Hf){const e=qc.get(n);if(!e&&n===Hf&&A0())return b0();if(!e)throw Es.create("no-app",{appName:n});return e}function Ts(n,e,t){let i=VR[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(c.join(" "));return}va(new mo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="firebase-heartbeat-database",BR=1,jl="firebase-heartbeat-store";let Af=null;function M0(){return Af||(Af=sR(zR,BR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(jl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Es.create("idb-open",{originalErrorMessage:n.message})})),Af}async function $R(n){try{const t=(await M0()).transaction(jl),i=await t.objectStore(jl).get(O0(n));return await t.done,i}catch(e){if(e instanceof Fi)Mi.warn(e.message);else{const t=Es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(t.message)}}}async function wv(n,e){try{const i=(await M0()).transaction(jl,"readwrite");await i.objectStore(jl).put(e,O0(n)),await i.done}catch(t){if(t instanceof Fi)Mi.warn(t.message);else{const i=Es.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Mi.warn(i.message)}}}function O0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=1024,HR=30;class qR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new GR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Ev();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>HR){const c=QR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Mi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ev(),{heartbeatsToSend:i,unsentEntries:o}=KR(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Mi.warn(t),""}}}function Ev(){return new Date().toISOString().substring(0,10)}function KR(n,e=WR){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Tv(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Tv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class GR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MS()?OS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $R(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Tv(n){return Hc(JSON.stringify({version:2,heartbeats:n})).length}function QR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(n){va(new mo("platform-logger",e=>new lR(e),"PRIVATE")),va(new mo("heartbeat",e=>new qR(e),"PRIVATE")),Ts(Wf,vv,n),Ts(Wf,vv,"esm2020"),Ts("fire-js","")}YR("");var JR="firebase",XR="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(JR,XR,"app");function L0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZR=L0,V0=new Zl("auth","Firebase",L0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new Tp("@firebase/auth");function eA(n,...e){Kc.logLevel<=ft.WARN&&Kc.warn(`Auth (${ba}): ${n}`,...e)}function Pc(n,...e){Kc.logLevel<=ft.ERROR&&Kc.error(`Auth (${ba}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(n,...e){throw Ap(n,...e)}function $r(n,...e){return Ap(n,...e)}function Rp(n,e,t){const i={...ZR(),[e]:t};return new Zl("auth","Firebase",i).create(e,{appName:n.name})}function uo(n){return Rp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tA(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&di(n,"argument-error"),Rp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ap(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return V0.create(n,...e)}function Ye(n,e,...t){if(!n)throw Ap(e,...t)}function xi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Pc(e),new Error(e)}function Oi(n,e){n||xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function nA(){return Iv()==="http:"||Iv()==="https:"}function Iv(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nA()||xS()||"connection"in navigator)?navigator.onLine:!0}function iA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Oi(t>e,"Short delay should be less than long delay!"),this.isMobile=CS()||NS()}get(){return rA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(n,e){Oi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aA=new tu(3e4,6e4);function kp(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Da(n,e,t,i,o={}){return j0(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=eu({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:p,...l};return PS()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Na(n.emulatorConfig.host)&&(y.credentials="include"),F0.fetch()(await U0(n,n.config.apiHost,t,f),y)})}async function j0(n,e,t){n._canInitEmulator=!1;const i={...sA,...e};try{const o=new uA(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Ec(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Ec(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Ec(n,"user-disabled",c);const w=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Rp(n,w,y);di(n,w)}}catch(o){if(o instanceof Fi)throw o;di(n,"network-request-failed",{message:String(o)})}}async function lA(n,e,t,i,o={}){const l=await Da(n,e,t,i,o);return"mfaPendingCredential"in l&&di(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function U0(n,e,t,i){const o=`${e}${t}?${i}`,l=n,c=l.config.emulator?Cp(n.config,o):`${n.config.apiScheme}://${o}`;return oA.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class uA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i($r(this.auth,"network-request-failed")),aA.get())})}}function Ec(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=$r(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cA(n,e){return Da(n,"POST","/v1/accounts:delete",e)}async function Gc(n,e){return Da(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hA(n,e=!1){const t=Bn(n),i=await t.getIdToken(e),o=Pp(i);Ye(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:kl(Cf(o.auth_time)),issuedAtTime:kl(Cf(o.iat)),expirationTime:kl(Cf(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Cf(n){return Number(n)*1e3}function Pp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const o=S0(t);return o?JSON.parse(o):(Pc("Failed to decode base64 JWT payload"),null)}catch(o){return Pc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Sv(n){const e=Pp(n);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Fi&&dA(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function dA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(n){var S;const e=n.auth,t=await n.getIdToken(),i=await Ul(n,Gc(e,{idToken:t}));Ye(i==null?void 0:i.users.length,e,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=(S=o.providerUserInfo)!=null&&S.length?z0(o.providerUserInfo):[],c=mA(n.providerData,l),f=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),y=f?p:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Gf(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,w)}async function pA(n){const e=Bn(n);await Qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mA(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function z0(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA(n,e){const t=await j0(n,{},async()=>{const i=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await U0(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return n.emulatorConfig&&Na(n.emulatorConfig.host)&&(p.credentials="include"),F0.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yA(n,e){return Da(n,"POST","/v2/accounts:revokeToken",kp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ye(e.length!==0,"internal-error");const t=Sv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await gA(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new ha;return i&&(Ye(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ye(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Ye(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ha,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(n,e){Ye(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ur{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new fA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return Ye(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return hA(this,e)}reload(){return pA(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ur({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Qc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jr(this.auth.app))return Promise.reject(uo(this.auth));const e=await this.getIdToken();return await Ul(this,cA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,p=t._redirectEventId??void 0,y=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:S,emailVerified:A,isAnonymous:M,providerData:z,stsTokenManager:$}=t;Ye(S&&$,e,"internal-error");const L=ha.fromJSON(this.name,$);Ye(typeof S=="string",e,"internal-error"),hs(i,e.name),hs(o,e.name),Ye(typeof A=="boolean",e,"internal-error"),Ye(typeof M=="boolean",e,"internal-error"),hs(l,e.name),hs(c,e.name),hs(f,e.name),hs(p,e.name),hs(y,e.name),hs(w,e.name);const he=new Ur({uid:S,auth:e,email:o,emailVerified:A,displayName:i,isAnonymous:M,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:L,createdAt:y,lastLoginAt:w});return z&&Array.isArray(z)&&(he.providerData=z.map(Z=>({...Z}))),p&&(he._redirectEventId=p),he}static async _fromIdTokenResponse(e,t,i=!1){const o=new ha;o.updateFromServerResponse(t);const l=new Ur({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Qc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ye(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?z0(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new ha;f.updateFromIdToken(i);const p=new Ur({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Gf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=new Map;function Ni(n){Oi(n instanceof Function,"Expected a class definition");let e=Rv.get(n);return e?(Oi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Rv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}B0.type="NONE";const Av=B0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(n,e,t){return`firebase:${n}:${e}:${t}`}class da{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=xc(this.userKey,o.apiKey,l),this.fullPersistenceKey=xc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Gc(this.auth,{idToken:e}).catch(()=>{});return t?Ur._fromGetAccountInfoResponse(this.auth,t,e):null}return Ur._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new da(Ni(Av),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Ni(Av);const c=xc(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const w=await y._get(c);if(w){let S;if(typeof w=="string"){const A=await Gc(e,{idToken:w}).catch(()=>{});if(!A)break;S=await Ur._fromGetAccountInfoResponse(e,A,w)}else S=Ur._fromJSON(e,w);y!==l&&(f=S),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new da(l,e,i):(l=p[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new da(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(q0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(G0(e))return"Blackberry";if(Q0(e))return"Webos";if(W0(e))return"Safari";if((e.includes("chrome/")||H0(e))&&!e.includes("edge/"))return"Chrome";if(K0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function $0(n=Fn()){return/firefox\//i.test(n)}function W0(n=Fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function H0(n=Fn()){return/crios\//i.test(n)}function q0(n=Fn()){return/iemobile/i.test(n)}function K0(n=Fn()){return/android/i.test(n)}function G0(n=Fn()){return/blackberry/i.test(n)}function Q0(n=Fn()){return/webos/i.test(n)}function xp(n=Fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function vA(n=Fn()){var e;return xp(n)&&!!((e=window.navigator)!=null&&e.standalone)}function _A(){return bS()&&document.documentMode===10}function Y0(n=Fn()){return xp(n)||K0(n)||Q0(n)||G0(n)||/windows phone/i.test(n)||q0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(n,e=[]){let t;switch(n){case"Browser":t=Cv(Fn());break;case"Worker":t=`${Cv(Fn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ba}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const p=e(l);c(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(n,e={}){return Da(n,"GET","/v2/passwordPolicy",kp(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=6;class IA{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??TA,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kv(this),this.idTokenSubscription=new kv(this),this.beforeStateQueue=new wA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ni(t)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await da.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Gc(this,{idToken:e}),i=await Ur._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(jr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=i==null?void 0:i._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&(p!=null&&p.user)&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jr(this.app))return Promise.reject(uo(this));const t=e?Bn(e):null;return t&&Ye(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jr(this.app)?Promise.reject(uo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jr(this.app)?Promise.reject(uo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EA(this),t=new IA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await yA(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ni(e)||this._popupRedirectResolver;Ye(t,this,"argument-error"),this.redirectPersistenceManager=await da.create(this,[Ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=J0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&eA(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ih(n){return Bn(n)}class kv{constructor(e){this.auth=e,this.observer=null,this.addObserver=US(t=>this.observer=t)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RA(n){Np=n}function AA(n){return Np.loadJS(n)}function CA(){return Np.gapiScript}function kA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(n,e){const t=Sp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(po(l,e??{}))return o;di(o,"already-initialized")}return t.initialize({options:e})}function xA(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ni);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function NA(n,e,t){const i=Ih(n);Ye(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=X0(e),{host:c,port:f}=bA(e),p=f===null?"":`:${f}`,y={url:`${l}//${c}${p}/`},w=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ye(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ye(po(y,i.config.emulator)&&po(w,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=w,i.settings.appVerificationDisabledForTesting=!0,Na(c)?(k0(`${l}//${c}${p}`),P0("Auth",!0)):DA()}function X0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function bA(n){const e=X0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Pv(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Pv(c)}}}function Pv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function DA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,t){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(n,e){return lA(n,"POST","/v1/accounts:signInWithIdp",kp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="http://localhost";class go extends Z0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new go(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):di("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...l}=t;if(!i||!o)return null;const c=new go(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return fa(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,fa(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fa(e,t)}buildRequest(){const e={requestUri:MA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=eu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends bp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends nu{constructor(){super("facebook.com")}static credential(e){return go._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return go._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Pi.credential(t,i)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends nu{constructor(){super("github.com")}static credential(e){return go._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends nu{constructor(){super("twitter.com")}static credential(e,t){return go._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ms.credential(t,i)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Ur._fromIdTokenResponse(e,i,o),c=xv(i);return new _a({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=xv(i);return new _a({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function xv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends Fi{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Yc(e,t,i,o)}}function ew(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(n,l,e,i):l})}async function OA(n,e,t=!1){const i=await Ul(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return _a._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LA(n,e,t=!1){const{auth:i}=n;if(jr(i.app))return Promise.reject(uo(i));const o="reauthenticate";try{const l=await Ul(n,ew(i,o,e,n),t);Ye(l.idToken,i,"internal-error");const c=Pp(l.idToken);Ye(c,i,"internal-error");const{sub:f}=c;return Ye(n.uid===f,i,"user-mismatch"),_a._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&di(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(n,e,t=!1){if(jr(n.app))return Promise.reject(uo(n));const i="signIn",o=await ew(n,i,e),l=await _a._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}function FA(n,e,t,i){return Bn(n).onIdTokenChanged(e,t,i)}function jA(n,e,t){return Bn(n).beforeAuthStateChanged(e,t)}function UA(n,e,t,i){return Bn(n).onAuthStateChanged(e,t,i)}function tw(n){return Bn(n).signOut()}const Jc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=1e3,BA=10;class rw extends nw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);_A()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,BA):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},zA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}rw.type="LOCAL";const $A=rw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw extends nw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}iw.type="SESSION";const sw=iw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Sh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(c).map(async y=>y(t.origin,l)),p=await WA(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((f,p)=>{const y=Dp("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(S){const A=S;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(A.data.response);break;default:clearTimeout(w),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function qA(n){ai().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function KA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GA(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function QA(){return ow()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="firebaseLocalStorageDb",YA=1,Xc="firebaseLocalStorage",lw="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rh(n,e){return n.transaction([Xc],e?"readwrite":"readonly").objectStore(Xc)}function JA(){const n=indexedDB.deleteDatabase(aw);return new ru(n).toPromise()}function Qf(){const n=indexedDB.open(aw,YA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Xc,{keyPath:lw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Xc)?e(i):(i.close(),await JA(),e(await Qf()))})})}async function Nv(n,e,t){const i=Rh(n,!0).put({[lw]:e,value:t});return new ru(i).toPromise()}async function XA(n,e){const t=Rh(n,!1).get(e),i=await new ru(t).toPromise();return i===void 0?null:i.value}function bv(n,e){const t=Rh(n,!0).delete(e);return new ru(t).toPromise()}const ZA=800,eC=3;class uw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>eC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ow()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sh._getInstance(QA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await KA(),!this.activeServiceWorker)return;this.sender=new HA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qf();return await Nv(e,Jc,"1"),await bv(e,Jc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Nv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>XA(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>bv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Rh(o,!1).getAll();return new ru(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uw.type="LOCAL";const tC=uw;new tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n,e){return e?Ni(e):(Ye(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends Z0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nC(n){return VA(n.auth,new Mp(n),n.bypassAuthState)}function rC(n){const{auth:e,user:t}=n;return Ye(t,e,"internal-error"),LA(t,new Mp(n),n.bypassAuthState)}async function iC(n){const{auth:e,user:t}=n;return Ye(t,e,"internal-error"),OA(t,new Mp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nC;case"linkViaPopup":case"linkViaRedirect":return iC;case"reauthViaPopup":case"reauthViaRedirect":return rC;default:di(this.auth,"internal-error")}}resolve(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=new tu(2e3,1e4);async function oC(n,e,t){if(jr(n.app))return Promise.reject($r(n,"operation-not-supported-in-this-environment"));const i=Ih(n);tA(n,e,bp);const o=cw(i,t);return new ao(i,"signInViaPopup",e,o).executeNotNull()}class ao extends hw{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ye(e,this.auth,"internal-error"),e}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const e=Dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sC.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="pendingRedirect",Nc=new Map;class lC extends hw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Nc.get(this.auth._key());if(!e){try{const i=await uC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Nc.set(this.auth._key(),e)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uC(n,e){const t=dC(e),i=hC(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function cC(n,e){Nc.set(n._key(),e)}function hC(n){return Ni(n._redirectPersistence)}function dC(n){return xc(aC,n.config.apiKey,n.name)}async function fC(n,e,t=!1){if(jr(n.app))return Promise.reject(uo(n));const i=Ih(n),o=cw(i,e),c=await new lC(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=600*1e3;class mC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!dw(e)){const o=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError($r(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dv(e))}saveEventToCache(e){this.cachedEventUids.add(Dv(e)),this.lastProcessedEventTime=Date.now()}}function Dv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function dw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(n,e={}){return Da(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_C=/^https?/;async function wC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await yC(n);for(const t of e)try{if(EC(t))return}catch{}di(n,"unauthorized-domain")}function EC(n){const e=Kf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!_C.test(t))return!1;if(vC.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new tu(3e4,6e4);function Mv(){const n=ai().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function IC(n){return new Promise((e,t)=>{var o,l,c;function i(){Mv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mv(),t($r(n,"network-request-failed"))},timeout:TC.get()})}if((l=(o=ai().gapi)==null?void 0:o.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=ai().gapi)!=null&&c.load)i();else{const f=kA("iframefcb");return ai()[f]=()=>{gapi.load?i():t($r(n,"network-request-failed"))},AA(`${CA()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw bc=null,e})}let bc=null;function SC(n){return bc=bc||IC(n),bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new tu(5e3,15e3),AC="__/auth/iframe",CC="emulator/auth/iframe",kC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xC(n){const e=n.config;Ye(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Cp(e,CC):`https://${n.config.authDomain}/${AC}`,i={apiKey:e.apiKey,appName:n.name,v:ba},o=PC.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${eu(i).slice(1)}`}async function NC(n){const e=await SC(n),t=ai().gapi;return Ye(t,n,"internal-error"),e.open({where:document.body,url:xC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kC,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=$r(n,"network-request-failed"),f=ai().setTimeout(()=>{l(c)},RC.get());function p(){ai().clearTimeout(f),o(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DC=500,MC=600,OC="_blank",LC="http://localhost";class Ov{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VC(n,e,t,i=DC,o=MC){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p={...bC,width:i.toString(),height:o.toString(),top:l,left:c},y=Fn().toLowerCase();t&&(f=H0(y)?OC:t),$0(y)&&(e=e||LC,p.scrollbars="yes");const w=Object.entries(p).reduce((A,[M,z])=>`${A}${M}=${z},`,"");if(vA(y)&&f!=="_self")return FC(e||"",f),new Ov(null);const S=window.open(e||"",f,w);Ye(S,n,"popup-blocked");try{S.focus()}catch{}return new Ov(S)}function FC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="__/auth/handler",UC="emulator/auth/handler",zC=encodeURIComponent("fac");async function Lv(n,e,t,i,o,l){Ye(n.config.authDomain,n,"auth-domain-config-required"),Ye(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ba,eventId:o};if(e instanceof bp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",jS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,S]of Object.entries({}))c[w]=S}if(e instanceof nu){const w=e.getScopes().filter(S=>S!=="");w.length>0&&(c.scopes=w.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const p=await n._getAppCheckToken(),y=p?`#${zC}=${encodeURIComponent(p)}`:"";return`${BC(n)}?${eu(f).slice(1)}${y}`}function BC({config:n}){return n.emulator?Cp(n,UC):`https://${n.authDomain}/${jC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="webStorageSupport";class $C{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sw,this._completeRedirectFn=fC,this._overrideRedirectResult=cC}async _openPopup(e,t,i,o){var c;Oi((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await Lv(e,t,i,Kf(),o);return VC(e,l,Dp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await Lv(e,t,i,Kf(),o);return qA(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Oi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await NC(e),i=new mC(e);return t.register("authEvent",o=>(Ye(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kf,{type:kf},o=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c[kf];l!==void 0&&t(!!l),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Y0()||W0()||xp()}}const WC=$C;var Vv="@firebase/auth",Fv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KC(n){va(new mo("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Ye(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:J0(n)},y=new SA(i,o,l,p);return xA(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),va(new mo("auth-internal",e=>{const t=Ih(e.getProvider("auth").getImmediate());return(i=>new HC(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(Vv,Fv,qC(n)),Ts(Vv,Fv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=300,QC=C0("authIdTokenMaxAge")||GC;let jv=null;const YC=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>QC)return;const o=t==null?void 0:t.token;jv!==o&&(jv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function JC(n=D0()){const e=Sp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=PA(n,{popupRedirectResolver:WC,persistence:[tC,$A,sw]}),i=C0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=YC(l.toString());jA(t,c,()=>c(t.currentUser)),FA(t,f=>c(f))}}const o=R0("auth");return o&&NA(t,`http://${o}`),t}function XC(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}RA({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=$r("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",XC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KC("Browser");var Uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,fw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,_){function E(){}E.prototype=_.prototype,R.D=_.prototype,R.prototype=new E,R.prototype.constructor=R,R.C=function(C,N,b){for(var x=Array(arguments.length-2),je=2;je<arguments.length;je++)x[je-2]=arguments[je];return _.prototype[N].apply(C,x)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,_,E){E||(E=0);var C=Array(16);if(typeof _=="string")for(var N=0;16>N;++N)C[N]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(N=0;16>N;++N)C[N]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=R.g[0],E=R.g[1],N=R.g[2];var b=R.g[3],x=_+(b^E&(N^b))+C[0]+3614090360&4294967295;_=E+(x<<7&4294967295|x>>>25),x=b+(N^_&(E^N))+C[1]+3905402710&4294967295,b=_+(x<<12&4294967295|x>>>20),x=N+(E^b&(_^E))+C[2]+606105819&4294967295,N=b+(x<<17&4294967295|x>>>15),x=E+(_^N&(b^_))+C[3]+3250441966&4294967295,E=N+(x<<22&4294967295|x>>>10),x=_+(b^E&(N^b))+C[4]+4118548399&4294967295,_=E+(x<<7&4294967295|x>>>25),x=b+(N^_&(E^N))+C[5]+1200080426&4294967295,b=_+(x<<12&4294967295|x>>>20),x=N+(E^b&(_^E))+C[6]+2821735955&4294967295,N=b+(x<<17&4294967295|x>>>15),x=E+(_^N&(b^_))+C[7]+4249261313&4294967295,E=N+(x<<22&4294967295|x>>>10),x=_+(b^E&(N^b))+C[8]+1770035416&4294967295,_=E+(x<<7&4294967295|x>>>25),x=b+(N^_&(E^N))+C[9]+2336552879&4294967295,b=_+(x<<12&4294967295|x>>>20),x=N+(E^b&(_^E))+C[10]+4294925233&4294967295,N=b+(x<<17&4294967295|x>>>15),x=E+(_^N&(b^_))+C[11]+2304563134&4294967295,E=N+(x<<22&4294967295|x>>>10),x=_+(b^E&(N^b))+C[12]+1804603682&4294967295,_=E+(x<<7&4294967295|x>>>25),x=b+(N^_&(E^N))+C[13]+4254626195&4294967295,b=_+(x<<12&4294967295|x>>>20),x=N+(E^b&(_^E))+C[14]+2792965006&4294967295,N=b+(x<<17&4294967295|x>>>15),x=E+(_^N&(b^_))+C[15]+1236535329&4294967295,E=N+(x<<22&4294967295|x>>>10),x=_+(N^b&(E^N))+C[1]+4129170786&4294967295,_=E+(x<<5&4294967295|x>>>27),x=b+(E^N&(_^E))+C[6]+3225465664&4294967295,b=_+(x<<9&4294967295|x>>>23),x=N+(_^E&(b^_))+C[11]+643717713&4294967295,N=b+(x<<14&4294967295|x>>>18),x=E+(b^_&(N^b))+C[0]+3921069994&4294967295,E=N+(x<<20&4294967295|x>>>12),x=_+(N^b&(E^N))+C[5]+3593408605&4294967295,_=E+(x<<5&4294967295|x>>>27),x=b+(E^N&(_^E))+C[10]+38016083&4294967295,b=_+(x<<9&4294967295|x>>>23),x=N+(_^E&(b^_))+C[15]+3634488961&4294967295,N=b+(x<<14&4294967295|x>>>18),x=E+(b^_&(N^b))+C[4]+3889429448&4294967295,E=N+(x<<20&4294967295|x>>>12),x=_+(N^b&(E^N))+C[9]+568446438&4294967295,_=E+(x<<5&4294967295|x>>>27),x=b+(E^N&(_^E))+C[14]+3275163606&4294967295,b=_+(x<<9&4294967295|x>>>23),x=N+(_^E&(b^_))+C[3]+4107603335&4294967295,N=b+(x<<14&4294967295|x>>>18),x=E+(b^_&(N^b))+C[8]+1163531501&4294967295,E=N+(x<<20&4294967295|x>>>12),x=_+(N^b&(E^N))+C[13]+2850285829&4294967295,_=E+(x<<5&4294967295|x>>>27),x=b+(E^N&(_^E))+C[2]+4243563512&4294967295,b=_+(x<<9&4294967295|x>>>23),x=N+(_^E&(b^_))+C[7]+1735328473&4294967295,N=b+(x<<14&4294967295|x>>>18),x=E+(b^_&(N^b))+C[12]+2368359562&4294967295,E=N+(x<<20&4294967295|x>>>12),x=_+(E^N^b)+C[5]+4294588738&4294967295,_=E+(x<<4&4294967295|x>>>28),x=b+(_^E^N)+C[8]+2272392833&4294967295,b=_+(x<<11&4294967295|x>>>21),x=N+(b^_^E)+C[11]+1839030562&4294967295,N=b+(x<<16&4294967295|x>>>16),x=E+(N^b^_)+C[14]+4259657740&4294967295,E=N+(x<<23&4294967295|x>>>9),x=_+(E^N^b)+C[1]+2763975236&4294967295,_=E+(x<<4&4294967295|x>>>28),x=b+(_^E^N)+C[4]+1272893353&4294967295,b=_+(x<<11&4294967295|x>>>21),x=N+(b^_^E)+C[7]+4139469664&4294967295,N=b+(x<<16&4294967295|x>>>16),x=E+(N^b^_)+C[10]+3200236656&4294967295,E=N+(x<<23&4294967295|x>>>9),x=_+(E^N^b)+C[13]+681279174&4294967295,_=E+(x<<4&4294967295|x>>>28),x=b+(_^E^N)+C[0]+3936430074&4294967295,b=_+(x<<11&4294967295|x>>>21),x=N+(b^_^E)+C[3]+3572445317&4294967295,N=b+(x<<16&4294967295|x>>>16),x=E+(N^b^_)+C[6]+76029189&4294967295,E=N+(x<<23&4294967295|x>>>9),x=_+(E^N^b)+C[9]+3654602809&4294967295,_=E+(x<<4&4294967295|x>>>28),x=b+(_^E^N)+C[12]+3873151461&4294967295,b=_+(x<<11&4294967295|x>>>21),x=N+(b^_^E)+C[15]+530742520&4294967295,N=b+(x<<16&4294967295|x>>>16),x=E+(N^b^_)+C[2]+3299628645&4294967295,E=N+(x<<23&4294967295|x>>>9),x=_+(N^(E|~b))+C[0]+4096336452&4294967295,_=E+(x<<6&4294967295|x>>>26),x=b+(E^(_|~N))+C[7]+1126891415&4294967295,b=_+(x<<10&4294967295|x>>>22),x=N+(_^(b|~E))+C[14]+2878612391&4294967295,N=b+(x<<15&4294967295|x>>>17),x=E+(b^(N|~_))+C[5]+4237533241&4294967295,E=N+(x<<21&4294967295|x>>>11),x=_+(N^(E|~b))+C[12]+1700485571&4294967295,_=E+(x<<6&4294967295|x>>>26),x=b+(E^(_|~N))+C[3]+2399980690&4294967295,b=_+(x<<10&4294967295|x>>>22),x=N+(_^(b|~E))+C[10]+4293915773&4294967295,N=b+(x<<15&4294967295|x>>>17),x=E+(b^(N|~_))+C[1]+2240044497&4294967295,E=N+(x<<21&4294967295|x>>>11),x=_+(N^(E|~b))+C[8]+1873313359&4294967295,_=E+(x<<6&4294967295|x>>>26),x=b+(E^(_|~N))+C[15]+4264355552&4294967295,b=_+(x<<10&4294967295|x>>>22),x=N+(_^(b|~E))+C[6]+2734768916&4294967295,N=b+(x<<15&4294967295|x>>>17),x=E+(b^(N|~_))+C[13]+1309151649&4294967295,E=N+(x<<21&4294967295|x>>>11),x=_+(N^(E|~b))+C[4]+4149444226&4294967295,_=E+(x<<6&4294967295|x>>>26),x=b+(E^(_|~N))+C[11]+3174756917&4294967295,b=_+(x<<10&4294967295|x>>>22),x=N+(_^(b|~E))+C[2]+718787259&4294967295,N=b+(x<<15&4294967295|x>>>17),x=E+(b^(N|~_))+C[9]+3951481745&4294967295,R.g[0]=R.g[0]+_&4294967295,R.g[1]=R.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+b&4294967295}i.prototype.u=function(R,_){_===void 0&&(_=R.length);for(var E=_-this.blockSize,C=this.B,N=this.h,b=0;b<_;){if(N==0)for(;b<=E;)o(this,R,b),b+=this.blockSize;if(typeof R=="string"){for(;b<_;)if(C[N++]=R.charCodeAt(b++),N==this.blockSize){o(this,C),N=0;break}}else for(;b<_;)if(C[N++]=R[b++],N==this.blockSize){o(this,C),N=0;break}}this.h=N,this.o+=_},i.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var _=1;_<R.length-8;++_)R[_]=0;var E=8*this.o;for(_=R.length-8;_<R.length;++_)R[_]=E&255,E/=256;for(this.u(R),R=Array(16),_=E=0;4>_;++_)for(var C=0;32>C;C+=8)R[E++]=this.g[_]>>>C&255;return R};function l(R,_){var E=f;return Object.prototype.hasOwnProperty.call(E,R)?E[R]:E[R]=_(R)}function c(R,_){this.h=_;for(var E=[],C=!0,N=R.length-1;0<=N;N--){var b=R[N]|0;C&&b==_||(E[N]=b,C=!1)}this.g=E}var f={};function p(R){return-128<=R&&128>R?l(R,function(_){return new c([_|0],0>_?-1:0)}):new c([R|0],0>R?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return S;if(0>R)return L(y(-R));for(var _=[],E=1,C=0;R>=E;C++)_[C]=R/E|0,E*=4294967296;return new c(_,0)}function w(R,_){if(R.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(R.charAt(0)=="-")return L(w(R.substring(1),_));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=y(Math.pow(_,8)),C=S,N=0;N<R.length;N+=8){var b=Math.min(8,R.length-N),x=parseInt(R.substring(N,N+b),_);8>b?(b=y(Math.pow(_,b)),C=C.j(b).add(y(x))):(C=C.j(E),C=C.add(y(x)))}return C}var S=p(0),A=p(1),M=p(16777216);n=c.prototype,n.m=function(){if($(this))return-L(this).m();for(var R=0,_=1,E=0;E<this.g.length;E++){var C=this.i(E);R+=(0<=C?C:4294967296+C)*_,_*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(z(this))return"0";if($(this))return"-"+L(this).toString(R);for(var _=y(Math.pow(R,6)),E=this,C="";;){var N=_e(E,_).g;E=he(E,N.j(_));var b=((0<E.g.length?E.g[0]:E.h)>>>0).toString(R);if(E=N,z(E))return b+C;for(;6>b.length;)b="0"+b;C=b+C}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function z(R){if(R.h!=0)return!1;for(var _=0;_<R.g.length;_++)if(R.g[_]!=0)return!1;return!0}function $(R){return R.h==-1}n.l=function(R){return R=he(this,R),$(R)?-1:z(R)?0:1};function L(R){for(var _=R.g.length,E=[],C=0;C<_;C++)E[C]=~R.g[C];return new c(E,~R.h).add(A)}n.abs=function(){return $(this)?L(this):this},n.add=function(R){for(var _=Math.max(this.g.length,R.g.length),E=[],C=0,N=0;N<=_;N++){var b=C+(this.i(N)&65535)+(R.i(N)&65535),x=(b>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);C=x>>>16,b&=65535,x&=65535,E[N]=x<<16|b}return new c(E,E[E.length-1]&-2147483648?-1:0)};function he(R,_){return R.add(L(_))}n.j=function(R){if(z(this)||z(R))return S;if($(this))return $(R)?L(this).j(L(R)):L(L(this).j(R));if($(R))return L(this.j(L(R)));if(0>this.l(M)&&0>R.l(M))return y(this.m()*R.m());for(var _=this.g.length+R.g.length,E=[],C=0;C<2*_;C++)E[C]=0;for(C=0;C<this.g.length;C++)for(var N=0;N<R.g.length;N++){var b=this.i(C)>>>16,x=this.i(C)&65535,je=R.i(N)>>>16,tt=R.i(N)&65535;E[2*C+2*N]+=x*tt,Z(E,2*C+2*N),E[2*C+2*N+1]+=b*tt,Z(E,2*C+2*N+1),E[2*C+2*N+1]+=x*je,Z(E,2*C+2*N+1),E[2*C+2*N+2]+=b*je,Z(E,2*C+2*N+2)}for(C=0;C<_;C++)E[C]=E[2*C+1]<<16|E[2*C];for(C=_;C<2*_;C++)E[C]=0;return new c(E,0)};function Z(R,_){for(;(R[_]&65535)!=R[_];)R[_+1]+=R[_]>>>16,R[_]&=65535,_++}function fe(R,_){this.g=R,this.h=_}function _e(R,_){if(z(_))throw Error("division by zero");if(z(R))return new fe(S,S);if($(R))return _=_e(L(R),_),new fe(L(_.g),L(_.h));if($(_))return _=_e(R,L(_)),new fe(L(_.g),_.h);if(30<R.g.length){if($(R)||$(_))throw Error("slowDivide_ only works with positive integers.");for(var E=A,C=_;0>=C.l(R);)E=Fe(E),C=Fe(C);var N=Oe(E,1),b=Oe(C,1);for(C=Oe(C,2),E=Oe(E,2);!z(C);){var x=b.add(C);0>=x.l(R)&&(N=N.add(E),b=x),C=Oe(C,1),E=Oe(E,1)}return _=he(R,N.j(_)),new fe(N,_)}for(N=S;0<=R.l(_);){for(E=Math.max(1,Math.floor(R.m()/_.m())),C=Math.ceil(Math.log(E)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),b=y(E),x=b.j(_);$(x)||0<x.l(R);)E-=C,b=y(E),x=b.j(_);z(b)&&(b=A),N=N.add(b),R=he(R,x)}return new fe(N,R)}n.A=function(R){return _e(this,R).h},n.and=function(R){for(var _=Math.max(this.g.length,R.g.length),E=[],C=0;C<_;C++)E[C]=this.i(C)&R.i(C);return new c(E,this.h&R.h)},n.or=function(R){for(var _=Math.max(this.g.length,R.g.length),E=[],C=0;C<_;C++)E[C]=this.i(C)|R.i(C);return new c(E,this.h|R.h)},n.xor=function(R){for(var _=Math.max(this.g.length,R.g.length),E=[],C=0;C<_;C++)E[C]=this.i(C)^R.i(C);return new c(E,this.h^R.h)};function Fe(R){for(var _=R.g.length+1,E=[],C=0;C<_;C++)E[C]=R.i(C)<<1|R.i(C-1)>>>31;return new c(E,R.h)}function Oe(R,_){var E=_>>5;_%=32;for(var C=R.g.length-E,N=[],b=0;b<C;b++)N[b]=0<_?R.i(b+E)>>>_|R.i(b+E+1)<<32-_:R.i(b+E);return new c(N,R.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,fw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=w,Is=c}).apply(typeof Uv<"u"?Uv:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pw,El,mw,Dc,Yf,gw,yw,vw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var k=0;k<u.length-1;k++){var W=u[k];if(!(W in v))break e;v=v[W]}u=u[u.length-1],k=v[u],m=m(k),m!=k&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,k=!1,W={next:function(){if(!k&&v<u.length){var Y=v++;return{value:m(Y,u[Y]),done:!1}}return k=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,v){return u.call.apply(u.bind,arguments)}function S(u,m,v){if(!u)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,k),u.apply(m,W)}}return function(){return u.apply(m,arguments)}}function A(u,m,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:S,A.apply(null,arguments)}function M(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var k=v.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function z(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(k,W,Y){for(var ge=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)ge[kt-2]=arguments[kt];return m.prototype[W].apply(k,ge)}}function $(u){const m=u.length;if(0<m){const v=Array(m);for(let k=0;k<m;k++)v[k]=u[k];return v}return[]}function L(u,m){for(let v=1;v<arguments.length;v++){const k=arguments[v];if(p(k)){const W=u.length||0,Y=k.length||0;u.length=W+Y;for(let ge=0;ge<Y;ge++)u[W+ge]=k[ge]}else u.push(k)}}class he{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){return/^[\s\xa0]*$/.test(u)}function fe(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function _e(u){return _e[" "](u),u}_e[" "]=function(){};var Fe=fe().indexOf("Gecko")!=-1&&!(fe().toLowerCase().indexOf("webkit")!=-1&&fe().indexOf("Edge")==-1)&&!(fe().indexOf("Trident")!=-1||fe().indexOf("MSIE")!=-1)&&fe().indexOf("Edge")==-1;function Oe(u,m,v){for(const k in u)m.call(v,u[k],k,u)}function R(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function _(u){const m={};for(const v in u)m[v]=u[v];return m}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,m){let v,k;for(let W=1;W<arguments.length;W++){k=arguments[W];for(v in k)u[v]=k[v];for(let Y=0;Y<E.length;Y++)v=E[Y],Object.prototype.hasOwnProperty.call(k,v)&&(u[v]=k[v])}}function N(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function b(u){f.setTimeout(()=>{throw u},0)}function x(){var u=se;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class je{constructor(){this.h=this.g=null}add(m,v){const k=tt.get();k.set(m,v),this.h?this.h.next=k:this.g=k,this.h=k}}var tt=new he(()=>new at,u=>u.reset());class at{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let we,X=!1,se=new je,O=()=>{const u=f.Promise.resolve(void 0);we=()=>{u.then(T)}};var T=()=>{for(var u;u=x();){try{u.h.call(u.g)}catch(v){b(v)}var m=tt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}X=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var oe=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u})();function ne(u,m){if(H.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Fe){e:{try{_e(m.nodeName);var W=!0;break e}catch{}W=!1}W||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ce[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ne.aa.h.call(this)}}z(ne,H);var ce={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),re=0;function me(u,m,v,k,W){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!k,this.ha=W,this.key=++re,this.da=this.fa=!1}function Pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ve(u){this.src=u,this.g={},this.h=0}ve.prototype.add=function(u,m,v,k,W){var Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);var ge=ze(u,m,k,W);return-1<ge?(m=u[ge],v||(m.fa=!1)):(m=new me(m,this.src,Y,!!k,W),m.fa=v,u.push(m)),m};function Ee(u,m){var v=m.type;if(v in u.g){var k=u.g[v],W=Array.prototype.indexOf.call(k,m,void 0),Y;(Y=0<=W)&&Array.prototype.splice.call(k,W,1),Y&&(Pe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ze(u,m,v,k){for(var W=0;W<u.length;++W){var Y=u[W];if(!Y.da&&Y.listener==m&&Y.capture==!!v&&Y.ha==k)return W}return-1}var Ie="closure_lm_"+(1e6*Math.random()|0),Be={};function Me(u,m,v,k,W){if(Array.isArray(m)){for(var Y=0;Y<m.length;Y++)Me(u,m[Y],v,k,W);return null}return v=Vt(v),u&&u[ue]?u.K(m,v,y(k)?!!k.capture:!1,W):ht(u,m,v,!1,k,W)}function ht(u,m,v,k,W,Y){if(!m)throw Error("Invalid event type");var ge=y(W)?!!W.capture:!!W,kt=kn(u);if(kt||(u[Ie]=kt=new ve(u)),v=kt.add(m,v,k,ge,Y),v.proxy)return v;if(k=Ge(),v.proxy=k,k.src=u,k.listener=v,u.addEventListener)oe||(W=ge),W===void 0&&(W=!1),u.addEventListener(m.toString(),k,W);else if(u.attachEvent)u.attachEvent(Zt(m.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ge(){function u(v){return m.call(u.src,u.listener,v)}const m=en;return u}function nt(u,m,v,k,W){if(Array.isArray(m))for(var Y=0;Y<m.length;Y++)nt(u,m[Y],v,k,W);else k=y(k)?!!k.capture:!!k,v=Vt(v),u&&u[ue]?(u=u.i,m=String(m).toString(),m in u.g&&(Y=u.g[m],v=ze(Y,v,k,W),-1<v&&(Pe(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete u.g[m],u.h--)))):u&&(u=kn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ze(m,v,k,W)),(v=-1<u?m[u]:null)&&rt(v))}function rt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ue])Ee(m.i,u);else{var v=u.type,k=u.proxy;m.removeEventListener?m.removeEventListener(v,k,u.capture):m.detachEvent?m.detachEvent(Zt(v),k):m.addListener&&m.removeListener&&m.removeListener(k),(v=kn(m))?(Ee(v,u),v.h==0&&(v.src=null,m[Ie]=null)):Pe(u)}}}function Zt(u){return u in Be?Be[u]:Be[u]="on"+u}function en(u,m){if(u.da)u=!0;else{m=new ne(m,this);var v=u.listener,k=u.ha||u.src;u.fa&&rt(u),u=v.call(k,m)}return u}function kn(u){return u=u[Ie],u instanceof ve?u:null}var yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vt(u){return typeof u=="function"?u:(u[yt]||(u[yt]=function(m){return u.handleEvent(m)}),u[yt])}function Ze(){F.call(this),this.i=new ve(this),this.M=this,this.F=null}z(Ze,F),Ze.prototype[ue]=!0,Ze.prototype.removeEventListener=function(u,m,v,k){nt(this,u,m,v,k)};function it(u,m){var v,k=u.F;if(k)for(v=[];k;k=k.F)v.push(k);if(u=u.M,k=m.type||m,typeof m=="string")m=new H(m,u);else if(m instanceof H)m.target=m.target||u;else{var W=m;m=new H(k,u),C(m,W)}if(W=!0,v)for(var Y=v.length-1;0<=Y;Y--){var ge=m.g=v[Y];W=St(ge,k,!0,m)&&W}if(ge=m.g=u,W=St(ge,k,!0,m)&&W,W=St(ge,k,!1,m)&&W,v)for(Y=0;Y<v.length;Y++)ge=m.g=v[Y],W=St(ge,k,!1,m)&&W}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],k=0;k<v.length;k++)Pe(v[k]);delete u.g[m],u.h--}}this.F=null},Ze.prototype.K=function(u,m,v,k){return this.i.add(String(u),m,!1,v,k)},Ze.prototype.L=function(u,m,v,k){return this.i.add(String(u),m,!0,v,k)};function St(u,m,v,k){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var W=!0,Y=0;Y<m.length;++Y){var ge=m[Y];if(ge&&!ge.da&&ge.capture==v){var kt=ge.listener,un=ge.ha||ge.src;ge.fa&&Ee(u.i,ge),W=kt.call(un,k)!==!1&&W}}return W&&!k.defaultPrevented}function qt(u,m,v){if(typeof u=="function")v&&(u=A(u,v));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function _n(u){u.g=qt(()=>{u.g=null,u.i&&(u.i=!1,_n(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class zt extends F{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_n(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kt(u){F.call(this),this.h=u,this.g={}}z(Kt,F);var Gt=[];function Rr(u){Oe(u.g,function(m,v){this.g.hasOwnProperty(v)&&rt(m)},u),u.g={}}Kt.prototype.N=function(){Kt.aa.N.call(this),Rr(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ji=f.JSON.stringify,Ui=f.JSON.parse,Os=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Hr(){}Hr.prototype.h=null;function Ar(u){return u.h||(u.h=u.i())}function pi(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $n(){H.call(this,"d")}z($n,H);function zi(){H.call(this,"c")}z(zi,H);var nr={},Ls=null;function qr(){return Ls=Ls||new Ze}nr.La="serverreachability";function Kr(u){H.call(this,nr.La,u)}z(Kr,H);function Wn(u){const m=qr();it(m,new Kr(m))}nr.STAT_EVENT="statevent";function Vs(u,m){H.call(this,nr.STAT_EVENT,u),this.stat=m}z(Vs,H);function Bt(u){const m=qr();it(m,new Vs(m,u))}nr.Ma="timingevent";function V(u,m){H.call(this,nr.Ma,u),this.size=m}z(V,H);function B(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function G(){this.g=!0}G.prototype.xa=function(){this.g=!1};function ie(u,m,v,k,W,Y){u.info(function(){if(u.g)if(Y)for(var ge="",kt=Y.split("&"),un=0;un<kt.length;un++){var vt=kt[un].split("=");if(1<vt.length){var pn=vt[0];vt=vt[1];var nn=pn.split("_");ge=2<=nn.length&&nn[1]=="type"?ge+(pn+"="+vt+"&"):ge+(pn+"=redacted&")}}else ge=null;else ge=Y;return"XMLHTTP REQ ("+k+") [attempt "+W+"]: "+m+`
`+v+`
`+ge})}function ye(u,m,v,k,W,Y,ge){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+W+"]: "+m+`
`+v+`
`+Y+" "+ge})}function xe(u,m,v,k){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ne(u,v)+(k?" "+k:"")})}function $e(u,m){u.info(function(){return"TIMEOUT: "+m})}G.prototype.info=function(){};function Ne(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var k=v[u];if(!(2>k.length)){var W=k[1];if(Array.isArray(W)&&!(1>W.length)){var Y=W[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ge=1;ge<W.length;ge++)W[ge]=""}}}}return ji(v)}catch{return m}}var ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Se={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Re;function qe(){}z(qe,Hr),qe.prototype.g=function(){return new XMLHttpRequest},qe.prototype.i=function(){return{}},Re=new qe;function Je(u,m,v,k){this.j=u,this.i=m,this.l=v,this.R=k||1,this.U=new Kt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qt}function Qt(){this.i=null,this.g="",this.h=!1}var Tt={},st={};function Ct(u,m,v){u.L=1,u.v=qi(sr(m)),u.m=v,u.P=!0,dr(u,null)}function dr(u,m){u.F=Date.now(),lt(u),u.A=sr(u.v);var v=u.A,k=u.R;Array.isArray(k)||(k=[String(k)]),Gi(v.i,"t",k),u.C=0,v=u.j.J,u.h=new Qt,u.g=Iu(u.j,v?m:null,!u.m),0<u.O&&(u.M=new zt(A(u.Y,u,u.g),u.O)),m=u.U,v=u.g,k=u.ca;var W="readystatechange";Array.isArray(W)||(W&&(Gt[0]=W.toString()),W=Gt);for(var Y=0;Y<W.length;Y++){var ge=Me(v,W[Y],k||m.handleEvent,!1,m.h||m);if(!ge)break;m.g[ge.key]=ge}m=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Wn(),ie(u.i,u.u,u.A,u.l,u.R,u.m)}Je.prototype.ca=function(u){u=u.target;const m=this.M;m&&qn(u)==3?m.j():this.Y(u)},Je.prototype.Y=function(u){try{if(u==this.g)e:{const nn=qn(this.g);var m=this.g.Ba();const mr=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||Ba(this.g)))){this.J||nn!=4||m==7||(m==8||0>=mr?Wn(3):Wn(2)),ir(this);var v=this.g.Z();this.X=v;t:if(Gr(this)){var k=Ba(this.g);u="";var W=k.length,Y=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),xn(this);var ge="";break t}this.h.i=new f.TextDecoder}for(m=0;m<W;m++)this.h.h=!0,u+=this.h.i.decode(k[m],{stream:!(Y&&m==W-1)});k.length=0,this.h.g+=u,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=v==200,ye(this.i,this.u,this.A,this.l,this.R,nn,v),this.o){if(this.T&&!this.K){t:{if(this.g){var kt,un=this.g;if((kt=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(kt)){var vt=kt;break t}}vt=null}if(v=vt)xe(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qr(this,v);else{this.o=!1,this.s=3,Bt(12),wn(this),xn(this);break e}}if(this.P){v=!0;let ar;for(;!this.J&&this.C<ge.length;)if(ar=rr(this,ge),ar==st){nn==4&&(this.s=4,Bt(14),v=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}else if(ar==Tt){this.s=4,Bt(15),xe(this.i,this.l,ge,"[Invalid Chunk]"),v=!1;break}else xe(this.i,this.l,ar,null),Qr(this,ar);if(Gr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||ge.length!=0||this.h.h||(this.s=1,Bt(16),v=!1),this.o=this.o&&v,!v)xe(this.i,this.l,ge,"[Invalid Chunked Response]"),wn(this),xn(this);else if(0<ge.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Wa(pn),pn.M=!0,Bt(11))}}else xe(this.i,this.l,ge,null),Qr(this,ge);nn==4&&wn(this),this.o&&!this.J&&(nn==4?Lo(this.j,this):(this.o=!1,lt(this)))}else No(this.g),v==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),wn(this),xn(this)}}}catch{}finally{}};function Gr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function rr(u,m){var v=u.C,k=m.indexOf(`
`,v);return k==-1?st:(v=Number(m.substring(v,k)),isNaN(v)?Tt:(k+=1,k+v>m.length?st:(m=m.slice(k,k+v),u.C=k+v,m)))}Je.prototype.cancel=function(){this.J=!0,wn(this)};function lt(u){u.S=Date.now()+u.I,Bi(u,u.I)}function Bi(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=B(A(u.ba,u),m)}function ir(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Je.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?($e(this.i,this.A),this.L!=2&&(Wn(),Bt(17)),wn(this),this.s=2,xn(this)):Bi(this,this.S-u)};function xn(u){u.j.G==0||u.J||Lo(u.j,u)}function wn(u){ir(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Rr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Qr(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||dt(v.h,u))){if(!u.K&&dt(v.h,u)&&v.G==3){try{var k=v.Da.g.parse(m)}catch{k=null}if(Array.isArray(k)&&k.length==3){var W=k;if(W[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Oo(v),Nr(v);else break e;Mo(v),Bt(18)}}else v.za=W[1],0<v.za-v.T&&37500>W[2]&&v.F&&v.v==0&&!v.C&&(v.C=B(A(v.Za,v),6e3));if(1>=Yr(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else _i(v,11)}else if((u.K||v.g==u)&&Oo(v),!Z(m))for(W=v.Da.g.parse(m),m=0;m<W.length;m++){let vt=W[m];if(v.T=vt[0],vt=vt[1],v.G==2)if(vt[0]=="c"){v.K=vt[1],v.ia=vt[2];const pn=vt[3];pn!=null&&(v.la=pn,v.j.info("VER="+v.la));const nn=vt[4];nn!=null&&(v.Aa=nn,v.j.info("SVER="+v.Aa));const mr=vt[5];mr!=null&&typeof mr=="number"&&0<mr&&(k=1.5*mr,v.L=k,v.j.info("backChannelRequestTimeoutMs_="+k)),k=v;const ar=u.g;if(ar){const Ws=ar.g?ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ws){var Y=k.h;Y.g||Ws.indexOf("spdy")==-1&&Ws.indexOf("quic")==-1&&Ws.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(fr(Y,Y.h),Y.h=null))}if(k.D){const Fo=ar.g?ar.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(k.ya=Fo,xt(k.I,k.D,Fo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),k=v;var ge=u;if(k.qa=Tu(k,k.J?k.ia:null,k.W),ge.K){Fs(k.h,ge);var kt=ge,un=k.L;un&&(kt.I=un),kt.B&&(ir(kt),lt(kt)),k.g=ge}else $s(k);0<v.i.length&&ei(v)}else vt[0]!="stop"&&vt[0]!="close"||_i(v,7);else v.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?_i(v,7):Tn(v):vt[0]!="noop"&&v.l&&v.l.ta(vt),v.v=0)}}Wn(4)}catch{}}var ut=class{constructor(u,m){this.g=u,this.map=m}};function Rt(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Yr(u){return u.h?1:u.g?u.g.size:0}function dt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function fr(u,m){u.g?u.g.add(m):u.h=m}function Fs(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Rt.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ro(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return $(u.i)}function Ao(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,k=0;k<v;k++)m.push(u[k]);return m}m=[],v=0;for(k in u)m[v++]=u[k];return m}function Co(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const k in u)m[v++]=k;return m}}}function $i(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Co(u),k=Ao(u),W=k.length,Y=0;Y<W;Y++)m.call(void 0,k[Y],v&&v[Y],u)}var js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $h(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var k=u[v].indexOf("="),W=null;if(0<=k){var Y=u[v].substring(0,k);W=u[v].substring(k+1)}else Y=u[v];m(Y,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function mi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof mi){this.h=u.h,Us(this,u.j),this.o=u.o,this.g=u.g,Wi(this,u.s),this.l=u.l;var m=u.i,v=new Jr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Hi(this,v),this.m=u.m}else u&&(m=String(u).match(js))?(this.h=!1,Us(this,m[1]||"",!0),this.o=gt(m[2]||""),this.g=gt(m[3]||"",!0),Wi(this,m[4]),this.l=gt(m[5]||"",!0),Hi(this,m[6]||"",!0),this.m=gt(m[7]||"")):(this.h=!1,this.i=new Jr(null,this.h))}mi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ki(m,ko,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ki(m,ko,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ki(v,v.charAt(0)=="/"?pu:fu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ki(v,ja)),u.join("")};function sr(u){return new mi(u)}function Us(u,m,v){u.j=v?gt(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Wi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Hi(u,m,v){m instanceof Jr?(u.i=m,Xr(u.i,u.h)):(v||(m=Ki(m,mu)),u.i=new Jr(m,u.h))}function xt(u,m,v){u.i.set(m,v)}function qi(u){return xt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gt(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ki(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,du),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function du(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ko=/[#\/\?@]/g,fu=/[#\?:]/g,pu=/[#\?]/g,mu=/[#\?@]/g,ja=/#/g;function Jr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&$h(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Jr.prototype,n.add=function(u,m){En(this),this.i=null,u=pr(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Cr(u,m){En(u),m=pr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function kr(u,m){return En(u),m=pr(u,m),u.g.has(m)}n.forEach=function(u,m){En(this),this.g.forEach(function(v,k){v.forEach(function(W){u.call(m,W,k,this)},this)},this)},n.na=function(){En(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let k=0;k<m.length;k++){const W=u[k];for(let Y=0;Y<W.length;Y++)v.push(m[k])}return v},n.V=function(u){En(this);let m=[];if(typeof u=="string")kr(this,u)&&(m=m.concat(this.g.get(pr(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return En(this),this.i=null,u=pr(this,u),kr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Gi(u,m,v){Cr(u,m),0<v.length&&(u.i=null,u.g.set(pr(u,m),$(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var k=m[v];const Y=encodeURIComponent(String(k)),ge=this.V(k);for(k=0;k<ge.length;k++){var W=Y;ge[k]!==""&&(W+="="+encodeURIComponent(String(ge[k]))),u.push(W)}}return this.i=u.join("&")};function pr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Xr(u,m){m&&!u.j&&(En(u),u.i=null,u.g.forEach(function(v,k){var W=k.toLowerCase();k!=W&&(Cr(this,k),Gi(this,W,v))},u)),u.j=m}function Wh(u,m){const v=new G;if(f.Image){const k=new Image;k.onload=M(Hn,v,"TestLoadImage: loaded",!0,m,k),k.onerror=M(Hn,v,"TestLoadImage: error",!1,m,k),k.onabort=M(Hn,v,"TestLoadImage: abort",!1,m,k),k.ontimeout=M(Hn,v,"TestLoadImage: timeout",!1,m,k),f.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else m(!1)}function gu(u,m){const v=new G,k=new AbortController,W=setTimeout(()=>{k.abort(),Hn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:k.signal}).then(Y=>{clearTimeout(W),Y.ok?Hn(v,"TestPingServer: ok",!0,m):Hn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(W),Hn(v,"TestPingServer: error",!1,m)})}function Hn(u,m,v,k,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),k(v)}catch{}}function Hh(){this.g=new Os}function yu(u,m,v){const k=v||"";try{$i(u,function(W,Y){let ge=W;y(W)&&(ge=ji(W)),m.push(k+Y+"="+encodeURIComponent(ge))})}catch(W){throw m.push(k+"type="+encodeURIComponent("_badmap")),W}}function gi(u){this.l=u.Ub||null,this.j=u.eb||!1}z(gi,Hr),gi.prototype.g=function(){return new zs(this.l,this.j)},gi.prototype.i=(function(u){return function(){return u}})({});function zs(u,m){Ze.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(zs,Ze),n=zs.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,xr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function vu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Pr(this):xr(this),this.readyState==3&&vu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Pr(this))},n.Qa=function(u){this.g&&(this.response=u,Pr(this))},n.ga=function(){this.g&&Pr(this)};function Pr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,xr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function xr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function yi(u){let m="";return Oe(u,function(v,k){m+=k,m+=":",m+=v,m+=`\r
`}),m}function Qi(u,m,v){e:{for(k in v){var k=!1;break e}k=!0}k||(v=yi(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):xt(u,m,v))}function Ft(u){Ze.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(Ft,Ze);var qh=/^https?$/i,Ua=["POST","PUT"];n=Ft.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Re.g(),this.v=this.o?Ar(this.o):Ar(Re),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Y){Bs(this,Y);return}if(u=v||"",v=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var W in k)v.set(W,k[W]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Y of k.keys())v.set(Y,k.get(Y));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),W=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ua,m,void 0))||k||W||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ge]of v)this.g.setRequestHeader(Y,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xo(this),this.u=!0,this.g.send(u),this.u=!1}catch(Y){Bs(this,Y)}};function Bs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Po(u),or(u)}function Po(u){u.A||(u.A=!0,it(u,"complete"),it(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,it(this,"complete"),it(this,"abort"),or(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),or(this,!0)),Ft.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?za(this):this.bb())},n.bb=function(){za(this)};function za(u){if(u.h&&typeof c<"u"&&(!u.v[1]||qn(u)!=4||u.Z()!=2)){if(u.u&&qn(u)==4)qt(u.Ea,0,u);else if(it(u,"readystatechange"),qn(u)==4){u.h=!1;try{const ge=u.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var k;if(k=ge===0){var W=String(u.D).match(js)[1]||null;!W&&f.self&&f.self.location&&(W=f.self.location.protocol.slice(0,-1)),k=!qh.test(W?W.toLowerCase():"")}v=k}if(v)it(u,"complete"),it(u,"success");else{u.m=6;try{var Y=2<qn(u)?u.g.statusText:""}catch{Y=""}u.l=Y+" ["+u.Z()+"]",Po(u)}}finally{or(u)}}}}function or(u,m){if(u.g){xo(u);const v=u.g,k=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||it(u,"ready");try{v.onreadystatechange=k}catch{}}}function xo(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ui(m)}};function Ba(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function No(u){const m={};u=(u.g&&2<=qn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(Z(u[k]))continue;var v=N(u[k]);const W=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=m[W]||[];m[W]=Y,Y.push(v)}R(m,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function $a(u){this.Aa=0,this.i=[],this.j=new G,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zr("baseRetryDelayMs",5e3,u),this.cb=Zr("retryDelaySeedMs",1e4,u),this.Wa=Zr("forwardChannelMaxRetries",2,u),this.wa=Zr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Rt(u&&u.concurrentRequestLimit),this.Da=new Hh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=$a.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,k){Bt(0),this.W=u,this.H=m||{},v&&k!==void 0&&(this.H.OSID=v,this.H.OAID=k),this.F=this.X,this.I=Tu(this,null,this.W),ei(this)};function Tn(u){if(bo(u),u.G==3){var m=u.U++,v=sr(u.I);if(xt(v,"SID",u.K),xt(v,"RID",m),xt(v,"TYPE","terminate"),vi(u,v),m=new Je(u,u.j,m),m.L=2,m.v=qi(sr(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.v,v=!0),v||(m.g=Iu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),lt(m)}Eu(u)}function Nr(u){u.g&&(Wa(u),u.g.cancel(),u.g=null)}function bo(u){Nr(u),u.u&&(f.clearTimeout(u.u),u.u=null),Oo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function ei(u){if(!tn(u.h)&&!u.s){u.s=!0;var m=u.Ga;we||O(),X||(we(),X=!0),se.add(m,u),u.B=0}}function Kh(u,m){return Yr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=B(A(u.Ga,u,m),wu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const W=new Je(this,this.j,u);let Y=this.o;if(this.S&&(Y?(Y=_(Y),C(Y,this.S)):Y=this.S),this.m!==null||this.O||(W.H=Y,Y=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var k=this.i[v];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(m+=k,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Yi(this,W,m),v=sr(this.I),xt(v,"RID",u),xt(v,"CVER",22),this.D&&xt(v,"X-HTTP-Session-Id",this.D),vi(this,v),Y&&(this.O?m="headers="+encodeURIComponent(String(yi(Y)))+"&"+m:this.m&&Qi(v,this.m,Y)),fr(this.h,W),this.Ua&&xt(v,"TYPE","init"),this.P?(xt(v,"$req",m),xt(v,"SID","null"),W.T=!0,Ct(W,v,null)):Ct(W,v,m),this.G=2}}else this.G==3&&(u?Do(this,u):this.i.length==0||tn(this.h)||Do(this))};function Do(u,m){var v;m?v=m.l:v=u.U++;const k=sr(u.I);xt(k,"SID",u.K),xt(k,"RID",v),xt(k,"AID",u.T),vi(u,k),u.m&&u.o&&Qi(k,u.m,u.o),v=new Je(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Yi(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),fr(u.h,v),Ct(v,k,m)}function vi(u,m){u.H&&Oe(u.H,function(v,k){xt(m,k,v)}),u.l&&$i({},function(v,k){xt(m,k,v)})}function Yi(u,m,v){v=Math.min(u.i.length,v);var k=u.l?A(u.l.Na,u.l,u):null;e:{var W=u.i;let Y=-1;for(;;){const ge=["count="+v];Y==-1?0<v?(Y=W[0].g,ge.push("ofs="+Y)):Y=0:ge.push("ofs="+Y);let kt=!0;for(let un=0;un<v;un++){let vt=W[un].g;const pn=W[un].map;if(vt-=Y,0>vt)Y=Math.max(0,W[un].g-100),kt=!1;else try{yu(pn,ge,"req"+vt+"_")}catch{k&&k(pn)}}if(kt){k=ge.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,k}function $s(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;we||O(),X||(we(),X=!0),se.add(m,u),u.v=0}}function Mo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=B(A(u.Fa,u),wu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=B(A(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),Nr(this),_u(this))};function Wa(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function _u(u){u.g=new Je(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sr(u.qa);xt(m,"RID","rpc"),xt(m,"SID",u.K),xt(m,"AID",u.T),xt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&xt(m,"TO",u.ja),xt(m,"TYPE","xmlhttp"),vi(u,m),u.m&&u.o&&Qi(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=qi(sr(m)),v.m=null,v.P=!0,dr(v,u)}n.Za=function(){this.C!=null&&(this.C=null,Nr(this),Mo(this),Bt(19))};function Oo(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Lo(u,m){var v=null;if(u.g==m){Oo(u),Wa(u),u.g=null;var k=2}else if(dt(u.h,m))v=m.D,Fs(u.h,m),k=1;else return;if(u.G!=0){if(m.o)if(k==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var W=u.B;k=qr(),it(k,new V(k,v)),ei(u)}else $s(u);else if(W=m.s,W==3||W==0&&0<m.X||!(k==1&&Kh(u,m)||k==2&&Mo(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),W){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function wu(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var v=A(u.fb,u),k=u.Xa;const W=!k;k=new mi(k||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Us(k,"https"),qi(k),W?Wh(k.toString(),v):gu(k.toString(),v)}else Bt(2);u.G=0,u.l&&u.l.sa(m),Eu(u),bo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function Eu(u){if(u.G=0,u.ka=[],u.l){const m=Ro(u.h);(m.length!=0||u.i.length!=0)&&(L(u.ka,m),L(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function Tu(u,m,v){var k=v instanceof mi?sr(v):new mi(v);if(k.g!="")m&&(k.g=m+"."+k.g),Wi(k,k.s);else{var W=f.location;k=W.protocol,m=m?m+"."+W.hostname:W.hostname,W=+W.port;var Y=new mi(null);k&&Us(Y,k),m&&(Y.g=m),W&&Wi(Y,W),v&&(Y.l=v),k=Y}return v=u.D,m=u.ya,v&&m&&xt(k,v,m),xt(k,"VER",u.la),vi(u,k),k}function Iu(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ft(new gi({eb:v})):new Ft(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ha(){}n=Ha.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Vo(){}Vo.prototype.g=function(u,m){return new jn(u,m)};function jn(u,m){Ze.call(this),this.g=new $a(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Z(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Z(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ti(this)}z(jn,Ze),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){Tn(this.g)},jn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ji(u),u=v);m.i.push(new ut(m.Ya++,u)),m.G==3&&ei(m)},jn.prototype.N=function(){this.g.l=null,delete this.j,Tn(this.g),delete this.g,jn.aa.N.call(this)};function Su(u){$n.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}z(Su,$n);function Ru(){zi.call(this),this.status=1}z(Ru,zi);function ti(u){this.g=u}z(ti,Ha),ti.prototype.ua=function(){it(this.g,"a")},ti.prototype.ta=function(u){it(this.g,new Su(u))},ti.prototype.sa=function(u){it(this.g,new Ru)},ti.prototype.ra=function(){it(this.g,"b")},Vo.prototype.createWebChannel=Vo.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,vw=function(){return new Vo},yw=function(){return qr()},gw=nr,Yf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,Dc=ke,Se.COMPLETE="complete",mw=Se,pi.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,El=pi,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,pw=Ft}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const zv="@firebase/firestore",Bv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new Tp("@firebase/firestore");function aa(){return yo.logLevel}function Ce(n,...e){if(yo.logLevel<=ft.DEBUG){const t=e.map(Op);yo.debug(`Firestore (${Ma}): ${n}`,...t)}}function Li(n,...e){if(yo.logLevel<=ft.ERROR){const t=e.map(Op);yo.error(`Firestore (${Ma}): ${n}`,...t)}}function wa(n,...e){if(yo.logLevel<=ft.WARN){const t=e.map(Op);yo.warn(`Firestore (${Ma}): ${n}`,...t)}}function Op(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,_w(n,i,t)}function _w(n,e,t){let i=`FIRESTORE (${Ma}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Li(i),new Error(i)}function At(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||_w(e,o,i)}function et(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Fi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ln.UNAUTHENTICATED)))}shutdown(){}}class ek{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class tk{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){At(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new co;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new co,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},f=p=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new co)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(At(typeof i.accessToken=="string",31837,{l:i}),new ww(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new Ln(e)}}class nk{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rk{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new nk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $v{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ik{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){At(this.o===void 0,3512);const i=l=>{l.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $v(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(At(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new $v(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=sk(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function pt(n,e){return n<e?-1:n>e?1:0}function Jf(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),l=e.charAt(i);if(o!==l)return Pf(o)===Pf(l)?pt(o,l):Pf(o)?1:-1}return pt(n.length,e.length)}const ok=55296,ak=57343;function Pf(n){const e=n.charCodeAt(0);return e>=ok&&e<=ak}function Ea(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="__name__";class oi{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ke(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ke(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return oi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof oi?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=oi.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return pt(e.length,t.length)}static compareSegments(e,t){const i=oi.isNumericId(e),o=oi.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?oi.extractNumericId(e).compare(oi.extractNumericId(t)):Jf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class Dt extends oi{construct(e,t,i){return new Dt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ae(ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new Dt(t)}static emptyPath(){return new Dt([])}}const lk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class An extends oi{construct(e,t,i){return new An(e,t,i)}static isValidIdentifier(e){return lk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),An.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wv}static keyField(){return new An([Wv])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new Ae(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Ae(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ae(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(l(),o++)}if(l(),c)throw new Ae(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new An(t)}static emptyPath(){return new An([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Dt.fromString(e))}static fromName(e){return new Ue(Dt.fromString(e).popFirst(5))}static empty(){return new Ue(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n,e,t){if(!t)throw new Ae(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function uk(n,e,t,i){if(e===!0&&i===!0)throw new Ae(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Hv(n){if(!Ue.isDocumentKey(n))throw new Ae(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qv(n){if(Ue.isDocumentKey(n))throw new Ae(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Tw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ah(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ke(12329,{type:typeof n})}function Pl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ah(n);throw new Ae(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(n,e){const t={typeString:n};return e&&(t.value=e),t}function iu(n,e){if(!Tw(n))throw new Ae(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(o&&typeof c!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new Ae(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=-62135596800,Gv=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Gv);return new Mt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Kv)throw new Ae(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gv}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,Mt._jsonSchema))return new Mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Kv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Mt._jsonSchemaVersion="firestore/timestamp/1.0",Mt._jsonSchema={type:ln("string",Mt._jsonSchemaVersion),seconds:ln("number"),nanoseconds:ln("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Mt(0,0))}static max(){return new Xe(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=-1;function ck(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Xe.fromTimestamp(i===1e9?new Mt(t+1,0):new Mt(t,i));return new As(o,Ue.empty(),e)}function hk(n){return new As(n.readTime,n.key,zl)}class As{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new As(Xe.min(),Ue.empty(),zl)}static max(){return new As(Xe.max(),Ue.empty(),zl)}}function dk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ue.comparator(n.documentKey,e.documentKey),t!==0?t:pt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==fk)throw n;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):te.reject(t)}static resolve(e){return new te(((t,i)=>{t(e)}))}static reject(e){return new te(((t,i)=>{i(e)}))}static waitFor(e){return new te(((t,i)=>{let o=0,l=0,c=!1;e.forEach((f=>{++o,f.next((()=>{++l,c&&l===o&&t()}),(p=>i(p)))})),c=!0,l===o&&t()}))}static or(e){let t=te.resolve(!1);for(const i of e)t=t.next((o=>o?te.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new te(((i,o)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next((w=>{c[y]=w,++f,f===l&&i(c)}),(w=>o(w)))}}))}static doWhile(e,t){return new te(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function mk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function La(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ch.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=-1;function kh(n){return n==null}function Zc(n){return n===0&&1/n==-1/0}function gk(n){return typeof n=="number"&&Number.isInteger(n)&&!Zc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="";function yk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Qv(e)),e=vk(n.get(t),e);return Qv(e)}function vk(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case Iw:t+="";break;default:t+=l}}return t}function Qv(n){return n+Iw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Sw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t){this.comparator=e,this.root=t||Rn.EMPTY}insert(e,t){return new Ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Rn.RED,this.left=o??Rn.EMPTY,this.right=l??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Rn(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Rn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ke(27949);return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke(57766)}get value(){throw Ke(16141)}get color(){throw Ke(16727)}get left(){throw Ke(29726)}get right(){throw Ke(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new Rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jv(this.data.getIterator())}getIteratorFrom(e){return new Jv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new fn(this.comparator);return t.data=e,t}}class Jv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.fields=e,e.sort(An.comparator)}static empty(){return new zr([])}unionWith(e){let t=new fn(An.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new zr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Rw("Invalid base64 string: "+l):l}})(e);return new Cn(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const _k=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(n){if(At(!!n,39018),typeof n=="string"){let e=0;const t=_k.exec(n);if(At(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Xt(n.seconds),nanos:Xt(n.nanos)}}function Xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ks(n){return typeof n=="string"?Cn.fromBase64String(n):Cn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="server_timestamp",Cw="__type__",kw="__previous_value__",Pw="__local_write_time__";function Fp(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Cw])==null?void 0:i.stringValue)===Aw}function Ph(n){const e=n.mapValue.fields[kw];return Fp(e)?Ph(e):e}function Bl(n){const e=Cs(n.mapValue.fields[Pw].timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t,i,o,l,c,f,p,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=w}}const eh="(default)";class $l{constructor(e,t){this.projectId=e,this.database=t||eh}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="__type__",Ek="__max__",Sc={mapValue:{}},Nw="__vector__",th="value";function Ps(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Fp(n)?4:Ik(n)?9007199254740991:Tk(n)?10:11:Ke(28295,{value:n})}function fi(n,e){if(n===e)return!0;const t=Ps(n);if(t!==Ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bl(n).isEqual(Bl(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Cs(o.timestampValue),f=Cs(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return ks(o.bytesValue).isEqual(ks(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return Xt(o.geoPointValue.latitude)===Xt(l.geoPointValue.latitude)&&Xt(o.geoPointValue.longitude)===Xt(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Xt(o.integerValue)===Xt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Xt(o.doubleValue),f=Xt(l.doubleValue);return c===f?Zc(c)===Zc(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return Ea(n.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},f=l.mapValue.fields||{};if(Yv(c)!==Yv(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!fi(c[p],f[p])))return!1;return!0})(n,e);default:return Ke(52216,{left:n})}}function Wl(n,e){return(n.values||[]).find((t=>fi(t,e)))!==void 0}function Ta(n,e){if(n===e)return 0;const t=Ps(n),i=Ps(e);if(t!==i)return pt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return pt(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Xt(l.integerValue||l.doubleValue),p=Xt(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(n,e);case 3:return Xv(n.timestampValue,e.timestampValue);case 4:return Xv(Bl(n),Bl(e));case 5:return Jf(n.stringValue,e.stringValue);case 6:return(function(l,c){const f=ks(l),p=ks(c);return f.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),p=c.split("/");for(let y=0;y<f.length&&y<p.length;y++){const w=pt(f[y],p[y]);if(w!==0)return w}return pt(f.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=pt(Xt(l.latitude),Xt(c.latitude));return f!==0?f:pt(Xt(l.longitude),Xt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Zv(n.arrayValue,e.arrayValue);case 10:return(function(l,c){var A,M,z,$;const f=l.fields||{},p=c.fields||{},y=(A=f[th])==null?void 0:A.arrayValue,w=(M=p[th])==null?void 0:M.arrayValue,S=pt(((z=y==null?void 0:y.values)==null?void 0:z.length)||0,(($=w==null?void 0:w.values)==null?void 0:$.length)||0);return S!==0?S:Zv(y,w)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Sc.mapValue&&c===Sc.mapValue)return 0;if(l===Sc.mapValue)return 1;if(c===Sc.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=c.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let S=0;S<p.length&&S<w.length;++S){const A=Jf(p[S],w[S]);if(A!==0)return A;const M=Ta(f[p[S]],y[w[S]]);if(M!==0)return M}return pt(p.length,w.length)})(n.mapValue,e.mapValue);default:throw Ke(23264,{he:t})}}function Xv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return pt(n,e);const t=Cs(n),i=Cs(e),o=pt(t.seconds,i.seconds);return o!==0?o:pt(t.nanos,i.nanos)}function Zv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Ta(t[o],i[o]);if(l)return l}return pt(t.length,i.length)}function Ia(n){return Xf(n)}function Xf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Cs(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ks(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ue.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Xf(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${Xf(t.fields[c])}`;return o+"}"})(n.mapValue):Ke(61005,{value:n})}function Mc(n){switch(Ps(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(n);return e?16+Mc(e):16;case 5:return 2*n.stringValue.length;case 6:return ks(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+Mc(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let o=0;return wo(i.fields,((l,c)=>{o+=l.length+Mc(c)})),o})(n.mapValue);default:throw Ke(13486,{value:n})}}function e_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Zf(n){return!!n&&"integerValue"in n}function jp(n){return!!n&&"arrayValue"in n}function t_(n){return!!n&&"nullValue"in n}function n_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Oc(n){return!!n&&"mapValue"in n}function Tk(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[xw])==null?void 0:i.stringValue)===Nw}function xl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return wo(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=xl(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xl(n.arrayValue.values[t]);return e}return{...n}}function Ik(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Ek}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.value=e}static empty(){return new Tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Oc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(t)}setAll(e){let t=An.emptyPath(),i={},o=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}c?i[f.lastSegment()]=xl(c):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Oc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Oc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){wo(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new Tr(xl(this.value))}}function bw(n){const e=[];return wo(n.fields,((t,i)=>{const o=new An([t]);if(Oc(i)){const l=bw(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new zr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,t,i,o,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Vn(e,0,Xe.min(),Xe.min(),Xe.min(),Tr.empty(),0)}static newFoundDocument(e,t,i,o){return new Vn(e,1,t,Xe.min(),i,o,0)}static newNoDocument(e,t){return new Vn(e,2,t,Xe.min(),Xe.min(),Tr.empty(),0)}static newUnknownDocument(e,t){return new Vn(e,3,t,Xe.min(),Xe.min(),Tr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t){this.position=e,this.inclusive=t}}function r_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=Ue.comparator(Ue.fromName(c.referenceValue),t.key):i=Ta(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function i_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Sk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{}class an extends Dw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Ak(e,t,i):t==="array-contains"?new Pk(e,i):t==="in"?new xk(e,i):t==="not-in"?new Nk(e,i):t==="array-contains-any"?new bk(e,i):new an(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Ck(e,i):new kk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ta(t,this.value)):t!==null&&Ps(this.value)===Ps(t)&&this.matchesComparison(Ta(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wr extends Dw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Wr(e,t)}matches(e){return Mw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Mw(n){return n.op==="and"}function Ow(n){return Rk(n)&&Mw(n)}function Rk(n){for(const e of n.filters)if(e instanceof Wr)return!1;return!0}function ep(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+Ia(n.value);if(Ow(n))return n.filters.map((e=>ep(e))).join(",");{const e=n.filters.map((t=>ep(t))).join(",");return`${n.op}(${e})`}}function Lw(n,e){return n instanceof an?(function(i,o){return o instanceof an&&i.op===o.op&&i.field.isEqual(o.field)&&fi(i.value,o.value)})(n,e):n instanceof Wr?(function(i,o){return o instanceof Wr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,c,f)=>l&&Lw(c,o.filters[f])),!0):!1})(n,e):void Ke(19439)}function Vw(n){return n instanceof an?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ia(t.value)}`})(n):n instanceof Wr?(function(t){return t.op.toString()+" {"+t.getFilters().map(Vw).join(" ,")+"}"})(n):"Filter"}class Ak extends an{constructor(e,t,i){super(e,t,i),this.key=Ue.fromName(i.referenceValue)}matches(e){const t=Ue.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ck extends an{constructor(e,t){super(e,"in",t),this.keys=Fw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class kk extends an{constructor(e,t){super(e,"not-in",t),this.keys=Fw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Fw(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>Ue.fromName(i.referenceValue)))}class Pk extends an{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jp(t)&&Wl(t.arrayValue,this.value)}}class xk extends an{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wl(this.value.arrayValue,t)}}class Nk extends an{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Wl(this.value.arrayValue,t)}}class bk extends an{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Wl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,t=null,i=[],o=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function s_(n,e=null,t=[],i=[],o=null,l=null,c=null){return new Dk(n,e,t,i,o,l,c)}function Up(n){const e=et(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>ep(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),kh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Ia(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Ia(i))).join(",")),e.Te=t}return e.Te}function zp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Sk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Lw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!i_(n.startAt,e.startAt)&&i_(n.endAt,e.endAt)}function tp(n){return Ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,t=null,i=[],o=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Mk(n,e,t,i,o,l,c,f){return new Va(n,e,t,i,o,l,c,f)}function Bp(n){return new Va(n)}function o_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function jw(n){return n.collectionGroup!==null}function Nl(n){const e=et(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new fn(An.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(f=f.add(y.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Hl(l,i))})),t.has(An.keyField().canonicalString())||e.Ie.push(new Hl(An.keyField(),i))}return e.Ie}function li(n){const e=et(n);return e.Ee||(e.Ee=Ok(e,Nl(n))),e.Ee}function Ok(n,e){if(n.limitType==="F")return s_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Hl(o.field,l)}));const t=n.endAt?new nh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new nh(n.startAt.position,n.startAt.inclusive):null;return s_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function np(n,e){const t=n.filters.concat([e]);return new Va(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function rp(n,e,t){return new Va(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xh(n,e){return zp(li(n),li(e))&&n.limitType===e.limitType}function Uw(n){return`${Up(li(n))}|lt:${n.limitType}`}function la(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>Vw(o))).join(", ")}]`),kh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>Ia(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>Ia(o))).join(",")),`Target(${i})`})(li(n))}; limitType=${n.limitType})`}function Nh(n,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ue.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,o){for(const l of Nl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(c,f,p){const y=r_(c,f,p);return c.inclusive?y<=0:y<0})(i.startAt,Nl(i),o)||i.endAt&&!(function(c,f,p){const y=r_(c,f,p);return c.inclusive?y>=0:y>0})(i.endAt,Nl(i),o))})(n,e)}function Lk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zw(n){return(e,t)=>{let i=!1;for(const o of Nl(n)){const l=Vk(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function Vk(n,e,t){const i=n.field.isKeyField()?Ue.comparator(e.key,t.key):(function(l,c,f){const p=c.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Ta(p,y):Ke(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ke(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return Sw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=new Ht(Ue.comparator);function Vi(){return Fk}const Bw=new Ht(Ue.comparator);function Tl(...n){let e=Bw;for(const t of n)e=e.insert(t.key,t);return e}function $w(n){let e=Bw;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function lo(){return bl()}function Ww(){return bl()}function bl(){return new Eo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const jk=new Ht(Ue.comparator),Uk=new fn(Ue.comparator);function mt(...n){let e=Uk;for(const t of n)e=e.add(t);return e}const zk=new fn(pt);function Bk(){return zk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function Hw(n){return{integerValue:""+n}}function $k(n,e){return gk(e)?Hw(e):$p(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this._=void 0}}function Wk(n,e,t){return n instanceof ql?(function(o,l){const c={fields:{[Cw]:{stringValue:Aw},[Pw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Fp(l)&&(l=Ph(l)),l&&(c.fields[kw]=l),{mapValue:c}})(t,e):n instanceof Kl?Kw(n,e):n instanceof Gl?Gw(n,e):(function(o,l){const c=qw(o,l),f=a_(c)+a_(o.Ae);return Zf(c)&&Zf(o.Ae)?Hw(f):$p(o.serializer,f)})(n,e)}function Hk(n,e,t){return n instanceof Kl?Kw(n,e):n instanceof Gl?Gw(n,e):t}function qw(n,e){return n instanceof rh?(function(i){return Zf(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class ql extends bh{}class Kl extends bh{constructor(e){super(),this.elements=e}}function Kw(n,e){const t=Qw(e);for(const i of n.elements)t.some((o=>fi(o,i)))||t.push(i);return{arrayValue:{values:t}}}class Gl extends bh{constructor(e){super(),this.elements=e}}function Gw(n,e){let t=Qw(e);for(const i of n.elements)t=t.filter((o=>!fi(o,i)));return{arrayValue:{values:t}}}class rh extends bh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function a_(n){return Xt(n.integerValue||n.doubleValue)}function Qw(n){return jp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,t){this.field=e,this.transform=t}}function Kk(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof Kl&&o instanceof Kl||i instanceof Gl&&o instanceof Gl?Ea(i.elements,o.elements,fi):i instanceof rh&&o instanceof rh?fi(i.Ae,o.Ae):i instanceof ql&&o instanceof ql})(n.transform,e.transform)}class Gk{constructor(e,t){this.version=e,this.transformResults=t}}class Di{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Dh{}function Yw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Xw(n.key,Di.none()):new su(n.key,n.data,Di.none());{const t=n.data,i=Tr.empty();let o=new fn(An.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new To(n.key,i,new zr(o.toArray()),Di.none())}}function Qk(n,e,t){n instanceof su?(function(o,l,c){const f=o.value.clone(),p=u_(o.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof To?(function(o,l,c){if(!Lc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const f=u_(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Jw(o)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Dl(n,e,t,i){return n instanceof su?(function(l,c,f,p){if(!Lc(l.precondition,c))return f;const y=l.value.clone(),w=c_(l.fieldTransforms,p,c);return y.setAll(w),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(n,e,t,i):n instanceof To?(function(l,c,f,p){if(!Lc(l.precondition,c))return f;const y=c_(l.fieldTransforms,p,c),w=c.data;return w.setAll(Jw(l)),w.setAll(y),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((S=>S.field)))})(n,e,t,i):(function(l,c,f){return Lc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function Yk(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=qw(i.transform,o||null);l!=null&&(t===null&&(t=Tr.empty()),t.set(i.field,l))}return t||null}function l_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ea(i,o,((l,c)=>Kk(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class su extends Dh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class To extends Dh{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Jw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function u_(n,e,t){const i=new Map;At(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,f=e.data.field(l.field);i.set(l.field,Hk(c,f,t[o]))}return i}function c_(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,Wk(l,c,e))}return i}class Xw extends Dh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jk extends Dh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&Qk(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Dl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Dl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Ww();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(o.key)?null:f;const p=Yw(c,f);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Xe.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),mt())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,((t,i)=>l_(t,i)))&&Ea(this.baseMutations,e.baseMutations,((t,i)=>l_(t,i)))}}class Wp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){At(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return jk})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Wp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,_t;function tP(n){switch(n){case ee.OK:return Ke(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ke(15467,{code:n})}}function Zw(n){if(n===void 0)return Li("GRPC error has no .code"),ee.UNKNOWN;switch(n){case sn.OK:return ee.OK;case sn.CANCELLED:return ee.CANCELLED;case sn.UNKNOWN:return ee.UNKNOWN;case sn.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case sn.INTERNAL:return ee.INTERNAL;case sn.UNAVAILABLE:return ee.UNAVAILABLE;case sn.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case sn.NOT_FOUND:return ee.NOT_FOUND;case sn.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case sn.ABORTED:return ee.ABORTED;case sn.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case sn.DATA_LOSS:return ee.DATA_LOSS;default:return Ke(39323,{code:n})}}(_t=sn||(sn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=new Is([4294967295,4294967295],0);function h_(n){const e=nP().encode(n),t=new fw;return t.update(e),new Uint8Array(t.digest())}function d_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Is([t,i],0),new Is([o,l],0)]}class Hp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Il(`Invalid padding: ${t}`);if(i<0)throw new Il(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Il(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Is.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(Is.fromNumber(i)));return o.compare(rP)===1&&(o=new Is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=h_(e),[i,o]=d_(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Hp(l,o,t);return i.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=h_(e),[i,o]=d_(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Mh(Xe.min(),o,new Ht(pt),Vi(),mt())}}class ou{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ou(i,t,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class eE{constructor(e,t){this.targetId=e,this.Ce=t}}class tE{constructor(e,t,i=Cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class f_{constructor(){this.ve=0,this.Fe=p_(),this.Me=Cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=mt(),t=mt(),i=mt();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ke(38017,{changeType:l})}})),new ou(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=p_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,At(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vi(),this.Je=Rc(),this.He=Rc(),this.Ye=new Ht(pt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ke(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(tp(l))if(i===0){const c=new Ue(l.path);this.et(t,c,Vn.newNoDocument(c,Xe.min()))}else At(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const f=this.ut(e),p=f?this.ct(f,e,c):1;if(p!==0){this.it(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,f;try{c=ks(i).toUint8Array()}catch(p){if(p instanceof Rw)return wa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Hp(c,o,l)}catch(p){return wa(p instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&tp(f.target)){const p=new Ue(f.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Vn.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=mt();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new Mh(e,t,this.Ye,this.je,i);return this.je=Vi(),this.Je=Rc(),this.He=Rc(),this.Ye=new Ht(pt),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new f_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new fn(pt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new fn(pt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new f_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Rc(){return new Ht(Ue.comparator)}function p_(){return new Ht(Ue.comparator)}const sP={asc:"ASCENDING",desc:"DESCENDING"},oP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aP={and:"AND",or:"OR"};class lP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ip(n,e){return n.useProto3Json||kh(e)?e:{value:e}}function ih(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function uP(n,e){return ih(n,e.toTimestamp())}function ui(n){return At(!!n,49232),Xe.fromTimestamp((function(t){const i=Cs(t);return new Mt(i.seconds,i.nanos)})(n))}function qp(n,e){return sp(n,e).canonicalString()}function sp(n,e){const t=(function(o){return new Dt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function rE(n){const e=Dt.fromString(n);return At(lE(e),10190,{key:e.toString()}),e}function op(n,e){return qp(n.databaseId,e.path)}function xf(n,e){const t=rE(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ue(sE(t))}function iE(n,e){return qp(n.databaseId,e)}function cP(n){const e=rE(n);return e.length===4?Dt.emptyPath():sE(e)}function ap(n){return new Dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sE(n){return At(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function m_(n,e,t){return{name:op(n,e),fields:t.value.mapValue.fields}}function hP(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ke(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(y,w){return y.useProto3Json?(At(w===void 0||typeof w=="string",58123),Cn.fromBase64String(w||"")):(At(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Cn.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(y){const w=y.code===void 0?ee.UNKNOWN:Zw(y.code);return new Ae(w,y.message||"")})(c);t=new tE(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=xf(n,i.document.name),l=ui(i.document.updateTime),c=i.document.createTime?ui(i.document.createTime):Xe.min(),f=new Tr({mapValue:{fields:i.document.fields}}),p=Vn.newFoundDocument(o,l,c,f),y=i.targetIds||[],w=i.removedTargetIds||[];t=new Vc(y,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=xf(n,i.document),l=i.readTime?ui(i.readTime):Xe.min(),c=Vn.newNoDocument(o,l),f=i.removedTargetIds||[];t=new Vc([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=xf(n,i.document),l=i.removedTargetIds||[];t=new Vc([],l,o,null)}else{if(!("filter"in e))return Ke(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new eP(o,l),f=i.targetId;t=new eE(f,c)}}return t}function dP(n,e){let t;if(e instanceof su)t={update:m_(n,e.key,e.value)};else if(e instanceof Xw)t={delete:op(n,e.key)};else if(e instanceof To)t={update:m_(n,e.key,e.data),updateMask:EP(e.fieldMask)};else{if(!(e instanceof Jk))return Ke(16599,{Vt:e.type});t={verify:op(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof ql)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Kl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Gl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof rh)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Ke(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:uP(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ke(27497)})(n,e.precondition)),t}function fP(n,e){return n&&n.length>0?(At(e!==void 0,14353),n.map((t=>(function(o,l){let c=o.updateTime?ui(o.updateTime):ui(l);return c.isEqual(Xe.min())&&(c=ui(l)),new Gk(c,o.transformResults||[])})(t,e)))):[]}function pP(n,e){return{documents:[iE(n,e.path)]}}function mP(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=iE(n,o);const l=(function(y){if(y.length!==0)return aE(Wr.create(y,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(y){if(y.length!==0)return y.map((w=>(function(A){return{field:ua(A.field),direction:vP(A.dir)}})(w)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=ip(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function gP(n){let e=cP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){At(i===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=(function(S){const A=oE(S);return A instanceof Wr&&Ow(A)?A.getFilters():[A]})(t.where));let c=[];t.orderBy&&(c=(function(S){return S.map((A=>(function(z){return new Hl(ca(z.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(A)))})(t.orderBy));let f=null;t.limit&&(f=(function(S){let A;return A=typeof S=="object"?S.value:S,kh(A)?null:A})(t.limit));let p=null;t.startAt&&(p=(function(S){const A=!!S.before,M=S.values||[];return new nh(M,A)})(t.startAt));let y=null;return t.endAt&&(y=(function(S){const A=!S.before,M=S.values||[];return new nh(M,A)})(t.endAt)),Mk(e,o,c,l,f,"F",p,y)}function yP(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function oE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ca(t.unaryFilter.field);return an.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ca(t.unaryFilter.field);return an.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ca(t.unaryFilter.field);return an.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ca(t.unaryFilter.field);return an.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ke(61313);default:return Ke(60726)}})(n):n.fieldFilter!==void 0?(function(t){return an.create(ca(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ke(58110);default:return Ke(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Wr.create(t.compositeFilter.filters.map((i=>oE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ke(1026)}})(t.compositeFilter.op))})(n):Ke(30097,{filter:n})}function vP(n){return sP[n]}function _P(n){return oP[n]}function wP(n){return aP[n]}function ua(n){return{fieldPath:n.canonicalString()}}function ca(n){return An.fromServerFormat(n.fieldPath)}function aE(n){return n instanceof an?(function(t){if(t.op==="=="){if(n_(t.value))return{unaryFilter:{field:ua(t.field),op:"IS_NAN"}};if(t_(t.value))return{unaryFilter:{field:ua(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(n_(t.value))return{unaryFilter:{field:ua(t.field),op:"IS_NOT_NAN"}};if(t_(t.value))return{unaryFilter:{field:ua(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(t.field),op:_P(t.op),value:t.value}}})(n):n instanceof Wr?(function(t){const i=t.getFilters().map((o=>aE(o)));return i.length===1?i[0]:{compositeFilter:{op:wP(t.op),filters:i}}})(n):Ke(54877,{filter:n})}function EP(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function lE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t,i,o,l=Xe.min(),c=Xe.min(),f=Cn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.yt=e}}function IP(n){const e=gP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.Cn=new RP}addToCollectionParentIndex(e,t){return this.Cn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(As.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(As.min())}updateCollectionGroup(e,t,i){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class RP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new fn(Dt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new fn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uE=41943040;class er{static withCacheSize(e){return new er(e,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er.DEFAULT_COLLECTION_PERCENTILE=10,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,er.DEFAULT=new er(uE,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),er.DISABLED=new er(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Sa(0)}static cr(){return new Sa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="LruGarbageCollector",AP=1048576;function v_([n,e],[t,i]){const o=pt(n,t);return o===0?pt(e,i):o}class CP{constructor(e){this.Ir=e,this.buffer=new fn(v_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();v_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class kP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ce(y_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){La(t)?Ce(y_,"Ignoring IndexedDB error during garbage collection: ",t):await Oa(t)}await this.Vr(3e5)}))}}class PP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Ch.ce);const i=new CP(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(g_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,l,c,f,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,c=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(i=S,f=Date.now(),this.removeTargets(e,i,t)))).next((S=>(l=S,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((S=>(y=Date.now(),aa()<=ft.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-w}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:S}))))}}function xP(n,e){return new PP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.changes=new Eo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?te.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&Dl(i.mutation,o,zr.empty(),Mt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,mt()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=mt()){const o=lo();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let c=Tl();return l.forEach(((f,p)=>{c=c.insert(f,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=lo();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,mt())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,i,o){let l=Vi();const c=bl(),f=(function(){return bl()})();return t.forEach(((p,y)=>{const w=i.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof To)?l=l.insert(y.key,y):w!==void 0?(c.set(y.key,w.mutation.getFieldMask()),Dl(w.mutation,y,w.mutation.getFieldMask(),Mt.now())):c.set(y.key,zr.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((y,w)=>c.set(y,w))),t.forEach(((y,w)=>f.set(y,new bP(w,c.get(y)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=bl();let o=new Ht(((c,f)=>c-f)),l=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((p=>{const y=t.get(p);if(y===null)return;let w=i.get(p)||zr.empty();w=f.applyToLocalView(y,w),i.set(p,w);const S=(o.get(f.batchId)||mt()).add(p);o=o.insert(f.batchId,S)}))})).next((()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,w=p.value,S=Ww();w.forEach((A=>{if(!l.has(A)){const M=Yw(t.get(A),i.get(A));M!==null&&S.set(A,M),l=l.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(e,y,S))}return te.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(c){return Ue.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):te.resolve(lo());let f=zl,p=l;return c.next((y=>te.forEach(y,((w,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),l.get(w)?te.resolve():this.remoteDocumentCache.getEntry(e,w).next((A=>{p=p.insert(w,A)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,p,y,mt()))).next((w=>({batchId:f,changes:$w(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ue(t)).next((i=>{let o=Tl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=Tl();return this.indexManager.getCollectionParents(e,l).next((f=>te.forEach(f,(p=>{const y=(function(S,A){return new Va(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((w=>{w.forEach(((S,A)=>{c=c.insert(S,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((c=>{l.forEach(((p,y)=>{const w=y.getKey();c.get(w)===null&&(c=c.insert(w,Vn.newInvalidDocument(w)))}));let f=Tl();return c.forEach(((p,y)=>{const w=l.get(p);w!==void 0&&Dl(w.mutation,y,zr.empty(),Mt.now()),Nh(t,y)&&(f=f.insert(p,y))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ui(o.createTime)}})(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:IP(o.bundledQuery),readTime:ui(o.readTime)}})(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(){this.overlays=new Ht(Ue.comparator),this.qr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const i=lo();return te.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.St(e,t,l)})),te.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),te.resolve()}getOverlaysForCollection(e,t,i){const o=lo(),l=t.length+1,c=new Ue(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new Ht(((y,w)=>y-w));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let w=l.get(y.largestBatchId);w===null&&(w=lo(),l=l.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const f=lo(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,w)=>f.set(y,w))),!(f.size()>=o)););return te.resolve(f)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Zk(t,i));let l=this.qr.get(t);l===void 0&&(l=mt(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(){this.Qr=new fn(vn.$r),this.Ur=new fn(vn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new vn(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new vn(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new Ue(new Dt([])),i=new vn(t,e),o=new vn(t,e+1),l=[];return this.Ur.forEachInRange([i,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ue(new Dt([])),i=new vn(t,e),o=new vn(t,e+1);let l=mt();return this.Ur.forEachInRange([i,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new vn(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class vn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ue.comparator(e.key,t.key)||pt(e.Yr,t.Yr)}static Kr(e,t){return pt(e.Yr,t.Yr)||Ue.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new fn(vn.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Xk(l,t,i,o);this.mutationQueue.push(c);for(const f of o)this.Zr=this.Zr.add(new vn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return te.resolve(c)}lookupMutationBatch(e,t){return te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),l=o<0?0:o;return te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Vp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new vn(t,0),o=new vn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(c=>{const f=this.Xr(c.Yr);l.push(f)})),te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new fn(pt);return t.forEach((o=>{const l=new vn(o,0),c=new vn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{i=i.add(f.Yr)}))})),te.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;Ue.isDocumentKey(l)||(l=l.child(""));const c=new vn(new Ue(l),0);let f=new fn(pt);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.Yr)),!0)}),c),te.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){At(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return te.forEach(t.mutations,(o=>{const l=new vn(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new vn(t,0),o=this.Zr.firstAfterOrEqual(i);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.ri=e,this.docs=(function(){return new Ht(Ue.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return te.resolve(i?i.document.mutableCopy():Vn.newInvalidDocument(t))}getEntries(e,t){let i=Vi();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Vn.newInvalidDocument(o))})),te.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Vi();const c=t.path,f=new Ue(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:w}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||dk(hk(w),i)<=0||(o.has(w.key)||Nh(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return te.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Ke(9500)}ii(e,t){return te.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new jP(this)}getSize(e){return te.resolve(this.size)}}class jP extends NP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.persistence=e,this.si=new Eo((t=>Up(t)),zp),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Kp,this.targetCount=0,this.ai=Sa.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Sa(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Pr(t),te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),te.waitFor(l).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return te.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),te.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),te.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return te.resolve(i)}containsKey(e,t){return te.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ch(0),this.li=!1,this.li=!0,this.hi=new LP,this.referenceDelegate=e(this),this.Pi=new UP(this),this.indexManager=new SP,this.remoteDocumentCache=(function(o){return new FP(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new TP(t),this.Ii=new MP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new VP(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){Ce("MemoryPersistence","Starting transaction:",e);const o=new zP(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return te.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class zP extends pk{constructor(e){super(),this.currentSequenceNumber=e}}class Gp{constructor(e){this.persistence=e,this.Ri=new Kp,this.Vi=null}static mi(e){return new Gp(e)}get fi(){if(this.Vi)return this.Vi;throw Ke(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),te.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(i=>{const o=Ue.fromPath(i);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Xe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return te.or([()=>te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class sh{constructor(e,t){this.persistence=e,this.pi=new Eo((i=>yk(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=xP(this,t)}static mi(e,t){return new sh(e,t)}Ei(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return te.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?te.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((f=>{f||(i++,l.removeEntry(c,Xe.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mc(e.data.value)),t}br(e,t,i){return te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return te.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=mt(),o=mt();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Qp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DS()?8:mk(Fn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,o,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new BP;return this.Ss(e,t,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>l.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(aa()<=ft.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",la(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(aa()<=ft.DEBUG&&Ce("QueryEngine","Query:",la(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(aa()<=ft.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",la(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(t))):te.resolve())}ys(e,t){if(o_(t))return te.resolve(null);let i=li(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=rp(t,null,"F"),i=li(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=mt(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,i).next((p=>{const y=this.Ds(t,f);return this.Cs(t,y,c,p.readTime)?this.ys(e,rp(t,null,"F")):this.vs(e,y,t,p)}))))})))))}ws(e,t,i,o){return o_(t)||o.isEqual(Xe.min())?te.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,o)?te.resolve(null):(aa()<=ft.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),la(t)),this.vs(e,c,t,ck(o,zl)).next((f=>f)))}))}Ds(e,t){let i=new fn(zw(e));return t.forEach(((o,l)=>{Nh(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return aa()<=ft.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",la(t)),this.ps.getDocumentsMatchingQuery(e,t,As.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="LocalStore",WP=3e8;class HP{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new Ht(pt),this.xs=new Eo((l=>Up(l)),zp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function qP(n,e,t,i){return new HP(n,e,t,i)}async function hE(n,e){const t=et(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let p=mt();for(const y of o){c.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of l){f.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(i,p).next((y=>({Ls:y,removedBatchIds:c,addedBatchIds:f})))}))}))}function KP(n,e){const t=et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,y,w){const S=y.batch,A=S.keys();let M=te.resolve();return A.forEach((z=>{M=M.next((()=>w.getEntry(p,z))).next(($=>{const L=y.docVersions.get(z);At(L!==null,48541),$.version.compareTo(L)<0&&(S.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),w.addEntry($)))}))})),M.next((()=>f.mutationQueue.removeMutationBatch(p,S)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let p=mt();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function dE(n){const e=et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function GP(n,e){const t=et(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((w,S)=>{const A=o.get(S);if(!A)return;f.push(t.Pi.removeMatchingKeys(l,w.removedDocuments,S).next((()=>t.Pi.addMatchingKeys(l,w.addedDocuments,S))));let M=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?M=M.withResumeToken(Cn.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):w.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(w.resumeToken,i)),o=o.insert(S,M),(function($,L,he){return $.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=WP?!0:he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0})(A,M,w)&&f.push(t.Pi.updateTargetData(l,M))}));let p=Vi(),y=mt();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))})),f.push(QP(l,c,e.documentUpdates).next((w=>{p=w.ks,y=w.qs}))),!i.isEqual(Xe.min())){const w=t.Pi.getLastRemoteSnapshotVersion(l).next((S=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(w)}return te.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,y))).next((()=>p))})).then((l=>(t.Ms=o,l)))}function QP(n,e,t){let i=mt(),o=mt();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let c=Vi();return t.forEach(((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Xe.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):Ce(Yp,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function YP(n,e){const t=et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Vp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function JP(n,e){const t=et(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((l=>l?(o=l,te.resolve(o)):t.Pi.allocateTargetId(i).next((c=>(o=new ys(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function lp(n,e,t){const i=et(n),o=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!La(c))throw c;Ce(Yp,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function __(n,e,t){const i=et(n);let o=Xe.min(),l=mt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,y,w){const S=et(p),A=S.xs.get(w);return A!==void 0?te.resolve(S.Ms.get(A)):S.Pi.getTargetData(y,w)})(i,c,li(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?o:Xe.min(),t?l:mt()))).next((f=>(XP(i,Lk(e),f),{documents:f,Qs:l})))))}function XP(n,e,t){let i=n.Os.get(e)||Xe.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(e,i)}class w_{constructor(){this.activeTargetIds=Bk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZP{constructor(){this.Mo=new w_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new w_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="ConnectivityMonitor";class T_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ce(E_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ce(E_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function up(){return Ac===null?Ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="RestConnection",tx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===eh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,l){const c=up(),f=this.zo(e,t.toUriEncodedString());Ce(Nf,`Sending RPC '${e}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:y}=new URL(f),w=Na(y);return this.Jo(e,f,p,i,w).then((S=>(Ce(Nf,`Received RPC '${e}' ${c}: `,S),S)),(S=>{throw wa(Nf,`RPC '${e}' ${c} failed with error: `,S,"url: ",f,"request:",i),S}))}Ho(e,t,i,o,l,c){return this.Go(e,t,i,o,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ma})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const i=tx[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class ix extends nx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const c=up();return new Promise(((f,p)=>{const y=new pw;y.setWithCredentials(!0),y.listenOnce(mw.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Dc.NO_ERROR:const S=y.getResponseJson();Ce(On,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(S)),f(S);break;case Dc.TIMEOUT:Ce(On,`RPC '${e}' ${c} timed out`),p(new Ae(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const A=y.getStatus();if(Ce(On,`RPC '${e}' ${c} failed with status:`,A,"response text:",y.getResponseText()),A>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const z=M==null?void 0:M.error;if(z&&z.status&&z.message){const $=(function(he){const Z=he.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Z)>=0?Z:ee.UNKNOWN})(z.status);p(new Ae($,z.message))}else p(new Ae(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new Ae(ee.UNAVAILABLE,"Connection failed."));break;default:Ke(9055,{l_:e,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{Ce(On,`RPC '${e}' ${c} completed.`)}}));const w=JSON.stringify(o);Ce(On,`RPC '${e}' ${c} sending request:`,o),y.send(t,"POST",w,i,15)}))}T_(e,t,i){const o=up(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=vw(),f=yw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const w=l.join("");Ce(On,`Creating RPC '${e}' stream ${o}: ${w}`,p);const S=c.createWebChannel(w,p);this.I_(S);let A=!1,M=!1;const z=new rx({Yo:L=>{M?Ce(On,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(A||(Ce(On,`Opening RPC '${e}' stream ${o} transport.`),S.open(),A=!0),Ce(On,`RPC '${e}' stream ${o} sending:`,L),S.send(L))},Zo:()=>S.close()}),$=(L,he,Z)=>{L.listen(he,(fe=>{try{Z(fe)}catch(_e){setTimeout((()=>{throw _e}),0)}}))};return $(S,El.EventType.OPEN,(()=>{M||(Ce(On,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),$(S,El.EventType.CLOSE,(()=>{M||(M=!0,Ce(On,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(S))})),$(S,El.EventType.ERROR,(L=>{M||(M=!0,wa(On,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),z.a_(new Ae(ee.UNAVAILABLE,"The operation could not be completed")))})),$(S,El.EventType.MESSAGE,(L=>{var he;if(!M){const Z=L.data[0];At(!!Z,16349);const fe=Z,_e=(fe==null?void 0:fe.error)||((he=fe[0])==null?void 0:he.error);if(_e){Ce(On,`RPC '${e}' stream ${o} received error:`,_e);const Fe=_e.status;let Oe=(function(E){const C=sn[E];if(C!==void 0)return Zw(C)})(Fe),R=_e.message;Oe===void 0&&(Oe=ee.INTERNAL,R="Unknown error status: "+Fe+" with message "+_e.message),M=!0,z.a_(new Ae(Oe,R)),S.close()}else Ce(On,`RPC '${e}' stream ${o} received:`,Z),z.u_(Z)}})),$(f,gw.STAT_EVENT,(L=>{L.stat===Yf.PROXY?Ce(On,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Yf.NOPROXY&&Ce(On,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(n){return new lP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&Ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="PersistentStream";class pE{constructor(e,t,i,o,l,c,f,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Li(t.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new Ae(ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ce(I_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ce(I_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sx extends pE{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=hP(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Xe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Xe.min():c.readTime?ui(c.readTime):Xe.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=ap(this.serializer),t.addTarget=(function(l,c){let f;const p=c.target;if(f=tp(p)?{documents:pP(l,p)}:{query:mP(l,p).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=nE(l,c.resumeToken);const y=ip(l,c.expectedCount);y!==null&&(f.expectedCount=y)}else if(c.snapshotVersion.compareTo(Xe.min())>0){f.readTime=ih(l,c.snapshotVersion.toTimestamp());const y=ip(l,c.expectedCount);y!==null&&(f.expectedCount=y)}return f})(this.serializer,e);const i=yP(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=ap(this.serializer),t.removeTarget=e,this.q_(t)}}class ox extends pE{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return At(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){At(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=fP(e.writeResults,e.commitTime),i=ui(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=ap(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>dP(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{}class lx extends ax{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ae(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,sp(t,i),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(ee.UNKNOWN,l.toString())}))}Ho(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,sp(t,i),o,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ae(ee.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ux{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Li(t),this.aa=!1):Ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo="RemoteStore";class cx{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Io(this)&&(Ce(vo,"Restarting streams for network reachability change."),await(async function(p){const y=et(p);y.Ea.add(4),await au(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Lh(y)})(this))}))})),this.Ra=new ux(i,o)}}async function Lh(n){if(Io(n))for(const e of n.da)await e(!0)}async function au(n){for(const e of n.da)await e(!1)}function mE(n,e){const t=et(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),em(t)?Zp(t):Fa(t).O_()&&Xp(t,e))}function Jp(n,e){const t=et(n),i=Fa(t);t.Ia.delete(e),i.O_()&&gE(t,e),t.Ia.size===0&&(i.O_()?i.L_():Io(t)&&t.Ra.set("Unknown"))}function Xp(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fa(n).Y_(e)}function gE(n,e){n.Va.Ue(e),Fa(n).Z_(e)}function Zp(n){n.Va=new iP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Fa(n).start(),n.Ra.ua()}function em(n){return Io(n)&&!Fa(n).x_()&&n.Ia.size>0}function Io(n){return et(n).Ea.size===0}function yE(n){n.Va=void 0}async function hx(n){n.Ra.set("Online")}async function dx(n){n.Ia.forEach(((e,t)=>{Xp(n,e)}))}async function fx(n,e){yE(n),em(n)?(n.Ra.ha(e),Zp(n)):n.Ra.set("Unknown")}async function px(n,e,t){if(n.Ra.set("Online"),e instanceof tE&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.Ia.delete(f),o.Va.removeTarget(f))})(n,e)}catch(i){Ce(vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await oh(n,i)}else if(e instanceof Vc?n.Va.Ze(e):e instanceof eE?n.Va.st(e):n.Va.tt(e),!t.isEqual(Xe.min()))try{const i=await dE(n.localStore);t.compareTo(i)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=l.Ia.get(y);w&&l.Ia.set(y,w.withResumeToken(p.resumeToken,c))}})),f.targetMismatches.forEach(((p,y)=>{const w=l.Ia.get(p);if(!w)return;l.Ia.set(p,w.withResumeToken(Cn.EMPTY_BYTE_STRING,w.snapshotVersion)),gE(l,p);const S=new ys(w.target,p,y,w.sequenceNumber);Xp(l,S)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(i){Ce(vo,"Failed to raise snapshot:",i),await oh(n,i)}}async function oh(n,e,t){if(!La(e))throw e;n.Ea.add(1),await au(n),n.Ra.set("Offline"),t||(t=()=>dE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ce(vo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Lh(n)}))}function vE(n,e){return e().catch((t=>oh(n,t,e)))}async function Vh(n){const e=et(n),t=xs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vp;for(;mx(e);)try{const o=await YP(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,gx(e,o)}catch(o){await oh(e,o)}_E(e)&&wE(e)}function mx(n){return Io(n)&&n.Ta.length<10}function gx(n,e){n.Ta.push(e);const t=xs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function _E(n){return Io(n)&&!xs(n).x_()&&n.Ta.length>0}function wE(n){xs(n).start()}async function yx(n){xs(n).ra()}async function vx(n){const e=xs(n);for(const t of n.Ta)e.ea(t.mutations)}async function _x(n,e,t){const i=n.Ta.shift(),o=Wp.from(i,e,t);await vE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Vh(n)}async function wx(n,e){e&&xs(n).X_&&await(async function(i,o){if((function(c){return tP(c)&&c!==ee.ABORTED})(o.code)){const l=i.Ta.shift();xs(i).B_(),await vE(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Vh(i)}})(n,e),_E(n)&&wE(n)}async function S_(n,e){const t=et(n);t.asyncQueue.verifyOperationInProgress(),Ce(vo,"RemoteStore received new credentials");const i=Io(t);t.Ea.add(3),await au(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Lh(t)}async function Ex(n,e){const t=et(n);e?(t.Ea.delete(2),await Lh(t)):e||(t.Ea.add(2),await au(t),t.Ra.set("Unknown"))}function Fa(n){return n.ma||(n.ma=(function(t,i,o){const l=et(t);return l.sa(),new sx(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:hx.bind(null,n),t_:dx.bind(null,n),r_:fx.bind(null,n),H_:px.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),em(n)?Zp(n):n.Ra.set("Unknown")):(await n.ma.stop(),yE(n))}))),n.ma}function xs(n){return n.fa||(n.fa=(function(t,i,o){const l=et(t);return l.sa(),new ox(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:yx.bind(null,n),r_:wx.bind(null,n),ta:vx.bind(null,n),na:_x.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Vh(n)):(await n.fa.stop(),n.Ta.length>0&&(Ce(vo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new co,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,f=new tm(e,t,c,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nm(n,e){if(Li("AsyncQueue",`${e}: ${n}`),La(n))return new Ae(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{static emptySet(e){return new pa(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ue.comparator(t.key,i.key):(t,i)=>Ue.comparator(t.key,i.key),this.keyedMap=Tl(),this.sortedSet=new Ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new pa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.ga=new Ht(Ue.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ke(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Ra{constructor(e,t,i,o,l,c,f,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new Ra(e,t,pa.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Ix{constructor(){this.queries=A_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=et(t),l=o.queries;o.queries=A_(),l.forEach(((c,f)=>{for(const p of f.Sa)p.onError(i)}))})(this,new Ae(ee.ABORTED,"Firestore shutting down"))}}function A_(){return new Eo((n=>Uw(n)),xh)}async function Sx(n,e){const t=et(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new Tx,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=nm(c,`Initialization of query '${la(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&rm(t)}async function Rx(n,e){const t=et(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Ax(n,e){const t=et(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(o)&&(i=!0);c.wa=o}}i&&rm(t)}function Cx(n,e,t){const i=et(n),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function rm(n){n.Ca.forEach((e=>{e.next()}))}var cp,C_;(C_=cp||(cp={})).Ma="default",C_.Cache="cache";class kx{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Ra(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e){this.key=e}}class TE{constructor(e){this.key=e}}class Px{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=mt(),this.mutatedKeys=mt(),this.eu=zw(e),this.tu=new pa(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new R_,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,S)=>{const A=o.get(w),M=Nh(this.query,S)?S:null,z=!!A&&this.mutatedKeys.has(A.key),$=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let L=!1;A&&M?A.data.isEqual(M.data)?z!==$&&(i.track({type:3,doc:M}),L=!0):this.su(A,M)||(i.track({type:2,doc:M}),L=!0,(p&&this.eu(M,p)>0||y&&this.eu(M,y)<0)&&(f=!0)):!A&&M?(i.track({type:0,doc:M}),L=!0):A&&!M&&(i.track({type:1,doc:A}),L=!0,(p||y)&&(f=!0)),L&&(M?(c=c.add(M),l=$?l.add(w):l.delete(w)):(c=c.delete(w),l=l.delete(w)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),l=l.delete(w.key),i.track({type:1,doc:w})}return{tu:c,iu:i,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((w,S)=>(function(M,z){const $=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke(20277,{Rt:L})}};return $(M)-$(z)})(w.type,S.type)||this.eu(w.doc,S.doc))),this.ou(i),o=o??!1;const f=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,c.length!==0||y?{snapshot:new Ra(this.query,e.tu,l,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new R_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=mt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new TE(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new EE(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=mt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ra.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const im="SyncEngine";class xx{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Nx{constructor(e){this.key=e,this.hu=!1}}class bx{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Eo((f=>Uw(f)),xh),this.Iu=new Map,this.Eu=new Set,this.du=new Ht(Ue.comparator),this.Au=new Map,this.Ru=new Kp,this.Vu={},this.mu=new Map,this.fu=Sa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Dx(n,e,t=!0){const i=kE(n);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await IE(i,e,t,!0),o}async function Mx(n,e){const t=kE(n);await IE(t,e,!0,!1)}async function IE(n,e,t,i){const o=await JP(n.localStore,li(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await Ox(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&mE(n.remoteStore,o),f}async function Ox(n,e,t,i,o){n.pu=(S,A,M)=>(async function($,L,he,Z){let fe=L.view.ru(he);fe.Cs&&(fe=await __($.localStore,L.query,!1).then((({documents:R})=>L.view.ru(R,fe))));const _e=Z&&Z.targetChanges.get(L.targetId),Fe=Z&&Z.targetMismatches.get(L.targetId)!=null,Oe=L.view.applyChanges(fe,$.isPrimaryClient,_e,Fe);return P_($,L.targetId,Oe.au),Oe.snapshot})(n,S,A,M);const l=await __(n.localStore,e,!0),c=new Px(e,l.Qs),f=c.ru(l.documents),p=ou.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(f,n.isPrimaryClient,p);P_(n,t,y.au);const w=new xx(e,t,c);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function Lx(n,e,t){const i=et(n),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((c=>!xh(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await lp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Jp(i.remoteStore,o.targetId),hp(i,o.targetId)})).catch(Oa)):(hp(i,o.targetId),await lp(i.localStore,o.targetId,!0))}async function Vx(n,e){const t=et(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Jp(t.remoteStore,i.targetId))}async function Fx(n,e,t){const i=Hx(n);try{const o=await(function(c,f){const p=et(c),y=Mt.now(),w=f.reduce(((M,z)=>M.add(z.key)),mt());let S,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let z=Vi(),$=mt();return p.Ns.getEntries(M,w).next((L=>{z=L,z.forEach(((he,Z)=>{Z.isValidDocument()||($=$.add(he))}))})).next((()=>p.localDocuments.getOverlayedDocuments(M,z))).next((L=>{S=L;const he=[];for(const Z of f){const fe=Yk(Z,S.get(Z.key).overlayedDocument);fe!=null&&he.push(new To(Z.key,fe,bw(fe.value.mapValue),Di.exists(!0)))}return p.mutationQueue.addMutationBatch(M,y,he,f)})).next((L=>{A=L;const he=L.applyToLocalDocumentSet(S,$);return p.documentOverlayCache.saveOverlays(M,L.batchId,he)}))})).then((()=>({batchId:A.batchId,changes:$w(S)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(c,f,p){let y=c.Vu[c.currentUser.toKey()];y||(y=new Ht(pt)),y=y.insert(f,p),c.Vu[c.currentUser.toKey()]=y})(i,o.batchId,t),await lu(i,o.changes),await Vh(i.remoteStore)}catch(o){const l=nm(o,"Failed to persist write");t.reject(l)}}async function SE(n,e){const t=et(n);try{const i=await GP(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Au.get(l);c&&(At(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?At(c.hu,14607):o.removedDocuments.size>0&&(At(c.hu,42227),c.hu=!1))})),await lu(t,i,e)}catch(i){await Oa(i)}}function k_(n,e,t){const i=et(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(c,f){const p=et(c);p.onlineState=f;let y=!1;p.queries.forEach(((w,S)=>{for(const A of S.Sa)A.va(f)&&(y=!0)})),y&&rm(p)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function jx(n,e,t){const i=et(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let c=new Ht(Ue.comparator);c=c.insert(l,Vn.newNoDocument(l,Xe.min()));const f=mt().add(l),p=new Mh(Xe.min(),new Map,new Ht(pt),c,f);await SE(i,p),i.du=i.du.remove(l),i.Au.delete(e),sm(i)}else await lp(i.localStore,e,!1).then((()=>hp(i,e,t))).catch(Oa)}async function Ux(n,e){const t=et(n),i=e.batch.batchId;try{const o=await KP(t.localStore,e);AE(t,i,null),RE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await lu(t,o)}catch(o){await Oa(o)}}async function zx(n,e,t){const i=et(n);try{const o=await(function(c,f){const p=et(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return p.mutationQueue.lookupMutationBatch(y,f).next((S=>(At(S!==null,37113),w=S.keys(),p.mutationQueue.removeMutationBatch(y,S)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>p.localDocuments.getDocuments(y,w)))}))})(i.localStore,e);AE(i,e,t),RE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await lu(i,o)}catch(o){await Oa(o)}}function RE(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function AE(n,e,t){const i=et(n);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function hp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||CE(n,i)}))}function CE(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Jp(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),sm(n))}function P_(n,e,t){for(const i of t)i instanceof EE?(n.Ru.addReference(i.key,e),Bx(n,i)):i instanceof TE?(Ce(im,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||CE(n,i.key)):Ke(19791,{wu:i})}function Bx(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(Ce(im,"New document in limbo: "+t),n.Eu.add(i),sm(n))}function sm(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ue(Dt.fromString(e)),i=n.fu.next();n.Au.set(i,new Nx(t)),n.du=n.du.insert(t,i),mE(n.remoteStore,new ys(li(Bp(t.path)),i,"TargetPurposeLimboResolution",Ch.ce))}}async function lu(n,e,t){const i=et(n),o=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,p)=>{c.push(i.pu(p,e,t).then((y=>{var w;if((y||t)&&i.isPrimaryClient){const S=y?!y.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:w.current;i.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Qp.As(p.targetId,y);l.push(S)}})))})),await Promise.all(c),i.Pu.H_(o),await(async function(p,y){const w=et(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>te.forEach(y,(A=>te.forEach(A.Es,(M=>w.persistence.referenceDelegate.addReference(S,A.targetId,M))).next((()=>te.forEach(A.ds,(M=>w.persistence.referenceDelegate.removeReference(S,A.targetId,M)))))))))}catch(S){if(!La(S))throw S;Ce(Yp,"Failed to update sequence numbers: "+S)}for(const S of y){const A=S.targetId;if(!S.fromCache){const M=w.Ms.get(A),z=M.snapshotVersion,$=M.withLastLimboFreeSnapshotVersion(z);w.Ms=w.Ms.insert(A,$)}}})(i.localStore,l))}async function $x(n,e){const t=et(n);if(!t.currentUser.isEqual(e)){Ce(im,"User change. New user:",e.toKey());const i=await hE(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new Ae(ee.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await lu(t,i.Ls)}}function Wx(n,e){const t=et(n),i=t.Au.get(e);if(i&&i.hu)return mt().add(i.key);{let o=mt();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const f=t.Tu.get(c);o=o.unionWith(f.view.nu)}return o}}function kE(n){const e=et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=SE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jx.bind(null,e),e.Pu.H_=Ax.bind(null,e.eventManager),e.Pu.yu=Cx.bind(null,e.eventManager),e}function Hx(n){const e=et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ux.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zx.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return qP(this.persistence,new $P,e.initialUser,this.serializer)}Cu(e){return new cE(Gp.mi,this.serializer)}Du(e){return new ZP}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class qx extends ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){At(this.persistence.referenceDelegate instanceof sh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new kP(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?er.withCacheSize(this.cacheSizeBytes):er.DEFAULT;return new cE((i=>sh.mi(i,t)),this.serializer)}}class dp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>k_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$x.bind(null,this.syncEngine),await Ex(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Ix})()}createDatastore(e){const t=Oh(e.databaseInfo.databaseId),i=(function(l){return new ix(l)})(e.databaseInfo);return(function(l,c,f,p){return new lx(l,c,f,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,c,f){return new cx(i,o,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>k_(this.syncEngine,t,0)),(function(){return T_.v()?new T_:new ex})())}createSyncEngine(e,t){return(function(o,l,c,f,p,y,w){const S=new bx(o,l,c,f,p,y);return w&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=et(o);Ce(vo,"RemoteStore shutting down."),l.Ea.add(5),await au(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}dp.provider={build:()=>new dp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="FirestoreClient";class Gx{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Ln.UNAUTHENTICATED,this.clientId=Lp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{Ce(Ns,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(Ce(Ns,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new co;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=nm(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Df(n,e){n.asyncQueue.verifyOperationInProgress(),Ce(Ns,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await hE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function x_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Qx(n);Ce(Ns,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>S_(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>S_(e.remoteStore,o))),n._onlineComponents=e}async function Qx(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ce(Ns,"Using user provided OfflineComponentProvider");try{await Df(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;wa("Error using user provided cache. Falling back to memory cache: "+t),await Df(n,new ah)}}else Ce(Ns,"Using default OfflineComponentProvider"),await Df(n,new qx(void 0));return n._offlineComponents}async function PE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ce(Ns,"Using user provided OnlineComponentProvider"),await x_(n,n._uninitializedComponentsProvider._online)):(Ce(Ns,"Using default OnlineComponentProvider"),await x_(n,new dp))),n._onlineComponents}function Yx(n){return PE(n).then((e=>e.syncEngine))}async function N_(n){const e=await PE(n),t=e.eventManager;return t.onListen=Dx.bind(null,e.syncEngine),t.onUnlisten=Lx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Mx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Vx.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="firestore.googleapis.com",D_=!0;class M_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NE,this.ssl=D_}else this.host=e.host,this.ssl=e.ssl??D_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AP)throw new Ae(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xE(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ae(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ae(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ae(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new ZC;switch(i.type){case"firstParty":return new rk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ae(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=b_.get(t);i&&(Ce("ComponentProvider","Removing Datastore"),b_.delete(t),i.terminate())})(this),Promise.resolve()}}function Jx(n,e,t,i={}){var y;n=Pl(n,Fh);const o=Na(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;o&&(k0(`https://${f}`),P0("Firestore",!0)),l.host!==NE&&l.host!==f&&wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:o,emulatorOptions:i};if(!po(p,c)&&(n._setSettings(p),i.mockUserToken)){let w,S;if(typeof i.mockUserToken=="string")w=i.mockUserToken,S=Ln.MOCK_USER;else{w=SS(i.mockUserToken,(y=n._app)==null?void 0:y.options.projectId);const A=i.mockUserToken.sub||i.mockUserToken.user_id;if(!A)throw new Ae(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ln(A)}n._authCredentials=new ek(new ww(w,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new So(this.firestore,e,this._query)}}class dn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(iu(t,dn._jsonSchema))return new dn(e,i||null,new Ue(Dt.fromString(t.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:ln("string",dn._jsonSchemaVersion),referencePath:ln("string")};class Ss extends So{constructor(e,t,i){super(e,t,Bp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new Ue(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function O_(n,e,...t){if(n=Bn(n),Ew("collection","path",e),n instanceof Fh){const i=Dt.fromString(e,...t);return qv(i),new Ss(n,null,i)}{if(!(n instanceof dn||n instanceof Ss))throw new Ae(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Dt.fromString(e,...t));return qv(i),new Ss(n.firestore,null,i)}}function Xx(n,e,...t){if(n=Bn(n),arguments.length===1&&(e=Lp.newId()),Ew("doc","path",e),n instanceof Fh){const i=Dt.fromString(e,...t);return Hv(i),new dn(n,null,new Ue(i))}{if(!(n instanceof dn||n instanceof Ss))throw new Ae(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Dt.fromString(e,...t));return Hv(i),new dn(n.firestore,n instanceof Ss?n.converter:null,new Ue(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="AsyncQueue";class V_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fE(this,"async_queue_retry"),this._c=()=>{const i=bf();i&&Ce(L_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=bf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=bf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new co;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!La(e))throw e;Ce(L_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Li("INTERNAL UNHANDLED ERROR: ",F_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=tm.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Ke(47125,{Pc:F_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function F_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1})(n,["next","error","complete"])}class lh extends Fh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new V_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V_(e),this._firestoreClient=void 0,await e}}}function Zx(n,e){const t=typeof n=="object"?n:D0(),i=typeof n=="string"?n:eh,o=Sp(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=TS("firestore");l&&Jx(o,...l)}return o}function bE(n){if(n._terminated)throw new Ae(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||e2(n),n._firestoreClient}function e2(n){var i,o,l;const e=n._freezeSettings(),t=(function(f,p,y,w){return new wk(f,p,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,xE(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)})(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Gx(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ir(Cn.fromBase64String(e))}catch(t){throw new Ae(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ir(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ir._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,Ir._jsonSchema))return Ir.fromBase64String(e.bytes)}}Ir._jsonSchemaVersion="firestore/bytes/1.0",Ir._jsonSchema={type:ln("string",Ir._jsonSchemaVersion),bytes:ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ae(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ci._jsonSchemaVersion}}static fromJSON(e){if(iu(e,ci._jsonSchema))return new ci(e.latitude,e.longitude)}}ci._jsonSchemaVersion="firestore/geoPoint/1.0",ci._jsonSchema={type:ln("string",ci._jsonSchemaVersion),latitude:ln("number"),longitude:ln("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new hi(e.vectorValues);throw new Ae(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:ln("string",hi._jsonSchemaVersion),vectorValues:ln("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=/^__.*__$/;class n2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new To(e,this.data,this.fieldMask,t,this.fieldTransforms):new su(e,this.data,t,this.fieldTransforms)}}function DE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke(40011,{Ac:n})}}class lm{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(DE(this.Ac)&&t2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class r2{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Oh(e)}Cc(e,t,i,o=!1){return new lm({Ac:e,methodName:t,Dc:i,path:An.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ME(n){const e=n._freezeSettings(),t=Oh(n._databaseId);return new r2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function i2(n,e,t,i,o,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);VE("Data must be an object, but it was:",c,i);const f=OE(i,c);let p,y;if(l.merge)p=new zr(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const w=[];for(const S of l.mergeFields){const A=o2(e,S,t);if(!c.contains(A))throw new Ae(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);l2(w,A)||w.push(A)}p=new zr(w),y=c.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,y=c.fieldTransforms;return new n2(new Tr(f),p,y)}class um extends am{_toFieldTransform(e){return new qk(e.path,new ql)}isEqual(e){return e instanceof um}}function s2(n,e,t,i=!1){return cm(t,n.Cc(i?4:3,e))}function cm(n,e){if(LE(n=Bn(n)))return VE("Unsupported field value:",e,n),OE(n,e);if(n instanceof am)return(function(i,o){if(!DE(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let c=0;for(const f of i){let p=cm(f,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(i,o){if((i=Bn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return $k(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Mt.fromDate(i);return{timestampValue:ih(o.serializer,l)}}if(i instanceof Mt){const l=new Mt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ih(o.serializer,l)}}if(i instanceof ci)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ir)return{bytesValue:nE(o.serializer,i._byteString)};if(i instanceof dn){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:qp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof hi)return(function(c,f){return{mapValue:{fields:{[xw]:{stringValue:Nw},[th]:{arrayValue:{values:c.toArray().map((y=>{if(typeof y!="number")throw f.Sc("VectorValues must only contain numeric values.");return $p(f.serializer,y)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${Ah(i)}`)})(n,e)}function OE(n,e){const t={};return Sw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(n,((i,o)=>{const l=cm(o,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function LE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Mt||n instanceof ci||n instanceof Ir||n instanceof dn||n instanceof am||n instanceof hi)}function VE(n,e,t){if(!LE(t)||!Tw(t)){const i=Ah(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function o2(n,e,t){if((e=Bn(e))instanceof om)return e._internalPath;if(typeof e=="string")return FE(n,e);throw uh("Field path arguments must be of type string or ",n,!1,void 0,t)}const a2=new RegExp("[~\\*/\\[\\]]");function FE(n,e,t){if(e.search(a2)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new om(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function uh(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new Ae(ee.INVALID_ARGUMENT,f+n+p)}function l2(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class u2 extends jE{data(){return super.data()}}function hm(n,e){return typeof e=="string"?FE(n,e):e instanceof om?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ae(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dm{}class UE extends dm{}function h2(n,e,...t){let i=[];e instanceof dm&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((p=>p instanceof pm)).length,f=l.filter((p=>p instanceof fm)).length;if(c>1||c>0&&f>0)throw new Ae(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)n=o._apply(n);return n}class fm extends UE{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new fm(e,t,i)}_apply(e){const t=this._parse(e);return zE(e._query,t),new So(e.firestore,e.converter,np(e._query,t))}_parse(e){const t=ME(e.firestore);return(function(l,c,f,p,y,w,S){let A;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Ae(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){z_(S,w);const z=[];for(const $ of S)z.push(U_(p,l,$));A={arrayValue:{values:z}}}else A=U_(p,l,S)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||z_(S,w),A=s2(f,c,S,w==="in"||w==="not-in");return an.create(y,w,A)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class pm extends dm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new pm(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Wr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let c=o;const f=l.getFlattenedFilters();for(const p of f)zE(c,p),c=np(c,p)})(e._query,t),new So(e.firestore,e.converter,np(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mm extends UE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new mm(e,t)}_apply(e){const t=(function(o,l,c){if(o.startAt!==null)throw new Ae(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ae(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hl(l,c)})(e._query,this._field,this._direction);return new So(e.firestore,e.converter,(function(o,l){const c=o.explicitOrderBy.concat([l]);return new Va(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function d2(n,e="asc"){const t=e,i=hm("orderBy",n);return mm._create(i,t)}function U_(n,e,t){if(typeof(t=Bn(t))=="string"){if(t==="")throw new Ae(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jw(e)&&t.indexOf("/")!==-1)throw new Ae(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Dt.fromString(t));if(!Ue.isDocumentKey(i))throw new Ae(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return e_(n,new Ue(i))}if(t instanceof dn)return e_(n,t._key);throw new Ae(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(t)}.`)}function z_(n,e){if(!Array.isArray(n)||n.length===0)throw new Ae(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zE(n,e){const t=(function(o,l){for(const c of o)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ae(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class f2{convertValue(e,t="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return wo(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){var i,o,l;const t=(l=(o=(i=e.fields)==null?void 0:i[th].arrayValue)==null?void 0:o.values)==null?void 0:l.map((c=>Xt(c.doubleValue)));return new hi(t)}convertGeoPoint(e){return new ci(Xt(e.latitude),Xt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ph(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const t=Cs(e);return new Mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Dt.fromString(e);At(lE(i),9688,{name:e});const o=new $l(i.get(1),i.get(3)),l=new Ue(i.popFirst(5));return o.isEqual(t)||Li(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class Sl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ho extends jE{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(hm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ho._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ho._jsonSchemaVersion="firestore/documentSnapshot/1.0",ho._jsonSchema={type:ln("string",ho._jsonSchemaVersion),bundleSource:ln("string","DocumentSnapshot"),bundleName:ln("string"),bundle:ln("string")};class Fc extends ho{data(e={}){return super.data(e)}}class ma{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Sl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Fc(this._firestore,this._userDataWriter,i.key,i,new Sl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((f=>{const p=new Fc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Sl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new Fc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Sl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return f.type!==0&&(y=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),w=c.indexOf(f.doc.key)),{type:m2(f.type),doc:p,oldIndex:y,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ma._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function m2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke(61501,{type:n})}}ma._jsonSchemaVersion="firestore/querySnapshot/1.0",ma._jsonSchema={type:ln("string",ma._jsonSchemaVersion),bundleSource:ln("string","QuerySnapshot"),bundleName:ln("string"),bundle:ln("string")};class BE extends f2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ir(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,t)}}function g2(n,e){const t=Pl(n.firestore,lh),i=Xx(n),o=p2(n.converter,e);return v2(t,[i2(ME(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Di.exists(!1))]).then((()=>i))}function y2(n,...e){var p,y,w;n=Bn(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||j_(e[i])||(t=e[i++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(j_(e[i])){const S=e[i];e[i]=(p=S.next)==null?void 0:p.bind(S),e[i+1]=(y=S.error)==null?void 0:y.bind(S),e[i+2]=(w=S.complete)==null?void 0:w.bind(S)}let l,c,f;if(n instanceof dn)c=Pl(n.firestore,lh),f=Bp(n._key.path),l={next:S=>{e[i]&&e[i](_2(c,n,S))},error:e[i+1],complete:e[i+2]};else{const S=Pl(n,So);c=Pl(S.firestore,lh),f=S._query;const A=new BE(c);l={next:M=>{e[i]&&e[i](new ma(c,A,S,M))},error:e[i+1],complete:e[i+2]},c2(n._query)}return(function(A,M,z,$){const L=new Kx($),he=new kx(M,L,z);return A.asyncQueue.enqueueAndForget((async()=>Sx(await N_(A),he))),()=>{L.Nu(),A.asyncQueue.enqueueAndForget((async()=>Rx(await N_(A),he)))}})(bE(c),f,o,l)}function v2(n,e){return(function(i,o){const l=new co;return i.asyncQueue.enqueueAndForget((async()=>Fx(await Yx(i),o,l))),l.promise})(bE(n),e)}function _2(n,e,t){const i=t.docs.get(e._key),o=new BE(n);return new ho(n,o,e._key,i,new Sl(t.hasPendingWrites,t.fromCache),e.converter)}function w2(){return new um("serverTimestamp")}(function(e,t=!0){(function(o){Ma=o})(ba),va(new mo("firestore",((i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new lh(new tk(i.getProvider("auth-internal")),new ik(c,i.getProvider("app-check-internal")),(function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ae(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(y.options.projectId,w)})(c,o),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Ts(zv,Bv,e),Ts(zv,Bv,"esm2020")})();const fp={apiKey:"AIzaSyBuCWmfyeRl0h6FEoS9_vlam5Hf0Zw3fW0",authDomain:"aditya-singhal-website.firebaseapp.com",projectId:"aditya-singhal-website",storageBucket:"aditya-singhal-website.appspot.com",messagingSenderId:"476753482582",appId:"1:476753482582:web:9b25b2d3cd6ff3ba66bcf7",measurementId:"G-CSRQLVW2TG"};if(!fp.apiKey||!fp.projectId)throw new Error("Missing required Firebase configuration");const $E=b0(fp),ch=JC($E),B_=Zx($E),E2=({message:n="Loading..."})=>P.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",flexDirection:"column",gap:"1rem"},children:[P.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite"}}),P.jsx("p",{children:n}),P.jsx("style",{children:`
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `})]}),T2={user:null,loading:!0},WE=J.createContext(T2),I2=({children:n})=>{const[e,t]=J.useState(null),[i,o]=J.useState(!0);return J.useEffect(()=>UA(ch,c=>{t(c),o(!1)}),[]),i?P.jsx(E2,{message:"Authenticating..."}):P.jsx(WE.Provider,{value:{user:e,loading:i},children:n})},S2="/assets/react-CHdo91hT.svg",R2="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='31.88'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20257'%3e%3cdefs%3e%3clinearGradient%20id='IconifyId1813088fe1fbc01fb466'%20x1='-.828%25'%20x2='57.636%25'%20y1='7.652%25'%20y2='78.411%25'%3e%3cstop%20offset='0%25'%20stop-color='%2341D1FF'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23BD34FE'%3e%3c/stop%3e%3c/linearGradient%3e%3clinearGradient%20id='IconifyId1813088fe1fbc01fb467'%20x1='43.376%25'%20x2='50.316%25'%20y1='2.242%25'%20y2='89.03%25'%3e%3cstop%20offset='0%25'%20stop-color='%23FFEA83'%3e%3c/stop%3e%3cstop%20offset='8.333%25'%20stop-color='%23FFDD35'%3e%3c/stop%3e%3cstop%20offset='100%25'%20stop-color='%23FFA800'%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20fill='url(%23IconifyId1813088fe1fbc01fb466)'%20d='M255.153%2037.938L134.897%20252.976c-2.483%204.44-8.862%204.466-11.382.048L.875%2037.958c-2.746-4.814%201.371-10.646%206.827-9.67l120.385%2021.517a6.537%206.537%200%200%200%202.322-.004l117.867-21.483c5.438-.991%209.574%204.796%206.877%209.62Z'%3e%3c/path%3e%3cpath%20fill='url(%23IconifyId1813088fe1fbc01fb467)'%20d='M185.432.063L96.44%2017.501a3.268%203.268%200%200%200-2.634%203.014l-5.474%2092.456a3.268%203.268%200%200%200%203.997%203.378l24.777-5.718c2.318-.535%204.413%201.507%203.936%203.838l-7.361%2036.047c-.495%202.426%201.782%204.5%204.151%203.78l15.304-4.649c2.372-.72%204.652%201.36%204.15%203.788l-11.698%2056.621c-.732%203.542%203.979%205.473%205.943%202.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505%204.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z'%3e%3c/path%3e%3c/svg%3e";function A2(){const[n,e]=J.useState(0),t=Eh(),i=async()=>{try{await tw(ch),t("/")}catch(o){console.error("Error signing out:",o)}};return P.jsxs("div",{id:"private-app",children:[P.jsx("div",{style:{position:"absolute",top:"20px",right:"20px"},children:P.jsx("button",{onClick:i,children:"Logout"})}),P.jsxs("div",{children:[P.jsx("a",{href:"https://vitejs.dev",target:"_blank",children:P.jsx("img",{src:R2,className:"logo",alt:"Vite logo"})}),P.jsx("a",{href:"https://react.dev",target:"_blank",children:P.jsx("img",{src:S2,className:"logo react",alt:"React logo"})})]}),P.jsx("h1",{children:"Vite + React"}),P.jsxs("div",{className:"card",children:[P.jsxs("button",{onClick:()=>e(o=>o+1),children:["count is ",n]}),P.jsxs("p",{children:["Edit ",P.jsx("code",{children:"src/PrivateApp.tsx"})," and save to test HMR"]})]}),P.jsx("p",{className:"read-the-docs",children:"Click on the Vite and React logos to learn more"})]})}const HE="/assets/404-DIjrbEzU.gif";class ki extends J.Component{constructor(){super(...arguments);vc(this,"state",{hasError:!1});vc(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})});vc(this,"handleGoHome",()=>{window.location.href="/"})}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,i){console.error("Uncaught error:",t,i)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:P.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",padding:"2rem"},children:[P.jsx("h2",{style:{fontSize:"max(2vw, 16px)",marginBottom:"1rem"},children:this.state.error?"Something went wrong":"Sorry, that was not a real page."}),this.state.error&&P.jsx("p",{style:{color:"#666",marginBottom:"1rem"},children:"We encountered an unexpected error. Please try again."}),P.jsx("img",{src:HE,alt:"Error",style:{maxWidth:"75%",height:"auto",width:"100%",marginBottom:"2rem"}}),P.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[this.state.error&&P.jsx("button",{onClick:this.handleRetry,style:{padding:"0.5rem 1rem",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Try Again"}),P.jsx("button",{onClick:this.handleGoHome,style:{padding:"0.5rem 1rem",backgroundColor:"#2ecc71",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Go Home"})]})]}):this.props.children}}const C2=()=>{const n=()=>{window.location.href="/"};return P.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",padding:"2rem",width:"90%",maxWidth:"600px"},children:[P.jsx("h2",{style:{fontSize:"max(2vw, 16px)",marginBottom:"1rem",color:"#333"},children:"Sorry, that was not a real page."}),P.jsx("img",{src:HE,alt:"Sorry 404!",style:{maxWidth:"100%",height:"auto",marginBottom:"2rem",borderRadius:"8px"}}),P.jsx("button",{onClick:n,style:{padding:"12px 24px",backgroundColor:"#2ecc71",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"500",transition:"background-color 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#27ae60",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2ecc71",children:"Go Home"})]})};var uu={};(function n(e,t,i,o){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=(function(){if(!e.OffscreenCanvas)return!1;var O=new OffscreenCanvas(1,1),T=O.getContext("2d");T.fillRect(0,0,1,1);var F=O.transferToImageBitmap();try{T.createPattern(F,"no-repeat")}catch{return!1}return!0})();function p(){}function y(O){var T=t.exports.Promise,F=T!==void 0?T:e.Promise;return typeof F=="function"?new F(O):(O(p,p),null)}var w=(function(O,T){return{transform:function(F){if(O)return F;if(T.has(F))return T.get(F);var H=new OffscreenCanvas(F.width,F.height),oe=H.getContext("2d");return oe.drawImage(F,0,0),T.set(F,H),H},clear:function(){T.clear()}}})(f,new Map),S=(function(){var O=Math.floor(16.666666666666668),T,F,H={},oe=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(ne){var ce=Math.random();return H[ce]=requestAnimationFrame(function ue(re){oe===re||oe+O-1<re?(oe=re,delete H[ce],ne()):H[ce]=requestAnimationFrame(ue)}),ce},F=function(ne){H[ne]&&cancelAnimationFrame(H[ne])}):(T=function(ne){return setTimeout(ne,O)},F=function(ne){return clearTimeout(ne)}),{frame:T,cancel:F}})(),A=(function(){var O,T,F={};function H(oe){function ne(ce,ue){oe.postMessage({options:ce||{},callback:ue})}oe.init=function(ue){var re=ue.transferControlToOffscreen();oe.postMessage({canvas:re},[re])},oe.fire=function(ue,re,me){if(T)return ne(ue,null),T;var Pe=Math.random().toString(36).slice(2);return T=y(function(ve){function Ee(ze){ze.data.callback===Pe&&(delete F[Pe],oe.removeEventListener("message",Ee),T=null,w.clear(),me(),ve())}oe.addEventListener("message",Ee),ne(ue,Pe),F[Pe]=Ee.bind(null,{data:{callback:Pe}})}),T},oe.reset=function(){oe.postMessage({reset:!0});for(var ue in F)F[ue](),delete F[ue]}}return function(){if(O)return O;if(!i&&l){var oe=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{O=new Worker(URL.createObjectURL(new Blob([oe])))}catch(ne){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",ne),null}H(O)}return O}})(),M={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function z(O,T){return T?T(O):O}function $(O){return O!=null}function L(O,T,F){return z(O&&$(O[T])?O[T]:M[T],F)}function he(O){return O<0?0:Math.floor(O)}function Z(O,T){return Math.floor(Math.random()*(T-O))+O}function fe(O){return parseInt(O,16)}function _e(O){return O.map(Fe)}function Fe(O){var T=String(O).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:fe(T.substring(0,2)),g:fe(T.substring(2,4)),b:fe(T.substring(4,6))}}function Oe(O){var T=L(O,"origin",Object);return T.x=L(T,"x",Number),T.y=L(T,"y",Number),T}function R(O){O.width=document.documentElement.clientWidth,O.height=document.documentElement.clientHeight}function _(O){var T=O.getBoundingClientRect();O.width=T.width,O.height=T.height}function E(O){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=O,T}function C(O,T,F,H,oe,ne,ce,ue,re){O.save(),O.translate(T,F),O.rotate(ne),O.scale(H,oe),O.arc(0,0,1,ce,ue,re),O.restore()}function N(O){var T=O.angle*(Math.PI/180),F=O.spread*(Math.PI/180);return{x:O.x,y:O.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:O.startVelocity*.5+Math.random()*O.startVelocity,angle2D:-T+(.5*F-Math.random()*F),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:O.color,shape:O.shape,tick:0,totalTicks:O.ticks,decay:O.decay,drift:O.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:O.gravity*3,ovalScalar:.6,scalar:O.scalar,flat:O.flat}}function b(O,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var F=T.tick++/T.totalTicks,H=T.x+T.random*T.tiltCos,oe=T.y+T.random*T.tiltSin,ne=T.wobbleX+T.random*T.tiltCos,ce=T.wobbleY+T.random*T.tiltSin;if(O.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-F)+")",O.beginPath(),c&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))O.fill(we(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(ne-H)*.1,Math.abs(ce-oe)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var ue=Math.PI/10*T.wobble,re=Math.abs(ne-H)*.1,me=Math.abs(ce-oe)*.1,Pe=T.shape.bitmap.width*T.scalar,ve=T.shape.bitmap.height*T.scalar,Ee=new DOMMatrix([Math.cos(ue)*re,Math.sin(ue)*re,-Math.sin(ue)*me,Math.cos(ue)*me,T.x,T.y]);Ee.multiplySelf(new DOMMatrix(T.shape.matrix));var ze=O.createPattern(w.transform(T.shape.bitmap),"no-repeat");ze.setTransform(Ee),O.globalAlpha=1-F,O.fillStyle=ze,O.fillRect(T.x-Pe/2,T.y-ve/2,Pe,ve),O.globalAlpha=1}else if(T.shape==="circle")O.ellipse?O.ellipse(T.x,T.y,Math.abs(ne-H)*T.ovalScalar,Math.abs(ce-oe)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):C(O,T.x,T.y,Math.abs(ne-H)*T.ovalScalar,Math.abs(ce-oe)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var Ie=Math.PI/2*3,Be=4*T.scalar,Me=8*T.scalar,ht=T.x,Ge=T.y,nt=5,rt=Math.PI/nt;nt--;)ht=T.x+Math.cos(Ie)*Me,Ge=T.y+Math.sin(Ie)*Me,O.lineTo(ht,Ge),Ie+=rt,ht=T.x+Math.cos(Ie)*Be,Ge=T.y+Math.sin(Ie)*Be,O.lineTo(ht,Ge),Ie+=rt;else O.moveTo(Math.floor(T.x),Math.floor(T.y)),O.lineTo(Math.floor(T.wobbleX),Math.floor(oe)),O.lineTo(Math.floor(ne),Math.floor(ce)),O.lineTo(Math.floor(H),Math.floor(T.wobbleY));return O.closePath(),O.fill(),T.tick<T.totalTicks}function x(O,T,F,H,oe){var ne=T.slice(),ce=O.getContext("2d"),ue,re,me=y(function(Pe){function ve(){ue=re=null,ce.clearRect(0,0,H.width,H.height),w.clear(),oe(),Pe()}function Ee(){i&&!(H.width===o.width&&H.height===o.height)&&(H.width=O.width=o.width,H.height=O.height=o.height),!H.width&&!H.height&&(F(O),H.width=O.width,H.height=O.height),ce.clearRect(0,0,H.width,H.height),ne=ne.filter(function(ze){return b(ce,ze)}),ne.length?ue=S.frame(Ee):ve()}ue=S.frame(Ee),re=ve});return{addFettis:function(Pe){return ne=ne.concat(Pe),me},canvas:O,promise:me,reset:function(){ue&&S.cancel(ue),re&&re()}}}function je(O,T){var F=!O,H=!!L(T||{},"resize"),oe=!1,ne=L(T,"disableForReducedMotion",Boolean),ce=l&&!!L(T||{},"useWorker"),ue=ce?A():null,re=F?R:_,me=O&&ue?!!O.__confetti_initialized:!1,Pe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ve;function Ee(Ie,Be,Me){for(var ht=L(Ie,"particleCount",he),Ge=L(Ie,"angle",Number),nt=L(Ie,"spread",Number),rt=L(Ie,"startVelocity",Number),Zt=L(Ie,"decay",Number),en=L(Ie,"gravity",Number),kn=L(Ie,"drift",Number),yt=L(Ie,"colors",_e),Vt=L(Ie,"ticks",Number),Ze=L(Ie,"shapes"),it=L(Ie,"scalar"),St=!!L(Ie,"flat"),qt=Oe(Ie),_n=ht,zt=[],Kt=O.width*qt.x,Gt=O.height*qt.y;_n--;)zt.push(N({x:Kt,y:Gt,angle:Ge,spread:nt,startVelocity:rt,color:yt[_n%yt.length],shape:Ze[Z(0,Ze.length)],ticks:Vt,decay:Zt,gravity:en,drift:kn,scalar:it,flat:St}));return ve?ve.addFettis(zt):(ve=x(O,zt,re,Be,Me),ve.promise)}function ze(Ie){var Be=ne||L(Ie,"disableForReducedMotion",Boolean),Me=L(Ie,"zIndex",Number);if(Be&&Pe)return y(function(rt){rt()});F&&ve?O=ve.canvas:F&&!O&&(O=E(Me),document.body.appendChild(O)),H&&!me&&re(O);var ht={width:O.width,height:O.height};ue&&!me&&ue.init(O),me=!0,ue&&(O.__confetti_initialized=!0);function Ge(){if(ue){var rt={getBoundingClientRect:function(){if(!F)return O.getBoundingClientRect()}};re(rt),ue.postMessage({resize:{width:rt.width,height:rt.height}});return}ht.width=ht.height=null}function nt(){ve=null,H&&(oe=!1,e.removeEventListener("resize",Ge)),F&&O&&(document.body.contains(O)&&document.body.removeChild(O),O=null,me=!1)}return H&&!oe&&(oe=!0,e.addEventListener("resize",Ge,!1)),ue?ue.fire(Ie,ht,nt):Ee(Ie,ht,nt)}return ze.reset=function(){ue&&ue.reset(),ve&&ve.reset()},ze}var tt;function at(){return tt||(tt=je(null,{useWorker:!0,resize:!0})),tt}function we(O,T,F,H,oe,ne,ce){var ue=new Path2D(O),re=new Path2D;re.addPath(ue,new DOMMatrix(T));var me=new Path2D;return me.addPath(re,new DOMMatrix([Math.cos(ce)*oe,Math.sin(ce)*oe,-Math.sin(ce)*ne,Math.cos(ce)*ne,F,H])),me}function X(O){if(!c)throw new Error("path confetti are not supported in this browser");var T,F;typeof O=="string"?T=O:(T=O.path,F=O.matrix);var H=new Path2D(T),oe=document.createElement("canvas"),ne=oe.getContext("2d");if(!F){for(var ce=1e3,ue=ce,re=ce,me=0,Pe=0,ve,Ee,ze=0;ze<ce;ze+=2)for(var Ie=0;Ie<ce;Ie+=2)ne.isPointInPath(H,ze,Ie,"nonzero")&&(ue=Math.min(ue,ze),re=Math.min(re,Ie),me=Math.max(me,ze),Pe=Math.max(Pe,Ie));ve=me-ue,Ee=Pe-re;var Be=10,Me=Math.min(Be/ve,Be/Ee);F=[Me,0,0,Me,-Math.round(ve/2+ue)*Me,-Math.round(Ee/2+re)*Me]}return{type:"path",path:T,matrix:F}}function se(O){var T,F=1,H="#000000",oe='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof O=="string"?T=O:(T=O.text,F="scalar"in O?O.scalar:F,oe="fontFamily"in O?O.fontFamily:oe,H="color"in O?O.color:H);var ne=10*F,ce=""+ne+"px "+oe,ue=new OffscreenCanvas(ne,ne),re=ue.getContext("2d");re.font=ce;var me=re.measureText(T),Pe=Math.ceil(me.actualBoundingBoxRight+me.actualBoundingBoxLeft),ve=Math.ceil(me.actualBoundingBoxAscent+me.actualBoundingBoxDescent),Ee=2,ze=me.actualBoundingBoxLeft+Ee,Ie=me.actualBoundingBoxAscent+Ee;Pe+=Ee+Ee,ve+=Ee+Ee,ue=new OffscreenCanvas(Pe,ve),re=ue.getContext("2d"),re.font=ce,re.fillStyle=H,re.fillText(T,ze,Ie);var Be=1/F;return{type:"bitmap",bitmap:ue.transferToImageBitmap(),matrix:[Be,0,0,Be,-Pe*Be/2,-ve*Be/2]}}t.exports=function(){return at().apply(this,arguments)},t.exports.reset=function(){at().reset()},t.exports.create=je,t.exports.shapeFromPath=X,t.exports.shapeFromText=se})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),uu,!1);const _l=uu.exports;uu.exports.create;const k2=()=>{const[n,e]=J.useState([]),[t,i]=J.useState(""),[o,l]=J.useState(null),[c,f]=J.useState(null),[p,y]=J.useState(!1),[w,S]=J.useState(!1);J.useEffect(()=>{const L=O_(B_,"love-ingy-messages"),he=h2(L,d2("timestamp","desc"));return y2(he,fe=>{const _e=fe.docs.map(Fe=>{const Oe=Fe.data();return{id:Fe.id,message:Oe.message,timestamp:Oe.timestamp?Oe.timestamp.toDate().toISOString():new Date().toISOString()}});e(_e)},fe=>{console.error("Error fetching messages:",fe),f("Failed to load messages. Please refresh the page."),fe.code==="permission-denied"&&f("Access denied. You do not have permission to view these messages.")})},[]);const A=async()=>{if(t.trim()===""){y(!0),setTimeout(()=>y(!1),500);return}try{const L=O_(B_,"love-ingy-messages");let he={message:t,timestamp:w2()};try{const Z=JSON.parse(t);Z&&typeof Z=="object"&&(he={message:Z.text,timestamp:new Mt(Z.timestamp/1e3,Z.timestamp%1e3)})}catch{}await g2(L,he),i(""),S(!0),setTimeout(()=>S(!1),2e3),(n.length+1)%10===0&&$()}catch(L){console.error("Error adding message:",L),L&&typeof L=="object"&&"code"in L&&L.code==="permission-denied"&&alert("Access denied. You do not have permission to add messages.")}},M=L=>{L.key==="Enter"&&A()},z=()=>{const L=_l.shapeFromText({text:"",scalar:2});_l({shapes:[L],scalar:1.5,spread:180,particleCount:30,origin:{y:.1},startVelocity:35,gravity:.8,drift:0,ticks:200}),setTimeout(()=>{_l({shapes:[L],scalar:1.2,spread:120,particleCount:20,origin:{y:.2,x:.8},startVelocity:25,gravity:.6,ticks:150})},200)},$=()=>{const L=_l.shapeFromText({text:"",scalar:2});_l({shapes:[L],particleCount:50,spread:360,origin:{y:.5},scalar:2,gravity:1,ticks:300})};return P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"love-ingy-body"}),P.jsx("button",{className:"heart-button",onClick:z,title:"",children:""}),P.jsxs("div",{className:"container",children:[c&&P.jsx("div",{style:{color:"red",marginBottom:"20px"},children:c}),P.jsxs("div",{className:"message-counter",children:[" ",n.length," ",n.length===1?"message":"messages"]}),P.jsx("div",{children:n.map(({id:L,message:he,timestamp:Z},fe)=>P.jsxs("div",{className:"love-message-container slide-in",onMouseEnter:()=>l(fe),onMouseLeave:()=>l(null),children:[P.jsx("p",{className:"love-message",children:he}),o===fe&&P.jsx("div",{className:"tooltip",children:new Date(Z).toLocaleString()})]},L))}),P.jsxs("div",{className:`add-message-container ${p?"shake":""}`,children:[P.jsx("input",{className:"love-ingy-input",type:"text",placeholder:"Add a new love message",value:t,onChange:L=>i(L.target.value),onKeyPress:M}),P.jsx("button",{className:"love-ingy-button",onClick:A,children:w?"":"Add Love Message"})]})]})]})};var gm=hu(),Et=n=>cu(n,gm),ym=hu();Et.write=n=>cu(n,ym);var jh=hu();Et.onStart=n=>cu(n,jh);var vm=hu();Et.onFrame=n=>cu(n,vm);var _m=hu();Et.onFinish=n=>cu(n,_m);var ga=[];Et.setTimeout=(n,e)=>{const t=Et.now()+e,i=()=>{const l=ga.findIndex(c=>c.cancel==i);~l&&ga.splice(l,1),_s-=~l?1:0},o={time:t,handler:n,cancel:i};return ga.splice(qE(t),0,o),_s+=1,KE(),o};var qE=n=>~(~ga.findIndex(e=>e.time>n)||~ga.length);Et.cancel=n=>{jh.delete(n),vm.delete(n),_m.delete(n),gm.delete(n),ym.delete(n)};Et.sync=n=>{pp=!0,Et.batchedUpdates(n),pp=!1};Et.throttle=n=>{let e;function t(){try{n(...e)}finally{e=null}}function i(...o){e=o,Et.onStart(t)}return i.handler=n,i.cancel=()=>{jh.delete(t),e=null},i};var wm=typeof window<"u"?window.requestAnimationFrame:(()=>{});Et.use=n=>wm=n;Et.now=typeof performance<"u"?()=>performance.now():Date.now;Et.batchedUpdates=n=>n();Et.catch=console.error;Et.frameLoop="always";Et.advance=()=>{Et.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):QE()};var vs=-1,_s=0,pp=!1;function cu(n,e){pp?(e.delete(n),n(0)):(e.add(n),KE())}function KE(){vs<0&&(vs=0,Et.frameLoop!=="demand"&&wm(GE))}function P2(){vs=-1}function GE(){~vs&&(wm(GE),Et.batchedUpdates(QE))}function QE(){const n=vs;vs=Et.now();const e=qE(vs);if(e&&(YE(ga.splice(0,e),t=>t.handler()),_s-=e),!_s){P2();return}jh.flush(),gm.flush(n?Math.min(64,vs-n):16.667),vm.flush(),ym.flush(),_m.flush()}function hu(){let n=new Set,e=n;return{add(t){_s+=e==n&&!n.has(t)?1:0,n.add(t)},delete(t){return _s-=e==n&&n.has(t)?1:0,n.delete(t)},flush(t){e.size&&(n=new Set,_s-=e.size,YE(e,i=>i(t)&&n.add(i)),_s+=n.size,e=n)}}}function YE(n,e){n.forEach(t=>{try{e(t)}catch(i){Et.catch(i)}})}var x2=Object.defineProperty,N2=(n,e)=>{for(var t in e)x2(n,t,{get:e[t],enumerable:!0})},Aa={};N2(Aa,{assign:()=>O2,colors:()=>Rs,createStringInterpolator:()=>Tm,skipAnimation:()=>XE,to:()=>JE,willAdvance:()=>Im});function b2(){}var D2=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),Nt={arr:Array.isArray,obj:n=>!!n&&n.constructor.name==="Object",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0};function M2(n,e){if(Nt.arr(n)){if(!Nt.arr(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return n===e}var tr=(n,e)=>n.forEach(e);function hh(n,e,t){if(Nt.arr(n)){for(let i=0;i<n.length;i++)e.call(t,n[i],`${i}`);return}for(const i in n)n.hasOwnProperty(i)&&e.call(t,n[i],i)}var Rl=n=>Nt.und(n)?[]:Nt.arr(n)?n:[n],Em=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Tm,JE,Rs=null,XE=!1,Im=b2,O2=n=>{n.to&&(JE=n.to),n.now&&(Et.now=n.now),n.colors!==void 0&&(Rs=n.colors),n.skipAnimation!=null&&(XE=n.skipAnimation),n.createStringInterpolator&&(Tm=n.createStringInterpolator),n.requestAnimationFrame&&Et.use(n.requestAnimationFrame),n.batchedUpdates&&(Et.batchedUpdates=n.batchedUpdates),n.willAdvance&&(Im=n.willAdvance),n.frameLoop&&(Et.frameLoop=n.frameLoop)},Ml=new Set,Sr=[],Mf=[],dh=0,Sm={get idle(){return!Ml.size&&!Sr.length},start(n){dh>n.priority?(Ml.add(n),Et.onStart(L2)):(ZE(n),Et(mp))},advance:mp,sort(n){if(dh)Et.onFrame(()=>Sm.sort(n));else{const e=Sr.indexOf(n);~e&&(Sr.splice(e,1),eT(n))}},clear(){Sr=[],Ml.clear()}};function L2(){Ml.forEach(ZE),Ml.clear(),Et(mp)}function ZE(n){Sr.includes(n)||eT(n)}function eT(n){Sr.splice(V2(Sr,e=>e.priority>n.priority),0,n)}function mp(n){const e=Mf;for(let t=0;t<Sr.length;t++){const i=Sr[t];dh=i.priority,i.idle||(Im(i),i.advance(n),i.idle||e.push(i))}return dh=0,Mf=Sr,Mf.length=0,Sr=e,Sr.length>0}function V2(n,e){const t=n.findIndex(e);return t<0?n.length:t}var F2={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Br="[-+]?\\d*\\.?\\d+",fh=Br+"%";function Uh(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}var j2=new RegExp("rgb"+Uh(Br,Br,Br)),U2=new RegExp("rgba"+Uh(Br,Br,Br,Br)),z2=new RegExp("hsl"+Uh(Br,fh,fh)),B2=new RegExp("hsla"+Uh(Br,fh,fh,Br)),$2=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,W2=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,H2=/^#([0-9a-fA-F]{6})$/,q2=/^#([0-9a-fA-F]{8})$/;function K2(n){let e;return typeof n=="number"?n>>>0===n&&n>=0&&n<=4294967295?n:null:(e=H2.exec(n))?parseInt(e[1]+"ff",16)>>>0:Rs&&Rs[n]!==void 0?Rs[n]:(e=j2.exec(n))?(oa(e[1])<<24|oa(e[2])<<16|oa(e[3])<<8|255)>>>0:(e=U2.exec(n))?(oa(e[1])<<24|oa(e[2])<<16|oa(e[3])<<8|H_(e[4]))>>>0:(e=$2.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=q2.exec(n))?parseInt(e[1],16)>>>0:(e=W2.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=z2.exec(n))?($_(W_(e[1]),Cc(e[2]),Cc(e[3]))|255)>>>0:(e=B2.exec(n))?($_(W_(e[1]),Cc(e[2]),Cc(e[3]))|H_(e[4]))>>>0:null}function Of(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function $_(n,e,t){const i=t<.5?t*(1+e):t+e-t*e,o=2*t-i,l=Of(o,i,n+1/3),c=Of(o,i,n),f=Of(o,i,n-1/3);return Math.round(l*255)<<24|Math.round(c*255)<<16|Math.round(f*255)<<8}function oa(n){const e=parseInt(n,10);return e<0?0:e>255?255:e}function W_(n){return(parseFloat(n)%360+360)%360/360}function H_(n){const e=parseFloat(n);return e<0?0:e>1?255:Math.round(e*255)}function Cc(n){const e=parseFloat(n);return e<0?0:e>100?1:e/100}function q_(n){let e=K2(n);if(e===null)return n;e=e||0;const t=(e&4278190080)>>>24,i=(e&16711680)>>>16,o=(e&65280)>>>8,l=(e&255)/255;return`rgba(${t}, ${i}, ${o}, ${l})`}var Ql=(n,e,t)=>{if(Nt.fun(n))return n;if(Nt.arr(n))return Ql({range:n,output:e,extrapolate:t});if(Nt.str(n.output[0]))return Tm(n);const i=n,o=i.output,l=i.range||[0,1],c=i.extrapolateLeft||i.extrapolate||"extend",f=i.extrapolateRight||i.extrapolate||"extend",p=i.easing||(y=>y);return y=>{const w=Q2(y,l);return G2(y,l[w],l[w+1],o[w],o[w+1],p,c,f,i.map)}};function G2(n,e,t,i,o,l,c,f,p){let y=p?p(n):n;if(y<e){if(c==="identity")return y;c==="clamp"&&(y=e)}if(y>t){if(f==="identity")return y;f==="clamp"&&(y=t)}return i===o?i:e===t?n<=e?i:o:(e===-1/0?y=-y:t===1/0?y=y-e:y=(y-e)/(t-e),y=l(y),i===-1/0?y=-y:o===1/0?y=y+i:y=y*(o-i)+i,y)}function Q2(n,e){for(var t=1;t<e.length-1&&!(e[t]>=n);++t);return t-1}var Yl=Symbol.for("FluidValue.get"),Jl=Symbol.for("FluidValue.observers"),Ca=n=>!!(n&&n[Yl]),ka=n=>n&&n[Yl]?n[Yl]():n;function Y2(n,e){n.eventObserved?n.eventObserved(e):n(e)}function ph(n,e){const t=n[Jl];t&&t.forEach(i=>{Y2(i,e)})}var tT=class{constructor(n){if(!n&&!(n=this.get))throw Error("Unknown getter");J2(this,n)}},J2=(n,e)=>nT(n,Yl,e);function Rm(n,e){if(n[Yl]){let t=n[Jl];t||nT(n,Jl,t=new Set),t.has(e)||(t.add(e),n.observerAdded&&n.observerAdded(t.size,e))}return e}function mh(n,e){const t=n[Jl];if(t&&t.has(e)){const i=t.size-1;i?t.delete(e):n[Jl]=null,n.observerRemoved&&n.observerRemoved(i,e)}}var nT=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),jc=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,X2=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,K_=new RegExp(`(${jc.source})(%|[a-z]+)`,"i"),Z2=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,zh=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,rT=n=>{const[e,t]=eN(n);if(!e||Em())return n;const i=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(i)return i.trim();if(t&&t.startsWith("--")){const o=window.getComputedStyle(document.documentElement).getPropertyValue(t);return o||n}else{if(t&&zh.test(t))return rT(t);if(t)return t}return n},eN=n=>{const e=zh.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]},Lf,tN=(n,e,t,i,o)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(i)}, ${o})`,iT=n=>{Lf||(Lf=Rs?new RegExp(`(${Object.keys(Rs).join("|")})(?!\\w)`,"g"):/^\b$/);const e=n.output.map(l=>ka(l).replace(zh,rT).replace(X2,q_).replace(Lf,q_)),t=e.map(l=>l.match(jc).map(Number)),o=t[0].map((l,c)=>t.map(f=>{if(!(c in f))throw Error('The arity of each "output" value must be equal');return f[c]})).map(l=>Ql({...n,output:l}));return l=>{var p;const c=!K_.test(e[0])&&((p=e.find(y=>K_.test(y)))==null?void 0:p.replace(jc,""));let f=0;return e[0].replace(jc,()=>`${o[f++](l)}${c||""}`).replace(Z2,tN)}},sT="react-spring: ",oT=n=>{const e=n;let t=!1;if(typeof e!="function")throw new TypeError(`${sT}once requires a function parameter`);return(...i)=>{t||(e(...i),t=!0)}},nN=oT(console.warn);function rN(){nN(`${sT}The "interpolate" function is deprecated in v9 (use "to" instead)`)}oT(console.warn);function aT(n){return Nt.str(n)&&(n[0]=="#"||/\d/.test(n)||!Em()&&zh.test(n)||n in(Rs||{}))}var lT=Em()?J.useEffect:J.useLayoutEffect,iN=()=>{const n=J.useRef(!1);return lT(()=>(n.current=!0,()=>{n.current=!1}),[]),n};function sN(){const n=J.useState()[1],e=iN();return()=>{e.current&&n(Math.random())}}var oN=n=>J.useEffect(n,aN),aN=[],Xl=Symbol.for("Animated:node"),lN=n=>!!n&&n[Xl]===n,Am=n=>n&&n[Xl],uT=(n,e)=>D2(n,Xl,e),Cm=n=>n&&n[Xl]&&n[Xl].getPayload(),cT=class{constructor(){uT(this,this)}getPayload(){return this.payload||[]}},km=class hT extends cT{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,Nt.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new hT(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Nt.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Nt.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},dT=class fT extends km{constructor(e){super(0),this._string=null,this._toString=Ql({output:[e,e]})}static create(e){return new fT(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(Nt.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Ql({output:[this.getValue(),e]})),this._value=0,super.reset()}},gh={dependencies:null},Bh=class extends cT{constructor(n){super(),this.source=n,this.setValue(n)}getValue(n){const e={};return hh(this.source,(t,i)=>{lN(t)?e[i]=t.getValue(n):Ca(t)?e[i]=ka(t):n||(e[i]=t)}),e}setValue(n){this.source=n,this.payload=this._makePayload(n)}reset(){this.payload&&tr(this.payload,n=>n.reset())}_makePayload(n){if(n){const e=new Set;return hh(n,this._addToPayload,e),Array.from(e)}}_addToPayload(n){gh.dependencies&&Ca(n)&&gh.dependencies.add(n);const e=Cm(n);e&&tr(e,t=>this.add(t))}},uN=class pT extends Bh{constructor(e){super(e)}static create(e){return new pT(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((i,o)=>i.setValue(e[o])).some(Boolean):(super.setValue(e.map(cN)),!0)}};function cN(n){return(aT(n)?dT:km).create(n)}function hN(n){const e=Am(n);return e?e.constructor:Nt.arr(n)?uN:aT(n)?dT:km}var G_=(n,e)=>{const t=!Nt.fun(n)||n.prototype&&n.prototype.isReactComponent;return J.forwardRef((i,o)=>{const l=J.useRef(null),c=t&&J.useCallback(z=>{l.current=pN(o,z)},[o]),[f,p]=fN(i,e),y=sN(),w=()=>{const z=l.current;if(t&&!z)return;(z?e.applyAnimatedValues(z,f.getValue(!0)):!1)===!1&&y()},S=new dN(w,p),A=J.useRef(void 0);lT(()=>(A.current=S,tr(p,z=>Rm(z,S)),()=>{A.current&&(tr(A.current.deps,z=>mh(z,A.current)),Et.cancel(A.current.update))})),J.useEffect(w,[]),oN(()=>()=>{const z=A.current;tr(z.deps,$=>mh($,z))});const M=e.getComponentProps(f.getValue());return J.createElement(n,{...M,ref:c})})},dN=class{constructor(n,e){this.update=n,this.deps=e}eventObserved(n){n.type=="change"&&Et.write(this.update)}};function fN(n,e){const t=new Set;return gh.dependencies=t,n.style&&(n={...n,style:e.createAnimatedStyle(n.style)}),n=new Bh(n),gh.dependencies=null,[n,t]}function pN(n,e){return n&&(Nt.fun(n)?n(e):n.current=e),e}var Q_=Symbol.for("AnimatedComponent"),mN=(n,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=o=>new Bh(o),getComponentProps:i=o=>o}={})=>{const o={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:i},l=c=>{const f=Y_(c)||"Anonymous";return Nt.str(c)?c=l[c]||(l[c]=G_(c,o)):c=c[Q_]||(c[Q_]=G_(c,o)),c.displayName=`Animated(${f})`,c};return hh(n,(c,f)=>{Nt.arr(n)&&(f=Y_(c)),l[f]=l(c)}),{animated:l}},Y_=n=>Nt.str(n)?n:n&&Nt.str(n.displayName)?n.displayName:Nt.fun(n)&&n.name||null,J_=n=>n instanceof mT,gN=1,mT=class extends tT{constructor(){super(...arguments),this.id=gN++,this._priority=0}get priority(){return this._priority}set priority(n){this._priority!=n&&(this._priority=n,this._onPriorityChange(n))}get(){const n=Am(this);return n&&n.getValue()}to(...n){return Aa.to(this,n)}interpolate(...n){return rN(),Aa.to(this,n)}toJSON(){return this.get()}observerAdded(n){n==1&&this._attach()}observerRemoved(n){n==0&&this._detach()}_attach(){}_detach(){}_onChange(n,e=!1){ph(this,{type:"change",parent:this,value:n,idle:e})}_onPriorityChange(n){this.idle||Sm.sort(this),ph(this,{type:"priority",parent:this,priority:n})}};J.createContext({pause:!1,immediate:!1});var yN=class extends mT{constructor(n,e){super(),this.source=n,this.idle=!0,this._active=new Set,this.calc=Ql(...e);const t=this._get(),i=hN(t);uT(this,i.create(t))}advance(n){const e=this._get(),t=this.get();M2(e,t)||(Am(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&X_(this._active)&&Vf(this)}_get(){const n=Nt.arr(this.source)?this.source.map(ka):Rl(ka(this.source));return this.calc(...n)}_start(){this.idle&&!X_(this._active)&&(this.idle=!1,tr(Cm(this),n=>{n.done=!1}),Aa.skipAnimation?(Et.batchedUpdates(()=>this.advance()),Vf(this)):Sm.start(this))}_attach(){let n=1;tr(Rl(this.source),e=>{Ca(e)&&Rm(e,this),J_(e)&&(e.idle||this._active.add(e),n=Math.max(n,e.priority+1))}),this.priority=n,this._start()}_detach(){tr(Rl(this.source),n=>{Ca(n)&&mh(n,this)}),this._active.clear(),Vf(this)}eventObserved(n){n.type=="change"?n.idle?this.advance():(this._active.add(n.parent),this._start()):n.type=="idle"?this._active.delete(n.parent):n.type=="priority"&&(this.priority=Rl(this.source).reduce((e,t)=>Math.max(e,(J_(t)?t.priority:0)+1),0))}};function vN(n){return n.idle!==!1}function X_(n){return!n.size||Array.from(n).every(vN)}function Vf(n){n.idle||(n.idle=!0,tr(Cm(n),e=>{e.done=!0}),ph(n,{type:"idle",parent:n}))}Aa.assign({createStringInterpolator:iT,to:(n,e)=>new yN(n,e)});var gT=/^--/;function _N(n,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!gT.test(n)&&!(Ol.hasOwnProperty(n)&&Ol[n])?e+"px":(""+e).trim()}var Z_={};function wN(n,e){if(!n.nodeType||!n.setAttribute)return!1;const t=n.nodeName==="filter"||n.parentNode&&n.parentNode.nodeName==="filter",{className:i,style:o,children:l,scrollTop:c,scrollLeft:f,viewBox:p,...y}=e,w=Object.values(y),S=Object.keys(y).map(A=>t||n.hasAttribute(A)?A:Z_[A]||(Z_[A]=A.replace(/([A-Z])/g,M=>"-"+M.toLowerCase())));l!==void 0&&(n.textContent=l);for(const A in o)if(o.hasOwnProperty(A)){const M=_N(A,o[A]);gT.test(A)?n.style.setProperty(A,M):n.style[A]=M}S.forEach((A,M)=>{n.setAttribute(A,w[M])}),i!==void 0&&(n.className=i),c!==void 0&&(n.scrollTop=c),f!==void 0&&(n.scrollLeft=f),p!==void 0&&n.setAttribute("viewBox",p)}var Ol={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EN=(n,e)=>n+e.charAt(0).toUpperCase()+e.substring(1),TN=["Webkit","Ms","Moz","O"];Ol=Object.keys(Ol).reduce((n,e)=>(TN.forEach(t=>n[EN(t,e)]=n[e]),n),Ol);var IN=/^(matrix|translate|scale|rotate|skew)/,SN=/^(translate)/,RN=/^(rotate|skew)/,Ff=(n,e)=>Nt.num(n)&&n!==0?n+e:n,Uc=(n,e)=>Nt.arr(n)?n.every(t=>Uc(t,e)):Nt.num(n)?n===e:parseFloat(n)===e,AN=class extends Bh{constructor({x:n,y:e,z:t,...i}){const o=[],l=[];(n||e||t)&&(o.push([n||0,e||0,t||0]),l.push(c=>[`translate3d(${c.map(f=>Ff(f,"px")).join(",")})`,Uc(c,0)])),hh(i,(c,f)=>{if(f==="transform")o.push([c||""]),l.push(p=>[p,p===""]);else if(IN.test(f)){if(delete i[f],Nt.und(c))return;const p=SN.test(f)?"px":RN.test(f)?"deg":"";o.push(Rl(c)),l.push(f==="rotate3d"?([y,w,S,A])=>[`rotate3d(${y},${w},${S},${Ff(A,p)})`,Uc(A,0)]:y=>[`${f}(${y.map(w=>Ff(w,p)).join(",")})`,Uc(y,f.startsWith("scale")?1:0)])}}),o.length&&(i.transform=new CN(o,l)),super(i)}},CN=class extends tT{constructor(n,e){super(),this.inputs=n,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let n="",e=!0;return tr(this.inputs,(t,i)=>{const o=ka(t[0]),[l,c]=this.transforms[i](Nt.arr(o)?o:t.map(ka));n+=" "+l,e=e&&c}),e?"none":n}observerAdded(n){n==1&&tr(this.inputs,e=>tr(e,t=>Ca(t)&&Rm(t,this)))}observerRemoved(n){n==0&&tr(this.inputs,e=>tr(e,t=>Ca(t)&&mh(t,this)))}eventObserved(n){n.type=="change"&&(this._value=null),ph(this,n)}},kN=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Aa.assign({batchedUpdates:yp.unstable_batchedUpdates,createStringInterpolator:iT,colors:F2});var PN=mN(kN,{applyAnimatedValues:wN,createAnimatedStyle:n=>new AN(n),getComponentProps:({scrollTop:n,scrollLeft:e,...t})=>t}),xN=PN.animated,zc={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var NN=zc.exports,e0;function bN(){return e0||(e0=1,(function(n,e){((t,i)=>{n.exports=i()})(NN,function t(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},o,l=!i.document&&!!i.postMessage,c=i.IS_PAPA_WORKER||!1,f={},p=0,y={};function w(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(E){var C=Fe(E);C.chunkSize=parseInt(C.chunkSize),E.step||E.chunk||(C.chunkSize=null),this._handle=new $(C),(this._handle.streamer=this)._config=C}).call(this,_),this.parseChunk=function(E,C){var N=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<N){let x=this._config.newline;x||(b=this._config.quoteChar||'"',x=this._handle.guessLineEndings(E,b)),E=[...E.split(x).slice(N)].join(x)}this.isFirstChunk&&R(this._config.beforeFirstChunk)&&(b=this._config.beforeFirstChunk(E))!==void 0&&(E=b),this.isFirstChunk=!1,this._halted=!1;var N=this._partialLine+E,b=(this._partialLine="",this._handle.parse(N,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(E=b.meta.cursor,N=(this._finished||(this._partialLine=N.substring(E-this._baseIndex),this._baseIndex=E),b&&b.data&&(this._rowCount+=b.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)i.postMessage({results:b,workerId:y.WORKER_ID,finished:N});else if(R(this._config.chunk)&&!C){if(this._config.chunk(b,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=b=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(b.data),this._completeResults.errors=this._completeResults.errors.concat(b.errors),this._completeResults.meta=b.meta),this._completed||!N||!R(this._config.complete)||b&&b.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),N||b&&b.meta.paused||this._nextChunk(),b}this._halted=!0},this._sendError=function(E){R(this._config.error)?this._config.error(E):c&&this._config.error&&i.postMessage({workerId:y.WORKER_ID,error:E,finished:!1})}}function S(_){var E;(_=_||{}).chunkSize||(_.chunkSize=y.RemoteChunkSize),w.call(this,_),this._nextChunk=l?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(C){this._input=C,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(E=new XMLHttpRequest,this._config.withCredentials&&(E.withCredentials=this._config.withCredentials),l||(E.onload=Oe(this._chunkLoaded,this),E.onerror=Oe(this._chunkError,this)),E.open(this._config.downloadRequestBody?"POST":"GET",this._input,!l),this._config.downloadRequestHeaders){var C,N=this._config.downloadRequestHeaders;for(C in N)E.setRequestHeader(C,N[C])}var b;this._config.chunkSize&&(b=this._start+this._config.chunkSize-1,E.setRequestHeader("Range","bytes="+this._start+"-"+b));try{E.send(this._config.downloadRequestBody)}catch(x){this._chunkError(x.message)}l&&E.status===0&&this._chunkError()}},this._chunkLoaded=function(){E.readyState===4&&(E.status<200||400<=E.status?this._chunkError():(this._start+=this._config.chunkSize||E.responseText.length,this._finished=!this._config.chunkSize||this._start>=(C=>(C=C.getResponseHeader("Content-Range"))!==null?parseInt(C.substring(C.lastIndexOf("/")+1)):-1)(E),this.parseChunk(E.responseText)))},this._chunkError=function(C){C=E.statusText||C,this._sendError(new Error(C))}}function A(_){(_=_||{}).chunkSize||(_.chunkSize=y.LocalChunkSize),w.call(this,_);var E,C,N=typeof FileReader<"u";this.stream=function(b){this._input=b,C=b.slice||b.webkitSlice||b.mozSlice,N?((E=new FileReader).onload=Oe(this._chunkLoaded,this),E.onerror=Oe(this._chunkError,this)):E=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var b=this._input,x=(this._config.chunkSize&&(x=Math.min(this._start+this._config.chunkSize,this._input.size),b=C.call(b,this._start,x)),E.readAsText(b,this._config.encoding));N||this._chunkLoaded({target:{result:x}})},this._chunkLoaded=function(b){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(b.target.result)},this._chunkError=function(){this._sendError(E.error)}}function M(_){var E;w.call(this,_=_||{}),this.stream=function(C){return E=C,this._nextChunk()},this._nextChunk=function(){var C,N;if(!this._finished)return C=this._config.chunkSize,E=C?(N=E.substring(0,C),E.substring(C)):(N=E,""),this._finished=!E,this.parseChunk(N)}}function z(_){w.call(this,_=_||{});var E=[],C=!0,N=!1;this.pause=function(){w.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){w.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(b){this._input=b,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){N&&E.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),E.length?this.parseChunk(E.shift()):C=!0},this._streamData=Oe(function(b){try{E.push(typeof b=="string"?b:b.toString(this._config.encoding)),C&&(C=!1,this._checkIsFinished(),this.parseChunk(E.shift()))}catch(x){this._streamError(x)}},this),this._streamError=Oe(function(b){this._streamCleanUp(),this._sendError(b)},this),this._streamEnd=Oe(function(){this._streamCleanUp(),N=!0,this._streamData("")},this),this._streamCleanUp=Oe(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function $(_){var E,C,N,b,x=Math.pow(2,53),je=-x,tt=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,at=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,we=this,X=0,se=0,O=!1,T=!1,F=[],H={data:[],errors:[],meta:{}};function oe(re){return _.skipEmptyLines==="greedy"?re.join("").trim()==="":re.length===1&&re[0].length===0}function ne(){if(H&&N&&(ue("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+y.DefaultDelimiter+"'"),N=!1),_.skipEmptyLines&&(H.data=H.data.filter(function(Ee){return!oe(Ee)})),ce()){let Ee=function(ze,Ie){R(_.transformHeader)&&(ze=_.transformHeader(ze,Ie)),F.push(ze)};var ve=Ee;if(H)if(Array.isArray(H.data[0])){for(var re=0;ce()&&re<H.data.length;re++)H.data[re].forEach(Ee);H.data.splice(0,1)}else H.data.forEach(Ee)}function me(Ee,ze){for(var Ie=_.header?{}:[],Be=0;Be<Ee.length;Be++){var Me=Be,ht=Ee[Be],ht=((Ge,nt)=>(rt=>(_.dynamicTypingFunction&&_.dynamicTyping[rt]===void 0&&(_.dynamicTyping[rt]=_.dynamicTypingFunction(rt)),(_.dynamicTyping[rt]||_.dynamicTyping)===!0))(Ge)?nt==="true"||nt==="TRUE"||nt!=="false"&&nt!=="FALSE"&&((rt=>{if(tt.test(rt)&&(rt=parseFloat(rt),je<rt&&rt<x))return 1})(nt)?parseFloat(nt):at.test(nt)?new Date(nt):nt===""?null:nt):nt)(Me=_.header?Be>=F.length?"__parsed_extra":F[Be]:Me,ht=_.transform?_.transform(ht,Me):ht);Me==="__parsed_extra"?(Ie[Me]=Ie[Me]||[],Ie[Me].push(ht)):Ie[Me]=ht}return _.header&&(Be>F.length?ue("FieldMismatch","TooManyFields","Too many fields: expected "+F.length+" fields but parsed "+Be,se+ze):Be<F.length&&ue("FieldMismatch","TooFewFields","Too few fields: expected "+F.length+" fields but parsed "+Be,se+ze)),Ie}var Pe;H&&(_.header||_.dynamicTyping||_.transform)&&(Pe=1,!H.data.length||Array.isArray(H.data[0])?(H.data=H.data.map(me),Pe=H.data.length):H.data=me(H.data,0),_.header&&H.meta&&(H.meta.fields=F),se+=Pe)}function ce(){return _.header&&F.length===0}function ue(re,me,Pe,ve){re={type:re,code:me,message:Pe},ve!==void 0&&(re.row=ve),H.errors.push(re)}R(_.step)&&(b=_.step,_.step=function(re){H=re,ce()?ne():(ne(),H.data.length!==0&&(X+=re.data.length,_.preview&&X>_.preview?C.abort():(H.data=H.data[0],b(H,we))))}),this.parse=function(re,me,Pe){var ve=_.quoteChar||'"',ve=(_.newline||(_.newline=this.guessLineEndings(re,ve)),N=!1,_.delimiter?R(_.delimiter)&&(_.delimiter=_.delimiter(re),H.meta.delimiter=_.delimiter):((ve=((Ee,ze,Ie,Be,Me)=>{var ht,Ge,nt,rt;Me=Me||[",","	","|",";",y.RECORD_SEP,y.UNIT_SEP];for(var Zt=0;Zt<Me.length;Zt++){for(var en,kn=Me[Zt],yt=0,Vt=0,Ze=0,it=(nt=void 0,new he({comments:Be,delimiter:kn,newline:ze,preview:10}).parse(Ee)),St=0;St<it.data.length;St++)Ie&&oe(it.data[St])?Ze++:(en=it.data[St].length,Vt+=en,nt===void 0?nt=en:0<en&&(yt+=Math.abs(en-nt),nt=en));0<it.data.length&&(Vt/=it.data.length-Ze),(Ge===void 0||yt<=Ge)&&(rt===void 0||rt<Vt)&&1.99<Vt&&(Ge=yt,ht=kn,rt=Vt)}return{successful:!!(_.delimiter=ht),bestDelimiter:ht}})(re,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess)).successful?_.delimiter=ve.bestDelimiter:(N=!0,_.delimiter=y.DefaultDelimiter),H.meta.delimiter=_.delimiter),Fe(_));return _.preview&&_.header&&ve.preview++,E=re,C=new he(ve),H=C.parse(E,me,Pe),ne(),O?{meta:{paused:!0}}:H||{meta:{paused:!1}}},this.paused=function(){return O},this.pause=function(){O=!0,C.abort(),E=R(_.chunk)?"":E.substring(C.getCharIndex())},this.resume=function(){we.streamer._halted?(O=!1,we.streamer.parseChunk(E,!0)):setTimeout(we.resume,3)},this.aborted=function(){return T},this.abort=function(){T=!0,C.abort(),H.meta.aborted=!0,R(_.complete)&&_.complete(H),E=""},this.guessLineEndings=function(Ee,ve){Ee=Ee.substring(0,1048576);var ve=new RegExp(L(ve)+"([^]*?)"+L(ve),"gm"),Pe=(Ee=Ee.replace(ve,"")).split("\r"),ve=Ee.split(`
`),Ee=1<ve.length&&ve[0].length<Pe[0].length;if(Pe.length===1||Ee)return`
`;for(var ze=0,Ie=0;Ie<Pe.length;Ie++)Pe[Ie][0]===`
`&&ze++;return ze>=Pe.length/2?`\r
`:"\r"}}function L(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function he(_){var E=(_=_||{}).delimiter,C=_.newline,N=_.comments,b=_.step,x=_.preview,je=_.fastMode,tt=null,at=!1,we=_.quoteChar==null?'"':_.quoteChar,X=we;if(_.escapeChar!==void 0&&(X=_.escapeChar),(typeof E!="string"||-1<y.BAD_DELIMITERS.indexOf(E))&&(E=","),N===E)throw new Error("Comment character same as delimiter");N===!0?N="#":(typeof N!="string"||-1<y.BAD_DELIMITERS.indexOf(N))&&(N=!1),C!==`
`&&C!=="\r"&&C!==`\r
`&&(C=`
`);var se=0,O=!1;this.parse=function(T,F,H){if(typeof T!="string")throw new Error("Input must be a string");var oe=T.length,ne=E.length,ce=C.length,ue=N.length,re=R(b),me=[],Pe=[],ve=[],Ee=se=0;if(!T)return yt();if(je||je!==!1&&T.indexOf(we)===-1){for(var ze=T.split(C),Ie=0;Ie<ze.length;Ie++){if(ve=ze[Ie],se+=ve.length,Ie!==ze.length-1)se+=C.length;else if(H)return yt();if(!N||ve.substring(0,ue)!==N){if(re){if(me=[],rt(ve.split(E)),Vt(),O)return yt()}else rt(ve.split(E));if(x&&x<=Ie)return me=me.slice(0,x),yt(!0)}}return yt()}for(var Be=T.indexOf(E,se),Me=T.indexOf(C,se),ht=new RegExp(L(X)+L(we),"g"),Ge=T.indexOf(we,se);;)if(T[se]===we)for(Ge=se,se++;;){if((Ge=T.indexOf(we,Ge+1))===-1)return H||Pe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:me.length,index:se}),en();if(Ge===oe-1)return en(T.substring(se,Ge).replace(ht,we));if(we===X&&T[Ge+1]===X)Ge++;else if(we===X||Ge===0||T[Ge-1]!==X){Be!==-1&&Be<Ge+1&&(Be=T.indexOf(E,Ge+1));var nt=Zt((Me=Me!==-1&&Me<Ge+1?T.indexOf(C,Ge+1):Me)===-1?Be:Math.min(Be,Me));if(T.substr(Ge+1+nt,ne)===E){ve.push(T.substring(se,Ge).replace(ht,we)),T[se=Ge+1+nt+ne]!==we&&(Ge=T.indexOf(we,se)),Be=T.indexOf(E,se),Me=T.indexOf(C,se);break}if(nt=Zt(Me),T.substring(Ge+1+nt,Ge+1+nt+ce)===C){if(ve.push(T.substring(se,Ge).replace(ht,we)),kn(Ge+1+nt+ce),Be=T.indexOf(E,se),Ge=T.indexOf(we,se),re&&(Vt(),O))return yt();if(x&&me.length>=x)return yt(!0);break}Pe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:me.length,index:se}),Ge++}}else if(N&&ve.length===0&&T.substring(se,se+ue)===N){if(Me===-1)return yt();se=Me+ce,Me=T.indexOf(C,se),Be=T.indexOf(E,se)}else if(Be!==-1&&(Be<Me||Me===-1))ve.push(T.substring(se,Be)),se=Be+ne,Be=T.indexOf(E,se);else{if(Me===-1)break;if(ve.push(T.substring(se,Me)),kn(Me+ce),re&&(Vt(),O))return yt();if(x&&me.length>=x)return yt(!0)}return en();function rt(Ze){me.push(Ze),Ee=se}function Zt(Ze){var it=0;return it=Ze!==-1&&(Ze=T.substring(Ge+1,Ze))&&Ze.trim()===""?Ze.length:it}function en(Ze){return H||(Ze===void 0&&(Ze=T.substring(se)),ve.push(Ze),se=oe,rt(ve),re&&Vt()),yt()}function kn(Ze){se=Ze,rt(ve),ve=[],Me=T.indexOf(C,se)}function yt(Ze){if(_.header&&!F&&me.length&&!at){var it=me[0],St=Object.create(null),qt=new Set(it);let _n=!1;for(let zt=0;zt<it.length;zt++){let Kt=it[zt];if(St[Kt=R(_.transformHeader)?_.transformHeader(Kt,zt):Kt]){let Gt,Rr=St[Kt];for(;Gt=Kt+"_"+Rr,Rr++,qt.has(Gt););qt.add(Gt),it[zt]=Gt,St[Kt]++,_n=!0,(tt=tt===null?{}:tt)[Gt]=Kt}else St[Kt]=1,it[zt]=Kt;qt.add(Kt)}_n&&console.warn("Duplicate headers found and renamed."),at=!0}return{data:me,errors:Pe,meta:{delimiter:E,linebreak:C,aborted:O,truncated:!!Ze,cursor:Ee+(F||0),renamedHeaders:tt}}}function Vt(){b(yt()),me=[],Pe=[]}},this.abort=function(){O=!0},this.getCharIndex=function(){return se}}function Z(_){var E=_.data,C=f[E.workerId],N=!1;if(E.error)C.userError(E.error,E.file);else if(E.results&&E.results.data){var b={abort:function(){N=!0,fe(E.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_e,resume:_e};if(R(C.userStep)){for(var x=0;x<E.results.data.length&&(C.userStep({data:E.results.data[x],errors:E.results.errors,meta:E.results.meta},b),!N);x++);delete E.results}else R(C.userChunk)&&(C.userChunk(E.results,b,E.file),delete E.results)}E.finished&&!N&&fe(E.workerId,E.results)}function fe(_,E){var C=f[_];R(C.userComplete)&&C.userComplete(E),C.terminate(),delete f[_]}function _e(){throw new Error("Not implemented.")}function Fe(_){if(typeof _!="object"||_===null)return _;var E,C=Array.isArray(_)?[]:{};for(E in _)C[E]=Fe(_[E]);return C}function Oe(_,E){return function(){_.apply(E,arguments)}}function R(_){return typeof _=="function"}return y.parse=function(_,E){var C=(E=E||{}).dynamicTyping||!1;if(R(C)&&(E.dynamicTypingFunction=C,C={}),E.dynamicTyping=C,E.transform=!!R(E.transform)&&E.transform,!E.worker||!y.WORKERS_SUPPORTED)return C=null,y.NODE_STREAM_INPUT,typeof _=="string"?(_=(N=>N.charCodeAt(0)!==65279?N:N.slice(1))(_),C=new(E.download?S:M)(E)):_.readable===!0&&R(_.read)&&R(_.on)?C=new z(E):(i.File&&_ instanceof File||_ instanceof Object)&&(C=new A(E)),C.stream(_);(C=(()=>{var N;return!!y.WORKERS_SUPPORTED&&(N=(()=>{var b=i.URL||i.webkitURL||null,x=t.toString();return y.BLOB_URL||(y.BLOB_URL=b.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",x,")();"],{type:"text/javascript"})))})(),(N=new i.Worker(N)).onmessage=Z,N.id=p++,f[N.id]=N)})()).userStep=E.step,C.userChunk=E.chunk,C.userComplete=E.complete,C.userError=E.error,E.step=R(E.step),E.chunk=R(E.chunk),E.complete=R(E.complete),E.error=R(E.error),delete E.worker,C.postMessage({input:_,config:E,workerId:C.id})},y.unparse=function(_,E){var C=!1,N=!0,b=",",x=`\r
`,je='"',tt=je+je,at=!1,we=null,X=!1,se=((()=>{if(typeof E=="object"){if(typeof E.delimiter!="string"||y.BAD_DELIMITERS.filter(function(F){return E.delimiter.indexOf(F)!==-1}).length||(b=E.delimiter),typeof E.quotes!="boolean"&&typeof E.quotes!="function"&&!Array.isArray(E.quotes)||(C=E.quotes),typeof E.skipEmptyLines!="boolean"&&typeof E.skipEmptyLines!="string"||(at=E.skipEmptyLines),typeof E.newline=="string"&&(x=E.newline),typeof E.quoteChar=="string"&&(je=E.quoteChar),typeof E.header=="boolean"&&(N=E.header),Array.isArray(E.columns)){if(E.columns.length===0)throw new Error("Option columns is empty");we=E.columns}E.escapeChar!==void 0&&(tt=E.escapeChar+je),E.escapeFormulae instanceof RegExp?X=E.escapeFormulae:typeof E.escapeFormulae=="boolean"&&E.escapeFormulae&&(X=/^[=+\-@\t\r].*$/)}})(),new RegExp(L(je),"g"));if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return O(null,_,at);if(typeof _[0]=="object")return O(we||Object.keys(_[0]),_,at)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||we),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||typeof _.data[0]=="object"||(_.data=[_.data])),O(_.fields||[],_.data||[],at);throw new Error("Unable to serialize unrecognized input");function O(F,H,oe){var ne="",ce=(typeof F=="string"&&(F=JSON.parse(F)),typeof H=="string"&&(H=JSON.parse(H)),Array.isArray(F)&&0<F.length),ue=!Array.isArray(H[0]);if(ce&&N){for(var re=0;re<F.length;re++)0<re&&(ne+=b),ne+=T(F[re],re);0<H.length&&(ne+=x)}for(var me=0;me<H.length;me++){var Pe=(ce?F:H[me]).length,ve=!1,Ee=ce?Object.keys(H[me]).length===0:H[me].length===0;if(oe&&!ce&&(ve=oe==="greedy"?H[me].join("").trim()==="":H[me].length===1&&H[me][0].length===0),oe==="greedy"&&ce){for(var ze=[],Ie=0;Ie<Pe;Ie++){var Be=ue?F[Ie]:Ie;ze.push(H[me][Be])}ve=ze.join("").trim()===""}if(!ve){for(var Me=0;Me<Pe;Me++){0<Me&&!Ee&&(ne+=b);var ht=ce&&ue?F[Me]:Me;ne+=T(H[me][ht],Me)}me<H.length-1&&(!oe||0<Pe&&!Ee)&&(ne+=x)}}return ne}function T(F,H){var oe,ne;return F==null?"":F.constructor===Date?JSON.stringify(F).slice(1,25):(ne=!1,X&&typeof F=="string"&&X.test(F)&&(F="'"+F,ne=!0),oe=F.toString().replace(se,tt),(ne=ne||C===!0||typeof C=="function"&&C(F,H)||Array.isArray(C)&&C[H]||((ce,ue)=>{for(var re=0;re<ue.length;re++)if(-1<ce.indexOf(ue[re]))return!0;return!1})(oe,y.BAD_DELIMITERS)||-1<oe.indexOf(b)||oe.charAt(0)===" "||oe.charAt(oe.length-1)===" ")?je+oe+je:oe)}},y.RECORD_SEP="",y.UNIT_SEP="",y.BYTE_ORDER_MARK="\uFEFF",y.BAD_DELIMITERS=["\r",`
`,'"',y.BYTE_ORDER_MARK],y.WORKERS_SUPPORTED=!l&&!!i.Worker,y.NODE_STREAM_INPUT=1,y.LocalChunkSize=10485760,y.RemoteChunkSize=5242880,y.DefaultDelimiter=",",y.Parser=he,y.ParserHandle=$,y.NetworkStreamer=S,y.FileStreamer=A,y.StringStreamer=M,y.ReadableStreamStreamer=z,i.jQuery&&((o=i.jQuery).fn.parse=function(_){var E=_.config||{},C=[];return this.each(function(x){if(!(o(this).prop("tagName").toUpperCase()==="INPUT"&&o(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var je=0;je<this.files.length;je++)C.push({file:this.files[je],inputElem:this,instanceConfig:o.extend({},E)})}),N(),this;function N(){if(C.length===0)R(_.complete)&&_.complete();else{var x,je,tt,at,we=C[0];if(R(_.before)){var X=_.before(we.file,we.inputElem);if(typeof X=="object"){if(X.action==="abort")return x="AbortError",je=we.file,tt=we.inputElem,at=X.reason,void(R(_.error)&&_.error({name:x},je,tt,at));if(X.action==="skip")return void b();typeof X.config=="object"&&(we.instanceConfig=o.extend(we.instanceConfig,X.config))}else if(X==="skip")return void b()}var se=we.instanceConfig.complete;we.instanceConfig.complete=function(O){R(se)&&se(O,we.file,we.inputElem),b()},y.parse(we.file,we.instanceConfig)}}function b(){C.splice(0,1),N()}}),c&&(i.onmessage=function(_){_=_.data,y.WORKER_ID===void 0&&_&&(y.WORKER_ID=_.workerId),typeof _.input=="string"?i.postMessage({workerId:y.WORKER_ID,results:y.parse(_.input,_.config),finished:!0}):(i.File&&_.input instanceof File||_.input instanceof Object)&&(_=y.parse(_.input,_.config))&&i.postMessage({workerId:y.WORKER_ID,results:_,finished:!0})}),(S.prototype=Object.create(w.prototype)).constructor=S,(A.prototype=Object.create(w.prototype)).constructor=A,(M.prototype=Object.create(M.prototype)).constructor=M,(z.prototype=Object.create(w.prototype)).constructor=z,y})})(zc)),zc.exports}var DN=bN();const MN=yh(DN),ON=({item:n,allItems:e,index:t,onUpdate:i,onBringToFront:o})=>{const l=J.useRef(),c=J.useRef(0),[f,p]=J.useState(!1);J.useEffect(()=>{const A=()=>{let{x:M,y:z,vx:$,vy:L}=n;c.current%10===0&&e.forEach((Oe,R)=>{if(R!==t){const _=M-Oe.x,E=z-Oe.y,C=Math.sqrt(_*_+E*E);if(C>0&&C<150){const N=2/C;$+=_/C*N,L+=E/C*N}}}),c.current++,M+=$,z+=L;const he=window.innerWidth<=768,Z=he?300:900,fe=he?500:800;(M<0||M>Z)&&($*=-.8),(z<0||z>fe)&&(L*=-.8),M=Math.max(0,Math.min(Z,M)),z=Math.max(0,Math.min(fe,z));const _e=2,Fe=Math.sqrt($*$+L*L);Fe>_e&&($=$/Fe*_e,L=L/Fe*_e),$*=.995,L*=.995,i(t,M,z,$,L),l.current=requestAnimationFrame(A)};return l.current=requestAnimationFrame(A),()=>{l.current&&cancelAnimationFrame(l.current)}},[n,e,t,i]);const y=A=>{try{return new URL(A),A.startsWith("http://")||A.startsWith("https://")}catch{return!1}},w=(A,M)=>{y(M)||A.preventDefault()},S=(A,M)=>{A.preventDefault(),n.isFront?y(M)&&window.open(M,"_blank","noopener,noreferrer"):o(t)};return P.jsx(xN.a,{href:y(n.url)?n.url:void 0,target:y(n.url)?"_blank":void 0,rel:y(n.url)?"noopener noreferrer":void 0,className:`word-cloud-item animated ${n.isFront?"front":""}`,style:{fontSize:`${n.size}px`,color:n.color,left:`${n.x}px`,top:`${n.y}px`,position:"absolute",cursor:y(n.url)?"pointer":"default",zIndex:n.isFront||f?100:1},onClick:A=>w(A,n.url),onTouchEnd:A=>S(A,n.url),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:P.jsxs("div",{className:"quote-content",children:[P.jsxs("div",{className:"quote-text",children:['"',n.quote,'"']}),P.jsxs("div",{className:"quote-speaker",children:[" ",n.speaker]})]})})},LN=()=>{const[n,e]=J.useState(!1),[t,i]=J.useState([]),o=(p,y,w,S,A)=>{i(M=>M.map((z,$)=>$===p?{...z,x:y,y:w,vx:S,vy:A}:z))},l=p=>{i(y=>y.map((w,S)=>({...w,isFront:S===p})))};J.useEffect(()=>{e(!0),fetch("/hype.csv").then(p=>p.text()).then(p=>{const y=["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57","#ff9ff3","#54a0ff","#00d2d3","#ff6348","#2ed573","#ffa502","#e17055","#74b9ff","#fd79a8","#fdcb6e","#00b894","#e84393","#55a3ff","#26de81","#fc5c65"];MN.parse(p,{header:!0,complete:w=>{const S=w.data.filter(A=>A.Quote_Description&&A.Hype_Value).map((A,M)=>{const z=parseInt(A.Hype_Value||"0")||0,$=12+z/100*20,L=window.innerWidth<=768,he=L?300:900,Z=L?500:800,fe=he/2,_e=Z/2,Fe=Math.random()*he,Oe=Math.random()*Z,R=Fe-fe,_=Oe-_e,E=Math.sqrt(R*R+_*_),C=3;return{quote:(A.Quote_Description||"").replace(/"/g,""),speaker:A.Person_Organization||"Unknown",hype:z,url:A.Direct_Link||"#",color:y[M%y.length],size:$,x:Fe,y:Oe,vx:E>0?R/E*C:(Math.random()-.5)*2,vy:E>0?_/E*C:(Math.random()-.5)*2,isFront:!1}});i(S)}})}).catch(p=>{console.error("Error loading CSV:",p),i([{quote:"AI agents will transform the workforce",speaker:"Tech Leader",hype:100,color:"#ff6b6b",url:"#",size:32,x:450,y:400,vx:1,vy:1,isFront:!1}])})},[]);const c=[{date:"Oct 1",title:"Building the Foundation",subtitle:"From LLM Calls to MCP Tools",topics:["LLM evolution & tool use fundamentals","MCP introduction & server setup","Building your first newspaper agent","Anti-patterns and teaching moments"],highlight:"Watch agents come to life through live demonstrations"},{date:"Oct 8",title:"Adding Memory & Context",subtitle:"Vector Storage & Conversation Management",topics:["Context bursting problems & solutions","ChromaDB for vector memory","MCP sampling and elicitation features","Conversation compaction strategies"],highlight:"Solve real context management challenges"},{date:"Oct 15",title:"Multi-Agent Collaboration",subtitle:"Predictive Intelligence & Agent Orchestration",topics:["Multi-agent newspaper personalization","Predictive intelligence patterns","Production hosting options survey","Agent collaboration workflows"],highlight:"Build collaborative newspaper creation system"},{date:"Oct 22",title:"Student Showcases",subtitle:"Demo Your Creations",topics:["Student presentations","Peer feedback sessions","Advanced patterns & next steps","Production deployment strategies"],highlight:"Present your personalized agents"}],f=[{icon:"",title:"Live Demonstrations",description:"Watch real agents built through pre-written Jupyter notebooks that run with one click"},{icon:"",title:"Model Context Protocol",description:"Master MCP through FastAgent, Copilot, and Cursor integrations"},{icon:"",title:"Technical Story-telling",description:"Laptops closed - observe, discuss, and learn through guided demonstrations"},{icon:"",title:"Newspaper Agent Project",description:"Build a personalized news application with collaborative agents"}];return P.jsxs("div",{className:`workshop-container ${n?"fade-in":""}`,children:[P.jsx("div",{className:"claude-credit",children:"Made by Claude with love "}),P.jsxs("div",{className:"hero-section",children:[P.jsx("div",{className:"hero-background"}),P.jsxs("div",{className:"hero-content",children:[P.jsx("div",{className:"hero-badge",children:" NYU CDS Community Workshop"}),P.jsx("h1",{className:"workshop-title",children:P.jsx("span",{className:"gradient-text",children:"Agentic AI Workshop"})}),P.jsx("p",{className:"workshop-subtitle",children:"Master cutting-edge Model Context Protocol through live demonstrations. Build a personalized newspaper creation application using two collaborative agents."}),P.jsxs("div",{className:"hero-stats",children:[P.jsxs("div",{className:"stat",children:[P.jsx("span",{className:"stat-number",children:"3+1"}),P.jsx("span",{className:"stat-label",children:"Sessions + Showcase"})]}),P.jsxs("div",{className:"stat",children:[P.jsx("span",{className:"stat-number",children:"90"}),P.jsx("span",{className:"stat-label",children:"Minutes Each"})]}),P.jsxs("div",{className:"stat",children:[P.jsx("span",{className:"stat-number",children:"1"}),P.jsx("span",{className:"stat-label",children:"News Agent Project"})]})]}),P.jsxs("div",{className:"workshop-details",children:[P.jsxs("div",{className:"detail-item",children:[P.jsx("span",{className:"icon",children:""}),P.jsx("span",{children:"Wednesdays 5:00-6:30 PM"})]}),P.jsxs("div",{className:"detail-item",children:[P.jsx("span",{className:"icon",children:""}),P.jsx("span",{children:"Oct 1-22, 2025"})]}),P.jsxs("div",{className:"detail-item",children:[P.jsx("span",{className:"icon",children:""}),P.jsx("span",{children:"Technical story-telling"})]})]}),P.jsxs("div",{className:"hero-cta",children:[P.jsx(Al,{to:"/agentic-ai-workshop/registration-form",className:"primary-button",children:"Join the Workshop"}),P.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:P.jsx("a",{href:"https://github.com/adityaarunsinghal/agentic-ai-workshop-2025",target:"_blank",rel:"noopener noreferrer",className:"secondary-button",children:"View Public Repository"})}),P.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[P.jsx("a",{href:"mailto:adityaarunsinghal@gmail.com?subject=Planning to come to office hours - <your name>&body=Hey Adi,%0D%0A%0D%0APlanning to come to office hours this Friday at 4:30pm ET (or asking if possible to talk at a different time for a bit).%0D%0A%0D%0AHere is a bit about me: <fill this>",className:"secondary-button",children:"Come to Office Hours"}),P.jsx("span",{style:{fontSize:"0.8rem",opacity:"0.6",marginTop:"5px"},children:"(Fridays 4:30pm ET)"})]}),P.jsx(Al,{to:"/agentic-ai-workshop/feedback",className:"secondary-button",children:"Workshop Feedback"})]})]})]}),P.jsxs("div",{className:"content-section",children:[P.jsx("div",{className:"intro-section",children:P.jsxs("div",{className:"intro-card",children:[P.jsx("h2",{children:" What is Agentic AI?"}),P.jsx("p",{className:"intro-text",children:"Agentic AI is all the buzz in 2025, both for businesses and employers. It refers to AI systems that can autonomously accomplish specific goals with limited supervision. These AI agents use tools, maintain memory, and mimic human decision-making to solve problems in real time, adapting their behavior based on context."}),P.jsxs("p",{className:"intro-highlight",children:["This is a ",P.jsx("strong",{children:'"technical story-telling"'})," experience where you'll watch agents come to life through live demonstrations using pre-written Jupyter notebooksthen build your own newspaper agent as optional homework each week."]})]})}),P.jsx("div",{className:"analogy-section",children:P.jsxs("div",{className:"analogy-card",children:[P.jsx("h2",{children:" The Restaurant Analogy"}),P.jsxs("div",{className:"analogy-grid",children:[P.jsxs("div",{className:"analogy-item",children:[P.jsx("span",{className:"analogy-icon",children:""}),P.jsx("h4",{children:"MCP Server = Kitchen"}),P.jsx("p",{children:"All the tools and ingredients (resources) you need"})]}),P.jsxs("div",{className:"analogy-item",children:[P.jsx("span",{className:"analogy-icon",children:""}),P.jsx("h4",{children:"Client = Waiter"}),P.jsx("p",{children:"Takes orders and delivers results (Claude, your app)"})]}),P.jsxs("div",{className:"analogy-item",children:[P.jsx("span",{className:"analogy-icon",children:""}),P.jsx("h4",{children:"Agent = Chef's Expertise"}),P.jsx("p",{children:"The intelligence that adapts and creates"})]})]}),P.jsx("div",{className:"analogy-quote",children:'"A vending machine has fixed buttons. A restaurant adapts  same kitchen, infinite possibilities."'})]})}),P.jsxs("div",{className:"features-section",children:[P.jsx("h2",{children:"Why This Workshop?"}),P.jsx("div",{className:"features-grid",children:f.map((p,y)=>P.jsxs("div",{className:"feature-card",children:[P.jsx("div",{className:"feature-icon",children:p.icon}),P.jsx("h3",{children:p.title}),P.jsx("p",{children:p.description})]},y))})]}),P.jsxs("div",{className:"sessions-section",children:[P.jsx("h2",{children:"Workshop Journey"}),P.jsx("div",{className:"sessions-timeline",children:c.map((p,y)=>P.jsxs("div",{className:"session-card",children:[P.jsx("div",{className:"session-number",children:y+1}),P.jsx("div",{className:"session-date",children:p.date}),P.jsxs("div",{className:"session-content",children:[P.jsx("h3",{children:p.title}),P.jsx("p",{className:"session-subtitle",children:p.subtitle}),P.jsx("div",{className:"session-highlight",children:p.highlight}),P.jsx("ul",{className:"session-topics",children:p.topics.map((w,S)=>P.jsx("li",{children:w},S))})]})]},y))})]}),P.jsxs("div",{className:"tech-stack-section",children:[P.jsx("h2",{children:"Tech Stack & Development Environment"}),P.jsx("p",{className:"tech-intro",children:"Pre-written Jupyter notebooks and modern MCP tools"}),P.jsxs("div",{className:"tech-benefits-grid",children:[P.jsxs("div",{className:"tech-column",children:[P.jsx("h3",{children:"Tools & Platforms"}),P.jsxs("div",{className:"tech-grid",children:[P.jsxs("div",{className:"tech-item",children:[P.jsx("span",{className:"tech-icon",children:""}),P.jsx("span",{children:"FastMCP"})]}),P.jsxs("div",{className:"tech-item",children:[P.jsx("span",{className:"tech-icon",children:""}),P.jsx("span",{children:"FastAgent"})]}),P.jsxs("div",{className:"tech-item",children:[P.jsx("span",{className:"tech-icon",children:""}),P.jsx("span",{children:"Copilot & Cursor"})]}),P.jsxs("div",{className:"tech-item",children:[P.jsx("span",{className:"tech-icon",children:""}),P.jsx("span",{children:"ChromaDB"})]}),P.jsxs("div",{className:"tech-item",children:[P.jsx("span",{className:"tech-icon",children:""}),P.jsx("span",{children:"Free OpenRouter Credits"})]}),P.jsxs("div",{className:"tech-item",children:[P.jsx("span",{className:"tech-icon",children:""}),P.jsx("span",{children:"Jupyter Notebooks"})]})]})]}),P.jsxs("div",{className:"tech-column",children:[P.jsx("h3",{children:"Key Learning Areas"}),P.jsxs("div",{className:"applications-list",children:[P.jsxs("div",{className:"application-item",children:[P.jsx("span",{className:"app-icon",children:""}),P.jsx("span",{children:"Context bursting solutions"})]}),P.jsxs("div",{className:"application-item",children:[P.jsx("span",{className:"app-icon",children:""}),P.jsx("span",{children:"Conversation management"})]}),P.jsxs("div",{className:"application-item",children:[P.jsx("span",{className:"app-icon",children:""}),P.jsx("span",{children:"MCP sampling & elicitation"})]}),P.jsxs("div",{className:"application-item",children:[P.jsx("span",{className:"app-icon",children:""}),P.jsx("span",{children:"Production hosting patterns"})]}),P.jsxs("div",{className:"application-item",children:[P.jsx("span",{className:"app-icon",children:""}),P.jsx("span",{children:"Anti-patterns & debugging"})]})]})]})]})]}),P.jsxs("div",{className:"format-section",children:[P.jsx("h2",{children:"Workshop Structure"}),P.jsxs("div",{className:"format-grid",children:[P.jsxs("div",{className:"format-card",children:[P.jsx("div",{className:"format-icon",children:""}),P.jsx("h3",{children:"15 Minutes Pre-Discussion"}),P.jsx("p",{children:"Session kickoff with community discussion and context setting."})]}),P.jsxs("div",{className:"format-card",children:[P.jsx("div",{className:"format-icon",children:""}),P.jsx("h3",{children:"60 Minutes Live Demo"}),P.jsx("p",{children:"Technical story-telling with live Jupyter notebook demonstrations."})]}),P.jsxs("div",{className:"format-card",children:[P.jsx("div",{className:"format-icon",children:""}),P.jsx("h3",{children:"15 Minutes Q&A"}),P.jsx("p",{children:"Interactive discussion and personalized guidance for your projects."})]}),P.jsxs("div",{className:"format-card",children:[P.jsx("div",{className:"format-icon",children:""}),P.jsx("h3",{children:"Optional Homework"}),P.jsx("p",{children:"Build your own newspaper agent using provided notebooks as foundation."})]})]})]}),P.jsxs("div",{className:"learning-outcomes-section",children:[P.jsx("h2",{children:"Learning Outcomes"}),P.jsx("p",{className:"outcomes-intro",children:"This isn't just theoryyou'll leave with:"}),P.jsxs("div",{className:"outcomes-grid",children:[P.jsxs("div",{className:"outcome-card",children:[P.jsx("div",{className:"outcome-icon",children:""}),P.jsx("h3",{children:"Working Agents"}),P.jsx("p",{children:"Functional agents you built yourself that solve real problems"})]}),P.jsxs("div",{className:"outcome-card",children:[P.jsx("div",{className:"outcome-icon",children:""}),P.jsx("h3",{children:"Domain Knowledge"}),P.jsx("p",{children:"Skills to build intelligent systems for any domain or use case"})]}),P.jsxs("div",{className:"outcome-card",children:[P.jsx("div",{className:"outcome-icon",children:""}),P.jsx("h3",{children:"Strategic Understanding"}),P.jsx("p",{children:"Know when to use agents vs traditional applications"})]}),P.jsxs("div",{className:"outcome-card",children:[P.jsx("div",{className:"outcome-icon",children:""}),P.jsx("h3",{children:"AI Revolution Position"}),P.jsx("p",{children:"Be at the forefront of the next wave of AI innovation"})]})]})]}),P.jsx("div",{className:"instructor-section",children:P.jsxs("div",{className:"instructor-card",children:[P.jsx("h2",{children:"About the Instructors"}),P.jsxs("div",{className:"instructors-grid",children:[P.jsxs("div",{className:"instructor-info",children:[P.jsx("h3",{children:"Adi Singhal"}),P.jsxs("p",{className:"instructor-bio",children:["Former CDS student and founder of the ",P.jsx("strong",{children:"NYU Data Science Club"}),". Currently at AWS helping build ",P.jsx("strong",{children:"Amazon Q"}),", the company's premiere agentic offering for developers and businesses."]}),P.jsx("a",{href:"https://www.linkedin.com/in/adi-singhal/",target:"_blank",rel:"noopener noreferrer",className:"linkedin-button",children:"Connect on LinkedIn"})]}),P.jsxs("div",{className:"instructor-info",children:[P.jsx("h3",{children:"Luca Chang"}),P.jsxs("p",{className:"instructor-bio",children:["Works in the ",P.jsx("strong",{children:"AWS Agentic AI organization"})," and is a regular contributor to the ",P.jsx("strong",{children:"MCP specification and SDKs"}),". Expert in building production-ready agentic systems."]}),P.jsx("a",{href:"https://www.linkedin.com/in/luca-chang/",target:"_blank",rel:"noopener noreferrer",className:"linkedin-button",children:"Connect on LinkedIn"})]})]})]})}),P.jsx("div",{className:"commitment-section",children:P.jsxs("div",{className:"commitment-card",children:[P.jsx("h2",{children:" What We Expect"}),P.jsxs("div",{className:"commitment-grid",children:[P.jsxs("div",{className:"commitment-item",children:[P.jsx("span",{className:"commitment-icon",children:""}),P.jsx("span",{children:"Attend sessions"})]}),P.jsxs("div",{className:"commitment-item",children:[P.jsx("span",{className:"commitment-icon",children:""}),P.jsx("span",{children:"Engage with optional homework"})]}),P.jsxs("div",{className:"commitment-item",children:[P.jsx("span",{className:"commitment-icon",children:""}),P.jsx("span",{children:"Participate in discussions"})]}),P.jsxs("div",{className:"commitment-item",children:[P.jsx("span",{className:"commitment-icon",children:""}),P.jsx("span",{children:"Share your learnings"})]})]}),P.jsx("p",{className:"commitment-note",children:"A collaborative learning experience for builders interested in agentic AI."})]})}),P.jsx("div",{className:"cta-section",children:P.jsxs("div",{className:"cta-content",children:[P.jsx("h2",{children:"Ready to Explore Agentic AI?"}),P.jsx("p",{children:"Join the CDS community in learning about agentic AI through hands-on demonstrations and collaborative exploration."}),P.jsx("div",{className:"cta-buttons",children:P.jsx(Al,{to:"/agentic-ai-workshop/registration-form",className:"primary-button large",children:"Join the Workshop"})})]})}),P.jsxs("div",{className:"word-cloud-section",children:[P.jsx("h2",{children:"Inspect the Hype"}),P.jsx("div",{className:"word-cloud",children:t.map((p,y)=>P.jsx(ON,{item:p,allItems:t,index:y,onUpdate:o,onBringToFront:l},y))})]})]})]})},t0=()=>{const[n,e]=J.useState(3);return J.useEffect(()=>{const t=setInterval(()=>{e(i=>i<=1?(window.location.href="https://docs.google.com/forms/d/e/1FAIpQLSe2V4WGW1P2sNSJ06s_ydU16H7LF6vcP0tYkTopYuhUyO3XjQ/viewform",0):i-1)},1e3);return()=>clearInterval(t)},[]),P.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",color:"white",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',padding:"20px"},children:[P.jsxs("div",{style:{textAlign:"center",background:"rgba(255, 255, 255, 0.05)",padding:"60px 40px",borderRadius:"20px",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",maxWidth:"500px",width:"100%"},children:[P.jsx("div",{style:{fontSize:"4rem",marginBottom:"30px",animation:"pulse 2s infinite"},children:""}),P.jsx("h1",{style:{fontSize:"2.2rem",marginBottom:"20px",fontWeight:"700",background:"linear-gradient(45deg, #4ecdc4, #45b7d1)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Workshop Registration Form"}),P.jsxs("p",{style:{fontSize:"1.2rem",marginBottom:"30px",opacity:"0.9",lineHeight:"1.6"},children:["Redirecting to the registration form in ",P.jsx("strong",{style:{color:"#4ecdc4"},children:n})," seconds..."]}),P.jsx("div",{style:{marginBottom:"30px"},children:P.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSe2V4WGW1P2sNSJ06s_ydU16H7LF6vcP0tYkTopYuhUyO3XjQ/viewform",style:{display:"inline-block",background:"linear-gradient(45deg, #4ecdc4, #45b7d1)",color:"white",padding:"15px 30px",borderRadius:"50px",textDecoration:"none",fontWeight:"600",fontSize:"1.1rem",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(78, 205, 196, 0.3)",marginRight:"15px"},onMouseOver:t=>{t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow="0 6px 20px rgba(78, 205, 196, 0.4)"},onMouseOut:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 4px 15px rgba(78, 205, 196, 0.3)"},children:"Go to Form Now"})}),P.jsx(Al,{to:"/agentic-ai-workshop",style:{color:"#4ecdc4",textDecoration:"none",fontSize:"1rem",opacity:"0.8",borderBottom:"1px solid transparent",transition:"all 0.3s ease"},onMouseOver:t=>{t.currentTarget.style.borderBottomColor="#4ecdc4",t.currentTarget.style.opacity="1"},onMouseOut:t=>{t.currentTarget.style.borderBottomColor="transparent",t.currentTarget.style.opacity="0.8"},children:" Back to Workshop Details"}),P.jsxs("div",{style:{marginTop:"40px",padding:"20px",background:"rgba(255, 193, 7, 0.1)",borderRadius:"10px",border:"1px solid rgba(255, 193, 7, 0.3)",fontSize:"0.9rem"},children:[P.jsx("strong",{style:{color:"#ffc107"},children:"Note:"})," Please include whether you're an undergraduate, graduate student, or alumni in your registration form."]})]}),P.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.1); }
        }
        
        @media (max-width: 480px) {
          div[style*="padding: 60px 40px"] {
            padding: 40px 20px !important;
          }
        }
      `})]})};function VN(){return P.jsx("div",{style:{width:"100%",height:"100vh"},children:P.jsx("iframe",{src:"/static/index.html",title:"Aditya Singhal",style:{width:"100%",height:"100%",border:"none"}})})}const FN=()=>J.useContext(WE),jN=({children:n})=>{const{user:e}=FN(),t=_o();return e?n:P.jsx(E0,{to:"/login",state:{from:t},replace:!0})},UN=["adityaarunsinghal@gmail.com","johannefriedman@gmail.com","johanne.friedman@gmail.com"],zN=()=>{var c,f;const[n,e]=J.useState(!1),t=Eh(),o=((f=(c=_o().state)==null?void 0:c.from)==null?void 0:f.pathname)||"/",l=async()=>{e(!0);const p=new Pi;try{const w=(await oC(ch,p)).user.email;if(w&&!UN.includes(w)){await tw(ch),alert("Access denied. Only Adi and Ingy can log in.");return}t(o)}catch(y){console.error(y)}finally{e(!1)}};return P.jsxs("div",{className:"login-page",children:[P.jsx("h1",{children:"Hi babydoll ;)"}),P.jsx("button",{onClick:l,disabled:n,children:n?"Logging in...":"Log in with Google"})]})},BN=()=>(J.useEffect(()=>{window.location.href="/Aditya_Singhal_Resume_Sept2025.pdf"},[]),null),$N=()=>(J.useEffect(()=>{window.location.href="https://www.linkedin.com/in/adi-singhal/"},[]),null),WN=()=>(J.useEffect(()=>{window.location.href="https://www.instagram.com/that_dramebaaz_guy/"},[]),null),HN=()=>(J.useEffect(()=>{window.location.href="https://www.facebook.com/that.dramebaaz.guy"},[]),null),qN=()=>(J.useEffect(()=>{window.location.href="https://www.youtube.com/channel/UCgepx936F0EMIiYK8I4HiNw"},[]),null),KN=()=>{const[n,e]=J.useState(3);return J.useEffect(()=>{const t=setInterval(()=>{e(i=>i<=1?(window.location.href="https://forms.gle/CbqwHw1mtBcL7hHZ7",0):i-1)},1e3);return()=>clearInterval(t)},[]),P.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",color:"white",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',padding:"20px"},children:[P.jsxs("div",{style:{textAlign:"center",background:"rgba(255, 255, 255, 0.05)",padding:"60px 40px",borderRadius:"20px",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",maxWidth:"500px",width:"100%"},children:[P.jsx("div",{style:{fontSize:"4rem",marginBottom:"30px",animation:"pulse 2s infinite"},children:""}),P.jsx("h1",{style:{fontSize:"2.2rem",marginBottom:"20px",fontWeight:"700",background:"linear-gradient(45deg, #4ecdc4, #45b7d1)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Workshop Feedback Form"}),P.jsxs("p",{style:{fontSize:"1.2rem",marginBottom:"30px",opacity:"0.9",lineHeight:"1.6"},children:["Redirecting to the feedback form in ",P.jsx("strong",{style:{color:"#4ecdc4"},children:n})," seconds..."]}),P.jsx("div",{style:{marginBottom:"30px"},children:P.jsx("a",{href:"https://forms.gle/CbqwHw1mtBcL7hHZ7",style:{display:"inline-block",background:"linear-gradient(45deg, #4ecdc4, #45b7d1)",color:"white",padding:"15px 30px",borderRadius:"50px",textDecoration:"none",fontWeight:"600",fontSize:"1.1rem",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(78, 205, 196, 0.3)",marginRight:"15px"},onMouseOver:t=>{t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow="0 6px 20px rgba(78, 205, 196, 0.4)"},onMouseOut:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 4px 15px rgba(78, 205, 196, 0.3)"},children:"Go to Form Now"})}),P.jsx(Al,{to:"/agentic-ai-workshop",style:{color:"#4ecdc4",textDecoration:"none",fontSize:"1rem",opacity:"0.8",borderBottom:"1px solid transparent",transition:"all 0.3s ease"},onMouseOver:t=>{t.currentTarget.style.borderBottomColor="#4ecdc4",t.currentTarget.style.opacity="1"},onMouseOut:t=>{t.currentTarget.style.borderBottomColor="transparent",t.currentTarget.style.opacity="0.8"},children:" Back to Workshop Details"}),P.jsxs("div",{style:{marginTop:"40px",padding:"20px",background:"rgba(255, 193, 7, 0.1)",borderRadius:"10px",border:"1px solid rgba(255, 193, 7, 0.3)",fontSize:"0.9rem"},children:[P.jsx("strong",{style:{color:"#ffc107"},children:"Note:"})," Your feedback helps us improve future workshops and sessions."]})]}),P.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.1); }
        }
        
        @media (max-width: 480px) {
          div[style*="padding: 60px 40px"] {
            padding: 40px 20px !important;
          }
        }
      `})]})},GN=ZI([{path:"/",element:P.jsx(ki,{children:P.jsx(VN,{})})},...["login","Login","LOGIN"].map(n=>({path:`/${n}`,element:P.jsx(ki,{children:P.jsx(zN,{})})})),{path:"/private",element:P.jsx(ki,{children:P.jsx(A2,{})})},{path:"/404",element:P.jsx(ki,{children:P.jsx(C2,{})})},{path:"/lovesingy",element:P.jsx(ki,{children:P.jsx(jN,{children:P.jsx(k2,{})})})},{path:"/agentic-ai-workshop",element:P.jsx(ki,{children:P.jsx(LN,{})})},{path:"/agentic-ai-workshop/registration-form",element:P.jsx(ki,{children:P.jsx(t0,{})})},{path:"/agentic-ai-workshop/feedback",element:P.jsx(ki,{children:P.jsx(KN,{})})},{path:"/registration-form",element:P.jsx(ki,{children:P.jsx(t0,{})})},...["latest-resume","Latest-Resume","LATEST-RESUME"].map(n=>({path:`/${n}`,element:P.jsx(BN,{})})),...["linkedin","LinkedIn","LINKEDIN"].map(n=>({path:`/${n}`,element:P.jsx($N,{})})),...["instagram","Instagram","INSTAGRAM"].map(n=>({path:`/${n}`,element:P.jsx(WN,{})})),...["facebook","Facebook","FACEBOOK"].map(n=>({path:`/${n}`,element:P.jsx(HN,{})})),...["youtube","YouTube","YOUTUBE"].map(n=>({path:`/${n}`,element:P.jsx(qN,{})})),{path:"/*",element:P.jsx(E0,{to:"/404",replace:!0})}]);b1.createRoot(document.getElementById("root")).render(P.jsx(r0.StrictMode,{children:P.jsx(I2,{children:P.jsx(lS,{router:GN})})}))});export default QN();
